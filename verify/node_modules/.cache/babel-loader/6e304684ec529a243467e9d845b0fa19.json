{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/k8909/OneDrive/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B/GitHub/test_vk_mini_app/test/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/k8909/OneDrive/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B/GitHub/test_vk_mini_app/test/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\k8909\\\\OneDrive\\\\\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B\\\\GitHub\\\\test_vk_mini_app\\\\test\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useEffect}from'react';import bridge from'@vkontakte/vk-bridge';import{View,ScreenSpinner,AdaptivityProvider,AppRoot,ConfigProvider,SplitLayout,SplitCol}from'@vkontakte/vkui';import'@vkontakte/vkui/dist/vkui.css';import Home from'./panels/Home';// import Connect from './panels/Connect';\nimport Buy from'./panels/Buy';import Settings from'./panels/Settings';import Inventory from'./panels/Inventory';import Create from'./panels/Create';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState('bright_light'),_useState2=_slicedToArray(_useState,2),scheme=_useState2[0],setScheme=_useState2[1];var _useState3=useState('home'),_useState4=_slicedToArray(_useState3,2),activePanel=_useState4[0],setActivePanel=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),fetchedUser=_useState6[0],setUser=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),popout=_useState8[0],setPopout=_useState8[1];bridge.send('VKWebAppAddToFavorites').then(function(data){if(data.result){// Мини-приложение или игра добавлены в избранное\n}}).catch(function(error){// Ошибка\nconsole.log(error);});useEffect(function(){bridge.subscribe(function(_ref){var _ref$detail=_ref.detail,type=_ref$detail.type,data=_ref$detail.data;if(type==='VKWebAppUpdateConfig'){setScheme(data.scheme);}});function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return bridge.send('VKWebAppGetUserInfo');case 2:user=_context.sent;setUser(user);setPopout(null);case 5:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[]);var go=function go(e){setActivePanel(e.currentTarget.dataset.to);};return/*#__PURE__*/_jsx(ConfigProvider,{scheme:scheme,children:/*#__PURE__*/_jsx(AdaptivityProvider,{children:/*#__PURE__*/_jsx(AppRoot,{children:/*#__PURE__*/_jsx(SplitLayout,{popout:popout,children:/*#__PURE__*/_jsx(SplitCol,{children:/*#__PURE__*/_jsxs(View,{activePanel:activePanel,children:[/*#__PURE__*/_jsx(Home,{id:\"home\",go:go}),/*#__PURE__*/_jsx(Buy,{id:\"buy\",go:go}),/*#__PURE__*/_jsx(Settings,{id:\"settings\",go:go}),/*#__PURE__*/_jsx(Inventory,{id:\"inventory\",go:go}),/*#__PURE__*/_jsx(Create,{id:\"create\",go:go}),/*#__PURE__*/_jsx(Buy,{id:\"Buy\",go:go})]})})})})})});};export default App;","map":{"version":3,"sources":["C:/Users/k8909/OneDrive/Документы/GitHub/test_vk_mini_app/test/src/App.js"],"names":["React","useState","useEffect","bridge","View","ScreenSpinner","AdaptivityProvider","AppRoot","ConfigProvider","SplitLayout","SplitCol","Home","Buy","Settings","Inventory","Create","App","scheme","setScheme","activePanel","setActivePanel","fetchedUser","setUser","popout","setPopout","send","then","data","result","catch","error","console","log","subscribe","detail","type","fetchData","user","go","e","currentTarget","dataset","to"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport bridge from '@vkontakte/vk-bridge';\r\nimport { View, ScreenSpinner, AdaptivityProvider, AppRoot, ConfigProvider, SplitLayout, SplitCol } from '@vkontakte/vkui';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\n\r\nimport Home from './panels/Home';\r\n// import Connect from './panels/Connect';\r\nimport Buy from './panels/Buy'\r\nimport Settings from './panels/Settings'\r\nimport Inventory from './panels/Inventory'\r\nimport Create from './panels/Create'\r\n\r\nconst App = () => {\r\n\tconst [scheme, setScheme] = useState('bright_light')\r\n\tconst [activePanel, setActivePanel] = useState('home');\r\n\tconst [fetchedUser, setUser] = useState(null);\r\n\tconst [popout, setPopout] = useState(null);\r\n\r\n\tbridge.send('VKWebAppAddToFavorites')\r\n\t.then((data) => { \r\n\t\tif (data.result) {\r\n\t\t// Мини-приложение или игра добавлены в избранное\r\n\t\t}\r\n\t})\r\n\t.catch((error) => {\r\n\t\t// Ошибка\r\n\t\tconsole.log(error);\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\tbridge.subscribe(({ detail: { type, data }}) => {\r\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\r\n\t\t\t\tsetScheme(data.scheme)\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tasync function fetchData() {\r\n\t\t\tconst user = await bridge.send('VKWebAppGetUserInfo');\r\n\t\t\tsetUser(user);\r\n\t\t\tsetPopout(null);\r\n\t\t}\r\n\t\tfetchData();\r\n\t}, []);\r\n\r\n\tconst go = e => {\r\n\t\tsetActivePanel(e.currentTarget.dataset.to);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<ConfigProvider scheme={scheme}>\r\n\t\t\t<AdaptivityProvider>\r\n\t\t\t\t<AppRoot>\r\n\t\t\t\t\t<SplitLayout popout={popout}>\r\n\t\t\t\t\t\t<SplitCol>\r\n\t\t\t\t\t\t\t<View activePanel={activePanel}>\r\n\t\t\t\t\t\t\t\t<Home id='home' go={go}/>\r\n\t\t\t\t\t\t\t\t{/* <Connect id='connect' go={go}/> */}\r\n\t\t\t\t\t\t\t\t<Buy id='buy' go={go}/>\r\n\t\t\t\t\t\t\t\t<Settings id='settings' go={go}/>\r\n\t\t\t\t\t\t\t\t<Inventory id='inventory' go={go}/>\r\n\t\t\t\t\t\t\t\t<Create id='create' go={go}/>\r\n\t\t\t\t\t\t\t\t<Buy id='Buy' go={go}/>\r\n\t\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t</SplitCol>\r\n\t\t\t\t\t</SplitLayout>\r\n\t\t\t\t</AppRoot>\r\n\t\t\t</AdaptivityProvider>\r\n\t\t</ConfigProvider>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}