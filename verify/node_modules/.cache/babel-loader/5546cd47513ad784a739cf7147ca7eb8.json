{"ast":null,"code":"import _typeof from \"@babel/runtime/helpers/typeof\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectSpread from \"@babel/runtime/helpers/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"disabled\", \"value\", \"label\"],\n    _excluded2 = [\"style\", \"value\", \"onChange\", \"onInputChange\", \"onKeyDown\", \"onBlur\", \"onFocus\", \"children\", \"className\", \"inputValue\", \"getRef\", \"getRootRef\", \"placeholder\", \"getOptionValue\", \"getOptionLabel\", \"getNewOptionData\", \"renderChip\", \"after\", \"inputAriaLabel\"];\nimport { createScopedElement } from \"../../lib/jsxRuntime\";\nimport * as React from \"react\";\nimport { FormField } from \"../FormField/FormField\";\nimport { classNames } from \"../../lib/classNames\";\nimport { Chip } from \"../Chip/Chip\";\nimport { noop } from \"../../lib/utils\";\nimport { useChipsInput } from \"./useChipsInput\";\nimport { useAdaptivity } from \"../../hooks/useAdaptivity\";\nimport { prefixClass } from \"../../lib/prefixClass\";\nimport { useExternRef } from \"../../hooks/useExternRef\";\nexport var chipsInputDefaultProps = {\n  type: \"text\",\n  onChange: noop,\n  onInputChange: noop,\n  onKeyDown: noop,\n  onBlur: noop,\n  onFocus: noop,\n  value: [],\n  inputValue: \"\",\n  inputAriaLabel: \"Введите ваше значение...\",\n  getOptionValue: function getOptionValue(option) {\n    return option.value;\n  },\n  getOptionLabel: function getOptionLabel(option) {\n    return option.label;\n  },\n  getNewOptionData: function getNewOptionData(_, label) {\n    return {\n      value: label,\n      label: label\n    };\n  },\n  renderChip: function renderChip(props) {\n    if (!props) {\n      return null;\n    }\n\n    var disabled = props.disabled,\n        value = props.value,\n        label = props.label,\n        rest = _objectWithoutProperties(props, _excluded);\n\n    return createScopedElement(Chip, _extends({\n      value: value,\n      removable: !disabled\n    }, rest), label);\n  }\n};\n\nvar ChipsInput = function ChipsInput(props) {\n  var propsWithDefault = _objectSpread(_objectSpread({}, chipsInputDefaultProps), props);\n\n  var style = propsWithDefault.style,\n      value = propsWithDefault.value,\n      onChange = propsWithDefault.onChange,\n      onInputChange = propsWithDefault.onInputChange,\n      onKeyDown = propsWithDefault.onKeyDown,\n      onBlur = propsWithDefault.onBlur,\n      onFocus = propsWithDefault.onFocus,\n      children = propsWithDefault.children,\n      className = propsWithDefault.className,\n      inputValue = propsWithDefault.inputValue,\n      getRef = propsWithDefault.getRef,\n      getRootRef = propsWithDefault.getRootRef,\n      placeholder = propsWithDefault.placeholder,\n      getOptionValue = propsWithDefault.getOptionValue,\n      getOptionLabel = propsWithDefault.getOptionLabel,\n      getNewOptionData = propsWithDefault.getNewOptionData,\n      renderChip = propsWithDefault.renderChip,\n      after = propsWithDefault.after,\n      inputAriaLabel = propsWithDefault.inputAriaLabel,\n      restProps = _objectWithoutProperties(propsWithDefault, _excluded2);\n\n  var _useAdaptivity = useAdaptivity(),\n      sizeY = _useAdaptivity.sizeY;\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      focused = _React$useState2[0],\n      setFocused = _React$useState2[1];\n\n  var _useChipsInput = useChipsInput(propsWithDefault),\n      fieldValue = _useChipsInput.fieldValue,\n      addOptionFromInput = _useChipsInput.addOptionFromInput,\n      removeOption = _useChipsInput.removeOption,\n      selectedOptions = _useChipsInput.selectedOptions,\n      handleInputChange = _useChipsInput.handleInputChange;\n\n  var inputRef = useExternRef(getRef);\n  var isDisabled = restProps.disabled || restProps.readOnly;\n\n  var handleKeyDown = function handleKeyDown(e) {\n    if (isDisabled) {\n      e.preventDefault();\n      return;\n    }\n\n    onKeyDown(e);\n\n    if (e.key === \"Backspace\" && !e.defaultPrevented && !fieldValue && selectedOptions.length) {\n      removeOption(getOptionValue(selectedOptions[selectedOptions.length - 1]));\n      e.preventDefault();\n    }\n\n    if (e.key === \"Enter\" && !e.defaultPrevented && fieldValue) {\n      addOptionFromInput();\n      e.preventDefault();\n    }\n  };\n\n  var handleBlur = function handleBlur(e) {\n    if (focused) {\n      setFocused(false);\n    }\n\n    onBlur(e);\n  };\n\n  var handleFocus = function handleFocus(e) {\n    if (!focused) {\n      setFocused(true);\n    }\n\n    onFocus(e);\n  };\n\n  var handleChipRemove = function handleChipRemove(_, value) {\n    if (value !== undefined) {\n      removeOption(value);\n    }\n  };\n\n  var handleClick = function handleClick(e) {\n    if (isDisabled) {\n      e.preventDefault();\n      return;\n    }\n\n    if ((inputRef === null || inputRef === void 0 ? void 0 : inputRef.current) !== null && !focused) {\n      inputRef.current.focus();\n    }\n  };\n\n  return createScopedElement(FormField, {\n    getRootRef: getRootRef,\n    vkuiClass: classNames(\"ChipsInput\", \"ChipsInput--sizeY-\".concat(sizeY), {\n      \"ChipsInput--focused\": focused,\n      \"ChipsInput--withChips\": !!selectedOptions.length\n    }),\n    className: className,\n    style: style,\n    disabled: restProps.disabled,\n    after: after,\n    onClick: handleClick,\n    role: \"application\",\n    \"aria-disabled\": restProps.disabled,\n    \"aria-readonly\": restProps.readOnly\n  }, createScopedElement(\"div\", {\n    vkuiClass: \"ChipsInput__container\",\n    role: \"presentation\"\n  }, selectedOptions.map(function (option) {\n    var value = getOptionValue(option);\n    var label = getOptionLabel(option);\n    return createScopedElement(React.Fragment, {\n      key: \"\".concat(_typeof(value), \"-\").concat(value)\n    }, renderChip({\n      option: option,\n      value: value,\n      label: label,\n      onRemove: handleChipRemove,\n      disabled: Boolean(restProps.disabled),\n      className: prefixClass(\"ChipsInput__chip\")\n    }));\n  }), createScopedElement(\"label\", {\n    vkuiClass: \"ChipsInput__input-container\",\n    \"aria-label\": inputAriaLabel\n  }, createScopedElement(\"input\", _extends({\n    ref: inputRef,\n    value: fieldValue,\n    autoCapitalize: \"none\",\n    autoComplete: \"off\",\n    autoCorrect: \"off\",\n    spellCheck: false,\n    \"aria-autocomplete\": \"list\",\n    vkuiClass: \"ChipsInput__el\",\n    onChange: handleInputChange,\n    onKeyDown: handleKeyDown,\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    placeholder: selectedOptions.length ? undefined : placeholder\n  }, restProps)))));\n}; // eslint-disable-next-line import/no-default-export\n\n\nexport default ChipsInput;","map":{"version":3,"mappings":"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","names":["React","FormField","classNames","Chip","noop","useChipsInput","useAdaptivity","prefixClass","useExternRef","chipsInputDefaultProps","type","onChange","onInputChange","onKeyDown","onBlur","onFocus","value","inputValue","inputAriaLabel","getOptionValue","option","getOptionLabel","label","getNewOptionData","_","renderChip","props","disabled","rest","createScopedElement","removable","ChipsInput","propsWithDefault","style","children","className","getRef","getRootRef","placeholder","after","restProps","sizeY","useState","focused","setFocused","fieldValue","addOptionFromInput","removeOption","selectedOptions","handleInputChange","inputRef","isDisabled","readOnly","handleKeyDown","e","preventDefault","key","defaultPrevented","length","handleBlur","handleFocus","handleChipRemove","undefined","handleClick","current","focus","vkuiClass","onClick","role","map","Fragment","onRemove","Boolean","ref","autoCapitalize","autoComplete","autoCorrect","spellCheck"],"sources":["../../../src/components/ChipsInput/ChipsInput.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { HasAlign, HasRef, HasRootRef } from \"../../types\";\nimport { FormField, FormFieldProps } from \"../FormField/FormField\";\nimport { classNames } from \"../../lib/classNames\";\nimport { Chip, ChipProps } from \"../Chip/Chip\";\nimport { noop } from \"../../lib/utils\";\nimport { useChipsInput } from \"./useChipsInput\";\nimport { useAdaptivity } from \"../../hooks/useAdaptivity\";\nimport { prefixClass } from \"../../lib/prefixClass\";\nimport { useExternRef } from \"../../hooks/useExternRef\";\nimport \"./ChipsInput.css\";\n\nexport type ChipsInputValue = string | number;\n\nexport interface ChipsInputOption {\n  value?: ChipsInputValue;\n  label?: string;\n  [otherProp: string]: any;\n}\n\nexport interface RenderChip<Option extends ChipsInputOption> extends ChipProps {\n  label: string;\n  option: Option;\n  disabled: boolean;\n}\n\nexport interface ChipsInputProps<Option extends ChipsInputOption>\n  extends Omit<\n      React.InputHTMLAttributes<HTMLInputElement>,\n      \"value\" | \"onChange\"\n    >,\n    HasRef<HTMLInputElement>,\n    HasRootRef<HTMLDivElement>,\n    HasAlign,\n    FormFieldProps {\n  value: Option[];\n  inputValue?: string;\n  onChange?: (o: Option[]) => void;\n  onInputChange?: (e?: React.ChangeEvent<HTMLInputElement>) => void;\n  getOptionValue?: (o?: Option) => ChipsInputValue;\n  getOptionLabel?: (o?: Option) => string;\n  getNewOptionData?: (v?: ChipsInputValue, l?: string) => Option;\n  renderChip?: (props?: RenderChip<Option>) => React.ReactNode;\n  inputAriaLabel?: string;\n}\n\nexport const chipsInputDefaultProps: ChipsInputProps<any> = {\n  type: \"text\",\n  onChange: noop,\n  onInputChange: noop,\n  onKeyDown: noop,\n  onBlur: noop,\n  onFocus: noop,\n  value: [],\n  inputValue: \"\",\n  inputAriaLabel: \"Введите ваше значение...\",\n  getOptionValue: (option) => option.value,\n  getOptionLabel: (option) => option.label,\n  getNewOptionData: (_, label) => ({\n    value: label,\n    label,\n  }),\n  renderChip(props) {\n    if (!props) {\n      return null;\n    }\n\n    const { disabled, value, label, ...rest } = props;\n    return (\n      <Chip value={value} removable={!disabled} {...rest}>\n        {label}\n      </Chip>\n    );\n  },\n};\n\nconst ChipsInput = <Option extends ChipsInputOption>(\n  props: ChipsInputProps<Option>\n) => {\n  const propsWithDefault = { ...chipsInputDefaultProps, ...props };\n  const {\n    style,\n    value,\n    onChange,\n    onInputChange,\n    onKeyDown,\n    onBlur,\n    onFocus,\n    children,\n    className,\n    inputValue,\n    getRef,\n    getRootRef,\n    placeholder,\n    getOptionValue,\n    getOptionLabel,\n    getNewOptionData,\n    renderChip,\n    after,\n    inputAriaLabel,\n    ...restProps\n  } = propsWithDefault;\n  const { sizeY } = useAdaptivity();\n\n  const [focused, setFocused] = React.useState(false);\n  const {\n    fieldValue,\n    addOptionFromInput,\n    removeOption,\n    selectedOptions,\n    handleInputChange,\n  } = useChipsInput(propsWithDefault);\n  const inputRef = useExternRef(getRef);\n\n  const isDisabled = restProps.disabled || restProps.readOnly;\n\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (isDisabled) {\n      e.preventDefault();\n      return;\n    }\n\n    onKeyDown!(e);\n\n    if (\n      e.key === \"Backspace\" &&\n      !e.defaultPrevented &&\n      !fieldValue &&\n      selectedOptions.length\n    ) {\n      removeOption(\n        getOptionValue!(selectedOptions[selectedOptions.length - 1])\n      );\n      e.preventDefault();\n    }\n\n    if (e.key === \"Enter\" && !e.defaultPrevented && fieldValue) {\n      addOptionFromInput();\n      e.preventDefault();\n    }\n  };\n\n  const handleBlur = (e: React.FocusEvent<HTMLInputElement>) => {\n    if (focused) {\n      setFocused(false);\n    }\n    onBlur!(e);\n  };\n\n  const handleFocus = (e: React.FocusEvent<HTMLInputElement>) => {\n    if (!focused) {\n      setFocused(true);\n    }\n    onFocus!(e);\n  };\n\n  const handleChipRemove = (\n    _: React.MouseEvent | undefined,\n    value: ChipsInputValue | undefined\n  ) => {\n    if (value !== undefined) {\n      removeOption(value);\n    }\n  };\n\n  const handleClick = (e: React.MouseEvent<HTMLDivElement>) => {\n    if (isDisabled) {\n      e.preventDefault();\n      return;\n    }\n\n    if (inputRef?.current !== null && !focused) {\n      inputRef.current.focus();\n    }\n  };\n\n  return (\n    <FormField\n      getRootRef={getRootRef}\n      vkuiClass={classNames(\"ChipsInput\", `ChipsInput--sizeY-${sizeY}`, {\n        \"ChipsInput--focused\": focused,\n        \"ChipsInput--withChips\": !!selectedOptions.length,\n      })}\n      className={className}\n      style={style}\n      disabled={restProps.disabled}\n      after={after}\n      onClick={handleClick}\n      role=\"application\"\n      aria-disabled={restProps.disabled}\n      aria-readonly={restProps.readOnly}\n    >\n      <div vkuiClass=\"ChipsInput__container\" role=\"presentation\">\n        {selectedOptions.map((option: Option) => {\n          const value = getOptionValue!(option);\n          const label = getOptionLabel!(option);\n\n          return (\n            <React.Fragment key={`${typeof value}-${value}`}>\n              {renderChip!({\n                option,\n                value,\n                label,\n                onRemove: handleChipRemove,\n                disabled: Boolean(restProps.disabled),\n                className: prefixClass(\"ChipsInput__chip\"),\n              })}\n            </React.Fragment>\n          );\n        })}\n        <label\n          vkuiClass=\"ChipsInput__input-container\"\n          aria-label={inputAriaLabel}\n        >\n          <input\n            ref={inputRef}\n            value={fieldValue}\n            autoCapitalize=\"none\"\n            autoComplete=\"off\"\n            autoCorrect=\"off\"\n            spellCheck={false}\n            aria-autocomplete=\"list\"\n            vkuiClass=\"ChipsInput__el\"\n            onChange={handleInputChange}\n            onKeyDown={handleKeyDown}\n            onFocus={handleFocus}\n            onBlur={handleBlur}\n            placeholder={selectedOptions.length ? undefined : placeholder}\n            {...restProps}\n          />\n        </label>\n      </div>\n    </FormField>\n  );\n};\n\n// eslint-disable-next-line import/no-default-export\nexport default ChipsInput;\n"]},"metadata":{},"sourceType":"module"}