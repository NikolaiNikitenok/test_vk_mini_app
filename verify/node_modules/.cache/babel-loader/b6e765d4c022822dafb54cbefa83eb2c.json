{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"children\", \"primary\", \"label\"];\nimport { createScopedElement } from \"../../lib/jsxRuntime\";\nimport Tappable from \"../Tappable/Tappable\";\nimport { getClassName } from \"../../helpers/getClassName\";\nimport { classNames } from \"../../lib/classNames\";\nimport { warnOnce } from \"../../lib/warnOnce\";\nimport { usePlatform } from \"../../hooks/usePlatform\";\nimport { getTitleFromChildren, isPrimitiveReactNode } from \"../../lib/utils\";\nimport { IOS, VKCOM, ANDROID } from \"../../lib/platform\";\nimport Text from \"../Typography/Text/Text\";\nimport Title from \"../Typography/Title/Title\";\n\nvar ButtonTypography = function ButtonTypography(_ref) {\n  var primary = _ref.primary,\n      children = _ref.children;\n  var platform = usePlatform();\n\n  if (platform === IOS) {\n    return createScopedElement(Title, {\n      Component: \"span\",\n      level: \"3\",\n      weight: primary ? \"1\" : \"3\"\n    }, children);\n  }\n\n  return createScopedElement(Text, {\n    weight: platform === VKCOM ? \"regular\" : \"medium\"\n  }, children);\n};\n\nvar warn = warnOnce(\"PanelHeaderButton\");\nexport var PanelHeaderButton = function PanelHeaderButton(_ref2) {\n  var children = _ref2.children,\n      _ref2$primary = _ref2.primary,\n      primary = _ref2$primary === void 0 ? false : _ref2$primary,\n      label = _ref2.label,\n      restProps = _objectWithoutProperties(_ref2, _excluded);\n\n  var isPrimitive = isPrimitiveReactNode(children);\n  var isPrimitiveLabel = isPrimitiveReactNode(label);\n  var platform = usePlatform();\n  var hoverMode;\n  var activeMode;\n\n  switch (platform) {\n    case ANDROID:\n      hoverMode = \"background\";\n      activeMode = \"background\";\n      break;\n\n    case IOS:\n      hoverMode = \"background\";\n      activeMode = \"opacity\";\n      break;\n\n    case VKCOM:\n      hoverMode = \"PanelHeaderButton--hover\";\n      activeMode = \"PanelHeaderButton--active\";\n  }\n\n  if (process.env.NODE_ENV === \"development\") {\n    var hasAccessibleName = Boolean(getTitleFromChildren(children) || getTitleFromChildren(label) || restProps[\"aria-label\"] || restProps[\"aria-labelledby\"]);\n\n    if (!hasAccessibleName) {\n      warn(\"a11y: У кнопки нет названия, которое может прочитать скринридер, и она недоступна для части пользователей. Замените содержимое на текст или добавьте описание действия с помощью пропа aria-label.\");\n    }\n  }\n\n  return createScopedElement(Tappable, _extends({}, restProps, {\n    hoverMode: hoverMode,\n    Component: restProps.href ? \"a\" : \"button\",\n    activeEffectDelay: 200,\n    activeMode: activeMode,\n    vkuiClass: classNames(getClassName(\"PanelHeaderButton\", platform), {\n      \"PanelHeaderButton--primary\": primary,\n      \"PanelHeaderButton--primitive\": isPrimitive,\n      \"PanelHeaderButton--notPrimitive\": !isPrimitive && !isPrimitiveLabel\n    })\n  }), isPrimitive ? createScopedElement(ButtonTypography, {\n    primary: primary\n  }, children) : children, isPrimitiveLabel ? createScopedElement(ButtonTypography, {\n    primary: primary\n  }, label) : label);\n};","map":{"version":3,"mappings":"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","names":["Tappable","getClassName","classNames","warnOnce","usePlatform","getTitleFromChildren","isPrimitiveReactNode","IOS","VKCOM","ANDROID","Text","Title","ButtonTypography","primary","children","platform","createScopedElement","Component","level","weight","warn","PanelHeaderButton","label","restProps","isPrimitive","isPrimitiveLabel","hoverMode","activeMode","process","env","NODE_ENV","hasAccessibleName","Boolean","href","activeEffectDelay","vkuiClass"],"sources":["../../../src/components/PanelHeaderButton/PanelHeaderButton.tsx"],"sourcesContent":["import * as React from \"react\";\nimport Tappable, { TappableProps } from \"../Tappable/Tappable\";\nimport { getClassName } from \"../../helpers/getClassName\";\nimport { classNames } from \"../../lib/classNames\";\nimport { warnOnce } from \"../../lib/warnOnce\";\nimport { usePlatform } from \"../../hooks/usePlatform\";\nimport { getTitleFromChildren, isPrimitiveReactNode } from \"../../lib/utils\";\nimport { IOS, VKCOM, ANDROID } from \"../../lib/platform\";\nimport Text from \"../Typography/Text/Text\";\nimport Title from \"../Typography/Title/Title\";\nimport \"./PanelHeaderButton.css\";\n\nexport interface PanelHeaderButtonProps extends Omit<TappableProps, \"label\"> {\n  primary?: boolean;\n  label?: React.ReactNode;\n}\n\ninterface ButtonTypographyProps extends React.AllHTMLAttributes<HTMLElement> {\n  primary?: PanelHeaderButtonProps[\"primary\"];\n}\n\nconst ButtonTypography: React.FC<ButtonTypographyProps> = ({\n  primary,\n  children,\n}: ButtonTypographyProps) => {\n  const platform = usePlatform();\n\n  if (platform === IOS) {\n    return (\n      <Title Component=\"span\" level=\"3\" weight={primary ? \"1\" : \"3\"}>\n        {children}\n      </Title>\n    );\n  }\n\n  return (\n    <Text weight={platform === VKCOM ? \"regular\" : \"medium\"}>{children}</Text>\n  );\n};\n\nconst warn = warnOnce(\"PanelHeaderButton\");\nexport const PanelHeaderButton: React.FC<PanelHeaderButtonProps> = ({\n  children,\n  primary = false,\n  label,\n  ...restProps\n}: PanelHeaderButtonProps) => {\n  const isPrimitive = isPrimitiveReactNode(children);\n  const isPrimitiveLabel = isPrimitiveReactNode(label);\n  const platform = usePlatform();\n\n  let hoverMode;\n  let activeMode;\n\n  switch (platform) {\n    case ANDROID:\n      hoverMode = \"background\";\n      activeMode = \"background\";\n      break;\n    case IOS:\n      hoverMode = \"background\";\n      activeMode = \"opacity\";\n      break;\n    case VKCOM:\n      hoverMode = \"PanelHeaderButton--hover\";\n      activeMode = \"PanelHeaderButton--active\";\n  }\n\n  if (process.env.NODE_ENV === \"development\") {\n    const hasAccessibleName = Boolean(\n      getTitleFromChildren(children) ||\n        getTitleFromChildren(label) ||\n        restProps[\"aria-label\"] ||\n        restProps[\"aria-labelledby\"]\n    );\n\n    if (!hasAccessibleName) {\n      warn(\n        \"a11y: У кнопки нет названия, которое может прочитать скринридер, и она недоступна для части пользователей. Замените содержимое на текст или добавьте описание действия с помощью пропа aria-label.\"\n      );\n    }\n  }\n\n  return (\n    <Tappable\n      {...restProps}\n      hoverMode={hoverMode}\n      Component={restProps.href ? \"a\" : \"button\"}\n      activeEffectDelay={200}\n      activeMode={activeMode}\n      vkuiClass={classNames(getClassName(\"PanelHeaderButton\", platform), {\n        \"PanelHeaderButton--primary\": primary,\n        \"PanelHeaderButton--primitive\": isPrimitive,\n        \"PanelHeaderButton--notPrimitive\": !isPrimitive && !isPrimitiveLabel,\n      })}\n    >\n      {isPrimitive ? (\n        <ButtonTypography primary={primary}>{children}</ButtonTypography>\n      ) : (\n        children\n      )}\n      {isPrimitiveLabel ? (\n        <ButtonTypography primary={primary}>{label}</ButtonTypography>\n      ) : (\n        label\n      )}\n    </Tappable>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}