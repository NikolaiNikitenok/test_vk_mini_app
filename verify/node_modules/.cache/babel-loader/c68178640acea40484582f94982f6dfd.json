{"ast":null,"code":"import { leadingZero } from './numbers';\nexport var SECONDS_IN_THE_DAY = 86400;\nvar MILLISECONDS_IN_THE_DAY = SECONDS_IN_THE_DAY * 1000;\n/**\n * Проверяет, что переданная дата является сегодняшним днём\n */\n\nexport function isDateToday(date) {\n  var now = new Date();\n  var d = now.getDate();\n  var m = now.getMonth();\n  var y = now.getFullYear();\n  return date.getFullYear() === y && date.getMonth() === m && date.getDate() === d;\n}\n/**\n * Проверяет, что переданная дата - вчерашний день\n */\n\nexport function isDateYesterday(date) {\n  var yesterdayDate = new Date(date.getTime() + MILLISECONDS_IN_THE_DAY);\n  return isDateToday(yesterdayDate);\n}\n/**\n * Проверяет, что переданная дата - завтрашний день\n */\n\nexport function isDateTomorrow(date) {\n  var tomorrowDate = new Date(date.getTime() - MILLISECONDS_IN_THE_DAY);\n  return isDateToday(tomorrowDate);\n}\n/**\n * Проверяет что переданные даты находятся в одном дне\n */\n\nexport function isSameDate(d1, d2) {\n  return d1.getDate() === d2.getDate() && d1.getMonth() === d2.getMonth() && d1.getFullYear() === d2.getFullYear();\n}\n/**\n * Возвращает новую дату — начало переданного дня\n */\n\nexport function getBeginningOfDay(date) {\n  var year = date.getFullYear();\n  var month = date.getMonth();\n  var day = date.getDate();\n  return new Date(year, month, day, 0, 0, 0, 0);\n}\nexport function isLeapYear(year) {\n  return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;\n}\n/**\n * Возвращает кол-во дней в месяце (последнее число месяца)\n */\n\nexport function getLastDayOfMonth(year, month) {\n  if (+month === 2) {\n    return isLeapYear(year) ? 29 : 28;\n  } else if (month > 0 && (month < 8 && month % 2 === 0 || month > 7 && month % 2 === 1)) {\n    return 30;\n  }\n\n  return 31;\n}\n/**\n * Ближайший понедельник в прошлом относительно date\n */\n\nexport function getStartOfWeek(date) {\n  var weekDay = date.getDay();\n\n  if (weekDay === 0) {\n    return addDays(date, -6);\n  }\n\n  return addDays(date, -weekDay + 1);\n}\n/**\n * Добавляет дни к дате и возвращает новый объект\n */\n\nexport function addDays(date, dayCount) {\n  var modified = new Date(date.getTime());\n  modified.setDate(modified.getDate() + dayCount);\n  return modified;\n}\n/**\n * Создаёт дату из Unix Timestamp\n */\n\nexport function createDateFromUnixTimestamp(timestamp) {\n  return new Date(timestamp * 1000);\n}\n/**\n * Возвращает Unix Timestamp из даты\n */\n\nexport function getUnixTimestampFromDate(date) {\n  return Math.floor(date.getTime() / 1000);\n}\n/**\n * Возвращает дату в формате YYYY-MM-DD\n */\n\nexport function convertDateToInputFormat(date) {\n  var day = date.getDate();\n  var month = date.getMonth() + 1;\n  var year = date.getFullYear();\n  return [year, leadingZero(month), leadingZero(day)].join('-');\n}","map":{"version":3,"mappings":"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","names":["leadingZero","SECONDS_IN_THE_DAY","MILLISECONDS_IN_THE_DAY","isDateToday","date","now","Date","d","getDate","m","getMonth","y","getFullYear","isDateYesterday","yesterdayDate","getTime","isDateTomorrow","tomorrowDate","isSameDate","d1","d2","getBeginningOfDay","year","month","day","isLeapYear","getLastDayOfMonth","getStartOfWeek","weekDay","getDay","addDays","dayCount","modified","setDate","createDateFromUnixTimestamp","timestamp","getUnixTimestampFromDate","Math","floor","convertDateToInputFormat","join"],"sources":["../../src/date.ts"],"sourcesContent":["import { leadingZero } from './numbers';\n\nexport const SECONDS_IN_THE_DAY = 86400;\nconst MILLISECONDS_IN_THE_DAY = SECONDS_IN_THE_DAY * 1000;\n\n/**\n * Проверяет, что переданная дата является сегодняшним днём\n */\nexport function isDateToday(date: Date): boolean {\n  const now = new Date();\n  const d = now.getDate();\n  const m = now.getMonth();\n  const y = now.getFullYear();\n\n  return date.getFullYear() === y && date.getMonth() === m && date.getDate() === d;\n}\n\n/**\n * Проверяет, что переданная дата - вчерашний день\n */\nexport function isDateYesterday(date: Date): boolean {\n  const yesterdayDate = new Date(date.getTime() + MILLISECONDS_IN_THE_DAY);\n  return isDateToday(yesterdayDate);\n}\n\n/**\n * Проверяет, что переданная дата - завтрашний день\n */\nexport function isDateTomorrow(date: Date): boolean {\n  const tomorrowDate = new Date(date.getTime() - MILLISECONDS_IN_THE_DAY);\n  return isDateToday(tomorrowDate);\n}\n\n/**\n * Проверяет что переданные даты находятся в одном дне\n */\nexport function isSameDate(d1: Date, d2: Date): boolean {\n  return d1.getDate() === d2.getDate()\n    && d1.getMonth() === d2.getMonth()\n    && d1.getFullYear() === d2.getFullYear();\n}\n\n/**\n * Возвращает новую дату — начало переданного дня\n */\nexport function getBeginningOfDay(date: Date) {\n  const year = date.getFullYear();\n  const month = date.getMonth();\n  const day = date.getDate();\n\n  return new Date(year, month, day, 0, 0, 0, 0);\n}\n\nexport function isLeapYear(year: number) {\n  return ((year % 4 === 0 && year % 100 !== 0) || (year % 400 === 0));\n}\n\n/**\n * Возвращает кол-во дней в месяце (последнее число месяца)\n */\nexport function getLastDayOfMonth(year: number, month: number): number {\n  if (+month === 2) {\n    return isLeapYear(year) ? 29 : 28;\n  } else if (month > 0 && ((month < 8 && month % 2 === 0) || (month > 7 && month % 2 === 1))) {\n    return 30;\n  }\n  return 31;\n}\n\n/**\n * Ближайший понедельник в прошлом относительно date\n */\nexport function getStartOfWeek(date: Date): Date {\n  const weekDay = date.getDay();\n  if (weekDay === 0) {\n    return addDays(date, -6);\n  }\n  return addDays(date, -weekDay + 1);\n}\n\n/**\n * Добавляет дни к дате и возвращает новый объект\n */\nexport function addDays(date: Date, dayCount: number): Date {\n  const modified = new Date(date.getTime());\n  modified.setDate(modified.getDate() + dayCount);\n  return modified;\n}\n\n/**\n * Создаёт дату из Unix Timestamp\n */\nexport function createDateFromUnixTimestamp(timestamp: number): Date {\n  return new Date(timestamp * 1000);\n}\n\n/**\n * Возвращает Unix Timestamp из даты\n */\nexport function getUnixTimestampFromDate(date: Date): number {\n  return Math.floor(date.getTime() / 1000);\n}\n\n/**\n * Возвращает дату в формате YYYY-MM-DD\n */\nexport function convertDateToInputFormat(date: Date): string {\n  const day = date.getDate();\n  const month = date.getMonth() + 1;\n  const year = date.getFullYear();\n\n  return [year, leadingZero(month), leadingZero(day)].join('-');\n}\n"]},"metadata":{},"sourceType":"module"}