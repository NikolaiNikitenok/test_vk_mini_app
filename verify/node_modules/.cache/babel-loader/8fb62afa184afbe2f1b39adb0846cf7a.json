{"ast":null,"code":"/*! eruda-code v2.0.0 https://github.com/liriliri/eruda-code#readme */\n!function (e, t) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = t() : \"function\" == typeof define && define.amd ? define([], t) : \"object\" == typeof exports ? exports.erudaCode = t() : e.erudaCode = t();\n}(window, function () {\n  return function (e) {\n    var t = {};\n\n    function r(n) {\n      if (t[n]) return t[n].exports;\n      var i = t[n] = {\n        i: n,\n        l: !1,\n        exports: {}\n      };\n      return e[n].call(i.exports, i, i.exports, r), i.l = !0, i.exports;\n    }\n\n    return r.m = e, r.c = t, r.d = function (e, t, n) {\n      r.o(e, t) || Object.defineProperty(e, t, {\n        enumerable: !0,\n        get: n\n      });\n    }, r.r = function (e) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n    }, r.t = function (e, t) {\n      if (1 & t && (e = r(e)), 8 & t) return e;\n      if (4 & t && \"object\" == typeof e && e && e.__esModule) return e;\n      var n = Object.create(null);\n      if (r.r(n), Object.defineProperty(n, \"default\", {\n        enumerable: !0,\n        value: e\n      }), 2 & t && \"string\" != typeof e) for (var i in e) r.d(n, i, function (t) {\n        return e[t];\n      }.bind(null, i));\n      return n;\n    }, r.n = function (e) {\n      var t = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return r.d(t, \"a\", t), t;\n    }, r.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, r.p = \"/assets/\", r(r.s = 16);\n  }([function (e, t, r) {\n    \"use strict\";\n\n    t.__esModule = !0, t.extend = a, t.indexOf = function (e, t) {\n      for (var r = 0, n = e.length; r < n; r++) if (e[r] === t) return r;\n\n      return -1;\n    }, t.escapeExpression = function (e) {\n      if (\"string\" != typeof e) {\n        if (e && e.toHTML) return e.toHTML();\n        if (null == e) return \"\";\n        if (!e) return e + \"\";\n        e = \"\" + e;\n      }\n\n      if (!o.test(e)) return e;\n      return e.replace(i, l);\n    }, t.isEmpty = function (e) {\n      return !e && 0 !== e || !(!c(e) || 0 !== e.length);\n    }, t.createFrame = function (e) {\n      var t = a({}, e);\n      return t._parent = e, t;\n    }, t.blockParams = function (e, t) {\n      return e.path = t, e;\n    }, t.appendContextPath = function (e, t) {\n      return (e ? e + \".\" : \"\") + t;\n    };\n    var n = {\n      \"&\": \"&amp;\",\n      \"<\": \"&lt;\",\n      \">\": \"&gt;\",\n      '\"': \"&quot;\",\n      \"'\": \"&#x27;\",\n      \"`\": \"&#x60;\",\n      \"=\": \"&#x3D;\"\n    },\n        i = /[&<>\"'`=]/g,\n        o = /[&<>\"'`=]/;\n\n    function l(e) {\n      return n[e];\n    }\n\n    function a(e) {\n      for (var t = 1; t < arguments.length; t++) for (var r in arguments[t]) Object.prototype.hasOwnProperty.call(arguments[t], r) && (e[r] = arguments[t][r]);\n\n      return e;\n    }\n\n    var s = Object.prototype.toString;\n    t.toString = s;\n\n    var u = function (e) {\n      return \"function\" == typeof e;\n    };\n\n    u(/x/) && (t.isFunction = u = function (e) {\n      return \"function\" == typeof e && \"[object Function]\" === s.call(e);\n    }), t.isFunction = u;\n\n    var c = Array.isArray || function (e) {\n      return !(!e || \"object\" != typeof e) && \"[object Array]\" === s.call(e);\n    };\n\n    t.isArray = c;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    t.__esModule = !0;\n    var n = [\"description\", \"fileName\", \"lineNumber\", \"endLineNumber\", \"message\", \"name\", \"number\", \"stack\"];\n\n    function i(e, t) {\n      var r = t && t.loc,\n          o = void 0,\n          l = void 0,\n          a = void 0,\n          s = void 0;\n      r && (o = r.start.line, l = r.end.line, a = r.start.column, s = r.end.column, e += \" - \" + o + \":\" + a);\n\n      for (var u = Error.prototype.constructor.call(this, e), c = 0; c < n.length; c++) this[n[c]] = u[n[c]];\n\n      Error.captureStackTrace && Error.captureStackTrace(this, i);\n\n      try {\n        r && (this.lineNumber = o, this.endLineNumber = l, Object.defineProperty ? (Object.defineProperty(this, \"column\", {\n          value: a,\n          enumerable: !0\n        }), Object.defineProperty(this, \"endColumn\", {\n          value: s,\n          enumerable: !0\n        })) : (this.column = a, this.endColumn = s));\n      } catch (e) {}\n    }\n\n    i.prototype = new Error(), t.default = i, e.exports = t.default;\n  }, function (e, t) {\n    function r(t) {\n      return e.exports = r = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n        return e.__proto__ || Object.getPrototypeOf(e);\n      }, r(t);\n    }\n\n    e.exports = r;\n  }, function (e, t, r) {\n    var n = r(19);\n\n    function i(t, r, o) {\n      return \"undefined\" != typeof Reflect && Reflect.get ? e.exports = i = Reflect.get : e.exports = i = function (e, t, r) {\n        var i = n(e, t);\n\n        if (i) {\n          var o = Object.getOwnPropertyDescriptor(i, t);\n          return o.get ? o.get.call(r) : o.value;\n        }\n      }, i(t, r, o || t);\n    }\n\n    e.exports = i;\n  }, function (e, t) {\n    var r;\n\n    r = function () {\n      return this;\n    }();\n\n    try {\n      r = r || new Function(\"return this\")();\n    } catch (e) {\n      \"object\" == typeof window && (r = window);\n    }\n\n    e.exports = r;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    e.exports = function (e) {\n      var t = [];\n      return t.toString = function () {\n        return this.map(function (t) {\n          var r = function (e, t) {\n            var r = e[1] || \"\",\n                n = e[3];\n            if (!n) return r;\n\n            if (t && \"function\" == typeof btoa) {\n              var i = (l = n, a = btoa(unescape(encodeURIComponent(JSON.stringify(l)))), s = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(a), \"/*# \".concat(s, \" */\")),\n                  o = n.sources.map(function (e) {\n                return \"/*# sourceURL=\".concat(n.sourceRoot || \"\").concat(e, \" */\");\n              });\n              return [r].concat(o).concat([i]).join(\"\\n\");\n            }\n\n            var l, a, s;\n            return [r].join(\"\\n\");\n          }(t, e);\n\n          return t[2] ? \"@media \".concat(t[2], \" {\").concat(r, \"}\") : r;\n        }).join(\"\");\n      }, t.i = function (e, r) {\n        \"string\" == typeof e && (e = [[null, e, \"\"]]);\n\n        for (var n = 0; n < e.length; n++) {\n          var i = [].concat(e[n]);\n          r && (i[2] ? i[2] = \"\".concat(r, \" and \").concat(i[2]) : i[2] = r), t.push(i);\n        }\n      }, t;\n    };\n  }, function (e, t) {\n    function r(t) {\n      return \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? e.exports = r = function (e) {\n        return typeof e;\n      } : e.exports = r = function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      }, r(t);\n    }\n\n    e.exports = r;\n  }, function (e, t, r) {\n    e.exports = function () {\n      \"use strict\";\n\n      var e = navigator.userAgent,\n          t = navigator.platform,\n          r = /gecko\\/\\d/i.test(e),\n          n = /MSIE \\d/.test(e),\n          i = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(e),\n          o = /Edge\\/(\\d+)/.exec(e),\n          l = n || i || o,\n          a = l && (n ? document.documentMode || 6 : +(o || i)[1]),\n          s = !o && /WebKit\\//.test(e),\n          u = s && /Qt\\/\\d+\\.\\d+/.test(e),\n          c = !o && /Chrome\\//.test(e),\n          d = /Opera\\//.test(e),\n          f = /Apple Computer/.test(navigator.vendor),\n          h = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(e),\n          p = /PhantomJS/.test(e),\n          v = !o && /AppleWebKit/.test(e) && /Mobile\\/\\w+/.test(e),\n          g = /Android/.test(e),\n          m = v || g || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),\n          y = v || /Mac/.test(t),\n          b = /\\bCrOS\\b/.test(e),\n          w = /win/i.test(t),\n          x = d && e.match(/Version\\/(\\d*\\.\\d*)/);\n      x && (x = Number(x[1])), x && x >= 15 && (d = !1, s = !0);\n      var C = y && (u || d && (null == x || x < 12.11)),\n          k = r || l && a >= 9;\n\n      function S(e) {\n        return new RegExp(\"(^|\\\\s)\" + e + \"(?:$|\\\\s)\\\\s*\");\n      }\n\n      var M,\n          L = function (e, t) {\n        var r = e.className,\n            n = S(t).exec(r);\n\n        if (n) {\n          var i = r.slice(n.index + n[0].length);\n          e.className = r.slice(0, n.index) + (i ? n[1] + i : \"\");\n        }\n      };\n\n      function T(e) {\n        for (var t = e.childNodes.length; t > 0; --t) e.removeChild(e.firstChild);\n\n        return e;\n      }\n\n      function O(e, t) {\n        return T(e).appendChild(t);\n      }\n\n      function N(e, t, r, n) {\n        var i = document.createElement(e);\n        if (r && (i.className = r), n && (i.style.cssText = n), \"string\" == typeof t) i.appendChild(document.createTextNode(t));else if (t) for (var o = 0; o < t.length; ++o) i.appendChild(t[o]);\n        return i;\n      }\n\n      function A(e, t, r, n) {\n        var i = N(e, t, r, n);\n        return i.setAttribute(\"role\", \"presentation\"), i;\n      }\n\n      function D(e, t) {\n        if (3 == t.nodeType && (t = t.parentNode), e.contains) return e.contains(t);\n\n        do {\n          if (11 == t.nodeType && (t = t.host), t == e) return !0;\n        } while (t = t.parentNode);\n      }\n\n      function P() {\n        var e;\n\n        try {\n          e = document.activeElement;\n        } catch (t) {\n          e = document.body || null;\n        }\n\n        for (; e && e.shadowRoot && e.shadowRoot.activeElement;) e = e.shadowRoot.activeElement;\n\n        return e;\n      }\n\n      function E(e, t) {\n        var r = e.className;\n        S(t).test(r) || (e.className += (r ? \" \" : \"\") + t);\n      }\n\n      function H(e, t) {\n        for (var r = e.split(\" \"), n = 0; n < r.length; n++) r[n] && !S(r[n]).test(t) && (t += \" \" + r[n]);\n\n        return t;\n      }\n\n      M = document.createRange ? function (e, t, r, n) {\n        var i = document.createRange();\n        return i.setEnd(n || e, r), i.setStart(e, t), i;\n      } : function (e, t, r) {\n        var n = document.body.createTextRange();\n\n        try {\n          n.moveToElementText(e.parentNode);\n        } catch (e) {\n          return n;\n        }\n\n        return n.collapse(!0), n.moveEnd(\"character\", r), n.moveStart(\"character\", t), n;\n      };\n\n      var W = function (e) {\n        e.select();\n      };\n\n      function I(e) {\n        var t = Array.prototype.slice.call(arguments, 1);\n        return function () {\n          return e.apply(null, t);\n        };\n      }\n\n      function F(e, t, r) {\n        for (var n in t || (t = {}), e) !e.hasOwnProperty(n) || !1 === r && t.hasOwnProperty(n) || (t[n] = e[n]);\n\n        return t;\n      }\n\n      function z(e, t, r, n, i) {\n        null == t && -1 == (t = e.search(/[^\\s\\u00a0]/)) && (t = e.length);\n\n        for (var o = n || 0, l = i || 0;;) {\n          var a = e.indexOf(\"\\t\", o);\n          if (a < 0 || a >= t) return l + (t - o);\n          l += a - o, l += r - l % r, o = a + 1;\n        }\n      }\n\n      v ? W = function (e) {\n        e.selectionStart = 0, e.selectionEnd = e.value.length;\n      } : l && (W = function (e) {\n        try {\n          e.select();\n        } catch (e) {}\n      });\n\n      var _ = function () {\n        this.id = null, this.f = null, this.time = 0, this.handler = I(this.onTimeout, this);\n      };\n\n      function R(e, t) {\n        for (var r = 0; r < e.length; ++r) if (e[r] == t) return r;\n\n        return -1;\n      }\n\n      _.prototype.onTimeout = function (e) {\n        e.id = 0, e.time <= +new Date() ? e.f() : setTimeout(e.handler, e.time - +new Date());\n      }, _.prototype.set = function (e, t) {\n        this.f = t;\n        var r = +new Date() + e;\n        (!this.id || r < this.time) && (clearTimeout(this.id), this.id = setTimeout(this.handler, e), this.time = r);\n      };\n      var j = {\n        toString: function () {\n          return \"CodeMirror.Pass\";\n        }\n      },\n          B = {\n        scroll: !1\n      },\n          V = {\n        origin: \"*mouse\"\n      },\n          G = {\n        origin: \"+move\"\n      };\n\n      function U(e, t, r) {\n        for (var n = 0, i = 0;;) {\n          var o = e.indexOf(\"\\t\", n);\n          -1 == o && (o = e.length);\n          var l = o - n;\n          if (o == e.length || i + l >= t) return n + Math.min(l, t - i);\n          if (i += o - n, n = o + 1, (i += r - i % r) >= t) return n;\n        }\n      }\n\n      var K = [\"\"];\n\n      function $(e) {\n        for (; K.length <= e;) K.push(X(K) + \" \");\n\n        return K[e];\n      }\n\n      function X(e) {\n        return e[e.length - 1];\n      }\n\n      function q(e, t) {\n        for (var r = [], n = 0; n < e.length; n++) r[n] = t(e[n], n);\n\n        return r;\n      }\n\n      function Y() {}\n\n      function Z(e, t) {\n        var r;\n        return Object.create ? r = Object.create(e) : (Y.prototype = e, r = new Y()), t && F(t, r), r;\n      }\n\n      var J = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\n\n      function Q(e) {\n        return /\\w/.test(e) || e > \"\" && (e.toUpperCase() != e.toLowerCase() || J.test(e));\n      }\n\n      function ee(e, t) {\n        return t ? !!(t.source.indexOf(\"\\\\w\") > -1 && Q(e)) || t.test(e) : Q(e);\n      }\n\n      function te(e) {\n        for (var t in e) if (e.hasOwnProperty(t) && e[t]) return !1;\n\n        return !0;\n      }\n\n      var re = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;\n\n      function ne(e) {\n        return e.charCodeAt(0) >= 768 && re.test(e);\n      }\n\n      function ie(e, t, r) {\n        for (; (r < 0 ? t > 0 : t < e.length) && ne(e.charAt(t));) t += r;\n\n        return t;\n      }\n\n      function oe(e, t, r) {\n        for (var n = t > r ? -1 : 1;;) {\n          if (t == r) return t;\n          var i = (t + r) / 2,\n              o = n < 0 ? Math.ceil(i) : Math.floor(i);\n          if (o == t) return e(o) ? t : r;\n          e(o) ? r = o : t = o + n;\n        }\n      }\n\n      var le = null;\n\n      function ae(e, t, r) {\n        var n;\n        le = null;\n\n        for (var i = 0; i < e.length; ++i) {\n          var o = e[i];\n          if (o.from < t && o.to > t) return i;\n          o.to == t && (o.from != o.to && \"before\" == r ? n = i : le = i), o.from == t && (o.from != o.to && \"before\" != r ? n = i : le = i);\n        }\n\n        return null != n ? n : le;\n      }\n\n      var se = function () {\n        var e = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/,\n            t = /[stwN]/,\n            r = /[LRr]/,\n            n = /[Lb1n]/,\n            i = /[1n]/;\n\n        function o(e, t, r) {\n          this.level = e, this.from = t, this.to = r;\n        }\n\n        return function (l, a) {\n          var s = \"ltr\" == a ? \"L\" : \"R\";\n          if (0 == l.length || \"ltr\" == a && !e.test(l)) return !1;\n\n          for (var u, c = l.length, d = [], f = 0; f < c; ++f) d.push((u = l.charCodeAt(f)) <= 247 ? \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\".charAt(u) : 1424 <= u && u <= 1524 ? \"R\" : 1536 <= u && u <= 1785 ? \"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\".charAt(u - 1536) : 1774 <= u && u <= 2220 ? \"r\" : 8192 <= u && u <= 8203 ? \"w\" : 8204 == u ? \"b\" : \"L\");\n\n          for (var h = 0, p = s; h < c; ++h) {\n            var v = d[h];\n            \"m\" == v ? d[h] = p : p = v;\n          }\n\n          for (var g = 0, m = s; g < c; ++g) {\n            var y = d[g];\n            \"1\" == y && \"r\" == m ? d[g] = \"n\" : r.test(y) && (m = y, \"r\" == y && (d[g] = \"R\"));\n          }\n\n          for (var b = 1, w = d[0]; b < c - 1; ++b) {\n            var x = d[b];\n            \"+\" == x && \"1\" == w && \"1\" == d[b + 1] ? d[b] = \"1\" : \",\" != x || w != d[b + 1] || \"1\" != w && \"n\" != w || (d[b] = w), w = x;\n          }\n\n          for (var C = 0; C < c; ++C) {\n            var k = d[C];\n            if (\",\" == k) d[C] = \"N\";else if (\"%\" == k) {\n              var S = void 0;\n\n              for (S = C + 1; S < c && \"%\" == d[S]; ++S);\n\n              for (var M = C && \"!\" == d[C - 1] || S < c && \"1\" == d[S] ? \"1\" : \"N\", L = C; L < S; ++L) d[L] = M;\n\n              C = S - 1;\n            }\n          }\n\n          for (var T = 0, O = s; T < c; ++T) {\n            var N = d[T];\n            \"L\" == O && \"1\" == N ? d[T] = \"L\" : r.test(N) && (O = N);\n          }\n\n          for (var A = 0; A < c; ++A) if (t.test(d[A])) {\n            var D = void 0;\n\n            for (D = A + 1; D < c && t.test(d[D]); ++D);\n\n            for (var P = \"L\" == (A ? d[A - 1] : s), E = P == (\"L\" == (D < c ? d[D] : s)) ? P ? \"L\" : \"R\" : s, H = A; H < D; ++H) d[H] = E;\n\n            A = D - 1;\n          }\n\n          for (var W, I = [], F = 0; F < c;) if (n.test(d[F])) {\n            var z = F;\n\n            for (++F; F < c && n.test(d[F]); ++F);\n\n            I.push(new o(0, z, F));\n          } else {\n            var _ = F,\n                R = I.length;\n\n            for (++F; F < c && \"L\" != d[F]; ++F);\n\n            for (var j = _; j < F;) if (i.test(d[j])) {\n              _ < j && I.splice(R, 0, new o(1, _, j));\n              var B = j;\n\n              for (++j; j < F && i.test(d[j]); ++j);\n\n              I.splice(R, 0, new o(2, B, j)), _ = j;\n            } else ++j;\n\n            _ < F && I.splice(R, 0, new o(1, _, F));\n          }\n\n          return \"ltr\" == a && (1 == I[0].level && (W = l.match(/^\\s+/)) && (I[0].from = W[0].length, I.unshift(new o(0, 0, W[0].length))), 1 == X(I).level && (W = l.match(/\\s+$/)) && (X(I).to -= W[0].length, I.push(new o(0, c - W[0].length, c)))), \"rtl\" == a ? I.reverse() : I;\n        };\n      }();\n\n      function ue(e, t) {\n        var r = e.order;\n        return null == r && (r = e.order = se(e.text, t)), r;\n      }\n\n      var ce = [],\n          de = function (e, t, r) {\n        if (e.addEventListener) e.addEventListener(t, r, !1);else if (e.attachEvent) e.attachEvent(\"on\" + t, r);else {\n          var n = e._handlers || (e._handlers = {});\n          n[t] = (n[t] || ce).concat(r);\n        }\n      };\n\n      function fe(e, t) {\n        return e._handlers && e._handlers[t] || ce;\n      }\n\n      function he(e, t, r) {\n        if (e.removeEventListener) e.removeEventListener(t, r, !1);else if (e.detachEvent) e.detachEvent(\"on\" + t, r);else {\n          var n = e._handlers,\n              i = n && n[t];\n\n          if (i) {\n            var o = R(i, r);\n            o > -1 && (n[t] = i.slice(0, o).concat(i.slice(o + 1)));\n          }\n        }\n      }\n\n      function pe(e, t) {\n        var r = fe(e, t);\n        if (r.length) for (var n = Array.prototype.slice.call(arguments, 2), i = 0; i < r.length; ++i) r[i].apply(null, n);\n      }\n\n      function ve(e, t, r) {\n        return \"string\" == typeof t && (t = {\n          type: t,\n          preventDefault: function () {\n            this.defaultPrevented = !0;\n          }\n        }), pe(e, r || t.type, e, t), xe(t) || t.codemirrorIgnore;\n      }\n\n      function ge(e) {\n        var t = e._handlers && e._handlers.cursorActivity;\n        if (t) for (var r = e.curOp.cursorActivityHandlers || (e.curOp.cursorActivityHandlers = []), n = 0; n < t.length; ++n) -1 == R(r, t[n]) && r.push(t[n]);\n      }\n\n      function me(e, t) {\n        return fe(e, t).length > 0;\n      }\n\n      function ye(e) {\n        e.prototype.on = function (e, t) {\n          de(this, e, t);\n        }, e.prototype.off = function (e, t) {\n          he(this, e, t);\n        };\n      }\n\n      function be(e) {\n        e.preventDefault ? e.preventDefault() : e.returnValue = !1;\n      }\n\n      function we(e) {\n        e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0;\n      }\n\n      function xe(e) {\n        return null != e.defaultPrevented ? e.defaultPrevented : 0 == e.returnValue;\n      }\n\n      function Ce(e) {\n        be(e), we(e);\n      }\n\n      function ke(e) {\n        return e.target || e.srcElement;\n      }\n\n      function Se(e) {\n        var t = e.which;\n        return null == t && (1 & e.button ? t = 1 : 2 & e.button ? t = 3 : 4 & e.button && (t = 2)), y && e.ctrlKey && 1 == t && (t = 3), t;\n      }\n\n      var Me,\n          Le,\n          Te = function () {\n        if (l && a < 9) return !1;\n        var e = N(\"div\");\n        return \"draggable\" in e || \"dragDrop\" in e;\n      }();\n\n      function Oe(e) {\n        if (null == Me) {\n          var t = N(\"span\", \"​\");\n          O(e, N(\"span\", [t, document.createTextNode(\"x\")])), 0 != e.firstChild.offsetHeight && (Me = t.offsetWidth <= 1 && t.offsetHeight > 2 && !(l && a < 8));\n        }\n\n        var r = Me ? N(\"span\", \"​\") : N(\"span\", \" \", null, \"display: inline-block; width: 1px; margin-right: -1px\");\n        return r.setAttribute(\"cm-text\", \"\"), r;\n      }\n\n      function Ne(e) {\n        if (null != Le) return Le;\n        var t = O(e, document.createTextNode(\"AخA\")),\n            r = M(t, 0, 1).getBoundingClientRect(),\n            n = M(t, 1, 2).getBoundingClientRect();\n        return T(e), !(!r || r.left == r.right) && (Le = n.right - r.right < 3);\n      }\n\n      var Ae,\n          De = 3 != \"\\n\\nb\".split(/\\n/).length ? function (e) {\n        for (var t = 0, r = [], n = e.length; t <= n;) {\n          var i = e.indexOf(\"\\n\", t);\n          -1 == i && (i = e.length);\n          var o = e.slice(t, \"\\r\" == e.charAt(i - 1) ? i - 1 : i),\n              l = o.indexOf(\"\\r\");\n          -1 != l ? (r.push(o.slice(0, l)), t += l + 1) : (r.push(o), t = i + 1);\n        }\n\n        return r;\n      } : function (e) {\n        return e.split(/\\r\\n?|\\n/);\n      },\n          Pe = window.getSelection ? function (e) {\n        try {\n          return e.selectionStart != e.selectionEnd;\n        } catch (e) {\n          return !1;\n        }\n      } : function (e) {\n        var t;\n\n        try {\n          t = e.ownerDocument.selection.createRange();\n        } catch (e) {}\n\n        return !(!t || t.parentElement() != e) && 0 != t.compareEndPoints(\"StartToEnd\", t);\n      },\n          Ee = \"oncopy\" in (Ae = N(\"div\")) || (Ae.setAttribute(\"oncopy\", \"return;\"), \"function\" == typeof Ae.oncopy),\n          He = null,\n          We = {},\n          Ie = {};\n\n      function Fe(e, t) {\n        arguments.length > 2 && (t.dependencies = Array.prototype.slice.call(arguments, 2)), We[e] = t;\n      }\n\n      function ze(e) {\n        if (\"string\" == typeof e && Ie.hasOwnProperty(e)) e = Ie[e];else if (e && \"string\" == typeof e.name && Ie.hasOwnProperty(e.name)) {\n          var t = Ie[e.name];\n          \"string\" == typeof t && (t = {\n            name: t\n          }), (e = Z(t, e)).name = t.name;\n        } else {\n          if (\"string\" == typeof e && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(e)) return ze(\"application/xml\");\n          if (\"string\" == typeof e && /^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(e)) return ze(\"application/json\");\n        }\n        return \"string\" == typeof e ? {\n          name: e\n        } : e || {\n          name: \"null\"\n        };\n      }\n\n      function _e(e, t) {\n        t = ze(t);\n        var r = We[t.name];\n        if (!r) return _e(e, \"text/plain\");\n        var n = r(e, t);\n\n        if (Re.hasOwnProperty(t.name)) {\n          var i = Re[t.name];\n\n          for (var o in i) i.hasOwnProperty(o) && (n.hasOwnProperty(o) && (n[\"_\" + o] = n[o]), n[o] = i[o]);\n        }\n\n        if (n.name = t.name, t.helperType && (n.helperType = t.helperType), t.modeProps) for (var l in t.modeProps) n[l] = t.modeProps[l];\n        return n;\n      }\n\n      var Re = {};\n\n      function je(e, t) {\n        F(t, Re.hasOwnProperty(e) ? Re[e] : Re[e] = {});\n      }\n\n      function Be(e, t) {\n        if (!0 === t) return t;\n        if (e.copyState) return e.copyState(t);\n        var r = {};\n\n        for (var n in t) {\n          var i = t[n];\n          i instanceof Array && (i = i.concat([])), r[n] = i;\n        }\n\n        return r;\n      }\n\n      function Ve(e, t) {\n        for (var r; e.innerMode && (r = e.innerMode(t)) && r.mode != e;) t = r.state, e = r.mode;\n\n        return r || {\n          mode: e,\n          state: t\n        };\n      }\n\n      function Ge(e, t, r) {\n        return !e.startState || e.startState(t, r);\n      }\n\n      var Ue = function (e, t, r) {\n        this.pos = this.start = 0, this.string = e, this.tabSize = t || 8, this.lastColumnPos = this.lastColumnValue = 0, this.lineStart = 0, this.lineOracle = r;\n      };\n\n      function Ke(e, t) {\n        if ((t -= e.first) < 0 || t >= e.size) throw new Error(\"There is no line \" + (t + e.first) + \" in the document.\");\n\n        for (var r = e; !r.lines;) for (var n = 0;; ++n) {\n          var i = r.children[n],\n              o = i.chunkSize();\n\n          if (t < o) {\n            r = i;\n            break;\n          }\n\n          t -= o;\n        }\n\n        return r.lines[t];\n      }\n\n      function $e(e, t, r) {\n        var n = [],\n            i = t.line;\n        return e.iter(t.line, r.line + 1, function (e) {\n          var o = e.text;\n          i == r.line && (o = o.slice(0, r.ch)), i == t.line && (o = o.slice(t.ch)), n.push(o), ++i;\n        }), n;\n      }\n\n      function Xe(e, t, r) {\n        var n = [];\n        return e.iter(t, r, function (e) {\n          n.push(e.text);\n        }), n;\n      }\n\n      function qe(e, t) {\n        var r = t - e.height;\n        if (r) for (var n = e; n; n = n.parent) n.height += r;\n      }\n\n      function Ye(e) {\n        if (null == e.parent) return null;\n\n        for (var t = e.parent, r = R(t.lines, e), n = t.parent; n; t = n, n = n.parent) for (var i = 0; n.children[i] != t; ++i) r += n.children[i].chunkSize();\n\n        return r + t.first;\n      }\n\n      function Ze(e, t) {\n        var r = e.first;\n\n        e: do {\n          for (var n = 0; n < e.children.length; ++n) {\n            var i = e.children[n],\n                o = i.height;\n\n            if (t < o) {\n              e = i;\n              continue e;\n            }\n\n            t -= o, r += i.chunkSize();\n          }\n\n          return r;\n        } while (!e.lines);\n\n        for (var l = 0; l < e.lines.length; ++l) {\n          var a = e.lines[l].height;\n          if (t < a) break;\n          t -= a;\n        }\n\n        return r + l;\n      }\n\n      function Je(e, t) {\n        return t >= e.first && t < e.first + e.size;\n      }\n\n      function Qe(e, t) {\n        return String(e.lineNumberFormatter(t + e.firstLineNumber));\n      }\n\n      function et(e, t, r) {\n        if (void 0 === r && (r = null), !(this instanceof et)) return new et(e, t, r);\n        this.line = e, this.ch = t, this.sticky = r;\n      }\n\n      function tt(e, t) {\n        return e.line - t.line || e.ch - t.ch;\n      }\n\n      function rt(e, t) {\n        return e.sticky == t.sticky && 0 == tt(e, t);\n      }\n\n      function nt(e) {\n        return et(e.line, e.ch);\n      }\n\n      function it(e, t) {\n        return tt(e, t) < 0 ? t : e;\n      }\n\n      function ot(e, t) {\n        return tt(e, t) < 0 ? e : t;\n      }\n\n      function lt(e, t) {\n        return Math.max(e.first, Math.min(t, e.first + e.size - 1));\n      }\n\n      function at(e, t) {\n        if (t.line < e.first) return et(e.first, 0);\n        var r = e.first + e.size - 1;\n        return t.line > r ? et(r, Ke(e, r).text.length) : function (e, t) {\n          var r = e.ch;\n          return null == r || r > t ? et(e.line, t) : r < 0 ? et(e.line, 0) : e;\n        }(t, Ke(e, t.line).text.length);\n      }\n\n      function st(e, t) {\n        for (var r = [], n = 0; n < t.length; n++) r[n] = at(e, t[n]);\n\n        return r;\n      }\n\n      Ue.prototype.eol = function () {\n        return this.pos >= this.string.length;\n      }, Ue.prototype.sol = function () {\n        return this.pos == this.lineStart;\n      }, Ue.prototype.peek = function () {\n        return this.string.charAt(this.pos) || void 0;\n      }, Ue.prototype.next = function () {\n        if (this.pos < this.string.length) return this.string.charAt(this.pos++);\n      }, Ue.prototype.eat = function (e) {\n        var t = this.string.charAt(this.pos);\n        if (\"string\" == typeof e ? t == e : t && (e.test ? e.test(t) : e(t))) return ++this.pos, t;\n      }, Ue.prototype.eatWhile = function (e) {\n        for (var t = this.pos; this.eat(e););\n\n        return this.pos > t;\n      }, Ue.prototype.eatSpace = function () {\n        for (var e = this.pos; /[\\s\\u00a0]/.test(this.string.charAt(this.pos));) ++this.pos;\n\n        return this.pos > e;\n      }, Ue.prototype.skipToEnd = function () {\n        this.pos = this.string.length;\n      }, Ue.prototype.skipTo = function (e) {\n        var t = this.string.indexOf(e, this.pos);\n        if (t > -1) return this.pos = t, !0;\n      }, Ue.prototype.backUp = function (e) {\n        this.pos -= e;\n      }, Ue.prototype.column = function () {\n        return this.lastColumnPos < this.start && (this.lastColumnValue = z(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue), this.lastColumnPos = this.start), this.lastColumnValue - (this.lineStart ? z(this.string, this.lineStart, this.tabSize) : 0);\n      }, Ue.prototype.indentation = function () {\n        return z(this.string, null, this.tabSize) - (this.lineStart ? z(this.string, this.lineStart, this.tabSize) : 0);\n      }, Ue.prototype.match = function (e, t, r) {\n        if (\"string\" != typeof e) {\n          var n = this.string.slice(this.pos).match(e);\n          return n && n.index > 0 ? null : (n && !1 !== t && (this.pos += n[0].length), n);\n        }\n\n        var i = function (e) {\n          return r ? e.toLowerCase() : e;\n        };\n\n        if (i(this.string.substr(this.pos, e.length)) == i(e)) return !1 !== t && (this.pos += e.length), !0;\n      }, Ue.prototype.current = function () {\n        return this.string.slice(this.start, this.pos);\n      }, Ue.prototype.hideFirstChars = function (e, t) {\n        this.lineStart += e;\n\n        try {\n          return t();\n        } finally {\n          this.lineStart -= e;\n        }\n      }, Ue.prototype.lookAhead = function (e) {\n        var t = this.lineOracle;\n        return t && t.lookAhead(e);\n      }, Ue.prototype.baseToken = function () {\n        var e = this.lineOracle;\n        return e && e.baseToken(this.pos);\n      };\n\n      var ut = function (e, t) {\n        this.state = e, this.lookAhead = t;\n      },\n          ct = function (e, t, r, n) {\n        this.state = t, this.doc = e, this.line = r, this.maxLookAhead = n || 0, this.baseTokens = null, this.baseTokenPos = 1;\n      };\n\n      function dt(e, t, r, n) {\n        var i = [e.state.modeGen],\n            o = {};\n        wt(e, t.text, e.doc.mode, r, function (e, t) {\n          return i.push(e, t);\n        }, o, n);\n\n        for (var l = r.state, a = function (n) {\n          r.baseTokens = i;\n          var a = e.state.overlays[n],\n              s = 1,\n              u = 0;\n          r.state = !0, wt(e, t.text, a.mode, r, function (e, t) {\n            for (var r = s; u < e;) {\n              var n = i[s];\n              n > e && i.splice(s, 1, e, i[s + 1], n), s += 2, u = Math.min(e, n);\n            }\n\n            if (t) if (a.opaque) i.splice(r, s - r, e, \"overlay \" + t), s = r + 2;else for (; r < s; r += 2) {\n              var o = i[r + 1];\n              i[r + 1] = (o ? o + \" \" : \"\") + \"overlay \" + t;\n            }\n          }, o), r.state = l, r.baseTokens = null, r.baseTokenPos = 1;\n        }, s = 0; s < e.state.overlays.length; ++s) a(s);\n\n        return {\n          styles: i,\n          classes: o.bgClass || o.textClass ? o : null\n        };\n      }\n\n      function ft(e, t, r) {\n        if (!t.styles || t.styles[0] != e.state.modeGen) {\n          var n = ht(e, Ye(t)),\n              i = t.text.length > e.options.maxHighlightLength && Be(e.doc.mode, n.state),\n              o = dt(e, t, n);\n          i && (n.state = i), t.stateAfter = n.save(!i), t.styles = o.styles, o.classes ? t.styleClasses = o.classes : t.styleClasses && (t.styleClasses = null), r === e.doc.highlightFrontier && (e.doc.modeFrontier = Math.max(e.doc.modeFrontier, ++e.doc.highlightFrontier));\n        }\n\n        return t.styles;\n      }\n\n      function ht(e, t, r) {\n        var n = e.doc,\n            i = e.display;\n        if (!n.mode.startState) return new ct(n, !0, t);\n\n        var o = function (e, t, r) {\n          for (var n, i, o = e.doc, l = r ? -1 : t - (e.doc.mode.innerMode ? 1e3 : 100), a = t; a > l; --a) {\n            if (a <= o.first) return o.first;\n            var s = Ke(o, a - 1),\n                u = s.stateAfter;\n            if (u && (!r || a + (u instanceof ut ? u.lookAhead : 0) <= o.modeFrontier)) return a;\n            var c = z(s.text, null, e.options.tabSize);\n            (null == i || n > c) && (i = a - 1, n = c);\n          }\n\n          return i;\n        }(e, t, r),\n            l = o > n.first && Ke(n, o - 1).stateAfter,\n            a = l ? ct.fromSaved(n, l, o) : new ct(n, Ge(n.mode), o);\n\n        return n.iter(o, t, function (r) {\n          pt(e, r.text, a);\n          var n = a.line;\n          r.stateAfter = n == t - 1 || n % 5 == 0 || n >= i.viewFrom && n < i.viewTo ? a.save() : null, a.nextLine();\n        }), r && (n.modeFrontier = a.line), a;\n      }\n\n      function pt(e, t, r, n) {\n        var i = e.doc.mode,\n            o = new Ue(t, e.options.tabSize, r);\n\n        for (o.start = o.pos = n || 0, \"\" == t && vt(i, r.state); !o.eol();) gt(i, o, r.state), o.start = o.pos;\n      }\n\n      function vt(e, t) {\n        if (e.blankLine) return e.blankLine(t);\n\n        if (e.innerMode) {\n          var r = Ve(e, t);\n          return r.mode.blankLine ? r.mode.blankLine(r.state) : void 0;\n        }\n      }\n\n      function gt(e, t, r, n) {\n        for (var i = 0; i < 10; i++) {\n          n && (n[0] = Ve(e, r).mode);\n          var o = e.token(t, r);\n          if (t.pos > t.start) return o;\n        }\n\n        throw new Error(\"Mode \" + e.name + \" failed to advance stream.\");\n      }\n\n      ct.prototype.lookAhead = function (e) {\n        var t = this.doc.getLine(this.line + e);\n        return null != t && e > this.maxLookAhead && (this.maxLookAhead = e), t;\n      }, ct.prototype.baseToken = function (e) {\n        if (!this.baseTokens) return null;\n\n        for (; this.baseTokens[this.baseTokenPos] <= e;) this.baseTokenPos += 2;\n\n        var t = this.baseTokens[this.baseTokenPos + 1];\n        return {\n          type: t && t.replace(/( |^)overlay .*/, \"\"),\n          size: this.baseTokens[this.baseTokenPos] - e\n        };\n      }, ct.prototype.nextLine = function () {\n        this.line++, this.maxLookAhead > 0 && this.maxLookAhead--;\n      }, ct.fromSaved = function (e, t, r) {\n        return t instanceof ut ? new ct(e, Be(e.mode, t.state), r, t.lookAhead) : new ct(e, Be(e.mode, t), r);\n      }, ct.prototype.save = function (e) {\n        var t = !1 !== e ? Be(this.doc.mode, this.state) : this.state;\n        return this.maxLookAhead > 0 ? new ut(t, this.maxLookAhead) : t;\n      };\n\n      var mt = function (e, t, r) {\n        this.start = e.start, this.end = e.pos, this.string = e.current(), this.type = t || null, this.state = r;\n      };\n\n      function yt(e, t, r, n) {\n        var i,\n            o,\n            l = e.doc,\n            a = l.mode,\n            s = Ke(l, (t = at(l, t)).line),\n            u = ht(e, t.line, r),\n            c = new Ue(s.text, e.options.tabSize, u);\n\n        for (n && (o = []); (n || c.pos < t.ch) && !c.eol();) c.start = c.pos, i = gt(a, c, u.state), n && o.push(new mt(c, i, Be(l.mode, u.state)));\n\n        return n ? o : new mt(c, i, u.state);\n      }\n\n      function bt(e, t) {\n        if (e) for (;;) {\n          var r = e.match(/(?:^|\\s+)line-(background-)?(\\S+)/);\n          if (!r) break;\n          e = e.slice(0, r.index) + e.slice(r.index + r[0].length);\n          var n = r[1] ? \"bgClass\" : \"textClass\";\n          null == t[n] ? t[n] = r[2] : new RegExp(\"(?:^|s)\" + r[2] + \"(?:$|s)\").test(t[n]) || (t[n] += \" \" + r[2]);\n        }\n        return e;\n      }\n\n      function wt(e, t, r, n, i, o, l) {\n        var a = r.flattenSpans;\n        null == a && (a = e.options.flattenSpans);\n        var s,\n            u = 0,\n            c = null,\n            d = new Ue(t, e.options.tabSize, n),\n            f = e.options.addModeClass && [null];\n\n        for (\"\" == t && bt(vt(r, n.state), o); !d.eol();) {\n          if (d.pos > e.options.maxHighlightLength ? (a = !1, l && pt(e, t, n, d.pos), d.pos = t.length, s = null) : s = bt(gt(r, d, n.state, f), o), f) {\n            var h = f[0].name;\n            h && (s = \"m-\" + (s ? h + \" \" + s : h));\n          }\n\n          if (!a || c != s) {\n            for (; u < d.start;) i(u = Math.min(d.start, u + 5e3), c);\n\n            c = s;\n          }\n\n          d.start = d.pos;\n        }\n\n        for (; u < d.pos;) {\n          var p = Math.min(d.pos, u + 5e3);\n          i(p, c), u = p;\n        }\n      }\n\n      var xt = !1,\n          Ct = !1;\n\n      function kt(e, t, r) {\n        this.marker = e, this.from = t, this.to = r;\n      }\n\n      function St(e, t) {\n        if (e) for (var r = 0; r < e.length; ++r) {\n          var n = e[r];\n          if (n.marker == t) return n;\n        }\n      }\n\n      function Mt(e, t) {\n        for (var r, n = 0; n < e.length; ++n) e[n] != t && (r || (r = [])).push(e[n]);\n\n        return r;\n      }\n\n      function Lt(e, t) {\n        if (t.full) return null;\n        var r = Je(e, t.from.line) && Ke(e, t.from.line).markedSpans,\n            n = Je(e, t.to.line) && Ke(e, t.to.line).markedSpans;\n        if (!r && !n) return null;\n\n        var i = t.from.ch,\n            o = t.to.ch,\n            l = 0 == tt(t.from, t.to),\n            a = function (e, t, r) {\n          var n;\n          if (e) for (var i = 0; i < e.length; ++i) {\n            var o = e[i],\n                l = o.marker;\n\n            if (null == o.from || (l.inclusiveLeft ? o.from <= t : o.from < t) || o.from == t && \"bookmark\" == l.type && (!r || !o.marker.insertLeft)) {\n              var a = null == o.to || (l.inclusiveRight ? o.to >= t : o.to > t);\n              (n || (n = [])).push(new kt(l, o.from, a ? null : o.to));\n            }\n          }\n          return n;\n        }(r, i, l),\n            s = function (e, t, r) {\n          var n;\n          if (e) for (var i = 0; i < e.length; ++i) {\n            var o = e[i],\n                l = o.marker;\n\n            if (null == o.to || (l.inclusiveRight ? o.to >= t : o.to > t) || o.from == t && \"bookmark\" == l.type && (!r || o.marker.insertLeft)) {\n              var a = null == o.from || (l.inclusiveLeft ? o.from <= t : o.from < t);\n              (n || (n = [])).push(new kt(l, a ? null : o.from - t, null == o.to ? null : o.to - t));\n            }\n          }\n          return n;\n        }(n, o, l),\n            u = 1 == t.text.length,\n            c = X(t.text).length + (u ? i : 0);\n\n        if (a) for (var d = 0; d < a.length; ++d) {\n          var f = a[d];\n\n          if (null == f.to) {\n            var h = St(s, f.marker);\n            h ? u && (f.to = null == h.to ? null : h.to + c) : f.to = i;\n          }\n        }\n        if (s) for (var p = 0; p < s.length; ++p) {\n          var v = s[p];\n          null != v.to && (v.to += c), null == v.from ? St(a, v.marker) || (v.from = c, u && (a || (a = [])).push(v)) : (v.from += c, u && (a || (a = [])).push(v));\n        }\n        a && (a = Tt(a)), s && s != a && (s = Tt(s));\n        var g = [a];\n\n        if (!u) {\n          var m,\n              y = t.text.length - 2;\n          if (y > 0 && a) for (var b = 0; b < a.length; ++b) null == a[b].to && (m || (m = [])).push(new kt(a[b].marker, null, null));\n\n          for (var w = 0; w < y; ++w) g.push(m);\n\n          g.push(s);\n        }\n\n        return g;\n      }\n\n      function Tt(e) {\n        for (var t = 0; t < e.length; ++t) {\n          var r = e[t];\n          null != r.from && r.from == r.to && !1 !== r.marker.clearWhenEmpty && e.splice(t--, 1);\n        }\n\n        return e.length ? e : null;\n      }\n\n      function Ot(e) {\n        var t = e.markedSpans;\n\n        if (t) {\n          for (var r = 0; r < t.length; ++r) t[r].marker.detachLine(e);\n\n          e.markedSpans = null;\n        }\n      }\n\n      function Nt(e, t) {\n        if (t) {\n          for (var r = 0; r < t.length; ++r) t[r].marker.attachLine(e);\n\n          e.markedSpans = t;\n        }\n      }\n\n      function At(e) {\n        return e.inclusiveLeft ? -1 : 0;\n      }\n\n      function Dt(e) {\n        return e.inclusiveRight ? 1 : 0;\n      }\n\n      function Pt(e, t) {\n        var r = e.lines.length - t.lines.length;\n        if (0 != r) return r;\n        var n = e.find(),\n            i = t.find(),\n            o = tt(n.from, i.from) || At(e) - At(t);\n        if (o) return -o;\n        var l = tt(n.to, i.to) || Dt(e) - Dt(t);\n        return l || t.id - e.id;\n      }\n\n      function Et(e, t) {\n        var r,\n            n = Ct && e.markedSpans;\n        if (n) for (var i = void 0, o = 0; o < n.length; ++o) (i = n[o]).marker.collapsed && null == (t ? i.from : i.to) && (!r || Pt(r, i.marker) < 0) && (r = i.marker);\n        return r;\n      }\n\n      function Ht(e) {\n        return Et(e, !0);\n      }\n\n      function Wt(e) {\n        return Et(e, !1);\n      }\n\n      function It(e, t) {\n        var r,\n            n = Ct && e.markedSpans;\n        if (n) for (var i = 0; i < n.length; ++i) {\n          var o = n[i];\n          o.marker.collapsed && (null == o.from || o.from < t) && (null == o.to || o.to > t) && (!r || Pt(r, o.marker) < 0) && (r = o.marker);\n        }\n        return r;\n      }\n\n      function Ft(e, t, r, n, i) {\n        var o = Ke(e, t),\n            l = Ct && o.markedSpans;\n        if (l) for (var a = 0; a < l.length; ++a) {\n          var s = l[a];\n\n          if (s.marker.collapsed) {\n            var u = s.marker.find(0),\n                c = tt(u.from, r) || At(s.marker) - At(i),\n                d = tt(u.to, n) || Dt(s.marker) - Dt(i);\n            if (!(c >= 0 && d <= 0 || c <= 0 && d >= 0) && (c <= 0 && (s.marker.inclusiveRight && i.inclusiveLeft ? tt(u.to, r) >= 0 : tt(u.to, r) > 0) || c >= 0 && (s.marker.inclusiveRight && i.inclusiveLeft ? tt(u.from, n) <= 0 : tt(u.from, n) < 0))) return !0;\n          }\n        }\n      }\n\n      function zt(e) {\n        for (var t; t = Ht(e);) e = t.find(-1, !0).line;\n\n        return e;\n      }\n\n      function _t(e, t) {\n        var r = Ke(e, t),\n            n = zt(r);\n        return r == n ? t : Ye(n);\n      }\n\n      function Rt(e, t) {\n        if (t > e.lastLine()) return t;\n        var r,\n            n = Ke(e, t);\n        if (!jt(e, n)) return t;\n\n        for (; r = Wt(n);) n = r.find(1, !0).line;\n\n        return Ye(n) + 1;\n      }\n\n      function jt(e, t) {\n        var r = Ct && t.markedSpans;\n        if (r) for (var n = void 0, i = 0; i < r.length; ++i) if ((n = r[i]).marker.collapsed) {\n          if (null == n.from) return !0;\n          if (!n.marker.widgetNode && 0 == n.from && n.marker.inclusiveLeft && Bt(e, t, n)) return !0;\n        }\n      }\n\n      function Bt(e, t, r) {\n        if (null == r.to) {\n          var n = r.marker.find(1, !0);\n          return Bt(e, n.line, St(n.line.markedSpans, r.marker));\n        }\n\n        if (r.marker.inclusiveRight && r.to == t.text.length) return !0;\n\n        for (var i = void 0, o = 0; o < t.markedSpans.length; ++o) if ((i = t.markedSpans[o]).marker.collapsed && !i.marker.widgetNode && i.from == r.to && (null == i.to || i.to != r.from) && (i.marker.inclusiveLeft || r.marker.inclusiveRight) && Bt(e, t, i)) return !0;\n      }\n\n      function Vt(e) {\n        for (var t = 0, r = (e = zt(e)).parent, n = 0; n < r.lines.length; ++n) {\n          var i = r.lines[n];\n          if (i == e) break;\n          t += i.height;\n        }\n\n        for (var o = r.parent; o; o = (r = o).parent) for (var l = 0; l < o.children.length; ++l) {\n          var a = o.children[l];\n          if (a == r) break;\n          t += a.height;\n        }\n\n        return t;\n      }\n\n      function Gt(e) {\n        if (0 == e.height) return 0;\n\n        for (var t, r = e.text.length, n = e; t = Ht(n);) {\n          var i = t.find(0, !0);\n          n = i.from.line, r += i.from.ch - i.to.ch;\n        }\n\n        for (n = e; t = Wt(n);) {\n          var o = t.find(0, !0);\n          r -= n.text.length - o.from.ch, r += (n = o.to.line).text.length - o.to.ch;\n        }\n\n        return r;\n      }\n\n      function Ut(e) {\n        var t = e.display,\n            r = e.doc;\n        t.maxLine = Ke(r, r.first), t.maxLineLength = Gt(t.maxLine), t.maxLineChanged = !0, r.iter(function (e) {\n          var r = Gt(e);\n          r > t.maxLineLength && (t.maxLineLength = r, t.maxLine = e);\n        });\n      }\n\n      var Kt = function (e, t, r) {\n        this.text = e, Nt(this, t), this.height = r ? r(this) : 1;\n      };\n\n      function $t(e) {\n        e.parent = null, Ot(e);\n      }\n\n      Kt.prototype.lineNo = function () {\n        return Ye(this);\n      }, ye(Kt);\n      var Xt = {},\n          qt = {};\n\n      function Yt(e, t) {\n        if (!e || /^\\s*$/.test(e)) return null;\n        var r = t.addModeClass ? qt : Xt;\n        return r[e] || (r[e] = e.replace(/\\S+/g, \"cm-$&\"));\n      }\n\n      function Zt(e, t) {\n        var r = A(\"span\", null, null, s ? \"padding-right: .1px\" : null),\n            n = {\n          pre: A(\"pre\", [r], \"CodeMirror-line\"),\n          content: r,\n          col: 0,\n          pos: 0,\n          cm: e,\n          trailingSpace: !1,\n          splitSpaces: e.getOption(\"lineWrapping\")\n        };\n        t.measure = {};\n\n        for (var i = 0; i <= (t.rest ? t.rest.length : 0); i++) {\n          var o = i ? t.rest[i - 1] : t.line,\n              l = void 0;\n          n.pos = 0, n.addToken = Qt, Ne(e.display.measure) && (l = ue(o, e.doc.direction)) && (n.addToken = er(n.addToken, l)), n.map = [], rr(o, n, ft(e, o, t != e.display.externalMeasured && Ye(o))), o.styleClasses && (o.styleClasses.bgClass && (n.bgClass = H(o.styleClasses.bgClass, n.bgClass || \"\")), o.styleClasses.textClass && (n.textClass = H(o.styleClasses.textClass, n.textClass || \"\"))), 0 == n.map.length && n.map.push(0, 0, n.content.appendChild(Oe(e.display.measure))), 0 == i ? (t.measure.map = n.map, t.measure.cache = {}) : ((t.measure.maps || (t.measure.maps = [])).push(n.map), (t.measure.caches || (t.measure.caches = [])).push({}));\n        }\n\n        if (s) {\n          var a = n.content.lastChild;\n          (/\\bcm-tab\\b/.test(a.className) || a.querySelector && a.querySelector(\".cm-tab\")) && (n.content.className = \"cm-tab-wrap-hack\");\n        }\n\n        return pe(e, \"renderLine\", e, t.line, n.pre), n.pre.className && (n.textClass = H(n.pre.className, n.textClass || \"\")), n;\n      }\n\n      function Jt(e) {\n        var t = N(\"span\", \"•\", \"cm-invalidchar\");\n        return t.title = \"\\\\u\" + e.charCodeAt(0).toString(16), t.setAttribute(\"aria-label\", t.title), t;\n      }\n\n      function Qt(e, t, r, n, i, o, s) {\n        if (t) {\n          var u,\n              c = e.splitSpaces ? function (e, t) {\n            if (e.length > 1 && !/  /.test(e)) return e;\n\n            for (var r = t, n = \"\", i = 0; i < e.length; i++) {\n              var o = e.charAt(i);\n              \" \" != o || !r || i != e.length - 1 && 32 != e.charCodeAt(i + 1) || (o = \" \"), n += o, r = \" \" == o;\n            }\n\n            return n;\n          }(t, e.trailingSpace) : t,\n              d = e.cm.state.specialChars,\n              f = !1;\n\n          if (d.test(t)) {\n            u = document.createDocumentFragment();\n\n            for (var h = 0;;) {\n              d.lastIndex = h;\n              var p = d.exec(t),\n                  v = p ? p.index - h : t.length - h;\n\n              if (v) {\n                var g = document.createTextNode(c.slice(h, h + v));\n                l && a < 9 ? u.appendChild(N(\"span\", [g])) : u.appendChild(g), e.map.push(e.pos, e.pos + v, g), e.col += v, e.pos += v;\n              }\n\n              if (!p) break;\n              h += v + 1;\n              var m = void 0;\n\n              if (\"\\t\" == p[0]) {\n                var y = e.cm.options.tabSize,\n                    b = y - e.col % y;\n                (m = u.appendChild(N(\"span\", $(b), \"cm-tab\"))).setAttribute(\"role\", \"presentation\"), m.setAttribute(\"cm-text\", \"\\t\"), e.col += b;\n              } else \"\\r\" == p[0] || \"\\n\" == p[0] ? ((m = u.appendChild(N(\"span\", \"\\r\" == p[0] ? \"␍\" : \"␤\", \"cm-invalidchar\"))).setAttribute(\"cm-text\", p[0]), e.col += 1) : ((m = e.cm.options.specialCharPlaceholder(p[0])).setAttribute(\"cm-text\", p[0]), l && a < 9 ? u.appendChild(N(\"span\", [m])) : u.appendChild(m), e.col += 1);\n\n              e.map.push(e.pos, e.pos + 1, m), e.pos++;\n            }\n          } else e.col += t.length, u = document.createTextNode(c), e.map.push(e.pos, e.pos + t.length, u), l && a < 9 && (f = !0), e.pos += t.length;\n\n          if (e.trailingSpace = 32 == c.charCodeAt(t.length - 1), r || n || i || f || o) {\n            var w = r || \"\";\n            n && (w += n), i && (w += i);\n            var x = N(\"span\", [u], w, o);\n            if (s) for (var C in s) s.hasOwnProperty(C) && \"style\" != C && \"class\" != C && x.setAttribute(C, s[C]);\n            return e.content.appendChild(x);\n          }\n\n          e.content.appendChild(u);\n        }\n      }\n\n      function er(e, t) {\n        return function (r, n, i, o, l, a, s) {\n          i = i ? i + \" cm-force-border\" : \"cm-force-border\";\n\n          for (var u = r.pos, c = u + n.length;;) {\n            for (var d = void 0, f = 0; f < t.length && !((d = t[f]).to > u && d.from <= u); f++);\n\n            if (d.to >= c) return e(r, n, i, o, l, a, s);\n            e(r, n.slice(0, d.to - u), i, o, null, a, s), o = null, n = n.slice(d.to - u), u = d.to;\n          }\n        };\n      }\n\n      function tr(e, t, r, n) {\n        var i = !n && r.widgetNode;\n        i && e.map.push(e.pos, e.pos + t, i), !n && e.cm.display.input.needsContentAttribute && (i || (i = e.content.appendChild(document.createElement(\"span\"))), i.setAttribute(\"cm-marker\", r.id)), i && (e.cm.display.input.setUneditable(i), e.content.appendChild(i)), e.pos += t, e.trailingSpace = !1;\n      }\n\n      function rr(e, t, r) {\n        var n = e.markedSpans,\n            i = e.text,\n            o = 0;\n        if (n) for (var l, a, s, u, c, d, f, h = i.length, p = 0, v = 1, g = \"\", m = 0;;) {\n          if (m == p) {\n            s = u = c = a = \"\", f = null, d = null, m = 1 / 0;\n\n            for (var y = [], b = void 0, w = 0; w < n.length; ++w) {\n              var x = n[w],\n                  C = x.marker;\n              if (\"bookmark\" == C.type && x.from == p && C.widgetNode) y.push(C);else if (x.from <= p && (null == x.to || x.to > p || C.collapsed && x.to == p && x.from == p)) {\n                if (null != x.to && x.to != p && m > x.to && (m = x.to, u = \"\"), C.className && (s += \" \" + C.className), C.css && (a = (a ? a + \";\" : \"\") + C.css), C.startStyle && x.from == p && (c += \" \" + C.startStyle), C.endStyle && x.to == m && (b || (b = [])).push(C.endStyle, x.to), C.title && ((f || (f = {})).title = C.title), C.attributes) for (var k in C.attributes) (f || (f = {}))[k] = C.attributes[k];\n                C.collapsed && (!d || Pt(d.marker, C) < 0) && (d = x);\n              } else x.from > p && m > x.from && (m = x.from);\n            }\n\n            if (b) for (var S = 0; S < b.length; S += 2) b[S + 1] == m && (u += \" \" + b[S]);\n            if (!d || d.from == p) for (var M = 0; M < y.length; ++M) tr(t, 0, y[M]);\n\n            if (d && (d.from || 0) == p) {\n              if (tr(t, (null == d.to ? h + 1 : d.to) - p, d.marker, null == d.from), null == d.to) return;\n              d.to == p && (d = !1);\n            }\n          }\n\n          if (p >= h) break;\n\n          for (var L = Math.min(h, m);;) {\n            if (g) {\n              var T = p + g.length;\n\n              if (!d) {\n                var O = T > L ? g.slice(0, L - p) : g;\n                t.addToken(t, O, l ? l + s : s, c, p + O.length == m ? u : \"\", a, f);\n              }\n\n              if (T >= L) {\n                g = g.slice(L - p), p = L;\n                break;\n              }\n\n              p = T, c = \"\";\n            }\n\n            g = i.slice(o, o = r[v++]), l = Yt(r[v++], t.cm.options);\n          }\n        } else for (var N = 1; N < r.length; N += 2) t.addToken(t, i.slice(o, o = r[N]), Yt(r[N + 1], t.cm.options));\n      }\n\n      function nr(e, t, r) {\n        this.line = t, this.rest = function (e) {\n          for (var t, r; t = Wt(e);) e = t.find(1, !0).line, (r || (r = [])).push(e);\n\n          return r;\n        }(t), this.size = this.rest ? Ye(X(this.rest)) - r + 1 : 1, this.node = this.text = null, this.hidden = jt(e, t);\n      }\n\n      function ir(e, t, r) {\n        for (var n, i = [], o = t; o < r; o = n) {\n          var l = new nr(e.doc, Ke(e.doc, o), o);\n          n = o + l.size, i.push(l);\n        }\n\n        return i;\n      }\n\n      var or = null,\n          lr = null;\n\n      function ar(e, t) {\n        var r = fe(e, t);\n\n        if (r.length) {\n          var n,\n              i = Array.prototype.slice.call(arguments, 2);\n          or ? n = or.delayedCallbacks : lr ? n = lr : (n = lr = [], setTimeout(sr, 0));\n\n          for (var o = function (e) {\n            n.push(function () {\n              return r[e].apply(null, i);\n            });\n          }, l = 0; l < r.length; ++l) o(l);\n        }\n      }\n\n      function sr() {\n        var e = lr;\n        lr = null;\n\n        for (var t = 0; t < e.length; ++t) e[t]();\n      }\n\n      function ur(e, t, r, n) {\n        for (var i = 0; i < t.changes.length; i++) {\n          var o = t.changes[i];\n          \"text\" == o ? fr(e, t) : \"gutter\" == o ? pr(e, t, r, n) : \"class\" == o ? hr(e, t) : \"widget\" == o && vr(e, t, n);\n        }\n\n        t.changes = null;\n      }\n\n      function cr(e) {\n        return e.node == e.text && (e.node = N(\"div\", null, null, \"position: relative\"), e.text.parentNode && e.text.parentNode.replaceChild(e.node, e.text), e.node.appendChild(e.text), l && a < 8 && (e.node.style.zIndex = 2)), e.node;\n      }\n\n      function dr(e, t) {\n        var r = e.display.externalMeasured;\n        return r && r.line == t.line ? (e.display.externalMeasured = null, t.measure = r.measure, r.built) : Zt(e, t);\n      }\n\n      function fr(e, t) {\n        var r = t.text.className,\n            n = dr(e, t);\n        t.text == t.node && (t.node = n.pre), t.text.parentNode.replaceChild(n.pre, t.text), t.text = n.pre, n.bgClass != t.bgClass || n.textClass != t.textClass ? (t.bgClass = n.bgClass, t.textClass = n.textClass, hr(e, t)) : r && (t.text.className = r);\n      }\n\n      function hr(e, t) {\n        !function (e, t) {\n          var r = t.bgClass ? t.bgClass + \" \" + (t.line.bgClass || \"\") : t.line.bgClass;\n          if (r && (r += \" CodeMirror-linebackground\"), t.background) r ? t.background.className = r : (t.background.parentNode.removeChild(t.background), t.background = null);else if (r) {\n            var n = cr(t);\n            t.background = n.insertBefore(N(\"div\", null, r), n.firstChild), e.display.input.setUneditable(t.background);\n          }\n        }(e, t), t.line.wrapClass ? cr(t).className = t.line.wrapClass : t.node != t.text && (t.node.className = \"\");\n        var r = t.textClass ? t.textClass + \" \" + (t.line.textClass || \"\") : t.line.textClass;\n        t.text.className = r || \"\";\n      }\n\n      function pr(e, t, r, n) {\n        if (t.gutter && (t.node.removeChild(t.gutter), t.gutter = null), t.gutterBackground && (t.node.removeChild(t.gutterBackground), t.gutterBackground = null), t.line.gutterClass) {\n          var i = cr(t);\n          t.gutterBackground = N(\"div\", null, \"CodeMirror-gutter-background \" + t.line.gutterClass, \"left: \" + (e.options.fixedGutter ? n.fixedPos : -n.gutterTotalWidth) + \"px; width: \" + n.gutterTotalWidth + \"px\"), e.display.input.setUneditable(t.gutterBackground), i.insertBefore(t.gutterBackground, t.text);\n        }\n\n        var o = t.line.gutterMarkers;\n\n        if (e.options.lineNumbers || o) {\n          var l = cr(t),\n              a = t.gutter = N(\"div\", null, \"CodeMirror-gutter-wrapper\", \"left: \" + (e.options.fixedGutter ? n.fixedPos : -n.gutterTotalWidth) + \"px\");\n          if (e.display.input.setUneditable(a), l.insertBefore(a, t.text), t.line.gutterClass && (a.className += \" \" + t.line.gutterClass), !e.options.lineNumbers || o && o[\"CodeMirror-linenumbers\"] || (t.lineNumber = a.appendChild(N(\"div\", Qe(e.options, r), \"CodeMirror-linenumber CodeMirror-gutter-elt\", \"left: \" + n.gutterLeft[\"CodeMirror-linenumbers\"] + \"px; width: \" + e.display.lineNumInnerWidth + \"px\"))), o) for (var s = 0; s < e.display.gutterSpecs.length; ++s) {\n            var u = e.display.gutterSpecs[s].className,\n                c = o.hasOwnProperty(u) && o[u];\n            c && a.appendChild(N(\"div\", [c], \"CodeMirror-gutter-elt\", \"left: \" + n.gutterLeft[u] + \"px; width: \" + n.gutterWidth[u] + \"px\"));\n          }\n        }\n      }\n\n      function vr(e, t, r) {\n        t.alignable && (t.alignable = null);\n\n        for (var n = S(\"CodeMirror-linewidget\"), i = t.node.firstChild, o = void 0; i; i = o) o = i.nextSibling, n.test(i.className) && t.node.removeChild(i);\n\n        mr(e, t, r);\n      }\n\n      function gr(e, t, r, n) {\n        var i = dr(e, t);\n        return t.text = t.node = i.pre, i.bgClass && (t.bgClass = i.bgClass), i.textClass && (t.textClass = i.textClass), hr(e, t), pr(e, t, r, n), mr(e, t, n), t.node;\n      }\n\n      function mr(e, t, r) {\n        if (yr(e, t.line, t, r, !0), t.rest) for (var n = 0; n < t.rest.length; n++) yr(e, t.rest[n], t, r, !1);\n      }\n\n      function yr(e, t, r, n, i) {\n        if (t.widgets) for (var o = cr(r), l = 0, a = t.widgets; l < a.length; ++l) {\n          var s = a[l],\n              u = N(\"div\", [s.node], \"CodeMirror-linewidget\" + (s.className ? \" \" + s.className : \"\"));\n          s.handleMouseEvents || u.setAttribute(\"cm-ignore-events\", \"true\"), br(s, u, r, n), e.display.input.setUneditable(u), i && s.above ? o.insertBefore(u, r.gutter || r.text) : o.appendChild(u), ar(s, \"redraw\");\n        }\n      }\n\n      function br(e, t, r, n) {\n        if (e.noHScroll) {\n          (r.alignable || (r.alignable = [])).push(t);\n          var i = n.wrapperWidth;\n          t.style.left = n.fixedPos + \"px\", e.coverGutter || (i -= n.gutterTotalWidth, t.style.paddingLeft = n.gutterTotalWidth + \"px\"), t.style.width = i + \"px\";\n        }\n\n        e.coverGutter && (t.style.zIndex = 5, t.style.position = \"relative\", e.noHScroll || (t.style.marginLeft = -n.gutterTotalWidth + \"px\"));\n      }\n\n      function wr(e) {\n        if (null != e.height) return e.height;\n        var t = e.doc.cm;\n        if (!t) return 0;\n\n        if (!D(document.body, e.node)) {\n          var r = \"position: relative;\";\n          e.coverGutter && (r += \"margin-left: -\" + t.display.gutters.offsetWidth + \"px;\"), e.noHScroll && (r += \"width: \" + t.display.wrapper.clientWidth + \"px;\"), O(t.display.measure, N(\"div\", [e.node], null, r));\n        }\n\n        return e.height = e.node.parentNode.offsetHeight;\n      }\n\n      function xr(e, t) {\n        for (var r = ke(t); r != e.wrapper; r = r.parentNode) if (!r || 1 == r.nodeType && \"true\" == r.getAttribute(\"cm-ignore-events\") || r.parentNode == e.sizer && r != e.mover) return !0;\n      }\n\n      function Cr(e) {\n        return e.lineSpace.offsetTop;\n      }\n\n      function kr(e) {\n        return e.mover.offsetHeight - e.lineSpace.offsetHeight;\n      }\n\n      function Sr(e) {\n        if (e.cachedPaddingH) return e.cachedPaddingH;\n        var t = O(e.measure, N(\"pre\", \"x\", \"CodeMirror-line-like\")),\n            r = window.getComputedStyle ? window.getComputedStyle(t) : t.currentStyle,\n            n = {\n          left: parseInt(r.paddingLeft),\n          right: parseInt(r.paddingRight)\n        };\n        return isNaN(n.left) || isNaN(n.right) || (e.cachedPaddingH = n), n;\n      }\n\n      function Mr(e) {\n        return 30 - e.display.nativeBarWidth;\n      }\n\n      function Lr(e) {\n        return e.display.scroller.clientWidth - Mr(e) - e.display.barWidth;\n      }\n\n      function Tr(e) {\n        return e.display.scroller.clientHeight - Mr(e) - e.display.barHeight;\n      }\n\n      function Or(e, t, r) {\n        if (e.line == t) return {\n          map: e.measure.map,\n          cache: e.measure.cache\n        };\n\n        for (var n = 0; n < e.rest.length; n++) if (e.rest[n] == t) return {\n          map: e.measure.maps[n],\n          cache: e.measure.caches[n]\n        };\n\n        for (var i = 0; i < e.rest.length; i++) if (Ye(e.rest[i]) > r) return {\n          map: e.measure.maps[i],\n          cache: e.measure.caches[i],\n          before: !0\n        };\n      }\n\n      function Nr(e, t, r, n) {\n        return Pr(e, Dr(e, t), r, n);\n      }\n\n      function Ar(e, t) {\n        if (t >= e.display.viewFrom && t < e.display.viewTo) return e.display.view[cn(e, t)];\n        var r = e.display.externalMeasured;\n        return r && t >= r.lineN && t < r.lineN + r.size ? r : void 0;\n      }\n\n      function Dr(e, t) {\n        var r = Ye(t),\n            n = Ar(e, r);\n        n && !n.text ? n = null : n && n.changes && (ur(e, n, r, on(e)), e.curOp.forceUpdate = !0), n || (n = function (e, t) {\n          var r = Ye(t = zt(t)),\n              n = e.display.externalMeasured = new nr(e.doc, t, r);\n          n.lineN = r;\n          var i = n.built = Zt(e, n);\n          return n.text = i.pre, O(e.display.lineMeasure, i.pre), n;\n        }(e, t));\n        var i = Or(n, t, r);\n        return {\n          line: t,\n          view: n,\n          rect: null,\n          map: i.map,\n          cache: i.cache,\n          before: i.before,\n          hasHeights: !1\n        };\n      }\n\n      function Pr(e, t, r, n, i) {\n        t.before && (r = -1);\n        var o,\n            s = r + (n || \"\");\n        return t.cache.hasOwnProperty(s) ? o = t.cache[s] : (t.rect || (t.rect = t.view.text.getBoundingClientRect()), t.hasHeights || (function (e, t, r) {\n          var n = e.options.lineWrapping,\n              i = n && Lr(e);\n\n          if (!t.measure.heights || n && t.measure.width != i) {\n            var o = t.measure.heights = [];\n\n            if (n) {\n              t.measure.width = i;\n\n              for (var l = t.text.firstChild.getClientRects(), a = 0; a < l.length - 1; a++) {\n                var s = l[a],\n                    u = l[a + 1];\n                Math.abs(s.bottom - u.bottom) > 2 && o.push((s.bottom + u.top) / 2 - r.top);\n              }\n            }\n\n            o.push(r.bottom - r.top);\n          }\n        }(e, t.view, t.rect), t.hasHeights = !0), (o = function (e, t, r, n) {\n          var i,\n              o = Wr(t.map, r, n),\n              s = o.node,\n              u = o.start,\n              c = o.end,\n              d = o.collapse;\n\n          if (3 == s.nodeType) {\n            for (var f = 0; f < 4; f++) {\n              for (; u && ne(t.line.text.charAt(o.coverStart + u));) --u;\n\n              for (; o.coverStart + c < o.coverEnd && ne(t.line.text.charAt(o.coverStart + c));) ++c;\n\n              if ((i = l && a < 9 && 0 == u && c == o.coverEnd - o.coverStart ? s.parentNode.getBoundingClientRect() : Ir(M(s, u, c).getClientRects(), n)).left || i.right || 0 == u) break;\n              c = u, u -= 1, d = \"right\";\n            }\n\n            l && a < 11 && (i = function (e, t) {\n              if (!window.screen || null == screen.logicalXDPI || screen.logicalXDPI == screen.deviceXDPI || !function (e) {\n                if (null != He) return He;\n                var t = O(e, N(\"span\", \"x\")),\n                    r = t.getBoundingClientRect(),\n                    n = M(t, 0, 1).getBoundingClientRect();\n                return He = Math.abs(r.left - n.left) > 1;\n              }(e)) return t;\n              var r = screen.logicalXDPI / screen.deviceXDPI,\n                  n = screen.logicalYDPI / screen.deviceYDPI;\n              return {\n                left: t.left * r,\n                right: t.right * r,\n                top: t.top * n,\n                bottom: t.bottom * n\n              };\n            }(e.display.measure, i));\n          } else {\n            var h;\n            u > 0 && (d = n = \"right\"), i = e.options.lineWrapping && (h = s.getClientRects()).length > 1 ? h[\"right\" == n ? h.length - 1 : 0] : s.getBoundingClientRect();\n          }\n\n          if (l && a < 9 && !u && (!i || !i.left && !i.right)) {\n            var p = s.parentNode.getClientRects()[0];\n            i = p ? {\n              left: p.left,\n              right: p.left + nn(e.display),\n              top: p.top,\n              bottom: p.bottom\n            } : Hr;\n          }\n\n          for (var v = i.top - t.rect.top, g = i.bottom - t.rect.top, m = (v + g) / 2, y = t.view.measure.heights, b = 0; b < y.length - 1 && !(m < y[b]); b++);\n\n          var w = b ? y[b - 1] : 0,\n              x = y[b],\n              C = {\n            left: (\"right\" == d ? i.right : i.left) - t.rect.left,\n            right: (\"left\" == d ? i.left : i.right) - t.rect.left,\n            top: w,\n            bottom: x\n          };\n          return i.left || i.right || (C.bogus = !0), e.options.singleCursorHeightPerLine || (C.rtop = v, C.rbottom = g), C;\n        }(e, t, r, n)).bogus || (t.cache[s] = o)), {\n          left: o.left,\n          right: o.right,\n          top: i ? o.rtop : o.top,\n          bottom: i ? o.rbottom : o.bottom\n        };\n      }\n\n      var Er,\n          Hr = {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0\n      };\n\n      function Wr(e, t, r) {\n        for (var n, i, o, l, a, s, u = 0; u < e.length; u += 3) if (a = e[u], s = e[u + 1], t < a ? (i = 0, o = 1, l = \"left\") : t < s ? o = 1 + (i = t - a) : (u == e.length - 3 || t == s && e[u + 3] > t) && (i = (o = s - a) - 1, t >= s && (l = \"right\")), null != i) {\n          if (n = e[u + 2], a == s && r == (n.insertLeft ? \"left\" : \"right\") && (l = r), \"left\" == r && 0 == i) for (; u && e[u - 2] == e[u - 3] && e[u - 1].insertLeft;) n = e[2 + (u -= 3)], l = \"left\";\n          if (\"right\" == r && i == s - a) for (; u < e.length - 3 && e[u + 3] == e[u + 4] && !e[u + 5].insertLeft;) n = e[(u += 3) + 2], l = \"right\";\n          break;\n        }\n\n        return {\n          node: n,\n          start: i,\n          end: o,\n          collapse: l,\n          coverStart: a,\n          coverEnd: s\n        };\n      }\n\n      function Ir(e, t) {\n        var r = Hr;\n        if (\"left\" == t) for (var n = 0; n < e.length && (r = e[n]).left == r.right; n++);else for (var i = e.length - 1; i >= 0 && (r = e[i]).left == r.right; i--);\n        return r;\n      }\n\n      function Fr(e) {\n        if (e.measure && (e.measure.cache = {}, e.measure.heights = null, e.rest)) for (var t = 0; t < e.rest.length; t++) e.measure.caches[t] = {};\n      }\n\n      function zr(e) {\n        e.display.externalMeasure = null, T(e.display.lineMeasure);\n\n        for (var t = 0; t < e.display.view.length; t++) Fr(e.display.view[t]);\n      }\n\n      function _r(e) {\n        zr(e), e.display.cachedCharWidth = e.display.cachedTextHeight = e.display.cachedPaddingH = null, e.options.lineWrapping || (e.display.maxLineChanged = !0), e.display.lineNumChars = null;\n      }\n\n      function Rr() {\n        return c && g ? -(document.body.getBoundingClientRect().left - parseInt(getComputedStyle(document.body).marginLeft)) : window.pageXOffset || (document.documentElement || document.body).scrollLeft;\n      }\n\n      function jr() {\n        return c && g ? -(document.body.getBoundingClientRect().top - parseInt(getComputedStyle(document.body).marginTop)) : window.pageYOffset || (document.documentElement || document.body).scrollTop;\n      }\n\n      function Br(e) {\n        var t = 0;\n        if (e.widgets) for (var r = 0; r < e.widgets.length; ++r) e.widgets[r].above && (t += wr(e.widgets[r]));\n        return t;\n      }\n\n      function Vr(e, t, r, n, i) {\n        if (!i) {\n          var o = Br(t);\n          r.top += o, r.bottom += o;\n        }\n\n        if (\"line\" == n) return r;\n        n || (n = \"local\");\n        var l = Vt(t);\n\n        if (\"local\" == n ? l += Cr(e.display) : l -= e.display.viewOffset, \"page\" == n || \"window\" == n) {\n          var a = e.display.lineSpace.getBoundingClientRect();\n          l += a.top + (\"window\" == n ? 0 : jr());\n          var s = a.left + (\"window\" == n ? 0 : Rr());\n          r.left += s, r.right += s;\n        }\n\n        return r.top += l, r.bottom += l, r;\n      }\n\n      function Gr(e, t, r) {\n        if (\"div\" == r) return t;\n        var n = t.left,\n            i = t.top;\n        if (\"page\" == r) n -= Rr(), i -= jr();else if (\"local\" == r || !r) {\n          var o = e.display.sizer.getBoundingClientRect();\n          n += o.left, i += o.top;\n        }\n        var l = e.display.lineSpace.getBoundingClientRect();\n        return {\n          left: n - l.left,\n          top: i - l.top\n        };\n      }\n\n      function Ur(e, t, r, n, i) {\n        return n || (n = Ke(e.doc, t.line)), Vr(e, n, Nr(e, n, t.ch, i), r);\n      }\n\n      function Kr(e, t, r, n, i, o) {\n        function l(t, l) {\n          var a = Pr(e, i, t, l ? \"right\" : \"left\", o);\n          return l ? a.left = a.right : a.right = a.left, Vr(e, n, a, r);\n        }\n\n        n = n || Ke(e.doc, t.line), i || (i = Dr(e, n));\n        var a = ue(n, e.doc.direction),\n            s = t.ch,\n            u = t.sticky;\n        if (s >= n.text.length ? (s = n.text.length, u = \"before\") : s <= 0 && (s = 0, u = \"after\"), !a) return l(\"before\" == u ? s - 1 : s, \"before\" == u);\n\n        function c(e, t, r) {\n          return l(r ? e - 1 : e, 1 == a[t].level != r);\n        }\n\n        var d = ae(a, s, u),\n            f = le,\n            h = c(s, d, \"before\" == u);\n        return null != f && (h.other = c(s, f, \"before\" != u)), h;\n      }\n\n      function $r(e, t) {\n        var r = 0;\n        t = at(e.doc, t), e.options.lineWrapping || (r = nn(e.display) * t.ch);\n        var n = Ke(e.doc, t.line),\n            i = Vt(n) + Cr(e.display);\n        return {\n          left: r,\n          right: r,\n          top: i,\n          bottom: i + n.height\n        };\n      }\n\n      function Xr(e, t, r, n, i) {\n        var o = et(e, t, r);\n        return o.xRel = i, n && (o.outside = n), o;\n      }\n\n      function qr(e, t, r) {\n        var n = e.doc;\n        if ((r += e.display.viewOffset) < 0) return Xr(n.first, 0, null, -1, -1);\n        var i = Ze(n, r),\n            o = n.first + n.size - 1;\n        if (i > o) return Xr(n.first + n.size - 1, Ke(n, o).text.length, null, 1, 1);\n        t < 0 && (t = 0);\n\n        for (var l = Ke(n, i);;) {\n          var a = Qr(e, l, i, t, r),\n              s = It(l, a.ch + (a.xRel > 0 || a.outside > 0 ? 1 : 0));\n          if (!s) return a;\n          var u = s.find(1);\n          if (u.line == i) return u;\n          l = Ke(n, i = u.line);\n        }\n      }\n\n      function Yr(e, t, r, n) {\n        n -= Br(t);\n        var i = t.text.length,\n            o = oe(function (t) {\n          return Pr(e, r, t - 1).bottom <= n;\n        }, i, 0);\n        return {\n          begin: o,\n          end: i = oe(function (t) {\n            return Pr(e, r, t).top > n;\n          }, o, i)\n        };\n      }\n\n      function Zr(e, t, r, n) {\n        return r || (r = Dr(e, t)), Yr(e, t, r, Vr(e, t, Pr(e, r, n), \"line\").top);\n      }\n\n      function Jr(e, t, r, n) {\n        return !(e.bottom <= r) && (e.top > r || (n ? e.left : e.right) > t);\n      }\n\n      function Qr(e, t, r, n, i) {\n        i -= Vt(t);\n        var o = Dr(e, t),\n            l = Br(t),\n            a = 0,\n            s = t.text.length,\n            u = !0,\n            c = ue(t, e.doc.direction);\n\n        if (c) {\n          var d = (e.options.lineWrapping ? tn : en)(e, t, r, o, c, n, i);\n          a = (u = 1 != d.level) ? d.from : d.to - 1, s = u ? d.to : d.from - 1;\n        }\n\n        var f,\n            h,\n            p = null,\n            v = null,\n            g = oe(function (t) {\n          var r = Pr(e, o, t);\n          return r.top += l, r.bottom += l, !!Jr(r, n, i, !1) && (r.top <= i && r.left <= n && (p = t, v = r), !0);\n        }, a, s),\n            m = !1;\n\n        if (v) {\n          var y = n - v.left < v.right - n,\n              b = y == u;\n          g = p + (b ? 0 : 1), h = b ? \"after\" : \"before\", f = y ? v.left : v.right;\n        } else {\n          u || g != s && g != a || g++, h = 0 == g ? \"after\" : g == t.text.length ? \"before\" : Pr(e, o, g - (u ? 1 : 0)).bottom + l <= i == u ? \"after\" : \"before\";\n          var w = Kr(e, et(r, g, h), \"line\", t, o);\n          f = w.left, m = i < w.top ? -1 : i >= w.bottom ? 1 : 0;\n        }\n\n        return Xr(r, g = ie(t.text, g, 1), h, m, n - f);\n      }\n\n      function en(e, t, r, n, i, o, l) {\n        var a = oe(function (a) {\n          var s = i[a],\n              u = 1 != s.level;\n          return Jr(Kr(e, et(r, u ? s.to : s.from, u ? \"before\" : \"after\"), \"line\", t, n), o, l, !0);\n        }, 0, i.length - 1),\n            s = i[a];\n\n        if (a > 0) {\n          var u = 1 != s.level,\n              c = Kr(e, et(r, u ? s.from : s.to, u ? \"after\" : \"before\"), \"line\", t, n);\n          Jr(c, o, l, !0) && c.top > l && (s = i[a - 1]);\n        }\n\n        return s;\n      }\n\n      function tn(e, t, r, n, i, o, l) {\n        var a = Yr(e, t, n, l),\n            s = a.begin,\n            u = a.end;\n        /\\s/.test(t.text.charAt(u - 1)) && u--;\n\n        for (var c = null, d = null, f = 0; f < i.length; f++) {\n          var h = i[f];\n\n          if (!(h.from >= u || h.to <= s)) {\n            var p = Pr(e, n, 1 != h.level ? Math.min(u, h.to) - 1 : Math.max(s, h.from)).right,\n                v = p < o ? o - p + 1e9 : p - o;\n            (!c || d > v) && (c = h, d = v);\n          }\n        }\n\n        return c || (c = i[i.length - 1]), c.from < s && (c = {\n          from: s,\n          to: c.to,\n          level: c.level\n        }), c.to > u && (c = {\n          from: c.from,\n          to: u,\n          level: c.level\n        }), c;\n      }\n\n      function rn(e) {\n        if (null != e.cachedTextHeight) return e.cachedTextHeight;\n\n        if (null == Er) {\n          Er = N(\"pre\", null, \"CodeMirror-line-like\");\n\n          for (var t = 0; t < 49; ++t) Er.appendChild(document.createTextNode(\"x\")), Er.appendChild(N(\"br\"));\n\n          Er.appendChild(document.createTextNode(\"x\"));\n        }\n\n        O(e.measure, Er);\n        var r = Er.offsetHeight / 50;\n        return r > 3 && (e.cachedTextHeight = r), T(e.measure), r || 1;\n      }\n\n      function nn(e) {\n        if (null != e.cachedCharWidth) return e.cachedCharWidth;\n        var t = N(\"span\", \"xxxxxxxxxx\"),\n            r = N(\"pre\", [t], \"CodeMirror-line-like\");\n        O(e.measure, r);\n        var n = t.getBoundingClientRect(),\n            i = (n.right - n.left) / 10;\n        return i > 2 && (e.cachedCharWidth = i), i || 10;\n      }\n\n      function on(e) {\n        for (var t = e.display, r = {}, n = {}, i = t.gutters.clientLeft, o = t.gutters.firstChild, l = 0; o; o = o.nextSibling, ++l) {\n          var a = e.display.gutterSpecs[l].className;\n          r[a] = o.offsetLeft + o.clientLeft + i, n[a] = o.clientWidth;\n        }\n\n        return {\n          fixedPos: ln(t),\n          gutterTotalWidth: t.gutters.offsetWidth,\n          gutterLeft: r,\n          gutterWidth: n,\n          wrapperWidth: t.wrapper.clientWidth\n        };\n      }\n\n      function ln(e) {\n        return e.scroller.getBoundingClientRect().left - e.sizer.getBoundingClientRect().left;\n      }\n\n      function an(e) {\n        var t = rn(e.display),\n            r = e.options.lineWrapping,\n            n = r && Math.max(5, e.display.scroller.clientWidth / nn(e.display) - 3);\n        return function (i) {\n          if (jt(e.doc, i)) return 0;\n          var o = 0;\n          if (i.widgets) for (var l = 0; l < i.widgets.length; l++) i.widgets[l].height && (o += i.widgets[l].height);\n          return r ? o + (Math.ceil(i.text.length / n) || 1) * t : o + t;\n        };\n      }\n\n      function sn(e) {\n        var t = e.doc,\n            r = an(e);\n        t.iter(function (e) {\n          var t = r(e);\n          t != e.height && qe(e, t);\n        });\n      }\n\n      function un(e, t, r, n) {\n        var i = e.display;\n        if (!r && \"true\" == ke(t).getAttribute(\"cm-not-content\")) return null;\n        var o,\n            l,\n            a = i.lineSpace.getBoundingClientRect();\n\n        try {\n          o = t.clientX - a.left, l = t.clientY - a.top;\n        } catch (t) {\n          return null;\n        }\n\n        var s,\n            u = qr(e, o, l);\n\n        if (n && u.xRel > 0 && (s = Ke(e.doc, u.line).text).length == u.ch) {\n          var c = z(s, s.length, e.options.tabSize) - s.length;\n          u = et(u.line, Math.max(0, Math.round((o - Sr(e.display).left) / nn(e.display)) - c));\n        }\n\n        return u;\n      }\n\n      function cn(e, t) {\n        if (t >= e.display.viewTo) return null;\n        if ((t -= e.display.viewFrom) < 0) return null;\n\n        for (var r = e.display.view, n = 0; n < r.length; n++) if ((t -= r[n].size) < 0) return n;\n      }\n\n      function dn(e, t, r, n) {\n        null == t && (t = e.doc.first), null == r && (r = e.doc.first + e.doc.size), n || (n = 0);\n        var i = e.display;\n        if (n && r < i.viewTo && (null == i.updateLineNumbers || i.updateLineNumbers > t) && (i.updateLineNumbers = t), e.curOp.viewChanged = !0, t >= i.viewTo) Ct && _t(e.doc, t) < i.viewTo && hn(e);else if (r <= i.viewFrom) Ct && Rt(e.doc, r + n) > i.viewFrom ? hn(e) : (i.viewFrom += n, i.viewTo += n);else if (t <= i.viewFrom && r >= i.viewTo) hn(e);else if (t <= i.viewFrom) {\n          var o = pn(e, r, r + n, 1);\n          o ? (i.view = i.view.slice(o.index), i.viewFrom = o.lineN, i.viewTo += n) : hn(e);\n        } else if (r >= i.viewTo) {\n          var l = pn(e, t, t, -1);\n          l ? (i.view = i.view.slice(0, l.index), i.viewTo = l.lineN) : hn(e);\n        } else {\n          var a = pn(e, t, t, -1),\n              s = pn(e, r, r + n, 1);\n          a && s ? (i.view = i.view.slice(0, a.index).concat(ir(e, a.lineN, s.lineN)).concat(i.view.slice(s.index)), i.viewTo += n) : hn(e);\n        }\n        var u = i.externalMeasured;\n        u && (r < u.lineN ? u.lineN += n : t < u.lineN + u.size && (i.externalMeasured = null));\n      }\n\n      function fn(e, t, r) {\n        e.curOp.viewChanged = !0;\n        var n = e.display,\n            i = e.display.externalMeasured;\n\n        if (i && t >= i.lineN && t < i.lineN + i.size && (n.externalMeasured = null), !(t < n.viewFrom || t >= n.viewTo)) {\n          var o = n.view[cn(e, t)];\n\n          if (null != o.node) {\n            var l = o.changes || (o.changes = []);\n            -1 == R(l, r) && l.push(r);\n          }\n        }\n      }\n\n      function hn(e) {\n        e.display.viewFrom = e.display.viewTo = e.doc.first, e.display.view = [], e.display.viewOffset = 0;\n      }\n\n      function pn(e, t, r, n) {\n        var i,\n            o = cn(e, t),\n            l = e.display.view;\n        if (!Ct || r == e.doc.first + e.doc.size) return {\n          index: o,\n          lineN: r\n        };\n\n        for (var a = e.display.viewFrom, s = 0; s < o; s++) a += l[s].size;\n\n        if (a != t) {\n          if (n > 0) {\n            if (o == l.length - 1) return null;\n            i = a + l[o].size - t, o++;\n          } else i = a - t;\n\n          t += i, r += i;\n        }\n\n        for (; _t(e.doc, r) != r;) {\n          if (o == (n < 0 ? 0 : l.length - 1)) return null;\n          r += n * l[o - (n < 0 ? 1 : 0)].size, o += n;\n        }\n\n        return {\n          index: o,\n          lineN: r\n        };\n      }\n\n      function vn(e) {\n        for (var t = e.display.view, r = 0, n = 0; n < t.length; n++) {\n          var i = t[n];\n          i.hidden || i.node && !i.changes || ++r;\n        }\n\n        return r;\n      }\n\n      function gn(e) {\n        e.display.input.showSelection(e.display.input.prepareSelection());\n      }\n\n      function mn(e, t) {\n        void 0 === t && (t = !0);\n\n        for (var r = e.doc, n = {}, i = n.cursors = document.createDocumentFragment(), o = n.selection = document.createDocumentFragment(), l = 0; l < r.sel.ranges.length; l++) if (t || l != r.sel.primIndex) {\n          var a = r.sel.ranges[l];\n\n          if (!(a.from().line >= e.display.viewTo || a.to().line < e.display.viewFrom)) {\n            var s = a.empty();\n            (s || e.options.showCursorWhenSelecting) && yn(e, a.head, i), s || wn(e, a, o);\n          }\n        }\n\n        return n;\n      }\n\n      function yn(e, t, r) {\n        var n = Kr(e, t, \"div\", null, null, !e.options.singleCursorHeightPerLine),\n            i = r.appendChild(N(\"div\", \" \", \"CodeMirror-cursor\"));\n\n        if (i.style.left = n.left + \"px\", i.style.top = n.top + \"px\", i.style.height = Math.max(0, n.bottom - n.top) * e.options.cursorHeight + \"px\", n.other) {\n          var o = r.appendChild(N(\"div\", \" \", \"CodeMirror-cursor CodeMirror-secondarycursor\"));\n          o.style.display = \"\", o.style.left = n.other.left + \"px\", o.style.top = n.other.top + \"px\", o.style.height = .85 * (n.other.bottom - n.other.top) + \"px\";\n        }\n      }\n\n      function bn(e, t) {\n        return e.top - t.top || e.left - t.left;\n      }\n\n      function wn(e, t, r) {\n        var n = e.display,\n            i = e.doc,\n            o = document.createDocumentFragment(),\n            l = Sr(e.display),\n            a = l.left,\n            s = Math.max(n.sizerWidth, Lr(e) - n.sizer.offsetLeft) - l.right,\n            u = \"ltr\" == i.direction;\n\n        function c(e, t, r, n) {\n          t < 0 && (t = 0), t = Math.round(t), n = Math.round(n), o.appendChild(N(\"div\", null, \"CodeMirror-selected\", \"position: absolute; left: \" + e + \"px;\\n                             top: \" + t + \"px; width: \" + (null == r ? s - e : r) + \"px;\\n                             height: \" + (n - t) + \"px\"));\n        }\n\n        function d(t, r, n) {\n          var o,\n              l,\n              d = Ke(i, t),\n              f = d.text.length;\n\n          function h(r, n) {\n            return Ur(e, et(t, r), \"div\", d, n);\n          }\n\n          function p(t, r, n) {\n            var i = Zr(e, d, null, t),\n                o = \"ltr\" == r == (\"after\" == n) ? \"left\" : \"right\";\n            return h(\"after\" == n ? i.begin : i.end - (/\\s/.test(d.text.charAt(i.end - 1)) ? 2 : 1), o)[o];\n          }\n\n          var v = ue(d, i.direction);\n          return function (e, t, r, n) {\n            if (!e) return n(t, r, \"ltr\", 0);\n\n            for (var i = !1, o = 0; o < e.length; ++o) {\n              var l = e[o];\n              (l.from < r && l.to > t || t == r && l.to == t) && (n(Math.max(l.from, t), Math.min(l.to, r), 1 == l.level ? \"rtl\" : \"ltr\", o), i = !0);\n            }\n\n            i || n(t, r, \"ltr\");\n          }(v, r || 0, null == n ? f : n, function (e, t, i, d) {\n            var g = \"ltr\" == i,\n                m = h(e, g ? \"left\" : \"right\"),\n                y = h(t - 1, g ? \"right\" : \"left\"),\n                b = null == r && 0 == e,\n                w = null == n && t == f,\n                x = 0 == d,\n                C = !v || d == v.length - 1;\n\n            if (y.top - m.top <= 3) {\n              var k = (u ? w : b) && C,\n                  S = (u ? b : w) && x ? a : (g ? m : y).left,\n                  M = k ? s : (g ? y : m).right;\n              c(S, m.top, M - S, m.bottom);\n            } else {\n              var L, T, O, N;\n              g ? (L = u && b && x ? a : m.left, T = u ? s : p(e, i, \"before\"), O = u ? a : p(t, i, \"after\"), N = u && w && C ? s : y.right) : (L = u ? p(e, i, \"before\") : a, T = !u && b && x ? s : m.right, O = !u && w && C ? a : y.left, N = u ? p(t, i, \"after\") : s), c(L, m.top, T - L, m.bottom), m.bottom < y.top && c(a, m.bottom, null, y.top), c(O, y.top, N - O, y.bottom);\n            }\n\n            (!o || bn(m, o) < 0) && (o = m), bn(y, o) < 0 && (o = y), (!l || bn(m, l) < 0) && (l = m), bn(y, l) < 0 && (l = y);\n          }), {\n            start: o,\n            end: l\n          };\n        }\n\n        var f = t.from(),\n            h = t.to();\n        if (f.line == h.line) d(f.line, f.ch, h.ch);else {\n          var p = Ke(i, f.line),\n              v = Ke(i, h.line),\n              g = zt(p) == zt(v),\n              m = d(f.line, f.ch, g ? p.text.length + 1 : null).end,\n              y = d(h.line, g ? 0 : null, h.ch).start;\n          g && (m.top < y.top - 2 ? (c(m.right, m.top, null, m.bottom), c(a, y.top, y.left, y.bottom)) : c(m.right, m.top, y.left - m.right, m.bottom)), m.bottom < y.top && c(a, m.bottom, null, y.top);\n        }\n        r.appendChild(o);\n      }\n\n      function xn(e) {\n        if (e.state.focused) {\n          var t = e.display;\n          clearInterval(t.blinker);\n          var r = !0;\n          t.cursorDiv.style.visibility = \"\", e.options.cursorBlinkRate > 0 ? t.blinker = setInterval(function () {\n            return t.cursorDiv.style.visibility = (r = !r) ? \"\" : \"hidden\";\n          }, e.options.cursorBlinkRate) : e.options.cursorBlinkRate < 0 && (t.cursorDiv.style.visibility = \"hidden\");\n        }\n      }\n\n      function Cn(e) {\n        e.state.focused || (e.display.input.focus(), Sn(e));\n      }\n\n      function kn(e) {\n        e.state.delayingBlurEvent = !0, setTimeout(function () {\n          e.state.delayingBlurEvent && (e.state.delayingBlurEvent = !1, Mn(e));\n        }, 100);\n      }\n\n      function Sn(e, t) {\n        e.state.delayingBlurEvent && (e.state.delayingBlurEvent = !1), \"nocursor\" != e.options.readOnly && (e.state.focused || (pe(e, \"focus\", e, t), e.state.focused = !0, E(e.display.wrapper, \"CodeMirror-focused\"), e.curOp || e.display.selForContextMenu == e.doc.sel || (e.display.input.reset(), s && setTimeout(function () {\n          return e.display.input.reset(!0);\n        }, 20)), e.display.input.receivedFocus()), xn(e));\n      }\n\n      function Mn(e, t) {\n        e.state.delayingBlurEvent || (e.state.focused && (pe(e, \"blur\", e, t), e.state.focused = !1, L(e.display.wrapper, \"CodeMirror-focused\")), clearInterval(e.display.blinker), setTimeout(function () {\n          e.state.focused || (e.display.shift = !1);\n        }, 150));\n      }\n\n      function Ln(e) {\n        for (var t = e.display, r = t.lineDiv.offsetTop, n = 0; n < t.view.length; n++) {\n          var i = t.view[n],\n              o = e.options.lineWrapping,\n              s = void 0,\n              u = 0;\n\n          if (!i.hidden) {\n            if (l && a < 8) {\n              var c = i.node.offsetTop + i.node.offsetHeight;\n              s = c - r, r = c;\n            } else {\n              var d = i.node.getBoundingClientRect();\n              s = d.bottom - d.top, !o && i.text.firstChild && (u = i.text.firstChild.getBoundingClientRect().right - d.left - 1);\n            }\n\n            var f = i.line.height - s;\n            if ((f > .005 || f < -.005) && (qe(i.line, s), Tn(i.line), i.rest)) for (var h = 0; h < i.rest.length; h++) Tn(i.rest[h]);\n\n            if (u > e.display.sizerWidth) {\n              var p = Math.ceil(u / nn(e.display));\n              p > e.display.maxLineLength && (e.display.maxLineLength = p, e.display.maxLine = i.line, e.display.maxLineChanged = !0);\n            }\n          }\n        }\n      }\n\n      function Tn(e) {\n        if (e.widgets) for (var t = 0; t < e.widgets.length; ++t) {\n          var r = e.widgets[t],\n              n = r.node.parentNode;\n          n && (r.height = n.offsetHeight);\n        }\n      }\n\n      function On(e, t, r) {\n        var n = r && null != r.top ? Math.max(0, r.top) : e.scroller.scrollTop;\n        n = Math.floor(n - Cr(e));\n        var i = r && null != r.bottom ? r.bottom : n + e.wrapper.clientHeight,\n            o = Ze(t, n),\n            l = Ze(t, i);\n\n        if (r && r.ensure) {\n          var a = r.ensure.from.line,\n              s = r.ensure.to.line;\n          a < o ? (o = a, l = Ze(t, Vt(Ke(t, a)) + e.wrapper.clientHeight)) : Math.min(s, t.lastLine()) >= l && (o = Ze(t, Vt(Ke(t, s)) - e.wrapper.clientHeight), l = s);\n        }\n\n        return {\n          from: o,\n          to: Math.max(l, o + 1)\n        };\n      }\n\n      function Nn(e, t) {\n        var r = e.display,\n            n = rn(e.display);\n        t.top < 0 && (t.top = 0);\n        var i = e.curOp && null != e.curOp.scrollTop ? e.curOp.scrollTop : r.scroller.scrollTop,\n            o = Tr(e),\n            l = {};\n        t.bottom - t.top > o && (t.bottom = t.top + o);\n        var a = e.doc.height + kr(r),\n            s = t.top < n,\n            u = t.bottom > a - n;\n        if (t.top < i) l.scrollTop = s ? 0 : t.top;else if (t.bottom > i + o) {\n          var c = Math.min(t.top, (u ? a : t.bottom) - o);\n          c != i && (l.scrollTop = c);\n        }\n        var d = e.curOp && null != e.curOp.scrollLeft ? e.curOp.scrollLeft : r.scroller.scrollLeft,\n            f = Lr(e) - (e.options.fixedGutter ? r.gutters.offsetWidth : 0),\n            h = t.right - t.left > f;\n        return h && (t.right = t.left + f), t.left < 10 ? l.scrollLeft = 0 : t.left < d ? l.scrollLeft = Math.max(0, t.left - (h ? 0 : 10)) : t.right > f + d - 3 && (l.scrollLeft = t.right + (h ? 0 : 10) - f), l;\n      }\n\n      function An(e, t) {\n        null != t && (En(e), e.curOp.scrollTop = (null == e.curOp.scrollTop ? e.doc.scrollTop : e.curOp.scrollTop) + t);\n      }\n\n      function Dn(e) {\n        En(e);\n        var t = e.getCursor();\n        e.curOp.scrollToPos = {\n          from: t,\n          to: t,\n          margin: e.options.cursorScrollMargin\n        };\n      }\n\n      function Pn(e, t, r) {\n        null == t && null == r || En(e), null != t && (e.curOp.scrollLeft = t), null != r && (e.curOp.scrollTop = r);\n      }\n\n      function En(e) {\n        var t = e.curOp.scrollToPos;\n        t && (e.curOp.scrollToPos = null, Hn(e, $r(e, t.from), $r(e, t.to), t.margin));\n      }\n\n      function Hn(e, t, r, n) {\n        var i = Nn(e, {\n          left: Math.min(t.left, r.left),\n          top: Math.min(t.top, r.top) - n,\n          right: Math.max(t.right, r.right),\n          bottom: Math.max(t.bottom, r.bottom) + n\n        });\n        Pn(e, i.scrollLeft, i.scrollTop);\n      }\n\n      function Wn(e, t) {\n        Math.abs(e.doc.scrollTop - t) < 2 || (r || si(e, {\n          top: t\n        }), In(e, t, !0), r && si(e), ni(e, 100));\n      }\n\n      function In(e, t, r) {\n        t = Math.min(e.display.scroller.scrollHeight - e.display.scroller.clientHeight, t), (e.display.scroller.scrollTop != t || r) && (e.doc.scrollTop = t, e.display.scrollbars.setScrollTop(t), e.display.scroller.scrollTop != t && (e.display.scroller.scrollTop = t));\n      }\n\n      function Fn(e, t, r, n) {\n        t = Math.min(t, e.display.scroller.scrollWidth - e.display.scroller.clientWidth), (r ? t == e.doc.scrollLeft : Math.abs(e.doc.scrollLeft - t) < 2) && !n || (e.doc.scrollLeft = t, di(e), e.display.scroller.scrollLeft != t && (e.display.scroller.scrollLeft = t), e.display.scrollbars.setScrollLeft(t));\n      }\n\n      function zn(e) {\n        var t = e.display,\n            r = t.gutters.offsetWidth,\n            n = Math.round(e.doc.height + kr(e.display));\n        return {\n          clientHeight: t.scroller.clientHeight,\n          viewHeight: t.wrapper.clientHeight,\n          scrollWidth: t.scroller.scrollWidth,\n          clientWidth: t.scroller.clientWidth,\n          viewWidth: t.wrapper.clientWidth,\n          barLeft: e.options.fixedGutter ? r : 0,\n          docHeight: n,\n          scrollHeight: n + Mr(e) + t.barHeight,\n          nativeBarWidth: t.nativeBarWidth,\n          gutterWidth: r\n        };\n      }\n\n      var _n = function (e, t, r) {\n        this.cm = r;\n        var n = this.vert = N(\"div\", [N(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\"),\n            i = this.horiz = N(\"div\", [N(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\");\n        n.tabIndex = i.tabIndex = -1, e(n), e(i), de(n, \"scroll\", function () {\n          n.clientHeight && t(n.scrollTop, \"vertical\");\n        }), de(i, \"scroll\", function () {\n          i.clientWidth && t(i.scrollLeft, \"horizontal\");\n        }), this.checkedZeroWidth = !1, l && a < 8 && (this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\");\n      };\n\n      _n.prototype.update = function (e) {\n        var t = e.scrollWidth > e.clientWidth + 1,\n            r = e.scrollHeight > e.clientHeight + 1,\n            n = e.nativeBarWidth;\n\n        if (r) {\n          this.vert.style.display = \"block\", this.vert.style.bottom = t ? n + \"px\" : \"0\";\n          var i = e.viewHeight - (t ? n : 0);\n          this.vert.firstChild.style.height = Math.max(0, e.scrollHeight - e.clientHeight + i) + \"px\";\n        } else this.vert.style.display = \"\", this.vert.firstChild.style.height = \"0\";\n\n        if (t) {\n          this.horiz.style.display = \"block\", this.horiz.style.right = r ? n + \"px\" : \"0\", this.horiz.style.left = e.barLeft + \"px\";\n          var o = e.viewWidth - e.barLeft - (r ? n : 0);\n          this.horiz.firstChild.style.width = Math.max(0, e.scrollWidth - e.clientWidth + o) + \"px\";\n        } else this.horiz.style.display = \"\", this.horiz.firstChild.style.width = \"0\";\n\n        return !this.checkedZeroWidth && e.clientHeight > 0 && (0 == n && this.zeroWidthHack(), this.checkedZeroWidth = !0), {\n          right: r ? n : 0,\n          bottom: t ? n : 0\n        };\n      }, _n.prototype.setScrollLeft = function (e) {\n        this.horiz.scrollLeft != e && (this.horiz.scrollLeft = e), this.disableHoriz && this.enableZeroWidthBar(this.horiz, this.disableHoriz, \"horiz\");\n      }, _n.prototype.setScrollTop = function (e) {\n        this.vert.scrollTop != e && (this.vert.scrollTop = e), this.disableVert && this.enableZeroWidthBar(this.vert, this.disableVert, \"vert\");\n      }, _n.prototype.zeroWidthHack = function () {\n        var e = y && !h ? \"12px\" : \"18px\";\n        this.horiz.style.height = this.vert.style.width = e, this.horiz.style.pointerEvents = this.vert.style.pointerEvents = \"none\", this.disableHoriz = new _(), this.disableVert = new _();\n      }, _n.prototype.enableZeroWidthBar = function (e, t, r) {\n        e.style.pointerEvents = \"auto\", t.set(1e3, function n() {\n          var i = e.getBoundingClientRect();\n          (\"vert\" == r ? document.elementFromPoint(i.right - 1, (i.top + i.bottom) / 2) : document.elementFromPoint((i.right + i.left) / 2, i.bottom - 1)) != e ? e.style.pointerEvents = \"none\" : t.set(1e3, n);\n        });\n      }, _n.prototype.clear = function () {\n        var e = this.horiz.parentNode;\n        e.removeChild(this.horiz), e.removeChild(this.vert);\n      };\n\n      var Rn = function () {};\n\n      function jn(e, t) {\n        t || (t = zn(e));\n        var r = e.display.barWidth,\n            n = e.display.barHeight;\n        Bn(e, t);\n\n        for (var i = 0; i < 4 && r != e.display.barWidth || n != e.display.barHeight; i++) r != e.display.barWidth && e.options.lineWrapping && Ln(e), Bn(e, zn(e)), r = e.display.barWidth, n = e.display.barHeight;\n      }\n\n      function Bn(e, t) {\n        var r = e.display,\n            n = r.scrollbars.update(t);\n        r.sizer.style.paddingRight = (r.barWidth = n.right) + \"px\", r.sizer.style.paddingBottom = (r.barHeight = n.bottom) + \"px\", r.heightForcer.style.borderBottom = n.bottom + \"px solid transparent\", n.right && n.bottom ? (r.scrollbarFiller.style.display = \"block\", r.scrollbarFiller.style.height = n.bottom + \"px\", r.scrollbarFiller.style.width = n.right + \"px\") : r.scrollbarFiller.style.display = \"\", n.bottom && e.options.coverGutterNextToScrollbar && e.options.fixedGutter ? (r.gutterFiller.style.display = \"block\", r.gutterFiller.style.height = n.bottom + \"px\", r.gutterFiller.style.width = t.gutterWidth + \"px\") : r.gutterFiller.style.display = \"\";\n      }\n\n      Rn.prototype.update = function () {\n        return {\n          bottom: 0,\n          right: 0\n        };\n      }, Rn.prototype.setScrollLeft = function () {}, Rn.prototype.setScrollTop = function () {}, Rn.prototype.clear = function () {};\n      var Vn = {\n        native: _n,\n        null: Rn\n      };\n\n      function Gn(e) {\n        e.display.scrollbars && (e.display.scrollbars.clear(), e.display.scrollbars.addClass && L(e.display.wrapper, e.display.scrollbars.addClass)), e.display.scrollbars = new Vn[e.options.scrollbarStyle](function (t) {\n          e.display.wrapper.insertBefore(t, e.display.scrollbarFiller), de(t, \"mousedown\", function () {\n            e.state.focused && setTimeout(function () {\n              return e.display.input.focus();\n            }, 0);\n          }), t.setAttribute(\"cm-not-content\", \"true\");\n        }, function (t, r) {\n          \"horizontal\" == r ? Fn(e, t) : Wn(e, t);\n        }, e), e.display.scrollbars.addClass && E(e.display.wrapper, e.display.scrollbars.addClass);\n      }\n\n      var Un = 0;\n\n      function Kn(e) {\n        var t;\n        e.curOp = {\n          cm: e,\n          viewChanged: !1,\n          startHeight: e.doc.height,\n          forceUpdate: !1,\n          updateInput: 0,\n          typing: !1,\n          changeObjs: null,\n          cursorActivityHandlers: null,\n          cursorActivityCalled: 0,\n          selectionChanged: !1,\n          updateMaxLine: !1,\n          scrollLeft: null,\n          scrollTop: null,\n          scrollToPos: null,\n          focus: !1,\n          id: ++Un\n        }, t = e.curOp, or ? or.ops.push(t) : t.ownsGroup = or = {\n          ops: [t],\n          delayedCallbacks: []\n        };\n      }\n\n      function $n(e) {\n        var t = e.curOp;\n        t && function (e, t) {\n          var r = e.ownsGroup;\n          if (r) try {\n            !function (e) {\n              var t = e.delayedCallbacks,\n                  r = 0;\n\n              do {\n                for (; r < t.length; r++) t[r].call(null);\n\n                for (var n = 0; n < e.ops.length; n++) {\n                  var i = e.ops[n];\n                  if (i.cursorActivityHandlers) for (; i.cursorActivityCalled < i.cursorActivityHandlers.length;) i.cursorActivityHandlers[i.cursorActivityCalled++].call(null, i.cm);\n                }\n              } while (r < t.length);\n            }(r);\n          } finally {\n            or = null, t(r);\n          }\n        }(t, function (e) {\n          for (var t = 0; t < e.ops.length; t++) e.ops[t].cm.curOp = null;\n\n          !function (e) {\n            for (var t = e.ops, r = 0; r < t.length; r++) Xn(t[r]);\n\n            for (var n = 0; n < t.length; n++) qn(t[n]);\n\n            for (var i = 0; i < t.length; i++) Yn(t[i]);\n\n            for (var o = 0; o < t.length; o++) Zn(t[o]);\n\n            for (var l = 0; l < t.length; l++) Jn(t[l]);\n          }(e);\n        });\n      }\n\n      function Xn(e) {\n        var t = e.cm,\n            r = t.display;\n        !function (e) {\n          var t = e.display;\n          !t.scrollbarsClipped && t.scroller.offsetWidth && (t.nativeBarWidth = t.scroller.offsetWidth - t.scroller.clientWidth, t.heightForcer.style.height = Mr(e) + \"px\", t.sizer.style.marginBottom = -t.nativeBarWidth + \"px\", t.sizer.style.borderRightWidth = Mr(e) + \"px\", t.scrollbarsClipped = !0);\n        }(t), e.updateMaxLine && Ut(t), e.mustUpdate = e.viewChanged || e.forceUpdate || null != e.scrollTop || e.scrollToPos && (e.scrollToPos.from.line < r.viewFrom || e.scrollToPos.to.line >= r.viewTo) || r.maxLineChanged && t.options.lineWrapping, e.update = e.mustUpdate && new oi(t, e.mustUpdate && {\n          top: e.scrollTop,\n          ensure: e.scrollToPos\n        }, e.forceUpdate);\n      }\n\n      function qn(e) {\n        e.updatedDisplay = e.mustUpdate && li(e.cm, e.update);\n      }\n\n      function Yn(e) {\n        var t = e.cm,\n            r = t.display;\n        e.updatedDisplay && Ln(t), e.barMeasure = zn(t), r.maxLineChanged && !t.options.lineWrapping && (e.adjustWidthTo = Nr(t, r.maxLine, r.maxLine.text.length).left + 3, t.display.sizerWidth = e.adjustWidthTo, e.barMeasure.scrollWidth = Math.max(r.scroller.clientWidth, r.sizer.offsetLeft + e.adjustWidthTo + Mr(t) + t.display.barWidth), e.maxScrollLeft = Math.max(0, r.sizer.offsetLeft + e.adjustWidthTo - Lr(t))), (e.updatedDisplay || e.selectionChanged) && (e.preparedSelection = r.input.prepareSelection());\n      }\n\n      function Zn(e) {\n        var t = e.cm;\n        null != e.adjustWidthTo && (t.display.sizer.style.minWidth = e.adjustWidthTo + \"px\", e.maxScrollLeft < t.doc.scrollLeft && Fn(t, Math.min(t.display.scroller.scrollLeft, e.maxScrollLeft), !0), t.display.maxLineChanged = !1);\n        var r = e.focus && e.focus == P();\n        e.preparedSelection && t.display.input.showSelection(e.preparedSelection, r), (e.updatedDisplay || e.startHeight != t.doc.height) && jn(t, e.barMeasure), e.updatedDisplay && ci(t, e.barMeasure), e.selectionChanged && xn(t), t.state.focused && e.updateInput && t.display.input.reset(e.typing), r && Cn(e.cm);\n      }\n\n      function Jn(e) {\n        var t = e.cm,\n            r = t.display,\n            n = t.doc;\n        e.updatedDisplay && ai(t, e.update), null == r.wheelStartX || null == e.scrollTop && null == e.scrollLeft && !e.scrollToPos || (r.wheelStartX = r.wheelStartY = null), null != e.scrollTop && In(t, e.scrollTop, e.forceScroll), null != e.scrollLeft && Fn(t, e.scrollLeft, !0, !0), e.scrollToPos && function (e, t) {\n          if (!ve(e, \"scrollCursorIntoView\")) {\n            var r = e.display,\n                n = r.sizer.getBoundingClientRect(),\n                i = null;\n\n            if (t.top + n.top < 0 ? i = !0 : t.bottom + n.top > (window.innerHeight || document.documentElement.clientHeight) && (i = !1), null != i && !p) {\n              var o = N(\"div\", \"​\", null, \"position: absolute;\\n                         top: \" + (t.top - r.viewOffset - Cr(e.display)) + \"px;\\n                         height: \" + (t.bottom - t.top + Mr(e) + r.barHeight) + \"px;\\n                         left: \" + t.left + \"px; width: \" + Math.max(2, t.right - t.left) + \"px;\");\n              e.display.lineSpace.appendChild(o), o.scrollIntoView(i), e.display.lineSpace.removeChild(o);\n            }\n          }\n        }(t, function (e, t, r, n) {\n          var i;\n          null == n && (n = 0), e.options.lineWrapping || t != r || (r = \"before\" == (t = t.ch ? et(t.line, \"before\" == t.sticky ? t.ch - 1 : t.ch, \"after\") : t).sticky ? et(t.line, t.ch + 1, \"before\") : t);\n\n          for (var o = 0; o < 5; o++) {\n            var l = !1,\n                a = Kr(e, t),\n                s = r && r != t ? Kr(e, r) : a,\n                u = Nn(e, i = {\n              left: Math.min(a.left, s.left),\n              top: Math.min(a.top, s.top) - n,\n              right: Math.max(a.left, s.left),\n              bottom: Math.max(a.bottom, s.bottom) + n\n            }),\n                c = e.doc.scrollTop,\n                d = e.doc.scrollLeft;\n            if (null != u.scrollTop && (Wn(e, u.scrollTop), Math.abs(e.doc.scrollTop - c) > 1 && (l = !0)), null != u.scrollLeft && (Fn(e, u.scrollLeft), Math.abs(e.doc.scrollLeft - d) > 1 && (l = !0)), !l) break;\n          }\n\n          return i;\n        }(t, at(n, e.scrollToPos.from), at(n, e.scrollToPos.to), e.scrollToPos.margin));\n        var i = e.maybeHiddenMarkers,\n            o = e.maybeUnhiddenMarkers;\n        if (i) for (var l = 0; l < i.length; ++l) i[l].lines.length || pe(i[l], \"hide\");\n        if (o) for (var a = 0; a < o.length; ++a) o[a].lines.length && pe(o[a], \"unhide\");\n        r.wrapper.offsetHeight && (n.scrollTop = t.display.scroller.scrollTop), e.changeObjs && pe(t, \"changes\", t, e.changeObjs), e.update && e.update.finish();\n      }\n\n      function Qn(e, t) {\n        if (e.curOp) return t();\n        Kn(e);\n\n        try {\n          return t();\n        } finally {\n          $n(e);\n        }\n      }\n\n      function ei(e, t) {\n        return function () {\n          if (e.curOp) return t.apply(e, arguments);\n          Kn(e);\n\n          try {\n            return t.apply(e, arguments);\n          } finally {\n            $n(e);\n          }\n        };\n      }\n\n      function ti(e) {\n        return function () {\n          if (this.curOp) return e.apply(this, arguments);\n          Kn(this);\n\n          try {\n            return e.apply(this, arguments);\n          } finally {\n            $n(this);\n          }\n        };\n      }\n\n      function ri(e) {\n        return function () {\n          var t = this.cm;\n          if (!t || t.curOp) return e.apply(this, arguments);\n          Kn(t);\n\n          try {\n            return e.apply(this, arguments);\n          } finally {\n            $n(t);\n          }\n        };\n      }\n\n      function ni(e, t) {\n        e.doc.highlightFrontier < e.display.viewTo && e.state.highlight.set(t, I(ii, e));\n      }\n\n      function ii(e) {\n        var t = e.doc;\n\n        if (!(t.highlightFrontier >= e.display.viewTo)) {\n          var r = +new Date() + e.options.workTime,\n              n = ht(e, t.highlightFrontier),\n              i = [];\n          t.iter(n.line, Math.min(t.first + t.size, e.display.viewTo + 500), function (o) {\n            if (n.line >= e.display.viewFrom) {\n              var l = o.styles,\n                  a = o.text.length > e.options.maxHighlightLength ? Be(t.mode, n.state) : null,\n                  s = dt(e, o, n, !0);\n              a && (n.state = a), o.styles = s.styles;\n              var u = o.styleClasses,\n                  c = s.classes;\n              c ? o.styleClasses = c : u && (o.styleClasses = null);\n\n              for (var d = !l || l.length != o.styles.length || u != c && (!u || !c || u.bgClass != c.bgClass || u.textClass != c.textClass), f = 0; !d && f < l.length; ++f) d = l[f] != o.styles[f];\n\n              d && i.push(n.line), o.stateAfter = n.save(), n.nextLine();\n            } else o.text.length <= e.options.maxHighlightLength && pt(e, o.text, n), o.stateAfter = n.line % 5 == 0 ? n.save() : null, n.nextLine();\n\n            if (+new Date() > r) return ni(e, e.options.workDelay), !0;\n          }), t.highlightFrontier = n.line, t.modeFrontier = Math.max(t.modeFrontier, n.line), i.length && Qn(e, function () {\n            for (var t = 0; t < i.length; t++) fn(e, i[t], \"text\");\n          });\n        }\n      }\n\n      var oi = function (e, t, r) {\n        var n = e.display;\n        this.viewport = t, this.visible = On(n, e.doc, t), this.editorIsHidden = !n.wrapper.offsetWidth, this.wrapperHeight = n.wrapper.clientHeight, this.wrapperWidth = n.wrapper.clientWidth, this.oldDisplayWidth = Lr(e), this.force = r, this.dims = on(e), this.events = [];\n      };\n\n      function li(e, t) {\n        var r = e.display,\n            n = e.doc;\n        if (t.editorIsHidden) return hn(e), !1;\n        if (!t.force && t.visible.from >= r.viewFrom && t.visible.to <= r.viewTo && (null == r.updateLineNumbers || r.updateLineNumbers >= r.viewTo) && r.renderedView == r.view && 0 == vn(e)) return !1;\n        fi(e) && (hn(e), t.dims = on(e));\n        var i = n.first + n.size,\n            o = Math.max(t.visible.from - e.options.viewportMargin, n.first),\n            l = Math.min(i, t.visible.to + e.options.viewportMargin);\n        r.viewFrom < o && o - r.viewFrom < 20 && (o = Math.max(n.first, r.viewFrom)), r.viewTo > l && r.viewTo - l < 20 && (l = Math.min(i, r.viewTo)), Ct && (o = _t(e.doc, o), l = Rt(e.doc, l));\n        var a = o != r.viewFrom || l != r.viewTo || r.lastWrapHeight != t.wrapperHeight || r.lastWrapWidth != t.wrapperWidth;\n        !function (e, t, r) {\n          var n = e.display;\n          0 == n.view.length || t >= n.viewTo || r <= n.viewFrom ? (n.view = ir(e, t, r), n.viewFrom = t) : (n.viewFrom > t ? n.view = ir(e, t, n.viewFrom).concat(n.view) : n.viewFrom < t && (n.view = n.view.slice(cn(e, t))), n.viewFrom = t, n.viewTo < r ? n.view = n.view.concat(ir(e, n.viewTo, r)) : n.viewTo > r && (n.view = n.view.slice(0, cn(e, r)))), n.viewTo = r;\n        }(e, o, l), r.viewOffset = Vt(Ke(e.doc, r.viewFrom)), e.display.mover.style.top = r.viewOffset + \"px\";\n        var u = vn(e);\n        if (!a && 0 == u && !t.force && r.renderedView == r.view && (null == r.updateLineNumbers || r.updateLineNumbers >= r.viewTo)) return !1;\n\n        var c = function (e) {\n          if (e.hasFocus()) return null;\n          var t = P();\n          if (!t || !D(e.display.lineDiv, t)) return null;\n          var r = {\n            activeElt: t\n          };\n\n          if (window.getSelection) {\n            var n = window.getSelection();\n            n.anchorNode && n.extend && D(e.display.lineDiv, n.anchorNode) && (r.anchorNode = n.anchorNode, r.anchorOffset = n.anchorOffset, r.focusNode = n.focusNode, r.focusOffset = n.focusOffset);\n          }\n\n          return r;\n        }(e);\n\n        return u > 4 && (r.lineDiv.style.display = \"none\"), function (e, t, r) {\n          var n = e.display,\n              i = e.options.lineNumbers,\n              o = n.lineDiv,\n              l = o.firstChild;\n\n          function a(t) {\n            var r = t.nextSibling;\n            return s && y && e.display.currentWheelTarget == t ? t.style.display = \"none\" : t.parentNode.removeChild(t), r;\n          }\n\n          for (var u = n.view, c = n.viewFrom, d = 0; d < u.length; d++) {\n            var f = u[d];\n            if (f.hidden) ;else if (f.node && f.node.parentNode == o) {\n              for (; l != f.node;) l = a(l);\n\n              var h = i && null != t && t <= c && f.lineNumber;\n              f.changes && (R(f.changes, \"gutter\") > -1 && (h = !1), ur(e, f, c, r)), h && (T(f.lineNumber), f.lineNumber.appendChild(document.createTextNode(Qe(e.options, c)))), l = f.node.nextSibling;\n            } else {\n              var p = gr(e, f, c, r);\n              o.insertBefore(p, l);\n            }\n            c += f.size;\n          }\n\n          for (; l;) l = a(l);\n        }(e, r.updateLineNumbers, t.dims), u > 4 && (r.lineDiv.style.display = \"\"), r.renderedView = r.view, function (e) {\n          if (e && e.activeElt && e.activeElt != P() && (e.activeElt.focus(), e.anchorNode && D(document.body, e.anchorNode) && D(document.body, e.focusNode))) {\n            var t = window.getSelection(),\n                r = document.createRange();\n            r.setEnd(e.anchorNode, e.anchorOffset), r.collapse(!1), t.removeAllRanges(), t.addRange(r), t.extend(e.focusNode, e.focusOffset);\n          }\n        }(c), T(r.cursorDiv), T(r.selectionDiv), r.gutters.style.height = r.sizer.style.minHeight = 0, a && (r.lastWrapHeight = t.wrapperHeight, r.lastWrapWidth = t.wrapperWidth, ni(e, 400)), r.updateLineNumbers = null, !0;\n      }\n\n      function ai(e, t) {\n        for (var r = t.viewport, n = !0; (n && e.options.lineWrapping && t.oldDisplayWidth != Lr(e) || (r && null != r.top && (r = {\n          top: Math.min(e.doc.height + kr(e.display) - Tr(e), r.top)\n        }), t.visible = On(e.display, e.doc, r), !(t.visible.from >= e.display.viewFrom && t.visible.to <= e.display.viewTo))) && li(e, t); n = !1) {\n          Ln(e);\n          var i = zn(e);\n          gn(e), jn(e, i), ci(e, i), t.force = !1;\n        }\n\n        t.signal(e, \"update\", e), e.display.viewFrom == e.display.reportedViewFrom && e.display.viewTo == e.display.reportedViewTo || (t.signal(e, \"viewportChange\", e, e.display.viewFrom, e.display.viewTo), e.display.reportedViewFrom = e.display.viewFrom, e.display.reportedViewTo = e.display.viewTo);\n      }\n\n      function si(e, t) {\n        var r = new oi(e, t);\n\n        if (li(e, r)) {\n          Ln(e), ai(e, r);\n          var n = zn(e);\n          gn(e), jn(e, n), ci(e, n), r.finish();\n        }\n      }\n\n      function ui(e) {\n        var t = e.gutters.offsetWidth;\n        e.sizer.style.marginLeft = t + \"px\";\n      }\n\n      function ci(e, t) {\n        e.display.sizer.style.minHeight = t.docHeight + \"px\", e.display.heightForcer.style.top = t.docHeight + \"px\", e.display.gutters.style.height = t.docHeight + e.display.barHeight + Mr(e) + \"px\";\n      }\n\n      function di(e) {\n        var t = e.display,\n            r = t.view;\n\n        if (t.alignWidgets || t.gutters.firstChild && e.options.fixedGutter) {\n          for (var n = ln(t) - t.scroller.scrollLeft + e.doc.scrollLeft, i = t.gutters.offsetWidth, o = n + \"px\", l = 0; l < r.length; l++) if (!r[l].hidden) {\n            e.options.fixedGutter && (r[l].gutter && (r[l].gutter.style.left = o), r[l].gutterBackground && (r[l].gutterBackground.style.left = o));\n            var a = r[l].alignable;\n            if (a) for (var s = 0; s < a.length; s++) a[s].style.left = o;\n          }\n\n          e.options.fixedGutter && (t.gutters.style.left = n + i + \"px\");\n        }\n      }\n\n      function fi(e) {\n        if (!e.options.lineNumbers) return !1;\n        var t = e.doc,\n            r = Qe(e.options, t.first + t.size - 1),\n            n = e.display;\n\n        if (r.length != n.lineNumChars) {\n          var i = n.measure.appendChild(N(\"div\", [N(\"div\", r)], \"CodeMirror-linenumber CodeMirror-gutter-elt\")),\n              o = i.firstChild.offsetWidth,\n              l = i.offsetWidth - o;\n          return n.lineGutter.style.width = \"\", n.lineNumInnerWidth = Math.max(o, n.lineGutter.offsetWidth - l) + 1, n.lineNumWidth = n.lineNumInnerWidth + l, n.lineNumChars = n.lineNumInnerWidth ? r.length : -1, n.lineGutter.style.width = n.lineNumWidth + \"px\", ui(e.display), !0;\n        }\n\n        return !1;\n      }\n\n      function hi(e, t) {\n        for (var r = [], n = !1, i = 0; i < e.length; i++) {\n          var o = e[i],\n              l = null;\n\n          if (\"string\" != typeof o && (l = o.style, o = o.className), \"CodeMirror-linenumbers\" == o) {\n            if (!t) continue;\n            n = !0;\n          }\n\n          r.push({\n            className: o,\n            style: l\n          });\n        }\n\n        return t && !n && r.push({\n          className: \"CodeMirror-linenumbers\",\n          style: null\n        }), r;\n      }\n\n      function pi(e) {\n        var t = e.gutters,\n            r = e.gutterSpecs;\n        T(t), e.lineGutter = null;\n\n        for (var n = 0; n < r.length; ++n) {\n          var i = r[n],\n              o = i.className,\n              l = i.style,\n              a = t.appendChild(N(\"div\", null, \"CodeMirror-gutter \" + o));\n          l && (a.style.cssText = l), \"CodeMirror-linenumbers\" == o && (e.lineGutter = a, a.style.width = (e.lineNumWidth || 1) + \"px\");\n        }\n\n        t.style.display = r.length ? \"\" : \"none\", ui(e);\n      }\n\n      function vi(e) {\n        pi(e.display), dn(e), di(e);\n      }\n\n      function gi(e, t, n, i) {\n        var o = this;\n        this.input = n, o.scrollbarFiller = N(\"div\", null, \"CodeMirror-scrollbar-filler\"), o.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\"), o.gutterFiller = N(\"div\", null, \"CodeMirror-gutter-filler\"), o.gutterFiller.setAttribute(\"cm-not-content\", \"true\"), o.lineDiv = A(\"div\", null, \"CodeMirror-code\"), o.selectionDiv = N(\"div\", null, null, \"position: relative; z-index: 1\"), o.cursorDiv = N(\"div\", null, \"CodeMirror-cursors\"), o.measure = N(\"div\", null, \"CodeMirror-measure\"), o.lineMeasure = N(\"div\", null, \"CodeMirror-measure\"), o.lineSpace = A(\"div\", [o.measure, o.lineMeasure, o.selectionDiv, o.cursorDiv, o.lineDiv], null, \"position: relative; outline: none\");\n        var u = A(\"div\", [o.lineSpace], \"CodeMirror-lines\");\n        o.mover = N(\"div\", [u], null, \"position: relative\"), o.sizer = N(\"div\", [o.mover], \"CodeMirror-sizer\"), o.sizerWidth = null, o.heightForcer = N(\"div\", null, null, \"position: absolute; height: 30px; width: 1px;\"), o.gutters = N(\"div\", null, \"CodeMirror-gutters\"), o.lineGutter = null, o.scroller = N(\"div\", [o.sizer, o.heightForcer, o.gutters], \"CodeMirror-scroll\"), o.scroller.setAttribute(\"tabIndex\", \"-1\"), o.wrapper = N(\"div\", [o.scrollbarFiller, o.gutterFiller, o.scroller], \"CodeMirror\"), l && a < 8 && (o.gutters.style.zIndex = -1, o.scroller.style.paddingRight = 0), s || r && m || (o.scroller.draggable = !0), e && (e.appendChild ? e.appendChild(o.wrapper) : e(o.wrapper)), o.viewFrom = o.viewTo = t.first, o.reportedViewFrom = o.reportedViewTo = t.first, o.view = [], o.renderedView = null, o.externalMeasured = null, o.viewOffset = 0, o.lastWrapHeight = o.lastWrapWidth = 0, o.updateLineNumbers = null, o.nativeBarWidth = o.barHeight = o.barWidth = 0, o.scrollbarsClipped = !1, o.lineNumWidth = o.lineNumInnerWidth = o.lineNumChars = null, o.alignWidgets = !1, o.cachedCharWidth = o.cachedTextHeight = o.cachedPaddingH = null, o.maxLine = null, o.maxLineLength = 0, o.maxLineChanged = !1, o.wheelDX = o.wheelDY = o.wheelStartX = o.wheelStartY = null, o.shift = !1, o.selForContextMenu = null, o.activeTouch = null, o.gutterSpecs = hi(i.gutters, i.lineNumbers), pi(o), n.init(o);\n      }\n\n      oi.prototype.signal = function (e, t) {\n        me(e, t) && this.events.push(arguments);\n      }, oi.prototype.finish = function () {\n        for (var e = 0; e < this.events.length; e++) pe.apply(null, this.events[e]);\n      };\n      var mi = 0,\n          yi = null;\n\n      function bi(e) {\n        var t = e.wheelDeltaX,\n            r = e.wheelDeltaY;\n        return null == t && e.detail && e.axis == e.HORIZONTAL_AXIS && (t = e.detail), null == r && e.detail && e.axis == e.VERTICAL_AXIS ? r = e.detail : null == r && (r = e.wheelDelta), {\n          x: t,\n          y: r\n        };\n      }\n\n      function wi(e) {\n        var t = bi(e);\n        return t.x *= yi, t.y *= yi, t;\n      }\n\n      function xi(e, t) {\n        var n = bi(t),\n            i = n.x,\n            o = n.y,\n            l = e.display,\n            a = l.scroller,\n            u = a.scrollWidth > a.clientWidth,\n            c = a.scrollHeight > a.clientHeight;\n\n        if (i && u || o && c) {\n          if (o && y && s) e: for (var f = t.target, h = l.view; f != a; f = f.parentNode) for (var p = 0; p < h.length; p++) if (h[p].node == f) {\n            e.display.currentWheelTarget = f;\n            break e;\n          }\n          if (i && !r && !d && null != yi) return o && c && Wn(e, Math.max(0, a.scrollTop + o * yi)), Fn(e, Math.max(0, a.scrollLeft + i * yi)), (!o || o && c) && be(t), void (l.wheelStartX = null);\n\n          if (o && null != yi) {\n            var v = o * yi,\n                g = e.doc.scrollTop,\n                m = g + l.wrapper.clientHeight;\n            v < 0 ? g = Math.max(0, g + v - 50) : m = Math.min(e.doc.height, m + v + 50), si(e, {\n              top: g,\n              bottom: m\n            });\n          }\n\n          mi < 20 && (null == l.wheelStartX ? (l.wheelStartX = a.scrollLeft, l.wheelStartY = a.scrollTop, l.wheelDX = i, l.wheelDY = o, setTimeout(function () {\n            if (null != l.wheelStartX) {\n              var e = a.scrollLeft - l.wheelStartX,\n                  t = a.scrollTop - l.wheelStartY,\n                  r = t && l.wheelDY && t / l.wheelDY || e && l.wheelDX && e / l.wheelDX;\n              l.wheelStartX = l.wheelStartY = null, r && (yi = (yi * mi + r) / (mi + 1), ++mi);\n            }\n          }, 200)) : (l.wheelDX += i, l.wheelDY += o));\n        }\n      }\n\n      l ? yi = -.53 : r ? yi = 15 : c ? yi = -.7 : f && (yi = -1 / 3);\n\n      var Ci = function (e, t) {\n        this.ranges = e, this.primIndex = t;\n      };\n\n      Ci.prototype.primary = function () {\n        return this.ranges[this.primIndex];\n      }, Ci.prototype.equals = function (e) {\n        if (e == this) return !0;\n        if (e.primIndex != this.primIndex || e.ranges.length != this.ranges.length) return !1;\n\n        for (var t = 0; t < this.ranges.length; t++) {\n          var r = this.ranges[t],\n              n = e.ranges[t];\n          if (!rt(r.anchor, n.anchor) || !rt(r.head, n.head)) return !1;\n        }\n\n        return !0;\n      }, Ci.prototype.deepCopy = function () {\n        for (var e = [], t = 0; t < this.ranges.length; t++) e[t] = new ki(nt(this.ranges[t].anchor), nt(this.ranges[t].head));\n\n        return new Ci(e, this.primIndex);\n      }, Ci.prototype.somethingSelected = function () {\n        for (var e = 0; e < this.ranges.length; e++) if (!this.ranges[e].empty()) return !0;\n\n        return !1;\n      }, Ci.prototype.contains = function (e, t) {\n        t || (t = e);\n\n        for (var r = 0; r < this.ranges.length; r++) {\n          var n = this.ranges[r];\n          if (tt(t, n.from()) >= 0 && tt(e, n.to()) <= 0) return r;\n        }\n\n        return -1;\n      };\n\n      var ki = function (e, t) {\n        this.anchor = e, this.head = t;\n      };\n\n      function Si(e, t, r) {\n        var n = e && e.options.selectionsMayTouch,\n            i = t[r];\n        t.sort(function (e, t) {\n          return tt(e.from(), t.from());\n        }), r = R(t, i);\n\n        for (var o = 1; o < t.length; o++) {\n          var l = t[o],\n              a = t[o - 1],\n              s = tt(a.to(), l.from());\n\n          if (n && !l.empty() ? s > 0 : s >= 0) {\n            var u = ot(a.from(), l.from()),\n                c = it(a.to(), l.to()),\n                d = a.empty() ? l.from() == l.head : a.from() == a.head;\n            o <= r && --r, t.splice(--o, 2, new ki(d ? c : u, d ? u : c));\n          }\n        }\n\n        return new Ci(t, r);\n      }\n\n      function Mi(e, t) {\n        return new Ci([new ki(e, t || e)], 0);\n      }\n\n      function Li(e) {\n        return e.text ? et(e.from.line + e.text.length - 1, X(e.text).length + (1 == e.text.length ? e.from.ch : 0)) : e.to;\n      }\n\n      function Ti(e, t) {\n        if (tt(e, t.from) < 0) return e;\n        if (tt(e, t.to) <= 0) return Li(t);\n        var r = e.line + t.text.length - (t.to.line - t.from.line) - 1,\n            n = e.ch;\n        return e.line == t.to.line && (n += Li(t).ch - t.to.ch), et(r, n);\n      }\n\n      function Oi(e, t) {\n        for (var r = [], n = 0; n < e.sel.ranges.length; n++) {\n          var i = e.sel.ranges[n];\n          r.push(new ki(Ti(i.anchor, t), Ti(i.head, t)));\n        }\n\n        return Si(e.cm, r, e.sel.primIndex);\n      }\n\n      function Ni(e, t, r) {\n        return e.line == t.line ? et(r.line, e.ch - t.ch + r.ch) : et(r.line + (e.line - t.line), e.ch);\n      }\n\n      function Ai(e) {\n        e.doc.mode = _e(e.options, e.doc.modeOption), Di(e);\n      }\n\n      function Di(e) {\n        e.doc.iter(function (e) {\n          e.stateAfter && (e.stateAfter = null), e.styles && (e.styles = null);\n        }), e.doc.modeFrontier = e.doc.highlightFrontier = e.doc.first, ni(e, 100), e.state.modeGen++, e.curOp && dn(e);\n      }\n\n      function Pi(e, t) {\n        return 0 == t.from.ch && 0 == t.to.ch && \"\" == X(t.text) && (!e.cm || e.cm.options.wholeLineUpdateBefore);\n      }\n\n      function Ei(e, t, r, n) {\n        function i(e) {\n          return r ? r[e] : null;\n        }\n\n        function o(e, r, i) {\n          !function (e, t, r, n) {\n            e.text = t, e.stateAfter && (e.stateAfter = null), e.styles && (e.styles = null), null != e.order && (e.order = null), Ot(e), Nt(e, r);\n            var i = n ? n(e) : 1;\n            i != e.height && qe(e, i);\n          }(e, r, i, n), ar(e, \"change\", e, t);\n        }\n\n        function l(e, t) {\n          for (var r = [], o = e; o < t; ++o) r.push(new Kt(u[o], i(o), n));\n\n          return r;\n        }\n\n        var a = t.from,\n            s = t.to,\n            u = t.text,\n            c = Ke(e, a.line),\n            d = Ke(e, s.line),\n            f = X(u),\n            h = i(u.length - 1),\n            p = s.line - a.line;\n        if (t.full) e.insert(0, l(0, u.length)), e.remove(u.length, e.size - u.length);else if (Pi(e, t)) {\n          var v = l(0, u.length - 1);\n          o(d, d.text, h), p && e.remove(a.line, p), v.length && e.insert(a.line, v);\n        } else if (c == d) {\n          if (1 == u.length) o(c, c.text.slice(0, a.ch) + f + c.text.slice(s.ch), h);else {\n            var g = l(1, u.length - 1);\n            g.push(new Kt(f + c.text.slice(s.ch), h, n)), o(c, c.text.slice(0, a.ch) + u[0], i(0)), e.insert(a.line + 1, g);\n          }\n        } else if (1 == u.length) o(c, c.text.slice(0, a.ch) + u[0] + d.text.slice(s.ch), i(0)), e.remove(a.line + 1, p);else {\n          o(c, c.text.slice(0, a.ch) + u[0], i(0)), o(d, f + d.text.slice(s.ch), h);\n          var m = l(1, u.length - 1);\n          p > 1 && e.remove(a.line + 1, p - 1), e.insert(a.line + 1, m);\n        }\n        ar(e, \"change\", e, t);\n      }\n\n      function Hi(e, t, r) {\n        !function e(n, i, o) {\n          if (n.linked) for (var l = 0; l < n.linked.length; ++l) {\n            var a = n.linked[l];\n\n            if (a.doc != i) {\n              var s = o && a.sharedHist;\n              r && !s || (t(a.doc, s), e(a.doc, n, s));\n            }\n          }\n        }(e, null, !0);\n      }\n\n      function Wi(e, t) {\n        if (t.cm) throw new Error(\"This document is already in use.\");\n        e.doc = t, t.cm = e, sn(e), Ai(e), Ii(e), e.options.lineWrapping || Ut(e), e.options.mode = t.modeOption, dn(e);\n      }\n\n      function Ii(e) {\n        (\"rtl\" == e.doc.direction ? E : L)(e.display.lineDiv, \"CodeMirror-rtl\");\n      }\n\n      function Fi(e) {\n        this.done = [], this.undone = [], this.undoDepth = 1 / 0, this.lastModTime = this.lastSelTime = 0, this.lastOp = this.lastSelOp = null, this.lastOrigin = this.lastSelOrigin = null, this.generation = this.maxGeneration = e || 1;\n      }\n\n      function zi(e, t) {\n        var r = {\n          from: nt(t.from),\n          to: Li(t),\n          text: $e(e, t.from, t.to)\n        };\n        return Vi(e, r, t.from.line, t.to.line + 1), Hi(e, function (e) {\n          return Vi(e, r, t.from.line, t.to.line + 1);\n        }, !0), r;\n      }\n\n      function _i(e) {\n        for (; e.length && X(e).ranges;) e.pop();\n      }\n\n      function Ri(e, t, r, n) {\n        var i = e.history;\n        i.undone.length = 0;\n        var o,\n            l,\n            a = +new Date();\n        if ((i.lastOp == n || i.lastOrigin == t.origin && t.origin && (\"+\" == t.origin.charAt(0) && i.lastModTime > a - (e.cm ? e.cm.options.historyEventDelay : 500) || \"*\" == t.origin.charAt(0))) && (o = function (e, t) {\n          return t ? (_i(e.done), X(e.done)) : e.done.length && !X(e.done).ranges ? X(e.done) : e.done.length > 1 && !e.done[e.done.length - 2].ranges ? (e.done.pop(), X(e.done)) : void 0;\n        }(i, i.lastOp == n))) l = X(o.changes), 0 == tt(t.from, t.to) && 0 == tt(t.from, l.to) ? l.to = Li(t) : o.changes.push(zi(e, t));else {\n          var s = X(i.done);\n\n          for (s && s.ranges || Bi(e.sel, i.done), o = {\n            changes: [zi(e, t)],\n            generation: i.generation\n          }, i.done.push(o); i.done.length > i.undoDepth;) i.done.shift(), i.done[0].ranges || i.done.shift();\n        }\n        i.done.push(r), i.generation = ++i.maxGeneration, i.lastModTime = i.lastSelTime = a, i.lastOp = i.lastSelOp = n, i.lastOrigin = i.lastSelOrigin = t.origin, l || pe(e, \"historyAdded\");\n      }\n\n      function ji(e, t, r, n) {\n        var i = e.history,\n            o = n && n.origin;\n        r == i.lastSelOp || o && i.lastSelOrigin == o && (i.lastModTime == i.lastSelTime && i.lastOrigin == o || function (e, t, r, n) {\n          var i = t.charAt(0);\n          return \"*\" == i || \"+\" == i && r.ranges.length == n.ranges.length && r.somethingSelected() == n.somethingSelected() && new Date() - e.history.lastSelTime <= (e.cm ? e.cm.options.historyEventDelay : 500);\n        }(e, o, X(i.done), t)) ? i.done[i.done.length - 1] = t : Bi(t, i.done), i.lastSelTime = +new Date(), i.lastSelOrigin = o, i.lastSelOp = r, n && !1 !== n.clearRedo && _i(i.undone);\n      }\n\n      function Bi(e, t) {\n        var r = X(t);\n        r && r.ranges && r.equals(e) || t.push(e);\n      }\n\n      function Vi(e, t, r, n) {\n        var i = t[\"spans_\" + e.id],\n            o = 0;\n        e.iter(Math.max(e.first, r), Math.min(e.first + e.size, n), function (r) {\n          r.markedSpans && ((i || (i = t[\"spans_\" + e.id] = {}))[o] = r.markedSpans), ++o;\n        });\n      }\n\n      function Gi(e) {\n        if (!e) return null;\n\n        for (var t, r = 0; r < e.length; ++r) e[r].marker.explicitlyCleared ? t || (t = e.slice(0, r)) : t && t.push(e[r]);\n\n        return t ? t.length ? t : null : e;\n      }\n\n      function Ui(e, t) {\n        var r = function (e, t) {\n          var r = t[\"spans_\" + e.id];\n          if (!r) return null;\n\n          for (var n = [], i = 0; i < t.text.length; ++i) n.push(Gi(r[i]));\n\n          return n;\n        }(e, t),\n            n = Lt(e, t);\n\n        if (!r) return n;\n        if (!n) return r;\n\n        for (var i = 0; i < r.length; ++i) {\n          var o = r[i],\n              l = n[i];\n          if (o && l) e: for (var a = 0; a < l.length; ++a) {\n            for (var s = l[a], u = 0; u < o.length; ++u) if (o[u].marker == s.marker) continue e;\n\n            o.push(s);\n          } else l && (r[i] = l);\n        }\n\n        return r;\n      }\n\n      function Ki(e, t, r) {\n        for (var n = [], i = 0; i < e.length; ++i) {\n          var o = e[i];\n          if (o.ranges) n.push(r ? Ci.prototype.deepCopy.call(o) : o);else {\n            var l = o.changes,\n                a = [];\n            n.push({\n              changes: a\n            });\n\n            for (var s = 0; s < l.length; ++s) {\n              var u = l[s],\n                  c = void 0;\n              if (a.push({\n                from: u.from,\n                to: u.to,\n                text: u.text\n              }), t) for (var d in u) (c = d.match(/^spans_(\\d+)$/)) && R(t, Number(c[1])) > -1 && (X(a)[d] = u[d], delete u[d]);\n            }\n          }\n        }\n\n        return n;\n      }\n\n      function $i(e, t, r, n) {\n        if (n) {\n          var i = e.anchor;\n\n          if (r) {\n            var o = tt(t, i) < 0;\n            o != tt(r, i) < 0 ? (i = t, t = r) : o != tt(t, r) < 0 && (t = r);\n          }\n\n          return new ki(i, t);\n        }\n\n        return new ki(r || t, t);\n      }\n\n      function Xi(e, t, r, n, i) {\n        null == i && (i = e.cm && (e.cm.display.shift || e.extend)), Qi(e, new Ci([$i(e.sel.primary(), t, r, i)], 0), n);\n      }\n\n      function qi(e, t, r) {\n        for (var n = [], i = e.cm && (e.cm.display.shift || e.extend), o = 0; o < e.sel.ranges.length; o++) n[o] = $i(e.sel.ranges[o], t[o], null, i);\n\n        Qi(e, Si(e.cm, n, e.sel.primIndex), r);\n      }\n\n      function Yi(e, t, r, n) {\n        var i = e.sel.ranges.slice(0);\n        i[t] = r, Qi(e, Si(e.cm, i, e.sel.primIndex), n);\n      }\n\n      function Zi(e, t, r, n) {\n        Qi(e, Mi(t, r), n);\n      }\n\n      function Ji(e, t, r) {\n        var n = e.history.done,\n            i = X(n);\n        i && i.ranges ? (n[n.length - 1] = t, eo(e, t, r)) : Qi(e, t, r);\n      }\n\n      function Qi(e, t, r) {\n        eo(e, t, r), ji(e, e.sel, e.cm ? e.cm.curOp.id : NaN, r);\n      }\n\n      function eo(e, t, r) {\n        (me(e, \"beforeSelectionChange\") || e.cm && me(e.cm, \"beforeSelectionChange\")) && (t = function (e, t, r) {\n          var n = {\n            ranges: t.ranges,\n            update: function (t) {\n              this.ranges = [];\n\n              for (var r = 0; r < t.length; r++) this.ranges[r] = new ki(at(e, t[r].anchor), at(e, t[r].head));\n            },\n            origin: r && r.origin\n          };\n          return pe(e, \"beforeSelectionChange\", e, n), e.cm && pe(e.cm, \"beforeSelectionChange\", e.cm, n), n.ranges != t.ranges ? Si(e.cm, n.ranges, n.ranges.length - 1) : t;\n        }(e, t, r));\n        var n = r && r.bias || (tt(t.primary().head, e.sel.primary().head) < 0 ? -1 : 1);\n        to(e, no(e, t, n, !0)), r && !1 === r.scroll || !e.cm || Dn(e.cm);\n      }\n\n      function to(e, t) {\n        t.equals(e.sel) || (e.sel = t, e.cm && (e.cm.curOp.updateInput = 1, e.cm.curOp.selectionChanged = !0, ge(e.cm)), ar(e, \"cursorActivity\", e));\n      }\n\n      function ro(e) {\n        to(e, no(e, e.sel, null, !1));\n      }\n\n      function no(e, t, r, n) {\n        for (var i, o = 0; o < t.ranges.length; o++) {\n          var l = t.ranges[o],\n              a = t.ranges.length == e.sel.ranges.length && e.sel.ranges[o],\n              s = oo(e, l.anchor, a && a.anchor, r, n),\n              u = oo(e, l.head, a && a.head, r, n);\n          (i || s != l.anchor || u != l.head) && (i || (i = t.ranges.slice(0, o)), i[o] = new ki(s, u));\n        }\n\n        return i ? Si(e.cm, i, t.primIndex) : t;\n      }\n\n      function io(e, t, r, n, i) {\n        var o = Ke(e, t.line);\n        if (o.markedSpans) for (var l = 0; l < o.markedSpans.length; ++l) {\n          var a = o.markedSpans[l],\n              s = a.marker,\n              u = \"selectLeft\" in s ? !s.selectLeft : s.inclusiveLeft,\n              c = \"selectRight\" in s ? !s.selectRight : s.inclusiveRight;\n\n          if ((null == a.from || (u ? a.from <= t.ch : a.from < t.ch)) && (null == a.to || (c ? a.to >= t.ch : a.to > t.ch))) {\n            if (i && (pe(s, \"beforeCursorEnter\"), s.explicitlyCleared)) {\n              if (o.markedSpans) {\n                --l;\n                continue;\n              }\n\n              break;\n            }\n\n            if (!s.atomic) continue;\n\n            if (r) {\n              var d = s.find(n < 0 ? 1 : -1),\n                  f = void 0;\n              if ((n < 0 ? c : u) && (d = lo(e, d, -n, d && d.line == t.line ? o : null)), d && d.line == t.line && (f = tt(d, r)) && (n < 0 ? f < 0 : f > 0)) return io(e, d, t, n, i);\n            }\n\n            var h = s.find(n < 0 ? -1 : 1);\n            return (n < 0 ? u : c) && (h = lo(e, h, n, h.line == t.line ? o : null)), h ? io(e, h, t, n, i) : null;\n          }\n        }\n        return t;\n      }\n\n      function oo(e, t, r, n, i) {\n        var o = n || 1,\n            l = io(e, t, r, o, i) || !i && io(e, t, r, o, !0) || io(e, t, r, -o, i) || !i && io(e, t, r, -o, !0);\n        return l || (e.cantEdit = !0, et(e.first, 0));\n      }\n\n      function lo(e, t, r, n) {\n        return r < 0 && 0 == t.ch ? t.line > e.first ? at(e, et(t.line - 1)) : null : r > 0 && t.ch == (n || Ke(e, t.line)).text.length ? t.line < e.first + e.size - 1 ? et(t.line + 1, 0) : null : new et(t.line, t.ch + r);\n      }\n\n      function ao(e) {\n        e.setSelection(et(e.firstLine(), 0), et(e.lastLine()), B);\n      }\n\n      function so(e, t, r) {\n        var n = {\n          canceled: !1,\n          from: t.from,\n          to: t.to,\n          text: t.text,\n          origin: t.origin,\n          cancel: function () {\n            return n.canceled = !0;\n          }\n        };\n        return r && (n.update = function (t, r, i, o) {\n          t && (n.from = at(e, t)), r && (n.to = at(e, r)), i && (n.text = i), void 0 !== o && (n.origin = o);\n        }), pe(e, \"beforeChange\", e, n), e.cm && pe(e.cm, \"beforeChange\", e.cm, n), n.canceled ? (e.cm && (e.cm.curOp.updateInput = 2), null) : {\n          from: n.from,\n          to: n.to,\n          text: n.text,\n          origin: n.origin\n        };\n      }\n\n      function uo(e, t, r) {\n        if (e.cm) {\n          if (!e.cm.curOp) return ei(e.cm, uo)(e, t, r);\n          if (e.cm.state.suppressEdits) return;\n        }\n\n        if (!(me(e, \"beforeChange\") || e.cm && me(e.cm, \"beforeChange\")) || (t = so(e, t, !0))) {\n          var n = xt && !r && function (e, t, r) {\n            var n = null;\n            if (e.iter(t.line, r.line + 1, function (e) {\n              if (e.markedSpans) for (var t = 0; t < e.markedSpans.length; ++t) {\n                var r = e.markedSpans[t].marker;\n                !r.readOnly || n && -1 != R(n, r) || (n || (n = [])).push(r);\n              }\n            }), !n) return null;\n\n            for (var i = [{\n              from: t,\n              to: r\n            }], o = 0; o < n.length; ++o) for (var l = n[o], a = l.find(0), s = 0; s < i.length; ++s) {\n              var u = i[s];\n\n              if (!(tt(u.to, a.from) < 0 || tt(u.from, a.to) > 0)) {\n                var c = [s, 1],\n                    d = tt(u.from, a.from),\n                    f = tt(u.to, a.to);\n                (d < 0 || !l.inclusiveLeft && !d) && c.push({\n                  from: u.from,\n                  to: a.from\n                }), (f > 0 || !l.inclusiveRight && !f) && c.push({\n                  from: a.to,\n                  to: u.to\n                }), i.splice.apply(i, c), s += c.length - 3;\n              }\n            }\n\n            return i;\n          }(e, t.from, t.to);\n\n          if (n) for (var i = n.length - 1; i >= 0; --i) co(e, {\n            from: n[i].from,\n            to: n[i].to,\n            text: i ? [\"\"] : t.text,\n            origin: t.origin\n          });else co(e, t);\n        }\n      }\n\n      function co(e, t) {\n        if (1 != t.text.length || \"\" != t.text[0] || 0 != tt(t.from, t.to)) {\n          var r = Oi(e, t);\n          Ri(e, t, r, e.cm ? e.cm.curOp.id : NaN), po(e, t, r, Lt(e, t));\n          var n = [];\n          Hi(e, function (e, r) {\n            r || -1 != R(n, e.history) || (yo(e.history, t), n.push(e.history)), po(e, t, null, Lt(e, t));\n          });\n        }\n      }\n\n      function fo(e, t, r) {\n        var n = e.cm && e.cm.state.suppressEdits;\n\n        if (!n || r) {\n          for (var i, o = e.history, l = e.sel, a = \"undo\" == t ? o.done : o.undone, s = \"undo\" == t ? o.undone : o.done, u = 0; u < a.length && (i = a[u], r ? !i.ranges || i.equals(e.sel) : i.ranges); u++);\n\n          if (u != a.length) {\n            for (o.lastOrigin = o.lastSelOrigin = null;;) {\n              if (!(i = a.pop()).ranges) {\n                if (n) return void a.push(i);\n                break;\n              }\n\n              if (Bi(i, s), r && !i.equals(e.sel)) return void Qi(e, i, {\n                clearRedo: !1\n              });\n              l = i;\n            }\n\n            var c = [];\n            Bi(l, s), s.push({\n              changes: c,\n              generation: o.generation\n            }), o.generation = i.generation || ++o.maxGeneration;\n\n            for (var d = me(e, \"beforeChange\") || e.cm && me(e.cm, \"beforeChange\"), f = function (r) {\n              var n = i.changes[r];\n              if (n.origin = t, d && !so(e, n, !1)) return a.length = 0, {};\n              c.push(zi(e, n));\n              var o = r ? Oi(e, n) : X(a);\n              po(e, n, o, Ui(e, n)), !r && e.cm && e.cm.scrollIntoView({\n                from: n.from,\n                to: Li(n)\n              });\n              var l = [];\n              Hi(e, function (e, t) {\n                t || -1 != R(l, e.history) || (yo(e.history, n), l.push(e.history)), po(e, n, null, Ui(e, n));\n              });\n            }, h = i.changes.length - 1; h >= 0; --h) {\n              var p = f(h);\n              if (p) return p.v;\n            }\n          }\n        }\n      }\n\n      function ho(e, t) {\n        if (0 != t && (e.first += t, e.sel = new Ci(q(e.sel.ranges, function (e) {\n          return new ki(et(e.anchor.line + t, e.anchor.ch), et(e.head.line + t, e.head.ch));\n        }), e.sel.primIndex), e.cm)) {\n          dn(e.cm, e.first, e.first - t, t);\n\n          for (var r = e.cm.display, n = r.viewFrom; n < r.viewTo; n++) fn(e.cm, n, \"gutter\");\n        }\n      }\n\n      function po(e, t, r, n) {\n        if (e.cm && !e.cm.curOp) return ei(e.cm, po)(e, t, r, n);\n        if (t.to.line < e.first) ho(e, t.text.length - 1 - (t.to.line - t.from.line));else if (!(t.from.line > e.lastLine())) {\n          if (t.from.line < e.first) {\n            var i = t.text.length - 1 - (e.first - t.from.line);\n            ho(e, i), t = {\n              from: et(e.first, 0),\n              to: et(t.to.line + i, t.to.ch),\n              text: [X(t.text)],\n              origin: t.origin\n            };\n          }\n\n          var o = e.lastLine();\n          t.to.line > o && (t = {\n            from: t.from,\n            to: et(o, Ke(e, o).text.length),\n            text: [t.text[0]],\n            origin: t.origin\n          }), t.removed = $e(e, t.from, t.to), r || (r = Oi(e, t)), e.cm ? function (e, t, r) {\n            var n = e.doc,\n                i = e.display,\n                o = t.from,\n                l = t.to,\n                a = !1,\n                s = o.line;\n            e.options.lineWrapping || (s = Ye(zt(Ke(n, o.line))), n.iter(s, l.line + 1, function (e) {\n              if (e == i.maxLine) return a = !0, !0;\n            })), n.sel.contains(t.from, t.to) > -1 && ge(e), Ei(n, t, r, an(e)), e.options.lineWrapping || (n.iter(s, o.line + t.text.length, function (e) {\n              var t = Gt(e);\n              t > i.maxLineLength && (i.maxLine = e, i.maxLineLength = t, i.maxLineChanged = !0, a = !1);\n            }), a && (e.curOp.updateMaxLine = !0)), function (e, t) {\n              if (e.modeFrontier = Math.min(e.modeFrontier, t), !(e.highlightFrontier < t - 10)) {\n                for (var r = e.first, n = t - 1; n > r; n--) {\n                  var i = Ke(e, n).stateAfter;\n\n                  if (i && (!(i instanceof ut) || n + i.lookAhead < t)) {\n                    r = n + 1;\n                    break;\n                  }\n                }\n\n                e.highlightFrontier = Math.min(e.highlightFrontier, r);\n              }\n            }(n, o.line), ni(e, 400);\n            var u = t.text.length - (l.line - o.line) - 1;\n            t.full ? dn(e) : o.line != l.line || 1 != t.text.length || Pi(e.doc, t) ? dn(e, o.line, l.line + 1, u) : fn(e, o.line, \"text\");\n            var c = me(e, \"changes\"),\n                d = me(e, \"change\");\n\n            if (d || c) {\n              var f = {\n                from: o,\n                to: l,\n                text: t.text,\n                removed: t.removed,\n                origin: t.origin\n              };\n              d && ar(e, \"change\", e, f), c && (e.curOp.changeObjs || (e.curOp.changeObjs = [])).push(f);\n            }\n\n            e.display.selForContextMenu = null;\n          }(e.cm, t, n) : Ei(e, t, n), eo(e, r, B), e.cantEdit && oo(e, et(e.firstLine(), 0)) && (e.cantEdit = !1);\n        }\n      }\n\n      function vo(e, t, r, n, i) {\n        var o;\n        n || (n = r), tt(n, r) < 0 && (r = (o = [n, r])[0], n = o[1]), \"string\" == typeof t && (t = e.splitLines(t)), uo(e, {\n          from: r,\n          to: n,\n          text: t,\n          origin: i\n        });\n      }\n\n      function go(e, t, r, n) {\n        r < e.line ? e.line += n : t < e.line && (e.line = t, e.ch = 0);\n      }\n\n      function mo(e, t, r, n) {\n        for (var i = 0; i < e.length; ++i) {\n          var o = e[i],\n              l = !0;\n\n          if (o.ranges) {\n            o.copied || ((o = e[i] = o.deepCopy()).copied = !0);\n\n            for (var a = 0; a < o.ranges.length; a++) go(o.ranges[a].anchor, t, r, n), go(o.ranges[a].head, t, r, n);\n          } else {\n            for (var s = 0; s < o.changes.length; ++s) {\n              var u = o.changes[s];\n              if (r < u.from.line) u.from = et(u.from.line + n, u.from.ch), u.to = et(u.to.line + n, u.to.ch);else if (t <= u.to.line) {\n                l = !1;\n                break;\n              }\n            }\n\n            l || (e.splice(0, i + 1), i = 0);\n          }\n        }\n      }\n\n      function yo(e, t) {\n        var r = t.from.line,\n            n = t.to.line,\n            i = t.text.length - (n - r) - 1;\n        mo(e.done, r, n, i), mo(e.undone, r, n, i);\n      }\n\n      function bo(e, t, r, n) {\n        var i = t,\n            o = t;\n        return \"number\" == typeof t ? o = Ke(e, lt(e, t)) : i = Ye(t), null == i ? null : (n(o, i) && e.cm && fn(e.cm, i, r), o);\n      }\n\n      function wo(e) {\n        this.lines = e, this.parent = null;\n\n        for (var t = 0, r = 0; r < e.length; ++r) e[r].parent = this, t += e[r].height;\n\n        this.height = t;\n      }\n\n      function xo(e) {\n        this.children = e;\n\n        for (var t = 0, r = 0, n = 0; n < e.length; ++n) {\n          var i = e[n];\n          t += i.chunkSize(), r += i.height, i.parent = this;\n        }\n\n        this.size = t, this.height = r, this.parent = null;\n      }\n\n      ki.prototype.from = function () {\n        return ot(this.anchor, this.head);\n      }, ki.prototype.to = function () {\n        return it(this.anchor, this.head);\n      }, ki.prototype.empty = function () {\n        return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch;\n      }, wo.prototype = {\n        chunkSize: function () {\n          return this.lines.length;\n        },\n        removeInner: function (e, t) {\n          for (var r = e, n = e + t; r < n; ++r) {\n            var i = this.lines[r];\n            this.height -= i.height, $t(i), ar(i, \"delete\");\n          }\n\n          this.lines.splice(e, t);\n        },\n        collapse: function (e) {\n          e.push.apply(e, this.lines);\n        },\n        insertInner: function (e, t, r) {\n          this.height += r, this.lines = this.lines.slice(0, e).concat(t).concat(this.lines.slice(e));\n\n          for (var n = 0; n < t.length; ++n) t[n].parent = this;\n        },\n        iterN: function (e, t, r) {\n          for (var n = e + t; e < n; ++e) if (r(this.lines[e])) return !0;\n        }\n      }, xo.prototype = {\n        chunkSize: function () {\n          return this.size;\n        },\n        removeInner: function (e, t) {\n          this.size -= t;\n\n          for (var r = 0; r < this.children.length; ++r) {\n            var n = this.children[r],\n                i = n.chunkSize();\n\n            if (e < i) {\n              var o = Math.min(t, i - e),\n                  l = n.height;\n              if (n.removeInner(e, o), this.height -= l - n.height, i == o && (this.children.splice(r--, 1), n.parent = null), 0 == (t -= o)) break;\n              e = 0;\n            } else e -= i;\n          }\n\n          if (this.size - t < 25 && (this.children.length > 1 || !(this.children[0] instanceof wo))) {\n            var a = [];\n            this.collapse(a), this.children = [new wo(a)], this.children[0].parent = this;\n          }\n        },\n        collapse: function (e) {\n          for (var t = 0; t < this.children.length; ++t) this.children[t].collapse(e);\n        },\n        insertInner: function (e, t, r) {\n          this.size += t.length, this.height += r;\n\n          for (var n = 0; n < this.children.length; ++n) {\n            var i = this.children[n],\n                o = i.chunkSize();\n\n            if (e <= o) {\n              if (i.insertInner(e, t, r), i.lines && i.lines.length > 50) {\n                for (var l = i.lines.length % 25 + 25, a = l; a < i.lines.length;) {\n                  var s = new wo(i.lines.slice(a, a += 25));\n                  i.height -= s.height, this.children.splice(++n, 0, s), s.parent = this;\n                }\n\n                i.lines = i.lines.slice(0, l), this.maybeSpill();\n              }\n\n              break;\n            }\n\n            e -= o;\n          }\n        },\n        maybeSpill: function () {\n          if (!(this.children.length <= 10)) {\n            var e = this;\n\n            do {\n              var t = new xo(e.children.splice(e.children.length - 5, 5));\n\n              if (e.parent) {\n                e.size -= t.size, e.height -= t.height;\n                var r = R(e.parent.children, e);\n                e.parent.children.splice(r + 1, 0, t);\n              } else {\n                var n = new xo(e.children);\n                n.parent = e, e.children = [n, t], e = n;\n              }\n\n              t.parent = e.parent;\n            } while (e.children.length > 10);\n\n            e.parent.maybeSpill();\n          }\n        },\n        iterN: function (e, t, r) {\n          for (var n = 0; n < this.children.length; ++n) {\n            var i = this.children[n],\n                o = i.chunkSize();\n\n            if (e < o) {\n              var l = Math.min(t, o - e);\n              if (i.iterN(e, l, r)) return !0;\n              if (0 == (t -= l)) break;\n              e = 0;\n            } else e -= o;\n          }\n        }\n      };\n\n      var Co = function (e, t, r) {\n        if (r) for (var n in r) r.hasOwnProperty(n) && (this[n] = r[n]);\n        this.doc = e, this.node = t;\n      };\n\n      function ko(e, t, r) {\n        Vt(t) < (e.curOp && e.curOp.scrollTop || e.doc.scrollTop) && An(e, r);\n      }\n\n      Co.prototype.clear = function () {\n        var e = this.doc.cm,\n            t = this.line.widgets,\n            r = this.line,\n            n = Ye(r);\n\n        if (null != n && t) {\n          for (var i = 0; i < t.length; ++i) t[i] == this && t.splice(i--, 1);\n\n          t.length || (r.widgets = null);\n          var o = wr(this);\n          qe(r, Math.max(0, r.height - o)), e && (Qn(e, function () {\n            ko(e, r, -o), fn(e, n, \"widget\");\n          }), ar(e, \"lineWidgetCleared\", e, this, n));\n        }\n      }, Co.prototype.changed = function () {\n        var e = this,\n            t = this.height,\n            r = this.doc.cm,\n            n = this.line;\n        this.height = null;\n        var i = wr(this) - t;\n        i && (jt(this.doc, n) || qe(n, n.height + i), r && Qn(r, function () {\n          r.curOp.forceUpdate = !0, ko(r, n, i), ar(r, \"lineWidgetChanged\", r, e, Ye(n));\n        }));\n      }, ye(Co);\n\n      var So = 0,\n          Mo = function (e, t) {\n        this.lines = [], this.type = t, this.doc = e, this.id = ++So;\n      };\n\n      function Lo(e, t, r, n, i) {\n        if (n && n.shared) return function (e, t, r, n, i) {\n          (n = F(n)).shared = !1;\n          var o = [Lo(e, t, r, n, i)],\n              l = o[0],\n              a = n.widgetNode;\n          return Hi(e, function (e) {\n            a && (n.widgetNode = a.cloneNode(!0)), o.push(Lo(e, at(e, t), at(e, r), n, i));\n\n            for (var s = 0; s < e.linked.length; ++s) if (e.linked[s].isParent) return;\n\n            l = X(o);\n          }), new To(o, l);\n        }(e, t, r, n, i);\n        if (e.cm && !e.cm.curOp) return ei(e.cm, Lo)(e, t, r, n, i);\n        var o = new Mo(e, i),\n            l = tt(t, r);\n        if (n && F(n, o, !1), l > 0 || 0 == l && !1 !== o.clearWhenEmpty) return o;\n\n        if (o.replacedWith && (o.collapsed = !0, o.widgetNode = A(\"span\", [o.replacedWith], \"CodeMirror-widget\"), n.handleMouseEvents || o.widgetNode.setAttribute(\"cm-ignore-events\", \"true\"), n.insertLeft && (o.widgetNode.insertLeft = !0)), o.collapsed) {\n          if (Ft(e, t.line, t, r, o) || t.line != r.line && Ft(e, r.line, t, r, o)) throw new Error(\"Inserting collapsed marker partially overlapping an existing one\");\n          Ct = !0;\n        }\n\n        o.addToHistory && Ri(e, {\n          from: t,\n          to: r,\n          origin: \"markText\"\n        }, e.sel, NaN);\n        var a,\n            s = t.line,\n            u = e.cm;\n\n        if (e.iter(s, r.line + 1, function (e) {\n          u && o.collapsed && !u.options.lineWrapping && zt(e) == u.display.maxLine && (a = !0), o.collapsed && s != t.line && qe(e, 0), function (e, t) {\n            e.markedSpans = e.markedSpans ? e.markedSpans.concat([t]) : [t], t.marker.attachLine(e);\n          }(e, new kt(o, s == t.line ? t.ch : null, s == r.line ? r.ch : null)), ++s;\n        }), o.collapsed && e.iter(t.line, r.line + 1, function (t) {\n          jt(e, t) && qe(t, 0);\n        }), o.clearOnEnter && de(o, \"beforeCursorEnter\", function () {\n          return o.clear();\n        }), o.readOnly && (xt = !0, (e.history.done.length || e.history.undone.length) && e.clearHistory()), o.collapsed && (o.id = ++So, o.atomic = !0), u) {\n          if (a && (u.curOp.updateMaxLine = !0), o.collapsed) dn(u, t.line, r.line + 1);else if (o.className || o.startStyle || o.endStyle || o.css || o.attributes || o.title) for (var c = t.line; c <= r.line; c++) fn(u, c, \"text\");\n          o.atomic && ro(u.doc), ar(u, \"markerAdded\", u, o);\n        }\n\n        return o;\n      }\n\n      Mo.prototype.clear = function () {\n        if (!this.explicitlyCleared) {\n          var e = this.doc.cm,\n              t = e && !e.curOp;\n\n          if (t && Kn(e), me(this, \"clear\")) {\n            var r = this.find();\n            r && ar(this, \"clear\", r.from, r.to);\n          }\n\n          for (var n = null, i = null, o = 0; o < this.lines.length; ++o) {\n            var l = this.lines[o],\n                a = St(l.markedSpans, this);\n            e && !this.collapsed ? fn(e, Ye(l), \"text\") : e && (null != a.to && (i = Ye(l)), null != a.from && (n = Ye(l))), l.markedSpans = Mt(l.markedSpans, a), null == a.from && this.collapsed && !jt(this.doc, l) && e && qe(l, rn(e.display));\n          }\n\n          if (e && this.collapsed && !e.options.lineWrapping) for (var s = 0; s < this.lines.length; ++s) {\n            var u = zt(this.lines[s]),\n                c = Gt(u);\n            c > e.display.maxLineLength && (e.display.maxLine = u, e.display.maxLineLength = c, e.display.maxLineChanged = !0);\n          }\n          null != n && e && this.collapsed && dn(e, n, i + 1), this.lines.length = 0, this.explicitlyCleared = !0, this.atomic && this.doc.cantEdit && (this.doc.cantEdit = !1, e && ro(e.doc)), e && ar(e, \"markerCleared\", e, this, n, i), t && $n(e), this.parent && this.parent.clear();\n        }\n      }, Mo.prototype.find = function (e, t) {\n        var r, n;\n        null == e && \"bookmark\" == this.type && (e = 1);\n\n        for (var i = 0; i < this.lines.length; ++i) {\n          var o = this.lines[i],\n              l = St(o.markedSpans, this);\n          if (null != l.from && (r = et(t ? o : Ye(o), l.from), -1 == e)) return r;\n          if (null != l.to && (n = et(t ? o : Ye(o), l.to), 1 == e)) return n;\n        }\n\n        return r && {\n          from: r,\n          to: n\n        };\n      }, Mo.prototype.changed = function () {\n        var e = this,\n            t = this.find(-1, !0),\n            r = this,\n            n = this.doc.cm;\n        t && n && Qn(n, function () {\n          var i = t.line,\n              o = Ye(t.line),\n              l = Ar(n, o);\n\n          if (l && (Fr(l), n.curOp.selectionChanged = n.curOp.forceUpdate = !0), n.curOp.updateMaxLine = !0, !jt(r.doc, i) && null != r.height) {\n            var a = r.height;\n            r.height = null;\n            var s = wr(r) - a;\n            s && qe(i, i.height + s);\n          }\n\n          ar(n, \"markerChanged\", n, e);\n        });\n      }, Mo.prototype.attachLine = function (e) {\n        if (!this.lines.length && this.doc.cm) {\n          var t = this.doc.cm.curOp;\n          t.maybeHiddenMarkers && -1 != R(t.maybeHiddenMarkers, this) || (t.maybeUnhiddenMarkers || (t.maybeUnhiddenMarkers = [])).push(this);\n        }\n\n        this.lines.push(e);\n      }, Mo.prototype.detachLine = function (e) {\n        if (this.lines.splice(R(this.lines, e), 1), !this.lines.length && this.doc.cm) {\n          var t = this.doc.cm.curOp;\n          (t.maybeHiddenMarkers || (t.maybeHiddenMarkers = [])).push(this);\n        }\n      }, ye(Mo);\n\n      var To = function (e, t) {\n        this.markers = e, this.primary = t;\n\n        for (var r = 0; r < e.length; ++r) e[r].parent = this;\n      };\n\n      function Oo(e) {\n        return e.findMarks(et(e.first, 0), e.clipPos(et(e.lastLine())), function (e) {\n          return e.parent;\n        });\n      }\n\n      function No(e) {\n        for (var t = function (t) {\n          var r = e[t],\n              n = [r.primary.doc];\n          Hi(r.primary.doc, function (e) {\n            return n.push(e);\n          });\n\n          for (var i = 0; i < r.markers.length; i++) {\n            var o = r.markers[i];\n            -1 == R(n, o.doc) && (o.parent = null, r.markers.splice(i--, 1));\n          }\n        }, r = 0; r < e.length; r++) t(r);\n      }\n\n      To.prototype.clear = function () {\n        if (!this.explicitlyCleared) {\n          this.explicitlyCleared = !0;\n\n          for (var e = 0; e < this.markers.length; ++e) this.markers[e].clear();\n\n          ar(this, \"clear\");\n        }\n      }, To.prototype.find = function (e, t) {\n        return this.primary.find(e, t);\n      }, ye(To);\n\n      var Ao = 0,\n          Do = function (e, t, r, n, i) {\n        if (!(this instanceof Do)) return new Do(e, t, r, n, i);\n        null == r && (r = 0), xo.call(this, [new wo([new Kt(\"\", null)])]), this.first = r, this.scrollTop = this.scrollLeft = 0, this.cantEdit = !1, this.cleanGeneration = 1, this.modeFrontier = this.highlightFrontier = r;\n        var o = et(r, 0);\n        this.sel = Mi(o), this.history = new Fi(null), this.id = ++Ao, this.modeOption = t, this.lineSep = n, this.direction = \"rtl\" == i ? \"rtl\" : \"ltr\", this.extend = !1, \"string\" == typeof e && (e = this.splitLines(e)), Ei(this, {\n          from: o,\n          to: o,\n          text: e\n        }), Qi(this, Mi(o), B);\n      };\n\n      Do.prototype = Z(xo.prototype, {\n        constructor: Do,\n        iter: function (e, t, r) {\n          r ? this.iterN(e - this.first, t - e, r) : this.iterN(this.first, this.first + this.size, e);\n        },\n        insert: function (e, t) {\n          for (var r = 0, n = 0; n < t.length; ++n) r += t[n].height;\n\n          this.insertInner(e - this.first, t, r);\n        },\n        remove: function (e, t) {\n          this.removeInner(e - this.first, t);\n        },\n        getValue: function (e) {\n          var t = Xe(this, this.first, this.first + this.size);\n          return !1 === e ? t : t.join(e || this.lineSeparator());\n        },\n        setValue: ri(function (e) {\n          var t = et(this.first, 0),\n              r = this.first + this.size - 1;\n          uo(this, {\n            from: t,\n            to: et(r, Ke(this, r).text.length),\n            text: this.splitLines(e),\n            origin: \"setValue\",\n            full: !0\n          }, !0), this.cm && Pn(this.cm, 0, 0), Qi(this, Mi(t), B);\n        }),\n        replaceRange: function (e, t, r, n) {\n          vo(this, e, t = at(this, t), r = r ? at(this, r) : t, n);\n        },\n        getRange: function (e, t, r) {\n          var n = $e(this, at(this, e), at(this, t));\n          return !1 === r ? n : n.join(r || this.lineSeparator());\n        },\n        getLine: function (e) {\n          var t = this.getLineHandle(e);\n          return t && t.text;\n        },\n        getLineHandle: function (e) {\n          if (Je(this, e)) return Ke(this, e);\n        },\n        getLineNumber: function (e) {\n          return Ye(e);\n        },\n        getLineHandleVisualStart: function (e) {\n          return \"number\" == typeof e && (e = Ke(this, e)), zt(e);\n        },\n        lineCount: function () {\n          return this.size;\n        },\n        firstLine: function () {\n          return this.first;\n        },\n        lastLine: function () {\n          return this.first + this.size - 1;\n        },\n        clipPos: function (e) {\n          return at(this, e);\n        },\n        getCursor: function (e) {\n          var t = this.sel.primary();\n          return null == e || \"head\" == e ? t.head : \"anchor\" == e ? t.anchor : \"end\" == e || \"to\" == e || !1 === e ? t.to() : t.from();\n        },\n        listSelections: function () {\n          return this.sel.ranges;\n        },\n        somethingSelected: function () {\n          return this.sel.somethingSelected();\n        },\n        setCursor: ri(function (e, t, r) {\n          Zi(this, at(this, \"number\" == typeof e ? et(e, t || 0) : e), null, r);\n        }),\n        setSelection: ri(function (e, t, r) {\n          Zi(this, at(this, e), at(this, t || e), r);\n        }),\n        extendSelection: ri(function (e, t, r) {\n          Xi(this, at(this, e), t && at(this, t), r);\n        }),\n        extendSelections: ri(function (e, t) {\n          qi(this, st(this, e), t);\n        }),\n        extendSelectionsBy: ri(function (e, t) {\n          qi(this, st(this, q(this.sel.ranges, e)), t);\n        }),\n        setSelections: ri(function (e, t, r) {\n          if (e.length) {\n            for (var n = [], i = 0; i < e.length; i++) n[i] = new ki(at(this, e[i].anchor), at(this, e[i].head));\n\n            null == t && (t = Math.min(e.length - 1, this.sel.primIndex)), Qi(this, Si(this.cm, n, t), r);\n          }\n        }),\n        addSelection: ri(function (e, t, r) {\n          var n = this.sel.ranges.slice(0);\n          n.push(new ki(at(this, e), at(this, t || e))), Qi(this, Si(this.cm, n, n.length - 1), r);\n        }),\n        getSelection: function (e) {\n          for (var t, r = this.sel.ranges, n = 0; n < r.length; n++) {\n            var i = $e(this, r[n].from(), r[n].to());\n            t = t ? t.concat(i) : i;\n          }\n\n          return !1 === e ? t : t.join(e || this.lineSeparator());\n        },\n        getSelections: function (e) {\n          for (var t = [], r = this.sel.ranges, n = 0; n < r.length; n++) {\n            var i = $e(this, r[n].from(), r[n].to());\n            !1 !== e && (i = i.join(e || this.lineSeparator())), t[n] = i;\n          }\n\n          return t;\n        },\n        replaceSelection: function (e, t, r) {\n          for (var n = [], i = 0; i < this.sel.ranges.length; i++) n[i] = e;\n\n          this.replaceSelections(n, t, r || \"+input\");\n        },\n        replaceSelections: ri(function (e, t, r) {\n          for (var n = [], i = this.sel, o = 0; o < i.ranges.length; o++) {\n            var l = i.ranges[o];\n            n[o] = {\n              from: l.from(),\n              to: l.to(),\n              text: this.splitLines(e[o]),\n              origin: r\n            };\n          }\n\n          for (var a = t && \"end\" != t && function (e, t, r) {\n            for (var n = [], i = et(e.first, 0), o = i, l = 0; l < t.length; l++) {\n              var a = t[l],\n                  s = Ni(a.from, i, o),\n                  u = Ni(Li(a), i, o);\n\n              if (i = a.to, o = u, \"around\" == r) {\n                var c = e.sel.ranges[l],\n                    d = tt(c.head, c.anchor) < 0;\n                n[l] = new ki(d ? u : s, d ? s : u);\n              } else n[l] = new ki(s, s);\n            }\n\n            return new Ci(n, e.sel.primIndex);\n          }(this, n, t), s = n.length - 1; s >= 0; s--) uo(this, n[s]);\n\n          a ? Ji(this, a) : this.cm && Dn(this.cm);\n        }),\n        undo: ri(function () {\n          fo(this, \"undo\");\n        }),\n        redo: ri(function () {\n          fo(this, \"redo\");\n        }),\n        undoSelection: ri(function () {\n          fo(this, \"undo\", !0);\n        }),\n        redoSelection: ri(function () {\n          fo(this, \"redo\", !0);\n        }),\n        setExtending: function (e) {\n          this.extend = e;\n        },\n        getExtending: function () {\n          return this.extend;\n        },\n        historySize: function () {\n          for (var e = this.history, t = 0, r = 0, n = 0; n < e.done.length; n++) e.done[n].ranges || ++t;\n\n          for (var i = 0; i < e.undone.length; i++) e.undone[i].ranges || ++r;\n\n          return {\n            undo: t,\n            redo: r\n          };\n        },\n        clearHistory: function () {\n          this.history = new Fi(this.history.maxGeneration);\n        },\n        markClean: function () {\n          this.cleanGeneration = this.changeGeneration(!0);\n        },\n        changeGeneration: function (e) {\n          return e && (this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null), this.history.generation;\n        },\n        isClean: function (e) {\n          return this.history.generation == (e || this.cleanGeneration);\n        },\n        getHistory: function () {\n          return {\n            done: Ki(this.history.done),\n            undone: Ki(this.history.undone)\n          };\n        },\n        setHistory: function (e) {\n          var t = this.history = new Fi(this.history.maxGeneration);\n          t.done = Ki(e.done.slice(0), null, !0), t.undone = Ki(e.undone.slice(0), null, !0);\n        },\n        setGutterMarker: ri(function (e, t, r) {\n          return bo(this, e, \"gutter\", function (e) {\n            var n = e.gutterMarkers || (e.gutterMarkers = {});\n            return n[t] = r, !r && te(n) && (e.gutterMarkers = null), !0;\n          });\n        }),\n        clearGutter: ri(function (e) {\n          var t = this;\n          this.iter(function (r) {\n            r.gutterMarkers && r.gutterMarkers[e] && bo(t, r, \"gutter\", function () {\n              return r.gutterMarkers[e] = null, te(r.gutterMarkers) && (r.gutterMarkers = null), !0;\n            });\n          });\n        }),\n        lineInfo: function (e) {\n          var t;\n\n          if (\"number\" == typeof e) {\n            if (!Je(this, e)) return null;\n            if (t = e, !(e = Ke(this, e))) return null;\n          } else if (null == (t = Ye(e))) return null;\n\n          return {\n            line: t,\n            handle: e,\n            text: e.text,\n            gutterMarkers: e.gutterMarkers,\n            textClass: e.textClass,\n            bgClass: e.bgClass,\n            wrapClass: e.wrapClass,\n            widgets: e.widgets\n          };\n        },\n        addLineClass: ri(function (e, t, r) {\n          return bo(this, e, \"gutter\" == t ? \"gutter\" : \"class\", function (e) {\n            var n = \"text\" == t ? \"textClass\" : \"background\" == t ? \"bgClass\" : \"gutter\" == t ? \"gutterClass\" : \"wrapClass\";\n\n            if (e[n]) {\n              if (S(r).test(e[n])) return !1;\n              e[n] += \" \" + r;\n            } else e[n] = r;\n\n            return !0;\n          });\n        }),\n        removeLineClass: ri(function (e, t, r) {\n          return bo(this, e, \"gutter\" == t ? \"gutter\" : \"class\", function (e) {\n            var n = \"text\" == t ? \"textClass\" : \"background\" == t ? \"bgClass\" : \"gutter\" == t ? \"gutterClass\" : \"wrapClass\",\n                i = e[n];\n            if (!i) return !1;\n            if (null == r) e[n] = null;else {\n              var o = i.match(S(r));\n              if (!o) return !1;\n              var l = o.index + o[0].length;\n              e[n] = i.slice(0, o.index) + (o.index && l != i.length ? \" \" : \"\") + i.slice(l) || null;\n            }\n            return !0;\n          });\n        }),\n        addLineWidget: ri(function (e, t, r) {\n          return function (e, t, r, n) {\n            var i = new Co(e, r, n),\n                o = e.cm;\n            return o && i.noHScroll && (o.display.alignWidgets = !0), bo(e, t, \"widget\", function (t) {\n              var r = t.widgets || (t.widgets = []);\n\n              if (null == i.insertAt ? r.push(i) : r.splice(Math.min(r.length - 1, Math.max(0, i.insertAt)), 0, i), i.line = t, o && !jt(e, t)) {\n                var n = Vt(t) < e.scrollTop;\n                qe(t, t.height + wr(i)), n && An(o, i.height), o.curOp.forceUpdate = !0;\n              }\n\n              return !0;\n            }), o && ar(o, \"lineWidgetAdded\", o, i, \"number\" == typeof t ? t : Ye(t)), i;\n          }(this, e, t, r);\n        }),\n        removeLineWidget: function (e) {\n          e.clear();\n        },\n        markText: function (e, t, r) {\n          return Lo(this, at(this, e), at(this, t), r, r && r.type || \"range\");\n        },\n        setBookmark: function (e, t) {\n          var r = {\n            replacedWith: t && (null == t.nodeType ? t.widget : t),\n            insertLeft: t && t.insertLeft,\n            clearWhenEmpty: !1,\n            shared: t && t.shared,\n            handleMouseEvents: t && t.handleMouseEvents\n          };\n          return Lo(this, e = at(this, e), e, r, \"bookmark\");\n        },\n        findMarksAt: function (e) {\n          var t = [],\n              r = Ke(this, (e = at(this, e)).line).markedSpans;\n          if (r) for (var n = 0; n < r.length; ++n) {\n            var i = r[n];\n            (null == i.from || i.from <= e.ch) && (null == i.to || i.to >= e.ch) && t.push(i.marker.parent || i.marker);\n          }\n          return t;\n        },\n        findMarks: function (e, t, r) {\n          e = at(this, e), t = at(this, t);\n          var n = [],\n              i = e.line;\n          return this.iter(e.line, t.line + 1, function (o) {\n            var l = o.markedSpans;\n            if (l) for (var a = 0; a < l.length; a++) {\n              var s = l[a];\n              null != s.to && i == e.line && e.ch >= s.to || null == s.from && i != e.line || null != s.from && i == t.line && s.from >= t.ch || r && !r(s.marker) || n.push(s.marker.parent || s.marker);\n            }\n            ++i;\n          }), n;\n        },\n        getAllMarks: function () {\n          var e = [];\n          return this.iter(function (t) {\n            var r = t.markedSpans;\n            if (r) for (var n = 0; n < r.length; ++n) null != r[n].from && e.push(r[n].marker);\n          }), e;\n        },\n        posFromIndex: function (e) {\n          var t,\n              r = this.first,\n              n = this.lineSeparator().length;\n          return this.iter(function (i) {\n            var o = i.text.length + n;\n            if (o > e) return t = e, !0;\n            e -= o, ++r;\n          }), at(this, et(r, t));\n        },\n        indexFromPos: function (e) {\n          var t = (e = at(this, e)).ch;\n          if (e.line < this.first || e.ch < 0) return 0;\n          var r = this.lineSeparator().length;\n          return this.iter(this.first, e.line, function (e) {\n            t += e.text.length + r;\n          }), t;\n        },\n        copy: function (e) {\n          var t = new Do(Xe(this, this.first, this.first + this.size), this.modeOption, this.first, this.lineSep, this.direction);\n          return t.scrollTop = this.scrollTop, t.scrollLeft = this.scrollLeft, t.sel = this.sel, t.extend = !1, e && (t.history.undoDepth = this.history.undoDepth, t.setHistory(this.getHistory())), t;\n        },\n        linkedDoc: function (e) {\n          e || (e = {});\n          var t = this.first,\n              r = this.first + this.size;\n          null != e.from && e.from > t && (t = e.from), null != e.to && e.to < r && (r = e.to);\n          var n = new Do(Xe(this, t, r), e.mode || this.modeOption, t, this.lineSep, this.direction);\n          return e.sharedHist && (n.history = this.history), (this.linked || (this.linked = [])).push({\n            doc: n,\n            sharedHist: e.sharedHist\n          }), n.linked = [{\n            doc: this,\n            isParent: !0,\n            sharedHist: e.sharedHist\n          }], function (e, t) {\n            for (var r = 0; r < t.length; r++) {\n              var n = t[r],\n                  i = n.find(),\n                  o = e.clipPos(i.from),\n                  l = e.clipPos(i.to);\n\n              if (tt(o, l)) {\n                var a = Lo(e, o, l, n.primary, n.primary.type);\n                n.markers.push(a), a.parent = n;\n              }\n            }\n          }(n, Oo(this)), n;\n        },\n        unlinkDoc: function (e) {\n          if (e instanceof Tl && (e = e.doc), this.linked) for (var t = 0; t < this.linked.length; ++t) if (this.linked[t].doc == e) {\n            this.linked.splice(t, 1), e.unlinkDoc(this), No(Oo(this));\n            break;\n          }\n\n          if (e.history == this.history) {\n            var r = [e.id];\n            Hi(e, function (e) {\n              return r.push(e.id);\n            }, !0), e.history = new Fi(null), e.history.done = Ki(this.history.done, r), e.history.undone = Ki(this.history.undone, r);\n          }\n        },\n        iterLinkedDocs: function (e) {\n          Hi(this, e);\n        },\n        getMode: function () {\n          return this.mode;\n        },\n        getEditor: function () {\n          return this.cm;\n        },\n        splitLines: function (e) {\n          return this.lineSep ? e.split(this.lineSep) : De(e);\n        },\n        lineSeparator: function () {\n          return this.lineSep || \"\\n\";\n        },\n        setDirection: ri(function (e) {\n          var t;\n          \"rtl\" != e && (e = \"ltr\"), e != this.direction && (this.direction = e, this.iter(function (e) {\n            return e.order = null;\n          }), this.cm && Qn(t = this.cm, function () {\n            Ii(t), dn(t);\n          }));\n        })\n      }), Do.prototype.eachLine = Do.prototype.iter;\n      var Po = 0;\n\n      function Eo(e) {\n        var t = this;\n\n        if (Ho(t), !ve(t, e) && !xr(t.display, e)) {\n          be(e), l && (Po = +new Date());\n          var r = un(t, e, !0),\n              n = e.dataTransfer.files;\n          if (r && !t.isReadOnly()) if (n && n.length && window.FileReader && window.File) for (var i = n.length, o = Array(i), a = 0, s = function (e, n) {\n            if (!t.options.allowDropFileTypes || -1 != R(t.options.allowDropFileTypes, e.type)) {\n              var l = new FileReader();\n              l.onload = ei(t, function () {\n                var e = l.result;\n\n                if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(e) && (e = \"\"), o[n] = e, ++a == i) {\n                  var s = {\n                    from: r = at(t.doc, r),\n                    to: r,\n                    text: t.doc.splitLines(o.join(t.doc.lineSeparator())),\n                    origin: \"paste\"\n                  };\n                  uo(t.doc, s), Ji(t.doc, Mi(r, Li(s)));\n                }\n              }), l.readAsText(e);\n            }\n          }, u = 0; u < i; ++u) s(n[u], u);else {\n            if (t.state.draggingText && t.doc.sel.contains(r) > -1) return t.state.draggingText(e), void setTimeout(function () {\n              return t.display.input.focus();\n            }, 20);\n\n            try {\n              var c = e.dataTransfer.getData(\"Text\");\n\n              if (c) {\n                var d;\n                if (t.state.draggingText && !t.state.draggingText.copy && (d = t.listSelections()), eo(t.doc, Mi(r, r)), d) for (var f = 0; f < d.length; ++f) vo(t.doc, \"\", d[f].anchor, d[f].head, \"drag\");\n                t.replaceSelection(c, \"around\", \"paste\"), t.display.input.focus();\n              }\n            } catch (e) {}\n          }\n        }\n      }\n\n      function Ho(e) {\n        e.display.dragCursor && (e.display.lineSpace.removeChild(e.display.dragCursor), e.display.dragCursor = null);\n      }\n\n      function Wo(e) {\n        if (document.getElementsByClassName) {\n          for (var t = document.getElementsByClassName(\"CodeMirror\"), r = [], n = 0; n < t.length; n++) {\n            var i = t[n].CodeMirror;\n            i && r.push(i);\n          }\n\n          r.length && r[0].operation(function () {\n            for (var t = 0; t < r.length; t++) e(r[t]);\n          });\n        }\n      }\n\n      var Io = !1;\n\n      function Fo() {\n        var e;\n        Io || (de(window, \"resize\", function () {\n          null == e && (e = setTimeout(function () {\n            e = null, Wo(zo);\n          }, 100));\n        }), de(window, \"blur\", function () {\n          return Wo(Mn);\n        }), Io = !0);\n      }\n\n      function zo(e) {\n        var t = e.display;\n        t.cachedCharWidth = t.cachedTextHeight = t.cachedPaddingH = null, t.scrollbarsClipped = !1, e.setSize();\n      }\n\n      for (var _o = {\n        3: \"Pause\",\n        8: \"Backspace\",\n        9: \"Tab\",\n        13: \"Enter\",\n        16: \"Shift\",\n        17: \"Ctrl\",\n        18: \"Alt\",\n        19: \"Pause\",\n        20: \"CapsLock\",\n        27: \"Esc\",\n        32: \"Space\",\n        33: \"PageUp\",\n        34: \"PageDown\",\n        35: \"End\",\n        36: \"Home\",\n        37: \"Left\",\n        38: \"Up\",\n        39: \"Right\",\n        40: \"Down\",\n        44: \"PrintScrn\",\n        45: \"Insert\",\n        46: \"Delete\",\n        59: \";\",\n        61: \"=\",\n        91: \"Mod\",\n        92: \"Mod\",\n        93: \"Mod\",\n        106: \"*\",\n        107: \"=\",\n        109: \"-\",\n        110: \".\",\n        111: \"/\",\n        145: \"ScrollLock\",\n        173: \"-\",\n        186: \";\",\n        187: \"=\",\n        188: \",\",\n        189: \"-\",\n        190: \".\",\n        191: \"/\",\n        192: \"`\",\n        219: \"[\",\n        220: \"\\\\\",\n        221: \"]\",\n        222: \"'\",\n        63232: \"Up\",\n        63233: \"Down\",\n        63234: \"Left\",\n        63235: \"Right\",\n        63272: \"Delete\",\n        63273: \"Home\",\n        63275: \"End\",\n        63276: \"PageUp\",\n        63277: \"PageDown\",\n        63302: \"Insert\"\n      }, Ro = 0; Ro < 10; Ro++) _o[Ro + 48] = _o[Ro + 96] = String(Ro);\n\n      for (var jo = 65; jo <= 90; jo++) _o[jo] = String.fromCharCode(jo);\n\n      for (var Bo = 1; Bo <= 12; Bo++) _o[Bo + 111] = _o[Bo + 63235] = \"F\" + Bo;\n\n      var Vo = {};\n\n      function Go(e) {\n        var t,\n            r,\n            n,\n            i,\n            o = e.split(/-(?!$)/);\n        e = o[o.length - 1];\n\n        for (var l = 0; l < o.length - 1; l++) {\n          var a = o[l];\n          if (/^(cmd|meta|m)$/i.test(a)) i = !0;else if (/^a(lt)?$/i.test(a)) t = !0;else if (/^(c|ctrl|control)$/i.test(a)) r = !0;else {\n            if (!/^s(hift)?$/i.test(a)) throw new Error(\"Unrecognized modifier name: \" + a);\n            n = !0;\n          }\n        }\n\n        return t && (e = \"Alt-\" + e), r && (e = \"Ctrl-\" + e), i && (e = \"Cmd-\" + e), n && (e = \"Shift-\" + e), e;\n      }\n\n      function Uo(e) {\n        var t = {};\n\n        for (var r in e) if (e.hasOwnProperty(r)) {\n          var n = e[r];\n          if (/^(name|fallthrough|(de|at)tach)$/.test(r)) continue;\n\n          if (\"...\" == n) {\n            delete e[r];\n            continue;\n          }\n\n          for (var i = q(r.split(\" \"), Go), o = 0; o < i.length; o++) {\n            var l = void 0,\n                a = void 0;\n            o == i.length - 1 ? (a = i.join(\" \"), l = n) : (a = i.slice(0, o + 1).join(\" \"), l = \"...\");\n            var s = t[a];\n\n            if (s) {\n              if (s != l) throw new Error(\"Inconsistent bindings for \" + a);\n            } else t[a] = l;\n          }\n\n          delete e[r];\n        }\n\n        for (var u in t) e[u] = t[u];\n\n        return e;\n      }\n\n      function Ko(e, t, r, n) {\n        var i = (t = Yo(t)).call ? t.call(e, n) : t[e];\n        if (!1 === i) return \"nothing\";\n        if (\"...\" === i) return \"multi\";\n        if (null != i && r(i)) return \"handled\";\n\n        if (t.fallthrough) {\n          if (\"[object Array]\" != Object.prototype.toString.call(t.fallthrough)) return Ko(e, t.fallthrough, r, n);\n\n          for (var o = 0; o < t.fallthrough.length; o++) {\n            var l = Ko(e, t.fallthrough[o], r, n);\n            if (l) return l;\n          }\n        }\n      }\n\n      function $o(e) {\n        var t = \"string\" == typeof e ? e : _o[e.keyCode];\n        return \"Ctrl\" == t || \"Alt\" == t || \"Shift\" == t || \"Mod\" == t;\n      }\n\n      function Xo(e, t, r) {\n        var n = e;\n        return t.altKey && \"Alt\" != n && (e = \"Alt-\" + e), (C ? t.metaKey : t.ctrlKey) && \"Ctrl\" != n && (e = \"Ctrl-\" + e), (C ? t.ctrlKey : t.metaKey) && \"Cmd\" != n && (e = \"Cmd-\" + e), !r && t.shiftKey && \"Shift\" != n && (e = \"Shift-\" + e), e;\n      }\n\n      function qo(e, t) {\n        if (d && 34 == e.keyCode && e.char) return !1;\n        var r = _o[e.keyCode];\n        return null != r && !e.altGraphKey && (3 == e.keyCode && e.code && (r = e.code), Xo(r, e, t));\n      }\n\n      function Yo(e) {\n        return \"string\" == typeof e ? Vo[e] : e;\n      }\n\n      function Zo(e, t) {\n        for (var r = e.doc.sel.ranges, n = [], i = 0; i < r.length; i++) {\n          for (var o = t(r[i]); n.length && tt(o.from, X(n).to) <= 0;) {\n            var l = n.pop();\n\n            if (tt(l.from, o.from) < 0) {\n              o.from = l.from;\n              break;\n            }\n          }\n\n          n.push(o);\n        }\n\n        Qn(e, function () {\n          for (var t = n.length - 1; t >= 0; t--) vo(e.doc, \"\", n[t].from, n[t].to, \"+delete\");\n\n          Dn(e);\n        });\n      }\n\n      function Jo(e, t, r) {\n        var n = ie(e.text, t + r, r);\n        return n < 0 || n > e.text.length ? null : n;\n      }\n\n      function Qo(e, t, r) {\n        var n = Jo(e, t.ch, r);\n        return null == n ? null : new et(t.line, n, r < 0 ? \"after\" : \"before\");\n      }\n\n      function el(e, t, r, n, i) {\n        if (e) {\n          var o = ue(r, t.doc.direction);\n\n          if (o) {\n            var l,\n                a = i < 0 ? X(o) : o[0],\n                s = i < 0 == (1 == a.level) ? \"after\" : \"before\";\n\n            if (a.level > 0 || \"rtl\" == t.doc.direction) {\n              var u = Dr(t, r);\n              l = i < 0 ? r.text.length - 1 : 0;\n              var c = Pr(t, u, l).top;\n              l = oe(function (e) {\n                return Pr(t, u, e).top == c;\n              }, i < 0 == (1 == a.level) ? a.from : a.to - 1, l), \"before\" == s && (l = Jo(r, l, 1));\n            } else l = i < 0 ? a.to : a.from;\n\n            return new et(n, l, s);\n          }\n        }\n\n        return new et(n, i < 0 ? r.text.length : 0, i < 0 ? \"before\" : \"after\");\n      }\n\n      Vo.basic = {\n        Left: \"goCharLeft\",\n        Right: \"goCharRight\",\n        Up: \"goLineUp\",\n        Down: \"goLineDown\",\n        End: \"goLineEnd\",\n        Home: \"goLineStartSmart\",\n        PageUp: \"goPageUp\",\n        PageDown: \"goPageDown\",\n        Delete: \"delCharAfter\",\n        Backspace: \"delCharBefore\",\n        \"Shift-Backspace\": \"delCharBefore\",\n        Tab: \"defaultTab\",\n        \"Shift-Tab\": \"indentAuto\",\n        Enter: \"newlineAndIndent\",\n        Insert: \"toggleOverwrite\",\n        Esc: \"singleSelection\"\n      }, Vo.pcDefault = {\n        \"Ctrl-A\": \"selectAll\",\n        \"Ctrl-D\": \"deleteLine\",\n        \"Ctrl-Z\": \"undo\",\n        \"Shift-Ctrl-Z\": \"redo\",\n        \"Ctrl-Y\": \"redo\",\n        \"Ctrl-Home\": \"goDocStart\",\n        \"Ctrl-End\": \"goDocEnd\",\n        \"Ctrl-Up\": \"goLineUp\",\n        \"Ctrl-Down\": \"goLineDown\",\n        \"Ctrl-Left\": \"goGroupLeft\",\n        \"Ctrl-Right\": \"goGroupRight\",\n        \"Alt-Left\": \"goLineStart\",\n        \"Alt-Right\": \"goLineEnd\",\n        \"Ctrl-Backspace\": \"delGroupBefore\",\n        \"Ctrl-Delete\": \"delGroupAfter\",\n        \"Ctrl-S\": \"save\",\n        \"Ctrl-F\": \"find\",\n        \"Ctrl-G\": \"findNext\",\n        \"Shift-Ctrl-G\": \"findPrev\",\n        \"Shift-Ctrl-F\": \"replace\",\n        \"Shift-Ctrl-R\": \"replaceAll\",\n        \"Ctrl-[\": \"indentLess\",\n        \"Ctrl-]\": \"indentMore\",\n        \"Ctrl-U\": \"undoSelection\",\n        \"Shift-Ctrl-U\": \"redoSelection\",\n        \"Alt-U\": \"redoSelection\",\n        fallthrough: \"basic\"\n      }, Vo.emacsy = {\n        \"Ctrl-F\": \"goCharRight\",\n        \"Ctrl-B\": \"goCharLeft\",\n        \"Ctrl-P\": \"goLineUp\",\n        \"Ctrl-N\": \"goLineDown\",\n        \"Alt-F\": \"goWordRight\",\n        \"Alt-B\": \"goWordLeft\",\n        \"Ctrl-A\": \"goLineStart\",\n        \"Ctrl-E\": \"goLineEnd\",\n        \"Ctrl-V\": \"goPageDown\",\n        \"Shift-Ctrl-V\": \"goPageUp\",\n        \"Ctrl-D\": \"delCharAfter\",\n        \"Ctrl-H\": \"delCharBefore\",\n        \"Alt-D\": \"delWordAfter\",\n        \"Alt-Backspace\": \"delWordBefore\",\n        \"Ctrl-K\": \"killLine\",\n        \"Ctrl-T\": \"transposeChars\",\n        \"Ctrl-O\": \"openLine\"\n      }, Vo.macDefault = {\n        \"Cmd-A\": \"selectAll\",\n        \"Cmd-D\": \"deleteLine\",\n        \"Cmd-Z\": \"undo\",\n        \"Shift-Cmd-Z\": \"redo\",\n        \"Cmd-Y\": \"redo\",\n        \"Cmd-Home\": \"goDocStart\",\n        \"Cmd-Up\": \"goDocStart\",\n        \"Cmd-End\": \"goDocEnd\",\n        \"Cmd-Down\": \"goDocEnd\",\n        \"Alt-Left\": \"goGroupLeft\",\n        \"Alt-Right\": \"goGroupRight\",\n        \"Cmd-Left\": \"goLineLeft\",\n        \"Cmd-Right\": \"goLineRight\",\n        \"Alt-Backspace\": \"delGroupBefore\",\n        \"Ctrl-Alt-Backspace\": \"delGroupAfter\",\n        \"Alt-Delete\": \"delGroupAfter\",\n        \"Cmd-S\": \"save\",\n        \"Cmd-F\": \"find\",\n        \"Cmd-G\": \"findNext\",\n        \"Shift-Cmd-G\": \"findPrev\",\n        \"Cmd-Alt-F\": \"replace\",\n        \"Shift-Cmd-Alt-F\": \"replaceAll\",\n        \"Cmd-[\": \"indentLess\",\n        \"Cmd-]\": \"indentMore\",\n        \"Cmd-Backspace\": \"delWrappedLineLeft\",\n        \"Cmd-Delete\": \"delWrappedLineRight\",\n        \"Cmd-U\": \"undoSelection\",\n        \"Shift-Cmd-U\": \"redoSelection\",\n        \"Ctrl-Up\": \"goDocStart\",\n        \"Ctrl-Down\": \"goDocEnd\",\n        fallthrough: [\"basic\", \"emacsy\"]\n      }, Vo.default = y ? Vo.macDefault : Vo.pcDefault;\n      var tl = {\n        selectAll: ao,\n        singleSelection: function (e) {\n          return e.setSelection(e.getCursor(\"anchor\"), e.getCursor(\"head\"), B);\n        },\n        killLine: function (e) {\n          return Zo(e, function (t) {\n            if (t.empty()) {\n              var r = Ke(e.doc, t.head.line).text.length;\n              return t.head.ch == r && t.head.line < e.lastLine() ? {\n                from: t.head,\n                to: et(t.head.line + 1, 0)\n              } : {\n                from: t.head,\n                to: et(t.head.line, r)\n              };\n            }\n\n            return {\n              from: t.from(),\n              to: t.to()\n            };\n          });\n        },\n        deleteLine: function (e) {\n          return Zo(e, function (t) {\n            return {\n              from: et(t.from().line, 0),\n              to: at(e.doc, et(t.to().line + 1, 0))\n            };\n          });\n        },\n        delLineLeft: function (e) {\n          return Zo(e, function (e) {\n            return {\n              from: et(e.from().line, 0),\n              to: e.from()\n            };\n          });\n        },\n        delWrappedLineLeft: function (e) {\n          return Zo(e, function (t) {\n            var r = e.charCoords(t.head, \"div\").top + 5;\n            return {\n              from: e.coordsChar({\n                left: 0,\n                top: r\n              }, \"div\"),\n              to: t.from()\n            };\n          });\n        },\n        delWrappedLineRight: function (e) {\n          return Zo(e, function (t) {\n            var r = e.charCoords(t.head, \"div\").top + 5,\n                n = e.coordsChar({\n              left: e.display.lineDiv.offsetWidth + 100,\n              top: r\n            }, \"div\");\n            return {\n              from: t.from(),\n              to: n\n            };\n          });\n        },\n        undo: function (e) {\n          return e.undo();\n        },\n        redo: function (e) {\n          return e.redo();\n        },\n        undoSelection: function (e) {\n          return e.undoSelection();\n        },\n        redoSelection: function (e) {\n          return e.redoSelection();\n        },\n        goDocStart: function (e) {\n          return e.extendSelection(et(e.firstLine(), 0));\n        },\n        goDocEnd: function (e) {\n          return e.extendSelection(et(e.lastLine()));\n        },\n        goLineStart: function (e) {\n          return e.extendSelectionsBy(function (t) {\n            return rl(e, t.head.line);\n          }, {\n            origin: \"+move\",\n            bias: 1\n          });\n        },\n        goLineStartSmart: function (e) {\n          return e.extendSelectionsBy(function (t) {\n            return nl(e, t.head);\n          }, {\n            origin: \"+move\",\n            bias: 1\n          });\n        },\n        goLineEnd: function (e) {\n          return e.extendSelectionsBy(function (t) {\n            return function (e, t) {\n              var r = Ke(e.doc, t),\n                  n = function (e) {\n                for (var t; t = Wt(e);) e = t.find(1, !0).line;\n\n                return e;\n              }(r);\n\n              return n != r && (t = Ye(n)), el(!0, e, r, t, -1);\n            }(e, t.head.line);\n          }, {\n            origin: \"+move\",\n            bias: -1\n          });\n        },\n        goLineRight: function (e) {\n          return e.extendSelectionsBy(function (t) {\n            var r = e.cursorCoords(t.head, \"div\").top + 5;\n            return e.coordsChar({\n              left: e.display.lineDiv.offsetWidth + 100,\n              top: r\n            }, \"div\");\n          }, G);\n        },\n        goLineLeft: function (e) {\n          return e.extendSelectionsBy(function (t) {\n            var r = e.cursorCoords(t.head, \"div\").top + 5;\n            return e.coordsChar({\n              left: 0,\n              top: r\n            }, \"div\");\n          }, G);\n        },\n        goLineLeftSmart: function (e) {\n          return e.extendSelectionsBy(function (t) {\n            var r = e.cursorCoords(t.head, \"div\").top + 5,\n                n = e.coordsChar({\n              left: 0,\n              top: r\n            }, \"div\");\n            return n.ch < e.getLine(n.line).search(/\\S/) ? nl(e, t.head) : n;\n          }, G);\n        },\n        goLineUp: function (e) {\n          return e.moveV(-1, \"line\");\n        },\n        goLineDown: function (e) {\n          return e.moveV(1, \"line\");\n        },\n        goPageUp: function (e) {\n          return e.moveV(-1, \"page\");\n        },\n        goPageDown: function (e) {\n          return e.moveV(1, \"page\");\n        },\n        goCharLeft: function (e) {\n          return e.moveH(-1, \"char\");\n        },\n        goCharRight: function (e) {\n          return e.moveH(1, \"char\");\n        },\n        goColumnLeft: function (e) {\n          return e.moveH(-1, \"column\");\n        },\n        goColumnRight: function (e) {\n          return e.moveH(1, \"column\");\n        },\n        goWordLeft: function (e) {\n          return e.moveH(-1, \"word\");\n        },\n        goGroupRight: function (e) {\n          return e.moveH(1, \"group\");\n        },\n        goGroupLeft: function (e) {\n          return e.moveH(-1, \"group\");\n        },\n        goWordRight: function (e) {\n          return e.moveH(1, \"word\");\n        },\n        delCharBefore: function (e) {\n          return e.deleteH(-1, \"char\");\n        },\n        delCharAfter: function (e) {\n          return e.deleteH(1, \"char\");\n        },\n        delWordBefore: function (e) {\n          return e.deleteH(-1, \"word\");\n        },\n        delWordAfter: function (e) {\n          return e.deleteH(1, \"word\");\n        },\n        delGroupBefore: function (e) {\n          return e.deleteH(-1, \"group\");\n        },\n        delGroupAfter: function (e) {\n          return e.deleteH(1, \"group\");\n        },\n        indentAuto: function (e) {\n          return e.indentSelection(\"smart\");\n        },\n        indentMore: function (e) {\n          return e.indentSelection(\"add\");\n        },\n        indentLess: function (e) {\n          return e.indentSelection(\"subtract\");\n        },\n        insertTab: function (e) {\n          return e.replaceSelection(\"\\t\");\n        },\n        insertSoftTab: function (e) {\n          for (var t = [], r = e.listSelections(), n = e.options.tabSize, i = 0; i < r.length; i++) {\n            var o = r[i].from(),\n                l = z(e.getLine(o.line), o.ch, n);\n            t.push($(n - l % n));\n          }\n\n          e.replaceSelections(t);\n        },\n        defaultTab: function (e) {\n          e.somethingSelected() ? e.indentSelection(\"add\") : e.execCommand(\"insertTab\");\n        },\n        transposeChars: function (e) {\n          return Qn(e, function () {\n            for (var t = e.listSelections(), r = [], n = 0; n < t.length; n++) if (t[n].empty()) {\n              var i = t[n].head,\n                  o = Ke(e.doc, i.line).text;\n              if (o) if (i.ch == o.length && (i = new et(i.line, i.ch - 1)), i.ch > 0) i = new et(i.line, i.ch + 1), e.replaceRange(o.charAt(i.ch - 1) + o.charAt(i.ch - 2), et(i.line, i.ch - 2), i, \"+transpose\");else if (i.line > e.doc.first) {\n                var l = Ke(e.doc, i.line - 1).text;\n                l && (i = new et(i.line, 1), e.replaceRange(o.charAt(0) + e.doc.lineSeparator() + l.charAt(l.length - 1), et(i.line - 1, l.length - 1), i, \"+transpose\"));\n              }\n              r.push(new ki(i, i));\n            }\n\n            e.setSelections(r);\n          });\n        },\n        newlineAndIndent: function (e) {\n          return Qn(e, function () {\n            for (var t = e.listSelections(), r = t.length - 1; r >= 0; r--) e.replaceRange(e.doc.lineSeparator(), t[r].anchor, t[r].head, \"+input\");\n\n            t = e.listSelections();\n\n            for (var n = 0; n < t.length; n++) e.indentLine(t[n].from().line, null, !0);\n\n            Dn(e);\n          });\n        },\n        openLine: function (e) {\n          return e.replaceSelection(\"\\n\", \"start\");\n        },\n        toggleOverwrite: function (e) {\n          return e.toggleOverwrite();\n        }\n      };\n\n      function rl(e, t) {\n        var r = Ke(e.doc, t),\n            n = zt(r);\n        return n != r && (t = Ye(n)), el(!0, e, n, t, 1);\n      }\n\n      function nl(e, t) {\n        var r = rl(e, t.line),\n            n = Ke(e.doc, r.line),\n            i = ue(n, e.doc.direction);\n\n        if (!i || 0 == i[0].level) {\n          var o = Math.max(0, n.text.search(/\\S/)),\n              l = t.line == r.line && t.ch <= o && t.ch;\n          return et(r.line, l ? 0 : o, r.sticky);\n        }\n\n        return r;\n      }\n\n      function il(e, t, r) {\n        if (\"string\" == typeof t && !(t = tl[t])) return !1;\n        e.display.input.ensurePolled();\n        var n = e.display.shift,\n            i = !1;\n\n        try {\n          e.isReadOnly() && (e.state.suppressEdits = !0), r && (e.display.shift = !1), i = t(e) != j;\n        } finally {\n          e.display.shift = n, e.state.suppressEdits = !1;\n        }\n\n        return i;\n      }\n\n      var ol = new _();\n\n      function ll(e, t, r, n) {\n        var i = e.state.keySeq;\n\n        if (i) {\n          if ($o(t)) return \"handled\";\n          if (/\\'$/.test(t) ? e.state.keySeq = null : ol.set(50, function () {\n            e.state.keySeq == i && (e.state.keySeq = null, e.display.input.reset());\n          }), al(e, i + \" \" + t, r, n)) return !0;\n        }\n\n        return al(e, t, r, n);\n      }\n\n      function al(e, t, r, n) {\n        var i = function (e, t, r) {\n          for (var n = 0; n < e.state.keyMaps.length; n++) {\n            var i = Ko(t, e.state.keyMaps[n], r, e);\n            if (i) return i;\n          }\n\n          return e.options.extraKeys && Ko(t, e.options.extraKeys, r, e) || Ko(t, e.options.keyMap, r, e);\n        }(e, t, n);\n\n        return \"multi\" == i && (e.state.keySeq = t), \"handled\" == i && ar(e, \"keyHandled\", e, t, r), \"handled\" != i && \"multi\" != i || (be(r), xn(e)), !!i;\n      }\n\n      function sl(e, t) {\n        var r = qo(t, !0);\n        return !!r && (t.shiftKey && !e.state.keySeq ? ll(e, \"Shift-\" + r, t, function (t) {\n          return il(e, t, !0);\n        }) || ll(e, r, t, function (t) {\n          if (\"string\" == typeof t ? /^go[A-Z]/.test(t) : t.motion) return il(e, t);\n        }) : ll(e, r, t, function (t) {\n          return il(e, t);\n        }));\n      }\n\n      var ul = null;\n\n      function cl(e) {\n        var t = this;\n\n        if (t.curOp.focus = P(), !ve(t, e)) {\n          l && a < 11 && 27 == e.keyCode && (e.returnValue = !1);\n          var n = e.keyCode;\n          t.display.shift = 16 == n || e.shiftKey;\n          var i = sl(t, e);\n          d && (ul = i ? n : null, !i && 88 == n && !Ee && (y ? e.metaKey : e.ctrlKey) && t.replaceSelection(\"\", null, \"cut\")), r && !y && !i && 46 == n && e.shiftKey && !e.ctrlKey && document.execCommand && document.execCommand(\"cut\"), 18 != n || /\\bCodeMirror-crosshair\\b/.test(t.display.lineDiv.className) || function (e) {\n            var t = e.display.lineDiv;\n\n            function r(e) {\n              18 != e.keyCode && e.altKey || (L(t, \"CodeMirror-crosshair\"), he(document, \"keyup\", r), he(document, \"mouseover\", r));\n            }\n\n            E(t, \"CodeMirror-crosshair\"), de(document, \"keyup\", r), de(document, \"mouseover\", r);\n          }(t);\n        }\n      }\n\n      function dl(e) {\n        16 == e.keyCode && (this.doc.sel.shift = !1), ve(this, e);\n      }\n\n      function fl(e) {\n        var t = this;\n\n        if (!(xr(t.display, e) || ve(t, e) || e.ctrlKey && !e.altKey || y && e.metaKey)) {\n          var r = e.keyCode,\n              n = e.charCode;\n          if (d && r == ul) return ul = null, void be(e);\n\n          if (!d || e.which && !(e.which < 10) || !sl(t, e)) {\n            var i = String.fromCharCode(null == n ? r : n);\n            \"\\b\" != i && (function (e, t, r) {\n              return ll(e, \"'\" + r + \"'\", t, function (t) {\n                return il(e, t, !0);\n              });\n            }(t, e, i) || t.display.input.onKeyPress(e));\n          }\n        }\n      }\n\n      var hl,\n          pl,\n          vl = function (e, t, r) {\n        this.time = e, this.pos = t, this.button = r;\n      };\n\n      function gl(e) {\n        var t = this,\n            r = t.display;\n        if (!(ve(t, e) || r.activeTouch && r.input.supportsTouch())) if (r.input.ensurePolled(), r.shift = e.shiftKey, xr(r, e)) s || (r.scroller.draggable = !1, setTimeout(function () {\n          return r.scroller.draggable = !0;\n        }, 100));else if (!bl(t, e)) {\n          var n = un(t, e),\n              i = Se(e),\n              o = n ? function (e, t) {\n            var r = +new Date();\n            return pl && pl.compare(r, e, t) ? (hl = pl = null, \"triple\") : hl && hl.compare(r, e, t) ? (pl = new vl(r, e, t), hl = null, \"double\") : (hl = new vl(r, e, t), pl = null, \"single\");\n          }(n, i) : \"single\";\n          window.focus(), 1 == i && t.state.selectingText && t.state.selectingText(e), n && function (e, t, r, n, i) {\n            var o = \"Click\";\n            return \"double\" == n ? o = \"Double\" + o : \"triple\" == n && (o = \"Triple\" + o), ll(e, Xo(o = (1 == t ? \"Left\" : 2 == t ? \"Middle\" : \"Right\") + o, i), i, function (t) {\n              if (\"string\" == typeof t && (t = tl[t]), !t) return !1;\n              var n = !1;\n\n              try {\n                e.isReadOnly() && (e.state.suppressEdits = !0), n = t(e, r) != j;\n              } finally {\n                e.state.suppressEdits = !1;\n              }\n\n              return n;\n            });\n          }(t, i, n, o, e) || (1 == i ? n ? function (e, t, r, n) {\n            l ? setTimeout(I(Cn, e), 0) : e.curOp.focus = P();\n\n            var i,\n                o = function (e, t, r) {\n              var n = e.getOption(\"configureMouse\"),\n                  i = n ? n(e, t, r) : {};\n\n              if (null == i.unit) {\n                var o = b ? r.shiftKey && r.metaKey : r.altKey;\n                i.unit = o ? \"rectangle\" : \"single\" == t ? \"char\" : \"double\" == t ? \"word\" : \"line\";\n              }\n\n              return (null == i.extend || e.doc.extend) && (i.extend = e.doc.extend || r.shiftKey), null == i.addNew && (i.addNew = y ? r.metaKey : r.ctrlKey), null == i.moveOnDrag && (i.moveOnDrag = !(y ? r.altKey : r.ctrlKey)), i;\n            }(e, r, n),\n                u = e.doc.sel;\n\n            e.options.dragDrop && Te && !e.isReadOnly() && \"single\" == r && (i = u.contains(t)) > -1 && (tt((i = u.ranges[i]).from(), t) < 0 || t.xRel > 0) && (tt(i.to(), t) > 0 || t.xRel < 0) ? function (e, t, r, n) {\n              var i = e.display,\n                  o = !1,\n                  u = ei(e, function (t) {\n                s && (i.scroller.draggable = !1), e.state.draggingText = !1, he(i.wrapper.ownerDocument, \"mouseup\", u), he(i.wrapper.ownerDocument, \"mousemove\", c), he(i.scroller, \"dragstart\", d), he(i.scroller, \"drop\", u), o || (be(t), n.addNew || Xi(e.doc, r, null, null, n.extend), s || l && 9 == a ? setTimeout(function () {\n                  i.wrapper.ownerDocument.body.focus(), i.input.focus();\n                }, 20) : i.input.focus());\n              }),\n                  c = function (e) {\n                o = o || Math.abs(t.clientX - e.clientX) + Math.abs(t.clientY - e.clientY) >= 10;\n              },\n                  d = function () {\n                return o = !0;\n              };\n\n              s && (i.scroller.draggable = !0), e.state.draggingText = u, u.copy = !n.moveOnDrag, i.scroller.dragDrop && i.scroller.dragDrop(), de(i.wrapper.ownerDocument, \"mouseup\", u), de(i.wrapper.ownerDocument, \"mousemove\", c), de(i.scroller, \"dragstart\", d), de(i.scroller, \"drop\", u), kn(e), setTimeout(function () {\n                return i.input.focus();\n              }, 20);\n            }(e, n, t, o) : function (e, t, r, n) {\n              var i = e.display,\n                  o = e.doc;\n              be(t);\n              var l,\n                  a,\n                  s = o.sel,\n                  u = s.ranges;\n              if (n.addNew && !n.extend ? (a = o.sel.contains(r), l = a > -1 ? u[a] : new ki(r, r)) : (l = o.sel.primary(), a = o.sel.primIndex), \"rectangle\" == n.unit) n.addNew || (l = new ki(r, r)), r = un(e, t, !0, !0), a = -1;else {\n                var c = ml(e, r, n.unit);\n                l = n.extend ? $i(l, c.anchor, c.head, n.extend) : c;\n              }\n              n.addNew ? -1 == a ? (a = u.length, Qi(o, Si(e, u.concat([l]), a), {\n                scroll: !1,\n                origin: \"*mouse\"\n              })) : u.length > 1 && u[a].empty() && \"char\" == n.unit && !n.extend ? (Qi(o, Si(e, u.slice(0, a).concat(u.slice(a + 1)), 0), {\n                scroll: !1,\n                origin: \"*mouse\"\n              }), s = o.sel) : Yi(o, a, l, V) : (a = 0, Qi(o, new Ci([l], 0), V), s = o.sel);\n              var d = r;\n\n              function f(t) {\n                if (0 != tt(d, t)) if (d = t, \"rectangle\" == n.unit) {\n                  for (var i = [], u = e.options.tabSize, c = z(Ke(o, r.line).text, r.ch, u), f = z(Ke(o, t.line).text, t.ch, u), h = Math.min(c, f), p = Math.max(c, f), v = Math.min(r.line, t.line), g = Math.min(e.lastLine(), Math.max(r.line, t.line)); v <= g; v++) {\n                    var m = Ke(o, v).text,\n                        y = U(m, h, u);\n                    h == p ? i.push(new ki(et(v, y), et(v, y))) : m.length > y && i.push(new ki(et(v, y), et(v, U(m, p, u))));\n                  }\n\n                  i.length || i.push(new ki(r, r)), Qi(o, Si(e, s.ranges.slice(0, a).concat(i), a), {\n                    origin: \"*mouse\",\n                    scroll: !1\n                  }), e.scrollIntoView(t);\n                } else {\n                  var b,\n                      w = l,\n                      x = ml(e, t, n.unit),\n                      C = w.anchor;\n                  tt(x.anchor, C) > 0 ? (b = x.head, C = ot(w.from(), x.anchor)) : (b = x.anchor, C = it(w.to(), x.head));\n                  var k = s.ranges.slice(0);\n                  k[a] = function (e, t) {\n                    var r = t.anchor,\n                        n = t.head,\n                        i = Ke(e.doc, r.line);\n                    if (0 == tt(r, n) && r.sticky == n.sticky) return t;\n                    var o = ue(i);\n                    if (!o) return t;\n                    var l = ae(o, r.ch, r.sticky),\n                        a = o[l];\n                    if (a.from != r.ch && a.to != r.ch) return t;\n                    var s,\n                        u = l + (a.from == r.ch == (1 != a.level) ? 0 : 1);\n                    if (0 == u || u == o.length) return t;\n                    if (n.line != r.line) s = (n.line - r.line) * (\"ltr\" == e.doc.direction ? 1 : -1) > 0;else {\n                      var c = ae(o, n.ch, n.sticky),\n                          d = c - l || (n.ch - r.ch) * (1 == a.level ? -1 : 1);\n                      s = c == u - 1 || c == u ? d < 0 : d > 0;\n                    }\n                    var f = o[u + (s ? -1 : 0)],\n                        h = s == (1 == f.level),\n                        p = h ? f.from : f.to,\n                        v = h ? \"after\" : \"before\";\n                    return r.ch == p && r.sticky == v ? t : new ki(new et(r.line, p, v), n);\n                  }(e, new ki(at(o, C), b)), Qi(o, Si(e, k, a), V);\n                }\n              }\n\n              var h = i.wrapper.getBoundingClientRect(),\n                  p = 0;\n\n              function v(t) {\n                e.state.selectingText = !1, p = 1 / 0, t && (be(t), i.input.focus()), he(i.wrapper.ownerDocument, \"mousemove\", g), he(i.wrapper.ownerDocument, \"mouseup\", m), o.history.lastSelOrigin = null;\n              }\n\n              var g = ei(e, function (t) {\n                0 !== t.buttons && Se(t) ? function t(r) {\n                  var l = ++p,\n                      a = un(e, r, !0, \"rectangle\" == n.unit);\n                  if (a) if (0 != tt(a, d)) {\n                    e.curOp.focus = P(), f(a);\n                    var s = On(i, o);\n                    (a.line >= s.to || a.line < s.from) && setTimeout(ei(e, function () {\n                      p == l && t(r);\n                    }), 150);\n                  } else {\n                    var u = r.clientY < h.top ? -20 : r.clientY > h.bottom ? 20 : 0;\n                    u && setTimeout(ei(e, function () {\n                      p == l && (i.scroller.scrollTop += u, t(r));\n                    }), 50);\n                  }\n                }(t) : v(t);\n              }),\n                  m = ei(e, v);\n              e.state.selectingText = m, de(i.wrapper.ownerDocument, \"mousemove\", g), de(i.wrapper.ownerDocument, \"mouseup\", m);\n            }(e, n, t, o);\n          }(t, n, o, e) : ke(e) == r.scroller && be(e) : 2 == i ? (n && Xi(t.doc, n), setTimeout(function () {\n            return r.input.focus();\n          }, 20)) : 3 == i && (k ? t.display.input.onContextMenu(e) : kn(t)));\n        }\n      }\n\n      function ml(e, t, r) {\n        if (\"char\" == r) return new ki(t, t);\n        if (\"word\" == r) return e.findWordAt(t);\n        if (\"line\" == r) return new ki(et(t.line, 0), at(e.doc, et(t.line + 1, 0)));\n        var n = r(e, t);\n        return new ki(n.from, n.to);\n      }\n\n      function yl(e, t, r, n) {\n        var i, o;\n        if (t.touches) i = t.touches[0].clientX, o = t.touches[0].clientY;else try {\n          i = t.clientX, o = t.clientY;\n        } catch (t) {\n          return !1;\n        }\n        if (i >= Math.floor(e.display.gutters.getBoundingClientRect().right)) return !1;\n        n && be(t);\n        var l = e.display,\n            a = l.lineDiv.getBoundingClientRect();\n        if (o > a.bottom || !me(e, r)) return xe(t);\n        o -= a.top - l.viewOffset;\n\n        for (var s = 0; s < e.display.gutterSpecs.length; ++s) {\n          var u = l.gutters.childNodes[s];\n          if (u && u.getBoundingClientRect().right >= i) return pe(e, r, e, Ze(e.doc, o), e.display.gutterSpecs[s].className, t), xe(t);\n        }\n      }\n\n      function bl(e, t) {\n        return yl(e, t, \"gutterClick\", !0);\n      }\n\n      function wl(e, t) {\n        xr(e.display, t) || function (e, t) {\n          return !!me(e, \"gutterContextMenu\") && yl(e, t, \"gutterContextMenu\", !1);\n        }(e, t) || ve(e, t, \"contextmenu\") || k || e.display.input.onContextMenu(t);\n      }\n\n      function xl(e) {\n        e.display.wrapper.className = e.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") + e.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\"), _r(e);\n      }\n\n      vl.prototype.compare = function (e, t, r) {\n        return this.time + 400 > e && 0 == tt(t, this.pos) && r == this.button;\n      };\n\n      var Cl = {\n        toString: function () {\n          return \"CodeMirror.Init\";\n        }\n      },\n          kl = {},\n          Sl = {};\n\n      function Ml(e, t, r) {\n        if (!t != !(r && r != Cl)) {\n          var n = e.display.dragFunctions,\n              i = t ? de : he;\n          i(e.display.scroller, \"dragstart\", n.start), i(e.display.scroller, \"dragenter\", n.enter), i(e.display.scroller, \"dragover\", n.over), i(e.display.scroller, \"dragleave\", n.leave), i(e.display.scroller, \"drop\", n.drop);\n        }\n      }\n\n      function Ll(e) {\n        e.options.lineWrapping ? (E(e.display.wrapper, \"CodeMirror-wrap\"), e.display.sizer.style.minWidth = \"\", e.display.sizerWidth = null) : (L(e.display.wrapper, \"CodeMirror-wrap\"), Ut(e)), sn(e), dn(e), _r(e), setTimeout(function () {\n          return jn(e);\n        }, 100);\n      }\n\n      function Tl(e, t) {\n        var r = this;\n        if (!(this instanceof Tl)) return new Tl(e, t);\n        this.options = t = t ? F(t) : {}, F(kl, t, !1);\n        var n = t.value;\n        \"string\" == typeof n ? n = new Do(n, t.mode, null, t.lineSeparator, t.direction) : t.mode && (n.modeOption = t.mode), this.doc = n;\n        var i = new Tl.inputStyles[t.inputStyle](this),\n            o = this.display = new gi(e, n, i, t);\n\n        for (var u in o.wrapper.CodeMirror = this, xl(this), t.lineWrapping && (this.display.wrapper.className += \" CodeMirror-wrap\"), Gn(this), this.state = {\n          keyMaps: [],\n          overlays: [],\n          modeGen: 0,\n          overwrite: !1,\n          delayingBlurEvent: !1,\n          focused: !1,\n          suppressEdits: !1,\n          pasteIncoming: -1,\n          cutIncoming: -1,\n          selectingText: !1,\n          draggingText: !1,\n          highlight: new _(),\n          keySeq: null,\n          specialChars: null\n        }, t.autofocus && !m && o.input.focus(), l && a < 11 && setTimeout(function () {\n          return r.display.input.reset(!0);\n        }, 20), function (e) {\n          var t = e.display;\n          de(t.scroller, \"mousedown\", ei(e, gl)), de(t.scroller, \"dblclick\", l && a < 11 ? ei(e, function (t) {\n            if (!ve(e, t)) {\n              var r = un(e, t);\n\n              if (r && !bl(e, t) && !xr(e.display, t)) {\n                be(t);\n                var n = e.findWordAt(r);\n                Xi(e.doc, n.anchor, n.head);\n              }\n            }\n          }) : function (t) {\n            return ve(e, t) || be(t);\n          }), de(t.scroller, \"contextmenu\", function (t) {\n            return wl(e, t);\n          });\n          var r,\n              n = {\n            end: 0\n          };\n\n          function i() {\n            t.activeTouch && (r = setTimeout(function () {\n              return t.activeTouch = null;\n            }, 1e3), (n = t.activeTouch).end = +new Date());\n          }\n\n          function o(e, t) {\n            if (null == t.left) return !0;\n            var r = t.left - e.left,\n                n = t.top - e.top;\n            return r * r + n * n > 400;\n          }\n\n          de(t.scroller, \"touchstart\", function (i) {\n            if (!ve(e, i) && !function (e) {\n              if (1 != e.touches.length) return !1;\n              var t = e.touches[0];\n              return t.radiusX <= 1 && t.radiusY <= 1;\n            }(i) && !bl(e, i)) {\n              t.input.ensurePolled(), clearTimeout(r);\n              var o = +new Date();\n              t.activeTouch = {\n                start: o,\n                moved: !1,\n                prev: o - n.end <= 300 ? n : null\n              }, 1 == i.touches.length && (t.activeTouch.left = i.touches[0].pageX, t.activeTouch.top = i.touches[0].pageY);\n            }\n          }), de(t.scroller, \"touchmove\", function () {\n            t.activeTouch && (t.activeTouch.moved = !0);\n          }), de(t.scroller, \"touchend\", function (r) {\n            var n = t.activeTouch;\n\n            if (n && !xr(t, r) && null != n.left && !n.moved && new Date() - n.start < 300) {\n              var l,\n                  a = e.coordsChar(t.activeTouch, \"page\");\n              l = !n.prev || o(n, n.prev) ? new ki(a, a) : !n.prev.prev || o(n, n.prev.prev) ? e.findWordAt(a) : new ki(et(a.line, 0), at(e.doc, et(a.line + 1, 0))), e.setSelection(l.anchor, l.head), e.focus(), be(r);\n            }\n\n            i();\n          }), de(t.scroller, \"touchcancel\", i), de(t.scroller, \"scroll\", function () {\n            t.scroller.clientHeight && (Wn(e, t.scroller.scrollTop), Fn(e, t.scroller.scrollLeft, !0), pe(e, \"scroll\", e));\n          }), de(t.scroller, \"mousewheel\", function (t) {\n            return xi(e, t);\n          }), de(t.scroller, \"DOMMouseScroll\", function (t) {\n            return xi(e, t);\n          }), de(t.wrapper, \"scroll\", function () {\n            return t.wrapper.scrollTop = t.wrapper.scrollLeft = 0;\n          }), t.dragFunctions = {\n            enter: function (t) {\n              ve(e, t) || Ce(t);\n            },\n            over: function (t) {\n              ve(e, t) || (function (e, t) {\n                var r = un(e, t);\n\n                if (r) {\n                  var n = document.createDocumentFragment();\n                  yn(e, r, n), e.display.dragCursor || (e.display.dragCursor = N(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\"), e.display.lineSpace.insertBefore(e.display.dragCursor, e.display.cursorDiv)), O(e.display.dragCursor, n);\n                }\n              }(e, t), Ce(t));\n            },\n            start: function (t) {\n              return function (e, t) {\n                if (l && (!e.state.draggingText || +new Date() - Po < 100)) Ce(t);else if (!ve(e, t) && !xr(e.display, t) && (t.dataTransfer.setData(\"Text\", e.getSelection()), t.dataTransfer.effectAllowed = \"copyMove\", t.dataTransfer.setDragImage && !f)) {\n                  var r = N(\"img\", null, null, \"position: fixed; left: 0; top: 0;\");\n                  r.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\", d && (r.width = r.height = 1, e.display.wrapper.appendChild(r), r._top = r.offsetTop), t.dataTransfer.setDragImage(r, 0, 0), d && r.parentNode.removeChild(r);\n                }\n              }(e, t);\n            },\n            drop: ei(e, Eo),\n            leave: function (t) {\n              ve(e, t) || Ho(e);\n            }\n          };\n          var s = t.input.getField();\n          de(s, \"keyup\", function (t) {\n            return dl.call(e, t);\n          }), de(s, \"keydown\", ei(e, cl)), de(s, \"keypress\", ei(e, fl)), de(s, \"focus\", function (t) {\n            return Sn(e, t);\n          }), de(s, \"blur\", function (t) {\n            return Mn(e, t);\n          });\n        }(this), Fo(), Kn(this), this.curOp.forceUpdate = !0, Wi(this, n), t.autofocus && !m || this.hasFocus() ? setTimeout(I(Sn, this), 20) : Mn(this), Sl) Sl.hasOwnProperty(u) && Sl[u](this, t[u], Cl);\n\n        fi(this), t.finishInit && t.finishInit(this);\n\n        for (var c = 0; c < Ol.length; ++c) Ol[c](this);\n\n        $n(this), s && t.lineWrapping && \"optimizelegibility\" == getComputedStyle(o.lineDiv).textRendering && (o.lineDiv.style.textRendering = \"auto\");\n      }\n\n      Tl.defaults = kl, Tl.optionHandlers = Sl;\n      var Ol = [];\n\n      function Nl(e, t, r, n) {\n        var i,\n            o = e.doc;\n        null == r && (r = \"add\"), \"smart\" == r && (o.mode.indent ? i = ht(e, t).state : r = \"prev\");\n        var l = e.options.tabSize,\n            a = Ke(o, t),\n            s = z(a.text, null, l);\n        a.stateAfter && (a.stateAfter = null);\n        var u,\n            c = a.text.match(/^\\s*/)[0];\n\n        if (n || /\\S/.test(a.text)) {\n          if (\"smart\" == r && ((u = o.mode.indent(i, a.text.slice(c.length), a.text)) == j || u > 150)) {\n            if (!n) return;\n            r = \"prev\";\n          }\n        } else u = 0, r = \"not\";\n\n        \"prev\" == r ? u = t > o.first ? z(Ke(o, t - 1).text, null, l) : 0 : \"add\" == r ? u = s + e.options.indentUnit : \"subtract\" == r ? u = s - e.options.indentUnit : \"number\" == typeof r && (u = s + r), u = Math.max(0, u);\n        var d = \"\",\n            f = 0;\n        if (e.options.indentWithTabs) for (var h = Math.floor(u / l); h; --h) f += l, d += \"\\t\";\n        if (f < u && (d += $(u - f)), d != c) return vo(o, d, et(t, 0), et(t, c.length), \"+input\"), a.stateAfter = null, !0;\n\n        for (var p = 0; p < o.sel.ranges.length; p++) {\n          var v = o.sel.ranges[p];\n\n          if (v.head.line == t && v.head.ch < c.length) {\n            var g = et(t, c.length);\n            Yi(o, p, new ki(g, g));\n            break;\n          }\n        }\n      }\n\n      Tl.defineInitHook = function (e) {\n        return Ol.push(e);\n      };\n\n      var Al = null;\n\n      function Dl(e) {\n        Al = e;\n      }\n\n      function Pl(e, t, r, n, i) {\n        var o = e.doc;\n        e.display.shift = !1, n || (n = o.sel);\n        var l = +new Date() - 200,\n            a = \"paste\" == i || e.state.pasteIncoming > l,\n            s = De(t),\n            u = null;\n        if (a && n.ranges.length > 1) if (Al && Al.text.join(\"\\n\") == t) {\n          if (n.ranges.length % Al.text.length == 0) {\n            u = [];\n\n            for (var c = 0; c < Al.text.length; c++) u.push(o.splitLines(Al.text[c]));\n          }\n        } else s.length == n.ranges.length && e.options.pasteLinesPerSelection && (u = q(s, function (e) {\n          return [e];\n        }));\n\n        for (var d = e.curOp.updateInput, f = n.ranges.length - 1; f >= 0; f--) {\n          var h = n.ranges[f],\n              p = h.from(),\n              v = h.to();\n          h.empty() && (r && r > 0 ? p = et(p.line, p.ch - r) : e.state.overwrite && !a ? v = et(v.line, Math.min(Ke(o, v.line).text.length, v.ch + X(s).length)) : a && Al && Al.lineWise && Al.text.join(\"\\n\") == t && (p = v = et(p.line, 0)));\n          var g = {\n            from: p,\n            to: v,\n            text: u ? u[f % u.length] : s,\n            origin: i || (a ? \"paste\" : e.state.cutIncoming > l ? \"cut\" : \"+input\")\n          };\n          uo(e.doc, g), ar(e, \"inputRead\", e, g);\n        }\n\n        t && !a && Hl(e, t), Dn(e), e.curOp.updateInput < 2 && (e.curOp.updateInput = d), e.curOp.typing = !0, e.state.pasteIncoming = e.state.cutIncoming = -1;\n      }\n\n      function El(e, t) {\n        var r = e.clipboardData && e.clipboardData.getData(\"Text\");\n        if (r) return e.preventDefault(), t.isReadOnly() || t.options.disableInput || Qn(t, function () {\n          return Pl(t, r, 0, null, \"paste\");\n        }), !0;\n      }\n\n      function Hl(e, t) {\n        if (e.options.electricChars && e.options.smartIndent) for (var r = e.doc.sel, n = r.ranges.length - 1; n >= 0; n--) {\n          var i = r.ranges[n];\n\n          if (!(i.head.ch > 100 || n && r.ranges[n - 1].head.line == i.head.line)) {\n            var o = e.getModeAt(i.head),\n                l = !1;\n\n            if (o.electricChars) {\n              for (var a = 0; a < o.electricChars.length; a++) if (t.indexOf(o.electricChars.charAt(a)) > -1) {\n                l = Nl(e, i.head.line, \"smart\");\n                break;\n              }\n            } else o.electricInput && o.electricInput.test(Ke(e.doc, i.head.line).text.slice(0, i.head.ch)) && (l = Nl(e, i.head.line, \"smart\"));\n\n            l && ar(e, \"electricInput\", e, i.head.line);\n          }\n        }\n      }\n\n      function Wl(e) {\n        for (var t = [], r = [], n = 0; n < e.doc.sel.ranges.length; n++) {\n          var i = e.doc.sel.ranges[n].head.line,\n              o = {\n            anchor: et(i, 0),\n            head: et(i + 1, 0)\n          };\n          r.push(o), t.push(e.getRange(o.anchor, o.head));\n        }\n\n        return {\n          text: t,\n          ranges: r\n        };\n      }\n\n      function Il(e, t, r, n) {\n        e.setAttribute(\"autocorrect\", r ? \"\" : \"off\"), e.setAttribute(\"autocapitalize\", n ? \"\" : \"off\"), e.setAttribute(\"spellcheck\", !!t);\n      }\n\n      function Fl() {\n        var e = N(\"textarea\", null, null, \"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\"),\n            t = N(\"div\", [e], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\");\n        return s ? e.style.width = \"1000px\" : e.setAttribute(\"wrap\", \"off\"), v && (e.style.border = \"1px solid black\"), Il(e), t;\n      }\n\n      function zl(e, t, r, n, i) {\n        var o = t,\n            l = r,\n            a = Ke(e, t.line);\n\n        function s(n) {\n          var o, l;\n\n          if (null == (o = i ? function (e, t, r, n) {\n            var i = ue(t, e.doc.direction);\n            if (!i) return Qo(t, r, n);\n            r.ch >= t.text.length ? (r.ch = t.text.length, r.sticky = \"before\") : r.ch <= 0 && (r.ch = 0, r.sticky = \"after\");\n            var o = ae(i, r.ch, r.sticky),\n                l = i[o];\n            if (\"ltr\" == e.doc.direction && l.level % 2 == 0 && (n > 0 ? l.to > r.ch : l.from < r.ch)) return Qo(t, r, n);\n\n            var a,\n                s = function (e, r) {\n              return Jo(t, e instanceof et ? e.ch : e, r);\n            },\n                u = function (r) {\n              return e.options.lineWrapping ? (a = a || Dr(e, t), Zr(e, t, a, r)) : {\n                begin: 0,\n                end: t.text.length\n              };\n            },\n                c = u(\"before\" == r.sticky ? s(r, -1) : r.ch);\n\n            if (\"rtl\" == e.doc.direction || 1 == l.level) {\n              var d = 1 == l.level == n < 0,\n                  f = s(r, d ? 1 : -1);\n\n              if (null != f && (d ? f <= l.to && f <= c.end : f >= l.from && f >= c.begin)) {\n                var h = d ? \"before\" : \"after\";\n                return new et(r.line, f, h);\n              }\n            }\n\n            var p = function (e, t, n) {\n              for (var o = function (e, t) {\n                return t ? new et(r.line, s(e, 1), \"before\") : new et(r.line, e, \"after\");\n              }; e >= 0 && e < i.length; e += t) {\n                var l = i[e],\n                    a = t > 0 == (1 != l.level),\n                    u = a ? n.begin : s(n.end, -1);\n                if (l.from <= u && u < l.to) return o(u, a);\n                if (u = a ? l.from : s(l.to, -1), n.begin <= u && u < n.end) return o(u, a);\n              }\n            },\n                v = p(o + n, n, c);\n\n            if (v) return v;\n            var g = n > 0 ? c.end : s(c.begin, -1);\n            return null == g || n > 0 && g == t.text.length || !(v = p(n > 0 ? 0 : i.length - 1, n, u(g))) ? null : v;\n          }(e.cm, a, t, r) : Qo(a, t, r))) {\n            if (n || (l = t.line + r) < e.first || l >= e.first + e.size || (t = new et(l, t.ch, t.sticky), !(a = Ke(e, l)))) return !1;\n            t = el(i, e.cm, a, t.line, r);\n          } else t = o;\n\n          return !0;\n        }\n\n        if (\"char\" == n) s();else if (\"column\" == n) s(!0);else if (\"word\" == n || \"group\" == n) for (var u = null, c = \"group\" == n, d = e.cm && e.cm.getHelper(t, \"wordChars\"), f = !0; !(r < 0) || s(!f); f = !1) {\n          var h = a.text.charAt(t.ch) || \"\\n\",\n              p = ee(h, d) ? \"w\" : c && \"\\n\" == h ? \"n\" : !c || /\\s/.test(h) ? null : \"p\";\n\n          if (!c || f || p || (p = \"s\"), u && u != p) {\n            r < 0 && (r = 1, s(), t.sticky = \"after\");\n            break;\n          }\n\n          if (p && (u = p), r > 0 && !s(!f)) break;\n        }\n        var v = oo(e, t, o, l, !0);\n        return rt(o, v) && (v.hitSide = !0), v;\n      }\n\n      function _l(e, t, r, n) {\n        var i,\n            o,\n            l = e.doc,\n            a = t.left;\n\n        if (\"page\" == n) {\n          var s = Math.min(e.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight),\n              u = Math.max(s - .5 * rn(e.display), 3);\n          i = (r > 0 ? t.bottom : t.top) + r * u;\n        } else \"line\" == n && (i = r > 0 ? t.bottom + 3 : t.top - 3);\n\n        for (; (o = qr(e, a, i)).outside;) {\n          if (r < 0 ? i <= 0 : i >= l.height) {\n            o.hitSide = !0;\n            break;\n          }\n\n          i += 5 * r;\n        }\n\n        return o;\n      }\n\n      var Rl = function (e) {\n        this.cm = e, this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null, this.polling = new _(), this.composing = null, this.gracePeriod = !1, this.readDOMTimeout = null;\n      };\n\n      function jl(e, t) {\n        var r = Ar(e, t.line);\n        if (!r || r.hidden) return null;\n        var n = Ke(e.doc, t.line),\n            i = Or(r, n, t.line),\n            o = ue(n, e.doc.direction),\n            l = \"left\";\n        o && (l = ae(o, t.ch) % 2 ? \"right\" : \"left\");\n        var a = Wr(i.map, t.ch, l);\n        return a.offset = \"right\" == a.collapse ? a.end : a.start, a;\n      }\n\n      function Bl(e, t) {\n        return t && (e.bad = !0), e;\n      }\n\n      function Vl(e, t, r) {\n        var n;\n\n        if (t == e.display.lineDiv) {\n          if (!(n = e.display.lineDiv.childNodes[r])) return Bl(e.clipPos(et(e.display.viewTo - 1)), !0);\n          t = null, r = 0;\n        } else for (n = t;; n = n.parentNode) {\n          if (!n || n == e.display.lineDiv) return null;\n          if (n.parentNode && n.parentNode == e.display.lineDiv) break;\n        }\n\n        for (var i = 0; i < e.display.view.length; i++) {\n          var o = e.display.view[i];\n          if (o.node == n) return Gl(o, t, r);\n        }\n      }\n\n      function Gl(e, t, r) {\n        var n = e.text.firstChild,\n            i = !1;\n        if (!t || !D(n, t)) return Bl(et(Ye(e.line), 0), !0);\n\n        if (t == n && (i = !0, t = n.childNodes[r], r = 0, !t)) {\n          var o = e.rest ? X(e.rest) : e.line;\n          return Bl(et(Ye(o), o.text.length), i);\n        }\n\n        var l = 3 == t.nodeType ? t : null,\n            a = t;\n\n        for (l || 1 != t.childNodes.length || 3 != t.firstChild.nodeType || (l = t.firstChild, r && (r = l.nodeValue.length)); a.parentNode != n;) a = a.parentNode;\n\n        var s = e.measure,\n            u = s.maps;\n\n        function c(t, r, n) {\n          for (var i = -1; i < (u ? u.length : 0); i++) for (var o = i < 0 ? s.map : u[i], l = 0; l < o.length; l += 3) {\n            var a = o[l + 2];\n\n            if (a == t || a == r) {\n              var c = Ye(i < 0 ? e.line : e.rest[i]),\n                  d = o[l] + n;\n              return (n < 0 || a != t) && (d = o[l + (n ? 1 : 0)]), et(c, d);\n            }\n          }\n        }\n\n        var d = c(l, a, r);\n        if (d) return Bl(d, i);\n\n        for (var f = a.nextSibling, h = l ? l.nodeValue.length - r : 0; f; f = f.nextSibling) {\n          if (d = c(f, f.firstChild, 0)) return Bl(et(d.line, d.ch - h), i);\n          h += f.textContent.length;\n        }\n\n        for (var p = a.previousSibling, v = r; p; p = p.previousSibling) {\n          if (d = c(p, p.firstChild, -1)) return Bl(et(d.line, d.ch + v), i);\n          v += p.textContent.length;\n        }\n      }\n\n      Rl.prototype.init = function (e) {\n        var t = this,\n            r = this,\n            n = r.cm,\n            i = r.div = e.lineDiv;\n\n        function o(e) {\n          if (!ve(n, e)) {\n            if (n.somethingSelected()) Dl({\n              lineWise: !1,\n              text: n.getSelections()\n            }), \"cut\" == e.type && n.replaceSelection(\"\", null, \"cut\");else {\n              if (!n.options.lineWiseCopyCut) return;\n              var t = Wl(n);\n              Dl({\n                lineWise: !0,\n                text: t.text\n              }), \"cut\" == e.type && n.operation(function () {\n                n.setSelections(t.ranges, 0, B), n.replaceSelection(\"\", null, \"cut\");\n              });\n            }\n\n            if (e.clipboardData) {\n              e.clipboardData.clearData();\n              var o = Al.text.join(\"\\n\");\n              if (e.clipboardData.setData(\"Text\", o), e.clipboardData.getData(\"Text\") == o) return void e.preventDefault();\n            }\n\n            var l = Fl(),\n                a = l.firstChild;\n            n.display.lineSpace.insertBefore(l, n.display.lineSpace.firstChild), a.value = Al.text.join(\"\\n\");\n            var s = document.activeElement;\n            W(a), setTimeout(function () {\n              n.display.lineSpace.removeChild(l), s.focus(), s == i && r.showPrimarySelection();\n            }, 50);\n          }\n        }\n\n        Il(i, n.options.spellcheck, n.options.autocorrect, n.options.autocapitalize), de(i, \"paste\", function (e) {\n          ve(n, e) || El(e, n) || a <= 11 && setTimeout(ei(n, function () {\n            return t.updateFromDOM();\n          }), 20);\n        }), de(i, \"compositionstart\", function (e) {\n          t.composing = {\n            data: e.data,\n            done: !1\n          };\n        }), de(i, \"compositionupdate\", function (e) {\n          t.composing || (t.composing = {\n            data: e.data,\n            done: !1\n          });\n        }), de(i, \"compositionend\", function (e) {\n          t.composing && (e.data != t.composing.data && t.readFromDOMSoon(), t.composing.done = !0);\n        }), de(i, \"touchstart\", function () {\n          return r.forceCompositionEnd();\n        }), de(i, \"input\", function () {\n          t.composing || t.readFromDOMSoon();\n        }), de(i, \"copy\", o), de(i, \"cut\", o);\n      }, Rl.prototype.prepareSelection = function () {\n        var e = mn(this.cm, !1);\n        return e.focus = this.cm.state.focused, e;\n      }, Rl.prototype.showSelection = function (e, t) {\n        e && this.cm.display.view.length && ((e.focus || t) && this.showPrimarySelection(), this.showMultipleSelections(e));\n      }, Rl.prototype.getSelection = function () {\n        return this.cm.display.wrapper.ownerDocument.getSelection();\n      }, Rl.prototype.showPrimarySelection = function () {\n        var e = this.getSelection(),\n            t = this.cm,\n            n = t.doc.sel.primary(),\n            i = n.from(),\n            o = n.to();\n        if (t.display.viewTo == t.display.viewFrom || i.line >= t.display.viewTo || o.line < t.display.viewFrom) e.removeAllRanges();else {\n          var l = Vl(t, e.anchorNode, e.anchorOffset),\n              a = Vl(t, e.focusNode, e.focusOffset);\n\n          if (!l || l.bad || !a || a.bad || 0 != tt(ot(l, a), i) || 0 != tt(it(l, a), o)) {\n            var s = t.display.view,\n                u = i.line >= t.display.viewFrom && jl(t, i) || {\n              node: s[0].measure.map[2],\n              offset: 0\n            },\n                c = o.line < t.display.viewTo && jl(t, o);\n\n            if (!c) {\n              var d = s[s.length - 1].measure,\n                  f = d.maps ? d.maps[d.maps.length - 1] : d.map;\n              c = {\n                node: f[f.length - 1],\n                offset: f[f.length - 2] - f[f.length - 3]\n              };\n            }\n\n            if (u && c) {\n              var h,\n                  p = e.rangeCount && e.getRangeAt(0);\n\n              try {\n                h = M(u.node, u.offset, c.offset, c.node);\n              } catch (e) {}\n\n              h && (!r && t.state.focused ? (e.collapse(u.node, u.offset), h.collapsed || (e.removeAllRanges(), e.addRange(h))) : (e.removeAllRanges(), e.addRange(h)), p && null == e.anchorNode ? e.addRange(p) : r && this.startGracePeriod()), this.rememberSelection();\n            } else e.removeAllRanges();\n          }\n        }\n      }, Rl.prototype.startGracePeriod = function () {\n        var e = this;\n        clearTimeout(this.gracePeriod), this.gracePeriod = setTimeout(function () {\n          e.gracePeriod = !1, e.selectionChanged() && e.cm.operation(function () {\n            return e.cm.curOp.selectionChanged = !0;\n          });\n        }, 20);\n      }, Rl.prototype.showMultipleSelections = function (e) {\n        O(this.cm.display.cursorDiv, e.cursors), O(this.cm.display.selectionDiv, e.selection);\n      }, Rl.prototype.rememberSelection = function () {\n        var e = this.getSelection();\n        this.lastAnchorNode = e.anchorNode, this.lastAnchorOffset = e.anchorOffset, this.lastFocusNode = e.focusNode, this.lastFocusOffset = e.focusOffset;\n      }, Rl.prototype.selectionInEditor = function () {\n        var e = this.getSelection();\n        if (!e.rangeCount) return !1;\n        var t = e.getRangeAt(0).commonAncestorContainer;\n        return D(this.div, t);\n      }, Rl.prototype.focus = function () {\n        \"nocursor\" != this.cm.options.readOnly && (this.selectionInEditor() || this.showSelection(this.prepareSelection(), !0), this.div.focus());\n      }, Rl.prototype.blur = function () {\n        this.div.blur();\n      }, Rl.prototype.getField = function () {\n        return this.div;\n      }, Rl.prototype.supportsTouch = function () {\n        return !0;\n      }, Rl.prototype.receivedFocus = function () {\n        var e = this;\n        this.selectionInEditor() ? this.pollSelection() : Qn(this.cm, function () {\n          return e.cm.curOp.selectionChanged = !0;\n        }), this.polling.set(this.cm.options.pollInterval, function t() {\n          e.cm.state.focused && (e.pollSelection(), e.polling.set(e.cm.options.pollInterval, t));\n        });\n      }, Rl.prototype.selectionChanged = function () {\n        var e = this.getSelection();\n        return e.anchorNode != this.lastAnchorNode || e.anchorOffset != this.lastAnchorOffset || e.focusNode != this.lastFocusNode || e.focusOffset != this.lastFocusOffset;\n      }, Rl.prototype.pollSelection = function () {\n        if (null == this.readDOMTimeout && !this.gracePeriod && this.selectionChanged()) {\n          var e = this.getSelection(),\n              t = this.cm;\n          if (g && c && this.cm.display.gutterSpecs.length && function (e) {\n            for (var t = e; t; t = t.parentNode) if (/CodeMirror-gutter-wrapper/.test(t.className)) return !0;\n\n            return !1;\n          }(e.anchorNode)) return this.cm.triggerOnKeyDown({\n            type: \"keydown\",\n            keyCode: 8,\n            preventDefault: Math.abs\n          }), this.blur(), void this.focus();\n\n          if (!this.composing) {\n            this.rememberSelection();\n            var r = Vl(t, e.anchorNode, e.anchorOffset),\n                n = Vl(t, e.focusNode, e.focusOffset);\n            r && n && Qn(t, function () {\n              Qi(t.doc, Mi(r, n), B), (r.bad || n.bad) && (t.curOp.selectionChanged = !0);\n            });\n          }\n        }\n      }, Rl.prototype.pollContent = function () {\n        null != this.readDOMTimeout && (clearTimeout(this.readDOMTimeout), this.readDOMTimeout = null);\n        var e,\n            t,\n            r,\n            n = this.cm,\n            i = n.display,\n            o = n.doc.sel.primary(),\n            l = o.from(),\n            a = o.to();\n        if (0 == l.ch && l.line > n.firstLine() && (l = et(l.line - 1, Ke(n.doc, l.line - 1).length)), a.ch == Ke(n.doc, a.line).text.length && a.line < n.lastLine() && (a = et(a.line + 1, 0)), l.line < i.viewFrom || a.line > i.viewTo - 1) return !1;\n        l.line == i.viewFrom || 0 == (e = cn(n, l.line)) ? (t = Ye(i.view[0].line), r = i.view[0].node) : (t = Ye(i.view[e].line), r = i.view[e - 1].node.nextSibling);\n        var s,\n            u,\n            c = cn(n, a.line);\n        if (c == i.view.length - 1 ? (s = i.viewTo - 1, u = i.lineDiv.lastChild) : (s = Ye(i.view[c + 1].line) - 1, u = i.view[c + 1].node.previousSibling), !r) return !1;\n\n        for (var d = n.doc.splitLines(function (e, t, r, n, i) {\n          var o = \"\",\n              l = !1,\n              a = e.doc.lineSeparator(),\n              s = !1;\n\n          function u() {\n            l && (o += a, s && (o += a), l = s = !1);\n          }\n\n          function c(e) {\n            e && (u(), o += e);\n          }\n\n          function d(t) {\n            if (1 == t.nodeType) {\n              var r = t.getAttribute(\"cm-text\");\n              if (r) return void c(r);\n              var o,\n                  f = t.getAttribute(\"cm-marker\");\n\n              if (f) {\n                var h = e.findMarks(et(n, 0), et(i + 1, 0), (g = +f, function (e) {\n                  return e.id == g;\n                }));\n                return void (h.length && (o = h[0].find(0)) && c($e(e.doc, o.from, o.to).join(a)));\n              }\n\n              if (\"false\" == t.getAttribute(\"contenteditable\")) return;\n              var p = /^(pre|div|p|li|table|br)$/i.test(t.nodeName);\n              if (!/^br$/i.test(t.nodeName) && 0 == t.textContent.length) return;\n              p && u();\n\n              for (var v = 0; v < t.childNodes.length; v++) d(t.childNodes[v]);\n\n              /^(pre|p)$/i.test(t.nodeName) && (s = !0), p && (l = !0);\n            } else 3 == t.nodeType && c(t.nodeValue.replace(/\\u200b/g, \"\").replace(/\\u00a0/g, \" \"));\n\n            var g;\n          }\n\n          for (; d(t), t != r;) t = t.nextSibling, s = !1;\n\n          return o;\n        }(n, r, u, t, s)), f = $e(n.doc, et(t, 0), et(s, Ke(n.doc, s).text.length)); d.length > 1 && f.length > 1;) if (X(d) == X(f)) d.pop(), f.pop(), s--;else {\n          if (d[0] != f[0]) break;\n          d.shift(), f.shift(), t++;\n        }\n\n        for (var h = 0, p = 0, v = d[0], g = f[0], m = Math.min(v.length, g.length); h < m && v.charCodeAt(h) == g.charCodeAt(h);) ++h;\n\n        for (var y = X(d), b = X(f), w = Math.min(y.length - (1 == d.length ? h : 0), b.length - (1 == f.length ? h : 0)); p < w && y.charCodeAt(y.length - p - 1) == b.charCodeAt(b.length - p - 1);) ++p;\n\n        if (1 == d.length && 1 == f.length && t == l.line) for (; h && h > l.ch && y.charCodeAt(y.length - p - 1) == b.charCodeAt(b.length - p - 1);) h--, p++;\n        d[d.length - 1] = y.slice(0, y.length - p).replace(/^\\u200b+/, \"\"), d[0] = d[0].slice(h).replace(/\\u200b+$/, \"\");\n        var x = et(t, h),\n            C = et(s, f.length ? X(f).length - p : 0);\n        return d.length > 1 || d[0] || tt(x, C) ? (vo(n.doc, d, x, C, \"+input\"), !0) : void 0;\n      }, Rl.prototype.ensurePolled = function () {\n        this.forceCompositionEnd();\n      }, Rl.prototype.reset = function () {\n        this.forceCompositionEnd();\n      }, Rl.prototype.forceCompositionEnd = function () {\n        this.composing && (clearTimeout(this.readDOMTimeout), this.composing = null, this.updateFromDOM(), this.div.blur(), this.div.focus());\n      }, Rl.prototype.readFromDOMSoon = function () {\n        var e = this;\n        null == this.readDOMTimeout && (this.readDOMTimeout = setTimeout(function () {\n          if (e.readDOMTimeout = null, e.composing) {\n            if (!e.composing.done) return;\n            e.composing = null;\n          }\n\n          e.updateFromDOM();\n        }, 80));\n      }, Rl.prototype.updateFromDOM = function () {\n        var e = this;\n        !this.cm.isReadOnly() && this.pollContent() || Qn(this.cm, function () {\n          return dn(e.cm);\n        });\n      }, Rl.prototype.setUneditable = function (e) {\n        e.contentEditable = \"false\";\n      }, Rl.prototype.onKeyPress = function (e) {\n        0 == e.charCode || this.composing || (e.preventDefault(), this.cm.isReadOnly() || ei(this.cm, Pl)(this.cm, String.fromCharCode(null == e.charCode ? e.keyCode : e.charCode), 0));\n      }, Rl.prototype.readOnlyChanged = function (e) {\n        this.div.contentEditable = String(\"nocursor\" != e);\n      }, Rl.prototype.onContextMenu = function () {}, Rl.prototype.resetPosition = function () {}, Rl.prototype.needsContentAttribute = !0;\n\n      var Ul = function (e) {\n        this.cm = e, this.prevInput = \"\", this.pollingFast = !1, this.polling = new _(), this.hasSelection = !1, this.composing = null;\n      };\n\n      Ul.prototype.init = function (e) {\n        var t = this,\n            r = this,\n            n = this.cm;\n        this.createField(e);\n        var i = this.textarea;\n\n        function o(e) {\n          if (!ve(n, e)) {\n            if (n.somethingSelected()) Dl({\n              lineWise: !1,\n              text: n.getSelections()\n            });else {\n              if (!n.options.lineWiseCopyCut) return;\n              var t = Wl(n);\n              Dl({\n                lineWise: !0,\n                text: t.text\n              }), \"cut\" == e.type ? n.setSelections(t.ranges, null, B) : (r.prevInput = \"\", i.value = t.text.join(\"\\n\"), W(i));\n            }\n            \"cut\" == e.type && (n.state.cutIncoming = +new Date());\n          }\n        }\n\n        e.wrapper.insertBefore(this.wrapper, e.wrapper.firstChild), v && (i.style.width = \"0px\"), de(i, \"input\", function () {\n          l && a >= 9 && t.hasSelection && (t.hasSelection = null), r.poll();\n        }), de(i, \"paste\", function (e) {\n          ve(n, e) || El(e, n) || (n.state.pasteIncoming = +new Date(), r.fastPoll());\n        }), de(i, \"cut\", o), de(i, \"copy\", o), de(e.scroller, \"paste\", function (t) {\n          if (!xr(e, t) && !ve(n, t)) {\n            if (!i.dispatchEvent) return n.state.pasteIncoming = +new Date(), void r.focus();\n            var o = new Event(\"paste\");\n            o.clipboardData = t.clipboardData, i.dispatchEvent(o);\n          }\n        }), de(e.lineSpace, \"selectstart\", function (t) {\n          xr(e, t) || be(t);\n        }), de(i, \"compositionstart\", function () {\n          var e = n.getCursor(\"from\");\n          r.composing && r.composing.range.clear(), r.composing = {\n            start: e,\n            range: n.markText(e, n.getCursor(\"to\"), {\n              className: \"CodeMirror-composing\"\n            })\n          };\n        }), de(i, \"compositionend\", function () {\n          r.composing && (r.poll(), r.composing.range.clear(), r.composing = null);\n        });\n      }, Ul.prototype.createField = function (e) {\n        this.wrapper = Fl(), this.textarea = this.wrapper.firstChild;\n      }, Ul.prototype.prepareSelection = function () {\n        var e = this.cm,\n            t = e.display,\n            r = e.doc,\n            n = mn(e);\n\n        if (e.options.moveInputWithCursor) {\n          var i = Kr(e, r.sel.primary().head, \"div\"),\n              o = t.wrapper.getBoundingClientRect(),\n              l = t.lineDiv.getBoundingClientRect();\n          n.teTop = Math.max(0, Math.min(t.wrapper.clientHeight - 10, i.top + l.top - o.top)), n.teLeft = Math.max(0, Math.min(t.wrapper.clientWidth - 10, i.left + l.left - o.left));\n        }\n\n        return n;\n      }, Ul.prototype.showSelection = function (e) {\n        var t = this.cm.display;\n        O(t.cursorDiv, e.cursors), O(t.selectionDiv, e.selection), null != e.teTop && (this.wrapper.style.top = e.teTop + \"px\", this.wrapper.style.left = e.teLeft + \"px\");\n      }, Ul.prototype.reset = function (e) {\n        if (!this.contextMenuPending && !this.composing) {\n          var t = this.cm;\n\n          if (t.somethingSelected()) {\n            this.prevInput = \"\";\n            var r = t.getSelection();\n            this.textarea.value = r, t.state.focused && W(this.textarea), l && a >= 9 && (this.hasSelection = r);\n          } else e || (this.prevInput = this.textarea.value = \"\", l && a >= 9 && (this.hasSelection = null));\n        }\n      }, Ul.prototype.getField = function () {\n        return this.textarea;\n      }, Ul.prototype.supportsTouch = function () {\n        return !1;\n      }, Ul.prototype.focus = function () {\n        if (\"nocursor\" != this.cm.options.readOnly && (!m || P() != this.textarea)) try {\n          this.textarea.focus();\n        } catch (e) {}\n      }, Ul.prototype.blur = function () {\n        this.textarea.blur();\n      }, Ul.prototype.resetPosition = function () {\n        this.wrapper.style.top = this.wrapper.style.left = 0;\n      }, Ul.prototype.receivedFocus = function () {\n        this.slowPoll();\n      }, Ul.prototype.slowPoll = function () {\n        var e = this;\n        this.pollingFast || this.polling.set(this.cm.options.pollInterval, function () {\n          e.poll(), e.cm.state.focused && e.slowPoll();\n        });\n      }, Ul.prototype.fastPoll = function () {\n        var e = !1,\n            t = this;\n        t.pollingFast = !0, t.polling.set(20, function r() {\n          t.poll() || e ? (t.pollingFast = !1, t.slowPoll()) : (e = !0, t.polling.set(60, r));\n        });\n      }, Ul.prototype.poll = function () {\n        var e = this,\n            t = this.cm,\n            r = this.textarea,\n            n = this.prevInput;\n        if (this.contextMenuPending || !t.state.focused || Pe(r) && !n && !this.composing || t.isReadOnly() || t.options.disableInput || t.state.keySeq) return !1;\n        var i = r.value;\n        if (i == n && !t.somethingSelected()) return !1;\n        if (l && a >= 9 && this.hasSelection === i || y && /[\\uf700-\\uf7ff]/.test(i)) return t.display.input.reset(), !1;\n\n        if (t.doc.sel == t.display.selForContextMenu) {\n          var o = i.charCodeAt(0);\n          if (8203 != o || n || (n = \"​\"), 8666 == o) return this.reset(), this.cm.execCommand(\"undo\");\n        }\n\n        for (var s = 0, u = Math.min(n.length, i.length); s < u && n.charCodeAt(s) == i.charCodeAt(s);) ++s;\n\n        return Qn(t, function () {\n          Pl(t, i.slice(s), n.length - s, null, e.composing ? \"*compose\" : null), i.length > 1e3 || i.indexOf(\"\\n\") > -1 ? r.value = e.prevInput = \"\" : e.prevInput = i, e.composing && (e.composing.range.clear(), e.composing.range = t.markText(e.composing.start, t.getCursor(\"to\"), {\n            className: \"CodeMirror-composing\"\n          }));\n        }), !0;\n      }, Ul.prototype.ensurePolled = function () {\n        this.pollingFast && this.poll() && (this.pollingFast = !1);\n      }, Ul.prototype.onKeyPress = function () {\n        l && a >= 9 && (this.hasSelection = null), this.fastPoll();\n      }, Ul.prototype.onContextMenu = function (e) {\n        var t = this,\n            r = t.cm,\n            n = r.display,\n            i = t.textarea;\n        t.contextMenuPending && t.contextMenuPending();\n        var o = un(r, e),\n            u = n.scroller.scrollTop;\n\n        if (o && !d) {\n          r.options.resetSelectionOnContextMenu && -1 == r.doc.sel.contains(o) && ei(r, Qi)(r.doc, Mi(o), B);\n          var c,\n              f = i.style.cssText,\n              h = t.wrapper.style.cssText,\n              p = t.wrapper.offsetParent.getBoundingClientRect();\n\n          if (t.wrapper.style.cssText = \"position: static\", i.style.cssText = \"position: absolute; width: 30px; height: 30px;\\n      top: \" + (e.clientY - p.top - 5) + \"px; left: \" + (e.clientX - p.left - 5) + \"px;\\n      z-index: 1000; background: \" + (l ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\", s && (c = window.scrollY), n.input.focus(), s && window.scrollTo(null, c), n.input.reset(), r.somethingSelected() || (i.value = t.prevInput = \" \"), t.contextMenuPending = m, n.selForContextMenu = r.doc.sel, clearTimeout(n.detectingSelectAll), l && a >= 9 && g(), k) {\n            Ce(e);\n\n            var v = function () {\n              he(window, \"mouseup\", v), setTimeout(m, 20);\n            };\n\n            de(window, \"mouseup\", v);\n          } else setTimeout(m, 50);\n        }\n\n        function g() {\n          if (null != i.selectionStart) {\n            var e = r.somethingSelected(),\n                o = \"​\" + (e ? i.value : \"\");\n            i.value = \"⇚\", i.value = o, t.prevInput = e ? \"\" : \"​\", i.selectionStart = 1, i.selectionEnd = o.length, n.selForContextMenu = r.doc.sel;\n          }\n        }\n\n        function m() {\n          if (t.contextMenuPending == m && (t.contextMenuPending = !1, t.wrapper.style.cssText = h, i.style.cssText = f, l && a < 9 && n.scrollbars.setScrollTop(n.scroller.scrollTop = u), null != i.selectionStart)) {\n            (!l || l && a < 9) && g();\n\n            var e = 0,\n                o = function () {\n              n.selForContextMenu == r.doc.sel && 0 == i.selectionStart && i.selectionEnd > 0 && \"​\" == t.prevInput ? ei(r, ao)(r) : e++ < 10 ? n.detectingSelectAll = setTimeout(o, 500) : (n.selForContextMenu = null, n.input.reset());\n            };\n\n            n.detectingSelectAll = setTimeout(o, 200);\n          }\n        }\n      }, Ul.prototype.readOnlyChanged = function (e) {\n        e || this.reset(), this.textarea.disabled = \"nocursor\" == e;\n      }, Ul.prototype.setUneditable = function () {}, Ul.prototype.needsContentAttribute = !1, function (e) {\n        var t = e.optionHandlers;\n\n        function r(r, n, i, o) {\n          e.defaults[r] = n, i && (t[r] = o ? function (e, t, r) {\n            r != Cl && i(e, t, r);\n          } : i);\n        }\n\n        e.defineOption = r, e.Init = Cl, r(\"value\", \"\", function (e, t) {\n          return e.setValue(t);\n        }, !0), r(\"mode\", null, function (e, t) {\n          e.doc.modeOption = t, Ai(e);\n        }, !0), r(\"indentUnit\", 2, Ai, !0), r(\"indentWithTabs\", !1), r(\"smartIndent\", !0), r(\"tabSize\", 4, function (e) {\n          Di(e), _r(e), dn(e);\n        }, !0), r(\"lineSeparator\", null, function (e, t) {\n          if (e.doc.lineSep = t, t) {\n            var r = [],\n                n = e.doc.first;\n            e.doc.iter(function (e) {\n              for (var i = 0;;) {\n                var o = e.text.indexOf(t, i);\n                if (-1 == o) break;\n                i = o + t.length, r.push(et(n, o));\n              }\n\n              n++;\n            });\n\n            for (var i = r.length - 1; i >= 0; i--) vo(e.doc, t, r[i], et(r[i].line, r[i].ch + t.length));\n          }\n        }), r(\"specialChars\", /[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b-\\u200f\\u2028\\u2029\\ufeff\\ufff9-\\ufffc]/g, function (e, t, r) {\n          e.state.specialChars = new RegExp(t.source + (t.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\"), r != Cl && e.refresh();\n        }), r(\"specialCharPlaceholder\", Jt, function (e) {\n          return e.refresh();\n        }, !0), r(\"electricChars\", !0), r(\"inputStyle\", m ? \"contenteditable\" : \"textarea\", function () {\n          throw new Error(\"inputStyle can not (yet) be changed in a running editor\");\n        }, !0), r(\"spellcheck\", !1, function (e, t) {\n          return e.getInputField().spellcheck = t;\n        }, !0), r(\"autocorrect\", !1, function (e, t) {\n          return e.getInputField().autocorrect = t;\n        }, !0), r(\"autocapitalize\", !1, function (e, t) {\n          return e.getInputField().autocapitalize = t;\n        }, !0), r(\"rtlMoveVisually\", !w), r(\"wholeLineUpdateBefore\", !0), r(\"theme\", \"default\", function (e) {\n          xl(e), vi(e);\n        }, !0), r(\"keyMap\", \"default\", function (e, t, r) {\n          var n = Yo(t),\n              i = r != Cl && Yo(r);\n          i && i.detach && i.detach(e, n), n.attach && n.attach(e, i || null);\n        }), r(\"extraKeys\", null), r(\"configureMouse\", null), r(\"lineWrapping\", !1, Ll, !0), r(\"gutters\", [], function (e, t) {\n          e.display.gutterSpecs = hi(t, e.options.lineNumbers), vi(e);\n        }, !0), r(\"fixedGutter\", !0, function (e, t) {\n          e.display.gutters.style.left = t ? ln(e.display) + \"px\" : \"0\", e.refresh();\n        }, !0), r(\"coverGutterNextToScrollbar\", !1, function (e) {\n          return jn(e);\n        }, !0), r(\"scrollbarStyle\", \"native\", function (e) {\n          Gn(e), jn(e), e.display.scrollbars.setScrollTop(e.doc.scrollTop), e.display.scrollbars.setScrollLeft(e.doc.scrollLeft);\n        }, !0), r(\"lineNumbers\", !1, function (e, t) {\n          e.display.gutterSpecs = hi(e.options.gutters, t), vi(e);\n        }, !0), r(\"firstLineNumber\", 1, vi, !0), r(\"lineNumberFormatter\", function (e) {\n          return e;\n        }, vi, !0), r(\"showCursorWhenSelecting\", !1, gn, !0), r(\"resetSelectionOnContextMenu\", !0), r(\"lineWiseCopyCut\", !0), r(\"pasteLinesPerSelection\", !0), r(\"selectionsMayTouch\", !1), r(\"readOnly\", !1, function (e, t) {\n          \"nocursor\" == t && (Mn(e), e.display.input.blur()), e.display.input.readOnlyChanged(t);\n        }), r(\"disableInput\", !1, function (e, t) {\n          t || e.display.input.reset();\n        }, !0), r(\"dragDrop\", !0, Ml), r(\"allowDropFileTypes\", null), r(\"cursorBlinkRate\", 530), r(\"cursorScrollMargin\", 0), r(\"cursorHeight\", 1, gn, !0), r(\"singleCursorHeightPerLine\", !0, gn, !0), r(\"workTime\", 100), r(\"workDelay\", 100), r(\"flattenSpans\", !0, Di, !0), r(\"addModeClass\", !1, Di, !0), r(\"pollInterval\", 100), r(\"undoDepth\", 200, function (e, t) {\n          return e.doc.history.undoDepth = t;\n        }), r(\"historyEventDelay\", 1250), r(\"viewportMargin\", 10, function (e) {\n          return e.refresh();\n        }, !0), r(\"maxHighlightLength\", 1e4, Di, !0), r(\"moveInputWithCursor\", !0, function (e, t) {\n          t || e.display.input.resetPosition();\n        }), r(\"tabindex\", null, function (e, t) {\n          return e.display.input.getField().tabIndex = t || \"\";\n        }), r(\"autofocus\", null), r(\"direction\", \"ltr\", function (e, t) {\n          return e.doc.setDirection(t);\n        }, !0), r(\"phrases\", null);\n      }(Tl), function (e) {\n        var t = e.optionHandlers,\n            r = e.helpers = {};\n        e.prototype = {\n          constructor: e,\n          focus: function () {\n            window.focus(), this.display.input.focus();\n          },\n          setOption: function (e, r) {\n            var n = this.options,\n                i = n[e];\n            n[e] == r && \"mode\" != e || (n[e] = r, t.hasOwnProperty(e) && ei(this, t[e])(this, r, i), pe(this, \"optionChange\", this, e));\n          },\n          getOption: function (e) {\n            return this.options[e];\n          },\n          getDoc: function () {\n            return this.doc;\n          },\n          addKeyMap: function (e, t) {\n            this.state.keyMaps[t ? \"push\" : \"unshift\"](Yo(e));\n          },\n          removeKeyMap: function (e) {\n            for (var t = this.state.keyMaps, r = 0; r < t.length; ++r) if (t[r] == e || t[r].name == e) return t.splice(r, 1), !0;\n          },\n          addOverlay: ti(function (t, r) {\n            var n = t.token ? t : e.getMode(this.options, t);\n            if (n.startState) throw new Error(\"Overlays may not be stateful.\");\n            !function (e, t, r) {\n              for (var n = 0, i = r(t); n < e.length && r(e[n]) <= i;) n++;\n\n              e.splice(n, 0, t);\n            }(this.state.overlays, {\n              mode: n,\n              modeSpec: t,\n              opaque: r && r.opaque,\n              priority: r && r.priority || 0\n            }, function (e) {\n              return e.priority;\n            }), this.state.modeGen++, dn(this);\n          }),\n          removeOverlay: ti(function (e) {\n            for (var t = this.state.overlays, r = 0; r < t.length; ++r) {\n              var n = t[r].modeSpec;\n              if (n == e || \"string\" == typeof e && n.name == e) return t.splice(r, 1), this.state.modeGen++, void dn(this);\n            }\n          }),\n          indentLine: ti(function (e, t, r) {\n            \"string\" != typeof t && \"number\" != typeof t && (t = null == t ? this.options.smartIndent ? \"smart\" : \"prev\" : t ? \"add\" : \"subtract\"), Je(this.doc, e) && Nl(this, e, t, r);\n          }),\n          indentSelection: ti(function (e) {\n            for (var t = this.doc.sel.ranges, r = -1, n = 0; n < t.length; n++) {\n              var i = t[n];\n              if (i.empty()) i.head.line > r && (Nl(this, i.head.line, e, !0), r = i.head.line, n == this.doc.sel.primIndex && Dn(this));else {\n                var o = i.from(),\n                    l = i.to(),\n                    a = Math.max(r, o.line);\n                r = Math.min(this.lastLine(), l.line - (l.ch ? 0 : 1)) + 1;\n\n                for (var s = a; s < r; ++s) Nl(this, s, e);\n\n                var u = this.doc.sel.ranges;\n                0 == o.ch && t.length == u.length && u[n].from().ch > 0 && Yi(this.doc, n, new ki(o, u[n].to()), B);\n              }\n            }\n          }),\n          getTokenAt: function (e, t) {\n            return yt(this, e, t);\n          },\n          getLineTokens: function (e, t) {\n            return yt(this, et(e), t, !0);\n          },\n          getTokenTypeAt: function (e) {\n            e = at(this.doc, e);\n            var t,\n                r = ft(this, Ke(this.doc, e.line)),\n                n = 0,\n                i = (r.length - 1) / 2,\n                o = e.ch;\n            if (0 == o) t = r[2];else for (;;) {\n              var l = n + i >> 1;\n              if ((l ? r[2 * l - 1] : 0) >= o) i = l;else {\n                if (!(r[2 * l + 1] < o)) {\n                  t = r[2 * l + 2];\n                  break;\n                }\n\n                n = l + 1;\n              }\n            }\n            var a = t ? t.indexOf(\"overlay \") : -1;\n            return a < 0 ? t : 0 == a ? null : t.slice(0, a - 1);\n          },\n          getModeAt: function (t) {\n            var r = this.doc.mode;\n            return r.innerMode ? e.innerMode(r, this.getTokenAt(t).state).mode : r;\n          },\n          getHelper: function (e, t) {\n            return this.getHelpers(e, t)[0];\n          },\n          getHelpers: function (e, t) {\n            var n = [];\n            if (!r.hasOwnProperty(t)) return n;\n            var i = r[t],\n                o = this.getModeAt(e);\n            if (\"string\" == typeof o[t]) i[o[t]] && n.push(i[o[t]]);else if (o[t]) for (var l = 0; l < o[t].length; l++) {\n              var a = i[o[t][l]];\n              a && n.push(a);\n            } else o.helperType && i[o.helperType] ? n.push(i[o.helperType]) : i[o.name] && n.push(i[o.name]);\n\n            for (var s = 0; s < i._global.length; s++) {\n              var u = i._global[s];\n              u.pred(o, this) && -1 == R(n, u.val) && n.push(u.val);\n            }\n\n            return n;\n          },\n          getStateAfter: function (e, t) {\n            var r = this.doc;\n            return ht(this, (e = lt(r, null == e ? r.first + r.size - 1 : e)) + 1, t).state;\n          },\n          cursorCoords: function (e, t) {\n            var r = this.doc.sel.primary();\n            return Kr(this, null == e ? r.head : \"object\" == typeof e ? at(this.doc, e) : e ? r.from() : r.to(), t || \"page\");\n          },\n          charCoords: function (e, t) {\n            return Ur(this, at(this.doc, e), t || \"page\");\n          },\n          coordsChar: function (e, t) {\n            return qr(this, (e = Gr(this, e, t || \"page\")).left, e.top);\n          },\n          lineAtHeight: function (e, t) {\n            return e = Gr(this, {\n              top: e,\n              left: 0\n            }, t || \"page\").top, Ze(this.doc, e + this.display.viewOffset);\n          },\n          heightAtLine: function (e, t, r) {\n            var n,\n                i = !1;\n\n            if (\"number\" == typeof e) {\n              var o = this.doc.first + this.doc.size - 1;\n              e < this.doc.first ? e = this.doc.first : e > o && (e = o, i = !0), n = Ke(this.doc, e);\n            } else n = e;\n\n            return Vr(this, n, {\n              top: 0,\n              left: 0\n            }, t || \"page\", r || i).top + (i ? this.doc.height - Vt(n) : 0);\n          },\n          defaultTextHeight: function () {\n            return rn(this.display);\n          },\n          defaultCharWidth: function () {\n            return nn(this.display);\n          },\n          getViewport: function () {\n            return {\n              from: this.display.viewFrom,\n              to: this.display.viewTo\n            };\n          },\n          addWidget: function (e, t, r, n, i) {\n            var o,\n                l,\n                a,\n                s = this.display,\n                u = (e = Kr(this, at(this.doc, e))).bottom,\n                c = e.left;\n            if (t.style.position = \"absolute\", t.setAttribute(\"cm-ignore-events\", \"true\"), this.display.input.setUneditable(t), s.sizer.appendChild(t), \"over\" == n) u = e.top;else if (\"above\" == n || \"near\" == n) {\n              var d = Math.max(s.wrapper.clientHeight, this.doc.height),\n                  f = Math.max(s.sizer.clientWidth, s.lineSpace.clientWidth);\n              (\"above\" == n || e.bottom + t.offsetHeight > d) && e.top > t.offsetHeight ? u = e.top - t.offsetHeight : e.bottom + t.offsetHeight <= d && (u = e.bottom), c + t.offsetWidth > f && (c = f - t.offsetWidth);\n            }\n            t.style.top = u + \"px\", t.style.left = t.style.right = \"\", \"right\" == i ? (c = s.sizer.clientWidth - t.offsetWidth, t.style.right = \"0px\") : (\"left\" == i ? c = 0 : \"middle\" == i && (c = (s.sizer.clientWidth - t.offsetWidth) / 2), t.style.left = c + \"px\"), r && (o = this, l = {\n              left: c,\n              top: u,\n              right: c + t.offsetWidth,\n              bottom: u + t.offsetHeight\n            }, null != (a = Nn(o, l)).scrollTop && Wn(o, a.scrollTop), null != a.scrollLeft && Fn(o, a.scrollLeft));\n          },\n          triggerOnKeyDown: ti(cl),\n          triggerOnKeyPress: ti(fl),\n          triggerOnKeyUp: dl,\n          triggerOnMouseDown: ti(gl),\n          execCommand: function (e) {\n            if (tl.hasOwnProperty(e)) return tl[e].call(null, this);\n          },\n          triggerElectric: ti(function (e) {\n            Hl(this, e);\n          }),\n          findPosH: function (e, t, r, n) {\n            var i = 1;\n            t < 0 && (i = -1, t = -t);\n\n            for (var o = at(this.doc, e), l = 0; l < t && !(o = zl(this.doc, o, i, r, n)).hitSide; ++l);\n\n            return o;\n          },\n          moveH: ti(function (e, t) {\n            var r = this;\n            this.extendSelectionsBy(function (n) {\n              return r.display.shift || r.doc.extend || n.empty() ? zl(r.doc, n.head, e, t, r.options.rtlMoveVisually) : e < 0 ? n.from() : n.to();\n            }, G);\n          }),\n          deleteH: ti(function (e, t) {\n            var r = this.doc.sel,\n                n = this.doc;\n            r.somethingSelected() ? n.replaceSelection(\"\", null, \"+delete\") : Zo(this, function (r) {\n              var i = zl(n, r.head, e, t, !1);\n              return e < 0 ? {\n                from: i,\n                to: r.head\n              } : {\n                from: r.head,\n                to: i\n              };\n            });\n          }),\n          findPosV: function (e, t, r, n) {\n            var i = 1,\n                o = n;\n            t < 0 && (i = -1, t = -t);\n\n            for (var l = at(this.doc, e), a = 0; a < t; ++a) {\n              var s = Kr(this, l, \"div\");\n              if (null == o ? o = s.left : s.left = o, (l = _l(this, s, i, r)).hitSide) break;\n            }\n\n            return l;\n          },\n          moveV: ti(function (e, t) {\n            var r = this,\n                n = this.doc,\n                i = [],\n                o = !this.display.shift && !n.extend && n.sel.somethingSelected();\n            if (n.extendSelectionsBy(function (l) {\n              if (o) return e < 0 ? l.from() : l.to();\n              var a = Kr(r, l.head, \"div\");\n              null != l.goalColumn && (a.left = l.goalColumn), i.push(a.left);\n\n              var s = _l(r, a, e, t);\n\n              return \"page\" == t && l == n.sel.primary() && An(r, Ur(r, s, \"div\").top - a.top), s;\n            }, G), i.length) for (var l = 0; l < n.sel.ranges.length; l++) n.sel.ranges[l].goalColumn = i[l];\n          }),\n          findWordAt: function (e) {\n            var t = Ke(this.doc, e.line).text,\n                r = e.ch,\n                n = e.ch;\n\n            if (t) {\n              var i = this.getHelper(e, \"wordChars\");\n              \"before\" != e.sticky && n != t.length || !r ? ++n : --r;\n\n              for (var o = t.charAt(r), l = ee(o, i) ? function (e) {\n                return ee(e, i);\n              } : /\\s/.test(o) ? function (e) {\n                return /\\s/.test(e);\n              } : function (e) {\n                return !/\\s/.test(e) && !ee(e);\n              }; r > 0 && l(t.charAt(r - 1));) --r;\n\n              for (; n < t.length && l(t.charAt(n));) ++n;\n            }\n\n            return new ki(et(e.line, r), et(e.line, n));\n          },\n          toggleOverwrite: function (e) {\n            null != e && e == this.state.overwrite || ((this.state.overwrite = !this.state.overwrite) ? E(this.display.cursorDiv, \"CodeMirror-overwrite\") : L(this.display.cursorDiv, \"CodeMirror-overwrite\"), pe(this, \"overwriteToggle\", this, this.state.overwrite));\n          },\n          hasFocus: function () {\n            return this.display.input.getField() == P();\n          },\n          isReadOnly: function () {\n            return !(!this.options.readOnly && !this.doc.cantEdit);\n          },\n          scrollTo: ti(function (e, t) {\n            Pn(this, e, t);\n          }),\n          getScrollInfo: function () {\n            var e = this.display.scroller;\n            return {\n              left: e.scrollLeft,\n              top: e.scrollTop,\n              height: e.scrollHeight - Mr(this) - this.display.barHeight,\n              width: e.scrollWidth - Mr(this) - this.display.barWidth,\n              clientHeight: Tr(this),\n              clientWidth: Lr(this)\n            };\n          },\n          scrollIntoView: ti(function (e, t) {\n            null == e ? (e = {\n              from: this.doc.sel.primary().head,\n              to: null\n            }, null == t && (t = this.options.cursorScrollMargin)) : \"number\" == typeof e ? e = {\n              from: et(e, 0),\n              to: null\n            } : null == e.from && (e = {\n              from: e,\n              to: null\n            }), e.to || (e.to = e.from), e.margin = t || 0, null != e.from.line ? function (e, t) {\n              En(e), e.curOp.scrollToPos = t;\n            }(this, e) : Hn(this, e.from, e.to, e.margin);\n          }),\n          setSize: ti(function (e, t) {\n            var r = this,\n                n = function (e) {\n              return \"number\" == typeof e || /^\\d+$/.test(String(e)) ? e + \"px\" : e;\n            };\n\n            null != e && (this.display.wrapper.style.width = n(e)), null != t && (this.display.wrapper.style.height = n(t)), this.options.lineWrapping && zr(this);\n            var i = this.display.viewFrom;\n            this.doc.iter(i, this.display.viewTo, function (e) {\n              if (e.widgets) for (var t = 0; t < e.widgets.length; t++) if (e.widgets[t].noHScroll) {\n                fn(r, i, \"widget\");\n                break;\n              }\n              ++i;\n            }), this.curOp.forceUpdate = !0, pe(this, \"refresh\", this);\n          }),\n          operation: function (e) {\n            return Qn(this, e);\n          },\n          startOperation: function () {\n            return Kn(this);\n          },\n          endOperation: function () {\n            return $n(this);\n          },\n          refresh: ti(function () {\n            var e = this.display.cachedTextHeight;\n            dn(this), this.curOp.forceUpdate = !0, _r(this), Pn(this, this.doc.scrollLeft, this.doc.scrollTop), ui(this.display), (null == e || Math.abs(e - rn(this.display)) > .5) && sn(this), pe(this, \"refresh\", this);\n          }),\n          swapDoc: ti(function (e) {\n            var t = this.doc;\n            return t.cm = null, this.state.selectingText && this.state.selectingText(), Wi(this, e), _r(this), this.display.input.reset(), Pn(this, e.scrollLeft, e.scrollTop), this.curOp.forceScroll = !0, ar(this, \"swapDoc\", this, t), t;\n          }),\n          phrase: function (e) {\n            var t = this.options.phrases;\n            return t && Object.prototype.hasOwnProperty.call(t, e) ? t[e] : e;\n          },\n          getInputField: function () {\n            return this.display.input.getField();\n          },\n          getWrapperElement: function () {\n            return this.display.wrapper;\n          },\n          getScrollerElement: function () {\n            return this.display.scroller;\n          },\n          getGutterElement: function () {\n            return this.display.gutters;\n          }\n        }, ye(e), e.registerHelper = function (t, n, i) {\n          r.hasOwnProperty(t) || (r[t] = e[t] = {\n            _global: []\n          }), r[t][n] = i;\n        }, e.registerGlobalHelper = function (t, n, i, o) {\n          e.registerHelper(t, n, o), r[t]._global.push({\n            pred: i,\n            val: o\n          });\n        };\n      }(Tl);\n      var Kl = \"iter insert remove copy getEditor constructor\".split(\" \");\n\n      for (var $l in Do.prototype) Do.prototype.hasOwnProperty($l) && R(Kl, $l) < 0 && (Tl.prototype[$l] = function (e) {\n        return function () {\n          return e.apply(this.doc, arguments);\n        };\n      }(Do.prototype[$l]));\n\n      return ye(Do), Tl.inputStyles = {\n        textarea: Ul,\n        contenteditable: Rl\n      }, Tl.defineMode = function (e) {\n        Tl.defaults.mode || \"null\" == e || (Tl.defaults.mode = e), Fe.apply(this, arguments);\n      }, Tl.defineMIME = function (e, t) {\n        Ie[e] = t;\n      }, Tl.defineMode(\"null\", function () {\n        return {\n          token: function (e) {\n            return e.skipToEnd();\n          }\n        };\n      }), Tl.defineMIME(\"text/plain\", \"null\"), Tl.defineExtension = function (e, t) {\n        Tl.prototype[e] = t;\n      }, Tl.defineDocExtension = function (e, t) {\n        Do.prototype[e] = t;\n      }, Tl.fromTextArea = function (e, t) {\n        if ((t = t ? F(t) : {}).value = e.value, !t.tabindex && e.tabIndex && (t.tabindex = e.tabIndex), !t.placeholder && e.placeholder && (t.placeholder = e.placeholder), null == t.autofocus) {\n          var r = P();\n          t.autofocus = r == e || null != e.getAttribute(\"autofocus\") && r == document.body;\n        }\n\n        function n() {\n          e.value = a.getValue();\n        }\n\n        var i;\n\n        if (e.form && (de(e.form, \"submit\", n), !t.leaveSubmitMethodAlone)) {\n          var o = e.form;\n          i = o.submit;\n\n          try {\n            var l = o.submit = function () {\n              n(), o.submit = i, o.submit(), o.submit = l;\n            };\n          } catch (e) {}\n        }\n\n        t.finishInit = function (r) {\n          r.save = n, r.getTextArea = function () {\n            return e;\n          }, r.toTextArea = function () {\n            r.toTextArea = isNaN, n(), e.parentNode.removeChild(r.getWrapperElement()), e.style.display = \"\", e.form && (he(e.form, \"submit\", n), t.leaveSubmitMethodAlone || \"function\" != typeof e.form.submit || (e.form.submit = i));\n          };\n        }, e.style.display = \"none\";\n        var a = Tl(function (t) {\n          return e.parentNode.insertBefore(t, e.nextSibling);\n        }, t);\n        return a;\n      }, function (e) {\n        e.off = he, e.on = de, e.wheelEventPixels = wi, e.Doc = Do, e.splitLines = De, e.countColumn = z, e.findColumn = U, e.isWordChar = Q, e.Pass = j, e.signal = pe, e.Line = Kt, e.changeEnd = Li, e.scrollbarModel = Vn, e.Pos = et, e.cmpPos = tt, e.modes = We, e.mimeModes = Ie, e.resolveMode = ze, e.getMode = _e, e.modeExtensions = Re, e.extendMode = je, e.copyState = Be, e.startState = Ge, e.innerMode = Ve, e.commands = tl, e.keyMap = Vo, e.keyName = qo, e.isModifierKey = $o, e.lookupKey = Ko, e.normalizeKeyMap = Uo, e.StringStream = Ue, e.SharedTextMarker = To, e.TextMarker = Mo, e.LineWidget = Co, e.e_preventDefault = be, e.e_stopPropagation = we, e.e_stop = Ce, e.addClass = E, e.contains = D, e.rmClass = L, e.keyNames = _o;\n      }(Tl), Tl.version = \"5.50.2\", Tl;\n    }();\n  }, function (e, t, r) {\n    \"use strict\";\n\n    (function (e, n) {\n      r.d(t, \"a\", function () {\n        return k;\n      }), r.d(t, \"b\", function () {\n        return S;\n      });\n\n      var i,\n          o,\n          l,\n          a = r(6),\n          s = r.n(a),\n          u = {},\n          c = u.allKeys = function (e) {\n        var t,\n            r = [];\n\n        for (t in e) r.push(t);\n\n        return r;\n      },\n          d = u.noop = function () {},\n          f = u.isUndef = function (e) {\n        return void 0 === e;\n      },\n          h = u.optimizeCb = function (e, t, r) {\n        if (f(t)) return e;\n\n        switch (null == r ? 3 : r) {\n          case 1:\n            return function (r) {\n              return e.call(t, r);\n            };\n\n          case 3:\n            return function (r, n, i) {\n              return e.call(t, r, n, i);\n            };\n\n          case 4:\n            return function (r, n, i, o) {\n              return e.call(t, r, n, i, o);\n            };\n        }\n\n        return function () {\n          return e.apply(t, arguments);\n        };\n      },\n          p = u.has = (i = Object.prototype.hasOwnProperty, function (e, t) {\n        return i.call(e, t);\n      }),\n          v = u.keys = Object.keys || function (e) {\n        var t,\n            r = [];\n\n        for (t in e) p(e, t) && r.push(t);\n\n        return r;\n      },\n          g = u.objToStr = (o = Object.prototype.toString, function (e) {\n        return o.call(e);\n      }),\n          m = u.isFn = function (e) {\n        var t = g(e);\n        return \"[object Function]\" === t || \"[object GeneratorFunction]\" === t;\n      },\n          y = u.isNum = function (e) {\n        return \"[object Number]\" === g(e);\n      },\n          b = u.isArrLike = (l = Math.pow(2, 53) - 1, function (e) {\n        if (!e) return !1;\n        var t = e.length;\n        return y(t) && t >= 0 && t <= l && !m(e);\n      }),\n          w = u.each = function (e, t, r) {\n        var n, i;\n        if (t = h(t, r), b(e)) for (n = 0, i = e.length; n < i; n++) t(e[n], n, e);else {\n          var o = v(e);\n\n          for (n = 0, i = o.length; n < i; n++) t(e[o[n]], o[n], e);\n        }\n        return e;\n      },\n          x = u.createAssigner = function (e, t) {\n        return function (r) {\n          return w(arguments, function (n, i) {\n            if (0 !== i) {\n              var o = e(n);\n              w(o, function (e) {\n                t && !f(r[e]) || (r[e] = n[e]);\n              });\n            }\n          }), r;\n        };\n      },\n          C = u.extend = x(c),\n          k = u.copy = function (e, t) {\n        t = t || d;\n        var r = document.createElement(\"textarea\"),\n            n = document.body;\n        C(r.style, {\n          fontSize: \"12pt\",\n          border: \"0\",\n          padding: \"0\",\n          margin: \"0\",\n          position: \"absolute\",\n          left: \"-9999px\"\n        }), r.value = e, n.appendChild(r), r.setAttribute(\"readonly\", \"\"), r.select(), r.setSelectionRange(0, e.length);\n\n        try {\n          document.execCommand(\"copy\"), t();\n        } catch (e) {\n          t(e);\n        } finally {\n          n.removeChild(r);\n        }\n      },\n          S = u.nextTick = function (t) {\n        function r(e) {\n          if (\"function\" != typeof e) throw new TypeError(e + \" is not a function\");\n          return e;\n        }\n\n        return \"object\" === (void 0 === e ? \"undefined\" : s()(e)) && e.nextTick ? e.nextTick : \"function\" == typeof n ? function (e) {\n          n(r(e));\n        } : function (e) {\n          setTimeout(r(e), 0);\n        };\n      }();\n    }).call(this, r(9), r(22).setImmediate);\n  }, function (e, t) {\n    var r,\n        n,\n        i = e.exports = {};\n\n    function o() {\n      throw new Error(\"setTimeout has not been defined\");\n    }\n\n    function l() {\n      throw new Error(\"clearTimeout has not been defined\");\n    }\n\n    function a(e) {\n      if (r === setTimeout) return setTimeout(e, 0);\n      if ((r === o || !r) && setTimeout) return r = setTimeout, setTimeout(e, 0);\n\n      try {\n        return r(e, 0);\n      } catch (t) {\n        try {\n          return r.call(null, e, 0);\n        } catch (t) {\n          return r.call(this, e, 0);\n        }\n      }\n    }\n\n    !function () {\n      try {\n        r = \"function\" == typeof setTimeout ? setTimeout : o;\n      } catch (e) {\n        r = o;\n      }\n\n      try {\n        n = \"function\" == typeof clearTimeout ? clearTimeout : l;\n      } catch (e) {\n        n = l;\n      }\n    }();\n    var s,\n        u = [],\n        c = !1,\n        d = -1;\n\n    function f() {\n      c && s && (c = !1, s.length ? u = s.concat(u) : d = -1, u.length && h());\n    }\n\n    function h() {\n      if (!c) {\n        var e = a(f);\n        c = !0;\n\n        for (var t = u.length; t;) {\n          for (s = u, u = []; ++d < t;) s && s[d].run();\n\n          d = -1, t = u.length;\n        }\n\n        s = null, c = !1, function (e) {\n          if (n === clearTimeout) return clearTimeout(e);\n          if ((n === l || !n) && clearTimeout) return n = clearTimeout, clearTimeout(e);\n\n          try {\n            n(e);\n          } catch (t) {\n            try {\n              return n.call(null, e);\n            } catch (t) {\n              return n.call(this, e);\n            }\n          }\n        }(e);\n      }\n    }\n\n    function p(e, t) {\n      this.fun = e, this.array = t;\n    }\n\n    function v() {}\n\n    i.nextTick = function (e) {\n      var t = new Array(arguments.length - 1);\n      if (arguments.length > 1) for (var r = 1; r < arguments.length; r++) t[r - 1] = arguments[r];\n      u.push(new p(e, t)), 1 !== u.length || c || a(h);\n    }, p.prototype.run = function () {\n      this.fun.apply(null, this.array);\n    }, i.title = \"browser\", i.browser = !0, i.env = {}, i.argv = [], i.version = \"\", i.versions = {}, i.on = v, i.addListener = v, i.once = v, i.off = v, i.removeListener = v, i.removeAllListeners = v, i.emit = v, i.prependListener = v, i.prependOnceListener = v, i.listeners = function (e) {\n      return [];\n    }, i.binding = function (e) {\n      throw new Error(\"process.binding is not supported\");\n    }, i.cwd = function () {\n      return \"/\";\n    }, i.chdir = function (e) {\n      throw new Error(\"process.chdir is not supported\");\n    }, i.umask = function () {\n      return 0;\n    };\n  }, function (e, t, r) {\n    \"use strict\";\n\n    function n(e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    }\n\n    t.__esModule = !0, t.HandlebarsEnvironment = u;\n    var i = r(0),\n        o = n(r(1)),\n        l = r(11),\n        a = r(37),\n        s = n(r(39));\n    t.VERSION = \"4.5.3\";\n    t.COMPILER_REVISION = 8;\n    t.LAST_COMPATIBLE_COMPILER_REVISION = 7;\n    t.REVISION_CHANGES = {\n      1: \"<= 1.0.rc.2\",\n      2: \"== 1.0.0-rc.3\",\n      3: \"== 1.0.0-rc.4\",\n      4: \"== 1.x.x\",\n      5: \"== 2.0.0-alpha.x\",\n      6: \">= 2.0.0-beta.1\",\n      7: \">= 4.0.0 <4.3.0\",\n      8: \">= 4.3.0\"\n    };\n\n    function u(e, t, r) {\n      this.helpers = e || {}, this.partials = t || {}, this.decorators = r || {}, l.registerDefaultHelpers(this), a.registerDefaultDecorators(this);\n    }\n\n    u.prototype = {\n      constructor: u,\n      logger: s.default,\n      log: s.default.log,\n      registerHelper: function (e, t) {\n        if (\"[object Object]\" === i.toString.call(e)) {\n          if (t) throw new o.default(\"Arg not supported with multiple helpers\");\n          i.extend(this.helpers, e);\n        } else this.helpers[e] = t;\n      },\n      unregisterHelper: function (e) {\n        delete this.helpers[e];\n      },\n      registerPartial: function (e, t) {\n        if (\"[object Object]\" === i.toString.call(e)) i.extend(this.partials, e);else {\n          if (void 0 === t) throw new o.default('Attempting to register a partial called \"' + e + '\" as undefined');\n          this.partials[e] = t;\n        }\n      },\n      unregisterPartial: function (e) {\n        delete this.partials[e];\n      },\n      registerDecorator: function (e, t) {\n        if (\"[object Object]\" === i.toString.call(e)) {\n          if (t) throw new o.default(\"Arg not supported with multiple decorators\");\n          i.extend(this.decorators, e);\n        } else this.decorators[e] = t;\n      },\n      unregisterDecorator: function (e) {\n        delete this.decorators[e];\n      }\n    };\n    var c = s.default.log;\n    t.log = c, t.createFrame = i.createFrame, t.logger = s.default;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    function n(e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    }\n\n    t.__esModule = !0, t.registerDefaultHelpers = function (e) {\n      i.default(e), o.default(e), l.default(e), a.default(e), s.default(e), u.default(e), c.default(e);\n    }, t.moveHelperToHooks = function (e, t, r) {\n      e.helpers[t] && (e.hooks[t] = e.helpers[t], r || delete e.helpers[t]);\n    };\n    var i = n(r(30)),\n        o = n(r(31)),\n        l = n(r(32)),\n        a = n(r(33)),\n        s = n(r(34)),\n        u = n(r(35)),\n        c = n(r(36));\n  }, function (e, t) {\n    e.exports = function (e, t) {\n      if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n    };\n  }, function (e, t) {\n    function r(e, t) {\n      for (var r = 0; r < t.length; r++) {\n        var n = t[r];\n        n.enumerable = n.enumerable || !1, n.configurable = !0, \"value\" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);\n      }\n    }\n\n    e.exports = function (e, t, n) {\n      return t && r(e.prototype, t), n && r(e, n), e;\n    };\n  }, function (e, t, r) {\n    var n = r(6),\n        i = r(18);\n\n    e.exports = function (e, t) {\n      return !t || \"object\" !== n(t) && \"function\" != typeof t ? i(e) : t;\n    };\n  }, function (e, t, r) {\n    var n = r(20);\n\n    e.exports = function (e, t) {\n      if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n      e.prototype = Object.create(t && t.prototype, {\n        constructor: {\n          value: e,\n          writable: !0,\n          configurable: !0\n        }\n      }), t && n(e, t);\n    };\n  }, function (e, t, r) {\n    e.exports = r(17).default;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    r.r(t);\n    var n = r(12),\n        i = r.n(n),\n        o = r(13),\n        l = r.n(o),\n        a = r(14),\n        s = r.n(a),\n        u = r(2),\n        c = r.n(u),\n        d = r(3),\n        f = r.n(d),\n        h = r(15),\n        p = r.n(h),\n        v = r(7),\n        g = r.n(v),\n        m = (r(21), r(8));\n\n    t.default = function (e) {\n      var t = e.util,\n          n = t.evalCss,\n          o = t.beautify,\n          a = function (e) {\n        function t() {\n          var e;\n          return i()(this, t), (e = s()(this, c()(t).call(this))).name = \"code\", e._style = n(r(24)), e._CodeMirrorStyle = n(r(25)), e._CodeMirrorCustomStyle = n(r(26)), e._editor = null, e;\n        }\n\n        return p()(t, e), l()(t, [{\n          key: \"init\",\n          value: function (e, n) {\n            f()(c()(t.prototype), \"init\", this).call(this, e, n), e.html(r(27)()), this._bindEvent();\n          }\n        }, {\n          key: \"show\",\n          value: function () {\n            var e = this;\n\n            if (f()(c()(t.prototype), \"show\", this).call(this), !this._editor) {\n              var r = this._$el.find(\".eruda-editor\").get(0);\n\n              this._editor = g.a.fromTextArea(r, {\n                lineNumbers: \"true\",\n                mode: \"javascript\"\n              }), Object(m.b)(function () {\n                return e._editor.refresh();\n              });\n            }\n          }\n        }, {\n          key: \"hide\",\n          value: function () {\n            f()(c()(t.prototype), \"hide\", this).call(this);\n          }\n        }, {\n          key: \"run\",\n          value: function () {\n            try {\n              u(this._editor.getValue());\n            } catch (e) {\n              console.error(e);\n            }\n          }\n        }, {\n          key: \"beautify\",\n          value: function () {\n            var e = this._editor,\n                t = e.getValue();\n            e.setValue(o(t));\n          }\n        }, {\n          key: \"copy\",\n          value: function () {\n            Object(m.a)(this._editor.getValue());\n          }\n        }, {\n          key: \"clear\",\n          value: function () {\n            this._editor.setValue(\"\");\n          }\n        }, {\n          key: \"destroy\",\n          value: function () {\n            f()(c()(t.prototype), \"destroy\", this).call(this), n.remove(this._style), n.remove(this._CodeMirrorStyle), n.remove(this._CodeMirrorCustomStyle);\n          }\n        }, {\n          key: \"_bindEvent\",\n          value: function () {\n            var e = this;\n\n            this._$el.on(\"click\", \".eruda-run\", function () {\n              return e.run();\n            }).on(\"click\", \".eruda-beautify\", function () {\n              return e.beautify();\n            }).on(\"click\", \".eruda-clear\", function () {\n              return e.clear();\n            }).on(\"click\", \".eruda-copy\", function () {\n              return e.copy();\n            });\n          }\n        }]), t;\n      }(e.Tool),\n          u = function (e) {\n        var t;\n\n        try {\n          t = eval.call(window, \"(\".concat(e, \")\"));\n        } catch (r) {\n          t = eval.call(window, e);\n        }\n\n        return t;\n      };\n\n      return new a();\n    };\n  }, function (e, t) {\n    e.exports = function (e) {\n      if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n      return e;\n    };\n  }, function (e, t, r) {\n    var n = r(2);\n\n    e.exports = function (e, t) {\n      for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = n(e)););\n\n      return e;\n    };\n  }, function (e, t) {\n    function r(t, n) {\n      return e.exports = r = Object.setPrototypeOf || function (e, t) {\n        return e.__proto__ = t, e;\n      }, r(t, n);\n    }\n\n    e.exports = r;\n  }, function (e, t, r) {\n    !function (e) {\n      \"use strict\";\n\n      e.defineMode(\"javascript\", function (t, r) {\n        var n,\n            i,\n            o = t.indentUnit,\n            l = r.statementIndent,\n            a = r.jsonld,\n            s = r.json || a,\n            u = r.typescript,\n            c = r.wordCharacters || /[\\w$\\xa1-\\uffff]/,\n            d = function () {\n          function e(e) {\n            return {\n              type: e,\n              style: \"keyword\"\n            };\n          }\n\n          var t = e(\"keyword a\"),\n              r = e(\"keyword b\"),\n              n = e(\"keyword c\"),\n              i = e(\"keyword d\"),\n              o = e(\"operator\"),\n              l = {\n            type: \"atom\",\n            style: \"atom\"\n          };\n          return {\n            if: e(\"if\"),\n            while: t,\n            with: t,\n            else: r,\n            do: r,\n            try: r,\n            finally: r,\n            return: i,\n            break: i,\n            continue: i,\n            new: e(\"new\"),\n            delete: n,\n            void: n,\n            throw: n,\n            debugger: e(\"debugger\"),\n            var: e(\"var\"),\n            const: e(\"var\"),\n            let: e(\"var\"),\n            function: e(\"function\"),\n            catch: e(\"catch\"),\n            for: e(\"for\"),\n            switch: e(\"switch\"),\n            case: e(\"case\"),\n            default: e(\"default\"),\n            in: o,\n            typeof: o,\n            instanceof: o,\n            true: l,\n            false: l,\n            null: l,\n            undefined: l,\n            NaN: l,\n            Infinity: l,\n            this: e(\"this\"),\n            class: e(\"class\"),\n            super: e(\"atom\"),\n            yield: n,\n            export: e(\"export\"),\n            import: e(\"import\"),\n            extends: n,\n            await: n\n          };\n        }(),\n            f = /[+\\-*&%=<>!?|~^@]/,\n            h = /^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)\"/;\n\n        function p(e, t, r) {\n          return n = e, i = r, t;\n        }\n\n        function v(e, t) {\n          var r,\n              n = e.next();\n          if ('\"' == n || \"'\" == n) return t.tokenize = (r = n, function (e, t) {\n            var n,\n                i = !1;\n            if (a && \"@\" == e.peek() && e.match(h)) return t.tokenize = v, p(\"jsonld-keyword\", \"meta\");\n\n            for (; null != (n = e.next()) && (n != r || i);) i = !i && \"\\\\\" == n;\n\n            return i || (t.tokenize = v), p(\"string\", \"string\");\n          }), t.tokenize(e, t);\n          if (\".\" == n && e.match(/^\\d[\\d_]*(?:[eE][+\\-]?[\\d_]+)?/)) return p(\"number\", \"number\");\n          if (\".\" == n && e.match(\"..\")) return p(\"spread\", \"meta\");\n          if (/[\\[\\]{}\\(\\),;\\:\\.]/.test(n)) return p(n);\n          if (\"=\" == n && e.eat(\">\")) return p(\"=>\", \"operator\");\n          if (\"0\" == n && e.match(/^(?:x[\\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/)) return p(\"number\", \"number\");\n          if (/\\d/.test(n)) return e.match(/^[\\d_]*(?:n|(?:\\.[\\d_]*)?(?:[eE][+\\-]?[\\d_]+)?)?/), p(\"number\", \"number\");\n          if (\"/\" == n) return e.eat(\"*\") ? (t.tokenize = g, g(e, t)) : e.eat(\"/\") ? (e.skipToEnd(), p(\"comment\", \"comment\")) : $e(e, t, 1) ? (function (e) {\n            for (var t, r = !1, n = !1; null != (t = e.next());) {\n              if (!r) {\n                if (\"/\" == t && !n) return;\n                \"[\" == t ? n = !0 : n && \"]\" == t && (n = !1);\n              }\n\n              r = !r && \"\\\\\" == t;\n            }\n          }(e), e.match(/^\\b(([gimyus])(?![gimyus]*\\2))+\\b/), p(\"regexp\", \"string-2\")) : (e.eat(\"=\"), p(\"operator\", \"operator\", e.current()));\n          if (\"`\" == n) return t.tokenize = m, m(e, t);\n          if (\"#\" == n) return e.skipToEnd(), p(\"error\", \"error\");\n          if (\"<\" == n && e.match(\"!--\") || \"-\" == n && e.match(\"->\")) return e.skipToEnd(), p(\"comment\", \"comment\");\n          if (f.test(n)) return \">\" == n && t.lexical && \">\" == t.lexical.type || (e.eat(\"=\") ? \"!\" != n && \"=\" != n || e.eat(\"=\") : /[<>*+\\-]/.test(n) && (e.eat(n), \">\" == n && e.eat(n))), p(\"operator\", \"operator\", e.current());\n\n          if (c.test(n)) {\n            e.eatWhile(c);\n            var i = e.current();\n\n            if (\".\" != t.lastType) {\n              if (d.propertyIsEnumerable(i)) {\n                var o = d[i];\n                return p(o.type, o.style, i);\n              }\n\n              if (\"async\" == i && e.match(/^(\\s|\\/\\*.*?\\*\\/)*[\\[\\(\\w]/, !1)) return p(\"async\", \"keyword\", i);\n            }\n\n            return p(\"variable\", \"variable\", i);\n          }\n        }\n\n        function g(e, t) {\n          for (var r, n = !1; r = e.next();) {\n            if (\"/\" == r && n) {\n              t.tokenize = v;\n              break;\n            }\n\n            n = \"*\" == r;\n          }\n\n          return p(\"comment\", \"comment\");\n        }\n\n        function m(e, t) {\n          for (var r, n = !1; null != (r = e.next());) {\n            if (!n && (\"`\" == r || \"$\" == r && e.eat(\"{\"))) {\n              t.tokenize = v;\n              break;\n            }\n\n            n = !n && \"\\\\\" == r;\n          }\n\n          return p(\"quasi\", \"string-2\", e.current());\n        }\n\n        function y(e, t) {\n          t.fatArrowAt && (t.fatArrowAt = null);\n          var r = e.string.indexOf(\"=>\", e.start);\n\n          if (!(r < 0)) {\n            if (u) {\n              var n = /:\\s*(?:\\w+(?:<[^>]*>|\\[\\])?|\\{[^}]*\\})\\s*$/.exec(e.string.slice(e.start, r));\n              n && (r = n.index);\n            }\n\n            for (var i = 0, o = !1, l = r - 1; l >= 0; --l) {\n              var a = e.string.charAt(l),\n                  s = \"([{}])\".indexOf(a);\n\n              if (s >= 0 && s < 3) {\n                if (!i) {\n                  ++l;\n                  break;\n                }\n\n                if (0 == --i) {\n                  \"(\" == a && (o = !0);\n                  break;\n                }\n              } else if (s >= 3 && s < 6) ++i;else if (c.test(a)) o = !0;else if (/[\"'\\/`]/.test(a)) for (;; --l) {\n                if (0 == l) return;\n\n                if (e.string.charAt(l - 1) == a && \"\\\\\" != e.string.charAt(l - 2)) {\n                  l--;\n                  break;\n                }\n              } else if (o && !i) {\n                ++l;\n                break;\n              }\n            }\n\n            o && !i && (t.fatArrowAt = l);\n          }\n        }\n\n        var b = {\n          atom: !0,\n          number: !0,\n          variable: !0,\n          string: !0,\n          regexp: !0,\n          this: !0,\n          \"jsonld-keyword\": !0\n        };\n\n        function w(e, t, r, n, i, o) {\n          this.indented = e, this.column = t, this.type = r, this.prev = i, this.info = o, null != n && (this.align = n);\n        }\n\n        function x(e, t) {\n          for (var r = e.localVars; r; r = r.next) if (r.name == t) return !0;\n\n          for (var n = e.context; n; n = n.prev) for (r = n.vars; r; r = r.next) if (r.name == t) return !0;\n        }\n\n        var C = {\n          state: null,\n          column: null,\n          marked: null,\n          cc: null\n        };\n\n        function k() {\n          for (var e = arguments.length - 1; e >= 0; e--) C.cc.push(arguments[e]);\n        }\n\n        function S() {\n          return k.apply(null, arguments), !0;\n        }\n\n        function M(e, t) {\n          for (var r = t; r; r = r.next) if (r.name == e) return !0;\n\n          return !1;\n        }\n\n        function L(e) {\n          var t = C.state;\n          if (C.marked = \"def\", t.context) if (\"var\" == t.lexical.info && t.context && t.context.block) {\n            var n = function e(t, r) {\n              if (r) {\n                if (r.block) {\n                  var n = e(t, r.prev);\n                  return n ? n == r.prev ? r : new O(n, r.vars, !0) : null;\n                }\n\n                return M(t, r.vars) ? r : new O(r.prev, new N(t, r.vars), !1);\n              }\n\n              return null;\n            }(e, t.context);\n\n            if (null != n) return void (t.context = n);\n          } else if (!M(e, t.localVars)) return void (t.localVars = new N(e, t.localVars));\n          r.globalVars && !M(e, t.globalVars) && (t.globalVars = new N(e, t.globalVars));\n        }\n\n        function T(e) {\n          return \"public\" == e || \"private\" == e || \"protected\" == e || \"abstract\" == e || \"readonly\" == e;\n        }\n\n        function O(e, t, r) {\n          this.prev = e, this.vars = t, this.block = r;\n        }\n\n        function N(e, t) {\n          this.name = e, this.next = t;\n        }\n\n        var A = new N(\"this\", new N(\"arguments\", null));\n\n        function D() {\n          C.state.context = new O(C.state.context, C.state.localVars, !1), C.state.localVars = A;\n        }\n\n        function P() {\n          C.state.context = new O(C.state.context, C.state.localVars, !0), C.state.localVars = null;\n        }\n\n        function E() {\n          C.state.localVars = C.state.context.vars, C.state.context = C.state.context.prev;\n        }\n\n        function H(e, t) {\n          var r = function () {\n            var r = C.state,\n                n = r.indented;\n            if (\"stat\" == r.lexical.type) n = r.lexical.indented;else for (var i = r.lexical; i && \")\" == i.type && i.align; i = i.prev) n = i.indented;\n            r.lexical = new w(n, C.stream.column(), e, null, r.lexical, t);\n          };\n\n          return r.lex = !0, r;\n        }\n\n        function W() {\n          var e = C.state;\n          e.lexical.prev && (\")\" == e.lexical.type && (e.indented = e.lexical.indented), e.lexical = e.lexical.prev);\n        }\n\n        function I(e) {\n          return function t(r) {\n            return r == e ? S() : \";\" == e || \"}\" == r || \")\" == r || \"]\" == r ? k() : S(t);\n          };\n        }\n\n        function F(e, t) {\n          return \"var\" == e ? S(H(\"vardef\", t), ye, I(\";\"), W) : \"keyword a\" == e ? S(H(\"form\"), j, F, W) : \"keyword b\" == e ? S(H(\"form\"), F, W) : \"keyword d\" == e ? C.stream.match(/^\\s*$/, !1) ? S() : S(H(\"stat\"), V, I(\";\"), W) : \"debugger\" == e ? S(I(\";\")) : \"{\" == e ? S(H(\"}\"), P, oe, W, E) : \";\" == e ? S() : \"if\" == e ? (\"else\" == C.state.lexical.info && C.state.cc[C.state.cc.length - 1] == W && C.state.cc.pop()(), S(H(\"form\"), j, F, W, Se)) : \"function\" == e ? S(Oe) : \"for\" == e ? S(H(\"form\"), Me, F, W) : \"class\" == e || u && \"interface\" == t ? (C.marked = \"keyword\", S(H(\"form\", \"class\" == e ? e : t), Ee, W)) : \"variable\" == e ? u && \"declare\" == t ? (C.marked = \"keyword\", S(F)) : u && (\"module\" == t || \"enum\" == t || \"type\" == t) && C.stream.match(/^\\s*\\w/, !1) ? (C.marked = \"keyword\", \"enum\" == t ? S(Ue) : \"type\" == t ? S(Ae, I(\"operator\"), ce, I(\";\")) : S(H(\"form\"), be, I(\"{\"), H(\"}\"), oe, W, W)) : u && \"namespace\" == t ? (C.marked = \"keyword\", S(H(\"form\"), _, F, W)) : u && \"abstract\" == t ? (C.marked = \"keyword\", S(F)) : S(H(\"stat\"), J) : \"switch\" == e ? S(H(\"form\"), j, I(\"{\"), H(\"}\", \"switch\"), P, oe, W, W, E) : \"case\" == e ? S(_, I(\":\")) : \"default\" == e ? S(I(\":\")) : \"catch\" == e ? S(H(\"form\"), D, z, F, W, E) : \"export\" == e ? S(H(\"stat\"), Fe, W) : \"import\" == e ? S(H(\"stat\"), _e, W) : \"async\" == e ? S(F) : \"@\" == t ? S(_, F) : k(H(\"stat\"), _, I(\";\"), W);\n        }\n\n        function z(e) {\n          if (\"(\" == e) return S(De, I(\")\"));\n        }\n\n        function _(e, t) {\n          return B(e, t, !1);\n        }\n\n        function R(e, t) {\n          return B(e, t, !0);\n        }\n\n        function j(e) {\n          return \"(\" != e ? k() : S(H(\")\"), _, I(\")\"), W);\n        }\n\n        function B(e, t, r) {\n          if (C.state.fatArrowAt == C.stream.start) {\n            var n = r ? q : X;\n            if (\"(\" == e) return S(D, H(\")\"), ne(De, \")\"), W, I(\"=>\"), n, E);\n            if (\"variable\" == e) return k(D, be, I(\"=>\"), n, E);\n          }\n\n          var i = r ? U : G;\n          return b.hasOwnProperty(e) ? S(i) : \"function\" == e ? S(Oe, i) : \"class\" == e || u && \"interface\" == t ? (C.marked = \"keyword\", S(H(\"form\"), Pe, W)) : \"keyword c\" == e || \"async\" == e ? S(r ? R : _) : \"(\" == e ? S(H(\")\"), V, I(\")\"), W, i) : \"operator\" == e || \"spread\" == e ? S(r ? R : _) : \"[\" == e ? S(H(\"]\"), Ge, W, i) : \"{\" == e ? ie(ee, \"}\", null, i) : \"quasi\" == e ? k(K, i) : \"new\" == e ? S(function (e) {\n            return function (t) {\n              return \".\" == t ? S(e ? Z : Y) : \"variable\" == t && u ? S(ve, e ? U : G) : k(e ? R : _);\n            };\n          }(r)) : \"import\" == e ? S(_) : S();\n        }\n\n        function V(e) {\n          return e.match(/[;\\}\\)\\],]/) ? k() : k(_);\n        }\n\n        function G(e, t) {\n          return \",\" == e ? S(_) : U(e, t, !1);\n        }\n\n        function U(e, t, r) {\n          var n = 0 == r ? G : U,\n              i = 0 == r ? _ : R;\n          return \"=>\" == e ? S(D, r ? q : X, E) : \"operator\" == e ? /\\+\\+|--/.test(t) || u && \"!\" == t ? S(n) : u && \"<\" == t && C.stream.match(/^([^>]|<.*?>)*>\\s*\\(/, !1) ? S(H(\">\"), ne(ce, \">\"), W, n) : \"?\" == t ? S(_, I(\":\"), i) : S(i) : \"quasi\" == e ? k(K, n) : \";\" != e ? \"(\" == e ? ie(R, \")\", \"call\", n) : \".\" == e ? S(Q, n) : \"[\" == e ? S(H(\"]\"), V, I(\"]\"), W, n) : u && \"as\" == t ? (C.marked = \"keyword\", S(ce, n)) : \"regexp\" == e ? (C.state.lastType = C.marked = \"operator\", C.stream.backUp(C.stream.pos - C.stream.start - 1), S(i)) : void 0 : void 0;\n        }\n\n        function K(e, t) {\n          return \"quasi\" != e ? k() : \"${\" != t.slice(t.length - 2) ? S(K) : S(_, $);\n        }\n\n        function $(e) {\n          if (\"}\" == e) return C.marked = \"string-2\", C.state.tokenize = m, S(K);\n        }\n\n        function X(e) {\n          return y(C.stream, C.state), k(\"{\" == e ? F : _);\n        }\n\n        function q(e) {\n          return y(C.stream, C.state), k(\"{\" == e ? F : R);\n        }\n\n        function Y(e, t) {\n          if (\"target\" == t) return C.marked = \"keyword\", S(G);\n        }\n\n        function Z(e, t) {\n          if (\"target\" == t) return C.marked = \"keyword\", S(U);\n        }\n\n        function J(e) {\n          return \":\" == e ? S(W, F) : k(G, I(\";\"), W);\n        }\n\n        function Q(e) {\n          if (\"variable\" == e) return C.marked = \"property\", S();\n        }\n\n        function ee(e, t) {\n          return \"async\" == e ? (C.marked = \"property\", S(ee)) : \"variable\" == e || \"keyword\" == C.style ? (C.marked = \"property\", \"get\" == t || \"set\" == t ? S(te) : (u && C.state.fatArrowAt == C.stream.start && (r = C.stream.match(/^\\s*:\\s*/, !1)) && (C.state.fatArrowAt = C.stream.pos + r[0].length), S(re))) : \"number\" == e || \"string\" == e ? (C.marked = a ? \"property\" : C.style + \" property\", S(re)) : \"jsonld-keyword\" == e ? S(re) : u && T(t) ? (C.marked = \"keyword\", S(ee)) : \"[\" == e ? S(_, le, I(\"]\"), re) : \"spread\" == e ? S(R, re) : \"*\" == t ? (C.marked = \"keyword\", S(ee)) : \":\" == e ? k(re) : void 0;\n          var r;\n        }\n\n        function te(e) {\n          return \"variable\" != e ? k(re) : (C.marked = \"property\", S(Oe));\n        }\n\n        function re(e) {\n          return \":\" == e ? S(R) : \"(\" == e ? k(Oe) : void 0;\n        }\n\n        function ne(e, t, r) {\n          function n(i, o) {\n            if (r ? r.indexOf(i) > -1 : \",\" == i) {\n              var l = C.state.lexical;\n              return \"call\" == l.info && (l.pos = (l.pos || 0) + 1), S(function (r, n) {\n                return r == t || n == t ? k() : k(e);\n              }, n);\n            }\n\n            return i == t || o == t ? S() : r && r.indexOf(\";\") > -1 ? k(e) : S(I(t));\n          }\n\n          return function (r, i) {\n            return r == t || i == t ? S() : k(e, n);\n          };\n        }\n\n        function ie(e, t, r) {\n          for (var n = 3; n < arguments.length; n++) C.cc.push(arguments[n]);\n\n          return S(H(t, r), ne(e, t), W);\n        }\n\n        function oe(e) {\n          return \"}\" == e ? S() : k(F, oe);\n        }\n\n        function le(e, t) {\n          if (u) {\n            if (\":\" == e) return S(ce);\n            if (\"?\" == t) return S(le);\n          }\n        }\n\n        function ae(e, t) {\n          if (u && (\":\" == e || \"in\" == t)) return S(ce);\n        }\n\n        function se(e) {\n          if (u && \":\" == e) return C.stream.match(/^\\s*\\w+\\s+is\\b/, !1) ? S(_, ue, ce) : S(ce);\n        }\n\n        function ue(e, t) {\n          if (\"is\" == t) return C.marked = \"keyword\", S();\n        }\n\n        function ce(e, t) {\n          return \"keyof\" == t || \"typeof\" == t || \"infer\" == t ? (C.marked = \"keyword\", S(\"typeof\" == t ? R : ce)) : \"variable\" == e || \"void\" == t ? (C.marked = \"type\", S(pe)) : \"|\" == t || \"&\" == t ? S(ce) : \"string\" == e || \"number\" == e || \"atom\" == e ? S(pe) : \"[\" == e ? S(H(\"]\"), ne(ce, \"]\", \",\"), W, pe) : \"{\" == e ? S(H(\"}\"), ne(fe, \"}\", \",;\"), W, pe) : \"(\" == e ? S(ne(he, \")\"), de, pe) : \"<\" == e ? S(ne(ce, \">\"), ce) : void 0;\n        }\n\n        function de(e) {\n          if (\"=>\" == e) return S(ce);\n        }\n\n        function fe(e, t) {\n          return \"variable\" == e || \"keyword\" == C.style ? (C.marked = \"property\", S(fe)) : \"?\" == t || \"number\" == e || \"string\" == e ? S(fe) : \":\" == e ? S(ce) : \"[\" == e ? S(I(\"variable\"), ae, I(\"]\"), fe) : \"(\" == e ? k(Ne, fe) : void 0;\n        }\n\n        function he(e, t) {\n          return \"variable\" == e && C.stream.match(/^\\s*[?:]/, !1) || \"?\" == t ? S(he) : \":\" == e ? S(ce) : \"spread\" == e ? S(he) : k(ce);\n        }\n\n        function pe(e, t) {\n          return \"<\" == t ? S(H(\">\"), ne(ce, \">\"), W, pe) : \"|\" == t || \".\" == e || \"&\" == t ? S(ce) : \"[\" == e ? S(ce, I(\"]\"), pe) : \"extends\" == t || \"implements\" == t ? (C.marked = \"keyword\", S(ce)) : \"?\" == t ? S(ce, I(\":\"), ce) : void 0;\n        }\n\n        function ve(e, t) {\n          if (\"<\" == t) return S(H(\">\"), ne(ce, \">\"), W, pe);\n        }\n\n        function ge() {\n          return k(ce, me);\n        }\n\n        function me(e, t) {\n          if (\"=\" == t) return S(ce);\n        }\n\n        function ye(e, t) {\n          return \"enum\" == t ? (C.marked = \"keyword\", S(Ue)) : k(be, le, Ce, ke);\n        }\n\n        function be(e, t) {\n          return u && T(t) ? (C.marked = \"keyword\", S(be)) : \"variable\" == e ? (L(t), S()) : \"spread\" == e ? S(be) : \"[\" == e ? ie(xe, \"]\") : \"{\" == e ? ie(we, \"}\") : void 0;\n        }\n\n        function we(e, t) {\n          return \"variable\" != e || C.stream.match(/^\\s*:/, !1) ? (\"variable\" == e && (C.marked = \"property\"), \"spread\" == e ? S(be) : \"}\" == e ? k() : \"[\" == e ? S(_, I(\"]\"), I(\":\"), we) : S(I(\":\"), be, Ce)) : (L(t), S(Ce));\n        }\n\n        function xe() {\n          return k(be, Ce);\n        }\n\n        function Ce(e, t) {\n          if (\"=\" == t) return S(R);\n        }\n\n        function ke(e) {\n          if (\",\" == e) return S(ye);\n        }\n\n        function Se(e, t) {\n          if (\"keyword b\" == e && \"else\" == t) return S(H(\"form\", \"else\"), F, W);\n        }\n\n        function Me(e, t) {\n          return \"await\" == t ? S(Me) : \"(\" == e ? S(H(\")\"), Le, W) : void 0;\n        }\n\n        function Le(e) {\n          return \"var\" == e ? S(ye, Te) : \"variable\" == e ? S(Te) : k(Te);\n        }\n\n        function Te(e, t) {\n          return \")\" == e ? S() : \";\" == e ? S(Te) : \"in\" == t || \"of\" == t ? (C.marked = \"keyword\", S(_, Te)) : k(_, Te);\n        }\n\n        function Oe(e, t) {\n          return \"*\" == t ? (C.marked = \"keyword\", S(Oe)) : \"variable\" == e ? (L(t), S(Oe)) : \"(\" == e ? S(D, H(\")\"), ne(De, \")\"), W, se, F, E) : u && \"<\" == t ? S(H(\">\"), ne(ge, \">\"), W, Oe) : void 0;\n        }\n\n        function Ne(e, t) {\n          return \"*\" == t ? (C.marked = \"keyword\", S(Ne)) : \"variable\" == e ? (L(t), S(Ne)) : \"(\" == e ? S(D, H(\")\"), ne(De, \")\"), W, se, E) : u && \"<\" == t ? S(H(\">\"), ne(ge, \">\"), W, Ne) : void 0;\n        }\n\n        function Ae(e, t) {\n          return \"keyword\" == e || \"variable\" == e ? (C.marked = \"type\", S(Ae)) : \"<\" == t ? S(H(\">\"), ne(ge, \">\"), W) : void 0;\n        }\n\n        function De(e, t) {\n          return \"@\" == t && S(_, De), \"spread\" == e ? S(De) : u && T(t) ? (C.marked = \"keyword\", S(De)) : u && \"this\" == e ? S(le, Ce) : k(be, le, Ce);\n        }\n\n        function Pe(e, t) {\n          return \"variable\" == e ? Ee(e, t) : He(e, t);\n        }\n\n        function Ee(e, t) {\n          if (\"variable\" == e) return L(t), S(He);\n        }\n\n        function He(e, t) {\n          return \"<\" == t ? S(H(\">\"), ne(ge, \">\"), W, He) : \"extends\" == t || \"implements\" == t || u && \",\" == e ? (\"implements\" == t && (C.marked = \"keyword\"), S(u ? ce : _, He)) : \"{\" == e ? S(H(\"}\"), We, W) : void 0;\n        }\n\n        function We(e, t) {\n          return \"async\" == e || \"variable\" == e && (\"static\" == t || \"get\" == t || \"set\" == t || u && T(t)) && C.stream.match(/^\\s+[\\w$\\xa1-\\uffff]/, !1) ? (C.marked = \"keyword\", S(We)) : \"variable\" == e || \"keyword\" == C.style ? (C.marked = \"property\", S(u ? Ie : Oe, We)) : \"number\" == e || \"string\" == e ? S(u ? Ie : Oe, We) : \"[\" == e ? S(_, le, I(\"]\"), u ? Ie : Oe, We) : \"*\" == t ? (C.marked = \"keyword\", S(We)) : u && \"(\" == e ? k(Ne, We) : \";\" == e || \",\" == e ? S(We) : \"}\" == e ? S() : \"@\" == t ? S(_, We) : void 0;\n        }\n\n        function Ie(e, t) {\n          if (\"?\" == t) return S(Ie);\n          if (\":\" == e) return S(ce, Ce);\n          if (\"=\" == t) return S(R);\n          var r = C.state.lexical.prev;\n          return k(r && \"interface\" == r.info ? Ne : Oe);\n        }\n\n        function Fe(e, t) {\n          return \"*\" == t ? (C.marked = \"keyword\", S(Ve, I(\";\"))) : \"default\" == t ? (C.marked = \"keyword\", S(_, I(\";\"))) : \"{\" == e ? S(ne(ze, \"}\"), Ve, I(\";\")) : k(F);\n        }\n\n        function ze(e, t) {\n          return \"as\" == t ? (C.marked = \"keyword\", S(I(\"variable\"))) : \"variable\" == e ? k(R, ze) : void 0;\n        }\n\n        function _e(e) {\n          return \"string\" == e ? S() : \"(\" == e ? k(_) : k(Re, je, Ve);\n        }\n\n        function Re(e, t) {\n          return \"{\" == e ? ie(Re, \"}\") : (\"variable\" == e && L(t), \"*\" == t && (C.marked = \"keyword\"), S(Be));\n        }\n\n        function je(e) {\n          if (\",\" == e) return S(Re, je);\n        }\n\n        function Be(e, t) {\n          if (\"as\" == t) return C.marked = \"keyword\", S(Re);\n        }\n\n        function Ve(e, t) {\n          if (\"from\" == t) return C.marked = \"keyword\", S(_);\n        }\n\n        function Ge(e) {\n          return \"]\" == e ? S() : k(ne(R, \"]\"));\n        }\n\n        function Ue() {\n          return k(H(\"form\"), be, I(\"{\"), H(\"}\"), ne(Ke, \"}\"), W, W);\n        }\n\n        function Ke() {\n          return k(be, Ce);\n        }\n\n        function $e(e, t, r) {\n          return t.tokenize == v && /^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\\[{}\\(,;:]|=>)$/.test(t.lastType) || \"quasi\" == t.lastType && /\\{\\s*$/.test(e.string.slice(0, e.pos - (r || 0)));\n        }\n\n        return E.lex = !0, W.lex = !0, {\n          startState: function (e) {\n            var t = {\n              tokenize: v,\n              lastType: \"sof\",\n              cc: [],\n              lexical: new w((e || 0) - o, 0, \"block\", !1),\n              localVars: r.localVars,\n              context: r.localVars && new O(null, null, !1),\n              indented: e || 0\n            };\n            return r.globalVars && \"object\" == typeof r.globalVars && (t.globalVars = r.globalVars), t;\n          },\n          token: function (e, t) {\n            if (e.sol() && (t.lexical.hasOwnProperty(\"align\") || (t.lexical.align = !1), t.indented = e.indentation(), y(e, t)), t.tokenize != g && e.eatSpace()) return null;\n            var r = t.tokenize(e, t);\n            return \"comment\" == n ? r : (t.lastType = \"operator\" != n || \"++\" != i && \"--\" != i ? n : \"incdec\", function (e, t, r, n, i) {\n              var o = e.cc;\n\n              for (C.state = e, C.stream = i, C.marked = null, C.cc = o, C.style = t, e.lexical.hasOwnProperty(\"align\") || (e.lexical.align = !0);;) if ((o.length ? o.pop() : s ? _ : F)(r, n)) {\n                for (; o.length && o[o.length - 1].lex;) o.pop()();\n\n                return C.marked ? C.marked : \"variable\" == r && x(e, n) ? \"variable-2\" : t;\n              }\n            }(t, r, n, i, e));\n          },\n          indent: function (t, n) {\n            if (t.tokenize == g) return e.Pass;\n            if (t.tokenize != v) return 0;\n            var i,\n                a = n && n.charAt(0),\n                s = t.lexical;\n            if (!/^\\s*else\\b/.test(n)) for (var u = t.cc.length - 1; u >= 0; --u) {\n              var c = t.cc[u];\n              if (c == W) s = s.prev;else if (c != Se) break;\n            }\n\n            for (; (\"stat\" == s.type || \"form\" == s.type) && (\"}\" == a || (i = t.cc[t.cc.length - 1]) && (i == G || i == U) && !/^[,\\.=+\\-*:?[\\(]/.test(n));) s = s.prev;\n\n            l && \")\" == s.type && \"stat\" == s.prev.type && (s = s.prev);\n            var d = s.type,\n                h = a == d;\n            return \"vardef\" == d ? s.indented + (\"operator\" == t.lastType || \",\" == t.lastType ? s.info.length + 1 : 0) : \"form\" == d && \"{\" == a ? s.indented : \"form\" == d ? s.indented + o : \"stat\" == d ? s.indented + (function (e, t) {\n              return \"operator\" == e.lastType || \",\" == e.lastType || f.test(t.charAt(0)) || /[,.]/.test(t.charAt(0));\n            }(t, n) ? l || o : 0) : \"switch\" != s.info || h || 0 == r.doubleIndentSwitch ? s.align ? s.column + (h ? 0 : 1) : s.indented + (h ? 0 : o) : s.indented + (/^(?:case|default)\\b/.test(n) ? o : 2 * o);\n          },\n          electricInput: /^\\s*(?:case .*?:|default:|\\{|\\})$/,\n          blockCommentStart: s ? null : \"/*\",\n          blockCommentEnd: s ? null : \"*/\",\n          blockCommentContinue: s ? null : \" * \",\n          lineComment: s ? null : \"//\",\n          fold: \"brace\",\n          closeBrackets: \"()[]{}''\\\"\\\"``\",\n          helperType: s ? \"json\" : \"javascript\",\n          jsonldMode: a,\n          jsonMode: s,\n          expressionAllowed: $e,\n          skipExpression: function (e) {\n            var t = e.cc[e.cc.length - 1];\n            t != _ && t != R || e.cc.pop();\n          }\n        };\n      }), e.registerHelper(\"wordChars\", \"javascript\", /[\\w$]/), e.defineMIME(\"text/javascript\", \"javascript\"), e.defineMIME(\"text/ecmascript\", \"javascript\"), e.defineMIME(\"application/javascript\", \"javascript\"), e.defineMIME(\"application/x-javascript\", \"javascript\"), e.defineMIME(\"application/ecmascript\", \"javascript\"), e.defineMIME(\"application/json\", {\n        name: \"javascript\",\n        json: !0\n      }), e.defineMIME(\"application/x-json\", {\n        name: \"javascript\",\n        json: !0\n      }), e.defineMIME(\"application/ld+json\", {\n        name: \"javascript\",\n        jsonld: !0\n      }), e.defineMIME(\"text/typescript\", {\n        name: \"javascript\",\n        typescript: !0\n      }), e.defineMIME(\"application/typescript\", {\n        name: \"javascript\",\n        typescript: !0\n      });\n    }(r(7));\n  }, function (e, t, r) {\n    (function (e) {\n      var n = void 0 !== e && e || \"undefined\" != typeof self && self || window,\n          i = Function.prototype.apply;\n\n      function o(e, t) {\n        this._id = e, this._clearFn = t;\n      }\n\n      t.setTimeout = function () {\n        return new o(i.call(setTimeout, n, arguments), clearTimeout);\n      }, t.setInterval = function () {\n        return new o(i.call(setInterval, n, arguments), clearInterval);\n      }, t.clearTimeout = t.clearInterval = function (e) {\n        e && e.close();\n      }, o.prototype.unref = o.prototype.ref = function () {}, o.prototype.close = function () {\n        this._clearFn.call(n, this._id);\n      }, t.enroll = function (e, t) {\n        clearTimeout(e._idleTimeoutId), e._idleTimeout = t;\n      }, t.unenroll = function (e) {\n        clearTimeout(e._idleTimeoutId), e._idleTimeout = -1;\n      }, t._unrefActive = t.active = function (e) {\n        clearTimeout(e._idleTimeoutId);\n        var t = e._idleTimeout;\n        t >= 0 && (e._idleTimeoutId = setTimeout(function () {\n          e._onTimeout && e._onTimeout();\n        }, t));\n      }, r(23), t.setImmediate = \"undefined\" != typeof self && self.setImmediate || void 0 !== e && e.setImmediate || this && this.setImmediate, t.clearImmediate = \"undefined\" != typeof self && self.clearImmediate || void 0 !== e && e.clearImmediate || this && this.clearImmediate;\n    }).call(this, r(4));\n  }, function (e, t, r) {\n    (function (e, t) {\n      !function (e, r) {\n        \"use strict\";\n\n        if (!e.setImmediate) {\n          var n,\n              i,\n              o,\n              l,\n              a,\n              s = 1,\n              u = {},\n              c = !1,\n              d = e.document,\n              f = Object.getPrototypeOf && Object.getPrototypeOf(e);\n          f = f && f.setTimeout ? f : e, \"[object process]\" === {}.toString.call(e.process) ? n = function (e) {\n            t.nextTick(function () {\n              p(e);\n            });\n          } : !function () {\n            if (e.postMessage && !e.importScripts) {\n              var t = !0,\n                  r = e.onmessage;\n              return e.onmessage = function () {\n                t = !1;\n              }, e.postMessage(\"\", \"*\"), e.onmessage = r, t;\n            }\n          }() ? e.MessageChannel ? ((o = new MessageChannel()).port1.onmessage = function (e) {\n            p(e.data);\n          }, n = function (e) {\n            o.port2.postMessage(e);\n          }) : d && \"onreadystatechange\" in d.createElement(\"script\") ? (i = d.documentElement, n = function (e) {\n            var t = d.createElement(\"script\");\n            t.onreadystatechange = function () {\n              p(e), t.onreadystatechange = null, i.removeChild(t), t = null;\n            }, i.appendChild(t);\n          }) : n = function (e) {\n            setTimeout(p, 0, e);\n          } : (l = \"setImmediate$\" + Math.random() + \"$\", a = function (t) {\n            t.source === e && \"string\" == typeof t.data && 0 === t.data.indexOf(l) && p(+t.data.slice(l.length));\n          }, e.addEventListener ? e.addEventListener(\"message\", a, !1) : e.attachEvent(\"onmessage\", a), n = function (t) {\n            e.postMessage(l + t, \"*\");\n          }), f.setImmediate = function (e) {\n            \"function\" != typeof e && (e = new Function(\"\" + e));\n\n            for (var t = new Array(arguments.length - 1), r = 0; r < t.length; r++) t[r] = arguments[r + 1];\n\n            var i = {\n              callback: e,\n              args: t\n            };\n            return u[s] = i, n(s), s++;\n          }, f.clearImmediate = h;\n        }\n\n        function h(e) {\n          delete u[e];\n        }\n\n        function p(e) {\n          if (c) setTimeout(p, 0, e);else {\n            var t = u[e];\n\n            if (t) {\n              c = !0;\n\n              try {\n                !function (e) {\n                  var t = e.callback,\n                      r = e.args;\n\n                  switch (r.length) {\n                    case 0:\n                      t();\n                      break;\n\n                    case 1:\n                      t(r[0]);\n                      break;\n\n                    case 2:\n                      t(r[0], r[1]);\n                      break;\n\n                    case 3:\n                      t(r[0], r[1], r[2]);\n                      break;\n\n                    default:\n                      t.apply(void 0, r);\n                  }\n                }(t);\n              } finally {\n                h(e), c = !1;\n              }\n            }\n          }\n        }\n      }(\"undefined\" == typeof self ? void 0 === e ? this : e : self);\n    }).call(this, r(4), r(9));\n  }, function (e, t, r) {\n    (t = r(5)(!1)).push([e.i, \".eruda-dev-tools .eruda-tools .eruda-code{padding-bottom:40px}.eruda-dev-tools .eruda-tools .eruda-code .eruda-editor{height:100%}.eruda-dev-tools .eruda-tools .eruda-code .eruda-bottom-bar{height:40px;background:var(--darker-background);position:absolute;left:0;bottom:0;width:100%;font-size:0;border-top:1px solid var(--border)}.eruda-dev-tools .eruda-tools .eruda-code .eruda-bottom-bar .eruda-btn{cursor:pointer;text-align:center;color:var(--foreground);font-size:14px;line-height:40px;width:25%;border-right:1px solid var(--border);display:inline-block;-webkit-transition:background .3s,color .3s;transition:background .3s,color .3s}.eruda-dev-tools .eruda-tools .eruda-code .eruda-bottom-bar .eruda-btn:active{background:var(--highlight);color:var(--select-foreground)}.eruda-dev-tools .eruda-tools .eruda-code .eruda-bottom-bar .eruda-btn.eruda-active{color:var(--select-foreground)}\\n\", \"\"]), e.exports = t;\n  }, function (e, t, r) {\n    (t = r(5)(!1)).push([e.i, \"/* BASICS */\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror {\\n  /* Set height, width, borders, and global font properties here */\\n  font-family: monospace;\\n  height: 300px;\\n  color: black;\\n  direction: ltr;\\n}\\n\\n/* PADDING */\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror-lines {\\n  padding: 4px 0; /* Vertical padding around content */\\n}\\n.eruda-dev-tools .eruda-tools .CodeMirror pre.CodeMirror-line,\\n.eruda-dev-tools .eruda-tools .CodeMirror pre.CodeMirror-line-like {\\n  padding: 0 4px; /* Horizontal padding of content */\\n}\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror-scrollbar-filler, .eruda-dev-tools .eruda-tools .CodeMirror-gutter-filler {\\n  background-color: white; /* The little square between H and V scrollbars */\\n}\\n\\n/* GUTTER */\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror-gutters {\\n  border-right: 1px solid #ddd;\\n  background-color: #f7f7f7;\\n  white-space: nowrap;\\n}\\n.eruda-dev-tools .eruda-tools .CodeMirror-linenumbers {}\\n.eruda-dev-tools .eruda-tools .CodeMirror-linenumber {\\n  padding: 0 3px 0 5px;\\n  min-width: 20px;\\n  text-align: right;\\n  color: #999;\\n  white-space: nowrap;\\n}\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror-guttermarker { color: black; }\\n.eruda-dev-tools .eruda-tools .CodeMirror-guttermarker-subtle { color: #999; }\\n\\n/* CURSOR */\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror-cursor {\\n  border-left: 1px solid black;\\n  border-right: none;\\n  width: 0;\\n}\\n/* Shown when moving in bi-directional text */\\n.eruda-dev-tools .eruda-tools .CodeMirror div.CodeMirror-secondarycursor {\\n  border-left: 1px solid silver;\\n}\\n.eruda-dev-tools .eruda-tools .cm-fat-cursor .CodeMirror-cursor {\\n  width: auto;\\n  border: 0 !important;\\n  background: #7e7;\\n}\\n.eruda-dev-tools .eruda-tools .cm-fat-cursor div.CodeMirror-cursors {\\n  z-index: 1;\\n}\\n.eruda-dev-tools .eruda-tools .cm-fat-cursor-mark {\\n  background-color: rgba(20, 255, 20, 0.5);\\n  -webkit-animation: blink 1.06s steps(1) infinite;\\n  animation: blink 1.06s steps(1) infinite;\\n}\\n.eruda-dev-tools .eruda-tools .cm-animate-fat-cursor {\\n  width: auto;\\n  border: 0;\\n  -webkit-animation: blink 1.06s steps(1) infinite;\\n  animation: blink 1.06s steps(1) infinite;\\n  background-color: #7e7;\\n}\\n@-webkit-keyframes blink {\\n  .eruda-dev-tools .eruda-tools 0% {}\\n  .eruda-dev-tools .eruda-tools 50% { background-color: transparent; }\\n  .eruda-dev-tools .eruda-tools 100% {}\\n}\\n@keyframes blink {\\n  .eruda-dev-tools .eruda-tools 0% {}\\n  .eruda-dev-tools .eruda-tools 50% { background-color: transparent; }\\n  .eruda-dev-tools .eruda-tools 100% {}\\n}\\n\\n/* Can style cursor different in overwrite (non-insert) mode */\\n.eruda-dev-tools .eruda-tools .CodeMirror-overwrite .CodeMirror-cursor {}\\n\\n.eruda-dev-tools .eruda-tools .cm-tab { display: inline-block; text-decoration: inherit; }\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror-rulers {\\n  position: absolute;\\n  left: 0; right: 0; top: -50px; bottom: 0;\\n  overflow: hidden;\\n}\\n.eruda-dev-tools .eruda-tools .CodeMirror-ruler {\\n  border-left: 1px solid #ccc;\\n  top: 0; bottom: 0;\\n  position: absolute;\\n}\\n\\n/* DEFAULT THEME */\\n\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-header {color: blue;}\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-quote {color: #090;}\\n.eruda-dev-tools .eruda-tools .cm-negative {color: #d44;}\\n.eruda-dev-tools .eruda-tools .cm-positive {color: #292;}\\n.eruda-dev-tools .eruda-tools .cm-header, .eruda-dev-tools .eruda-tools .cm-strong {font-weight: bold;}\\n.eruda-dev-tools .eruda-tools .cm-em {font-style: italic;}\\n.eruda-dev-tools .eruda-tools .cm-link {text-decoration: underline;}\\n.eruda-dev-tools .eruda-tools .cm-strikethrough {text-decoration: line-through;}\\n\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-keyword {color: #708;}\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-atom {color: #219;}\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-number {color: #164;}\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-def {color: #00f;}\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-variable,\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-punctuation,\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-property,\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-operator {}\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-variable-2 {color: #05a;}\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-variable-3, .eruda-dev-tools .eruda-tools .cm-s-default .cm-type {color: #085;}\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-comment {color: #a50;}\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-string {color: #a11;}\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-string-2 {color: #f50;}\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-meta {color: #555;}\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-qualifier {color: #555;}\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-builtin {color: #30a;}\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-bracket {color: #997;}\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-tag {color: #170;}\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-attribute {color: #00c;}\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-hr {color: #999;}\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-link {color: #00c;}\\n\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-error {color: #f00;}\\n.eruda-dev-tools .eruda-tools .cm-invalidchar {color: #f00;}\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror-composing { border-bottom: 2px solid; }\\n\\n/* Default styles for common addons */\\n\\n.eruda-dev-tools .eruda-tools div.CodeMirror span.CodeMirror-matchingbracket {color: #0b0;}\\n.eruda-dev-tools .eruda-tools div.CodeMirror span.CodeMirror-nonmatchingbracket {color: #a22;}\\n.eruda-dev-tools .eruda-tools .CodeMirror-matchingtag { background: rgba(255, 150, 0, .3); }\\n.eruda-dev-tools .eruda-tools .CodeMirror-activeline-background {background: #e8f2ff;}\\n\\n/* STOP */\\n\\n/* The rest of this file contains styles related to the mechanics of\\n   the editor. You probably shouldn't touch them. */\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror {\\n  position: relative;\\n  overflow: hidden;\\n  background: white;\\n}\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror-scroll {\\n  overflow: scroll !important; /* Things will break if this is overridden */\\n  /* 30px is the magic margin used to hide the element's real scrollbars */\\n  /* See overflow: hidden in .CodeMirror */\\n  margin-bottom: -30px; margin-right: -30px;\\n  padding-bottom: 30px;\\n  height: 100%;\\n  outline: none; /* Prevent dragging from highlighting the element */\\n  position: relative;\\n}\\n.eruda-dev-tools .eruda-tools .CodeMirror-sizer {\\n  position: relative;\\n  border-right: 30px solid transparent;\\n}\\n\\n/* The fake, visible scrollbars. Used to force redraw during scrolling\\n   before actual scrolling happens, thus preventing shaking and\\n   flickering artifacts. */\\n.eruda-dev-tools .eruda-tools .CodeMirror-vscrollbar, .eruda-dev-tools .eruda-tools .CodeMirror-hscrollbar, .eruda-dev-tools .eruda-tools .CodeMirror-scrollbar-filler, .eruda-dev-tools .eruda-tools .CodeMirror-gutter-filler {\\n  position: absolute;\\n  z-index: 6;\\n  display: none;\\n}\\n.eruda-dev-tools .eruda-tools .CodeMirror-vscrollbar {\\n  right: 0; top: 0;\\n  overflow-x: hidden;\\n  overflow-y: scroll;\\n}\\n.eruda-dev-tools .eruda-tools .CodeMirror-hscrollbar {\\n  bottom: 0; left: 0;\\n  overflow-y: hidden;\\n  overflow-x: scroll;\\n}\\n.eruda-dev-tools .eruda-tools .CodeMirror-scrollbar-filler {\\n  right: 0; bottom: 0;\\n}\\n.eruda-dev-tools .eruda-tools .CodeMirror-gutter-filler {\\n  left: 0; bottom: 0;\\n}\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror-gutters {\\n  position: absolute; left: 0; top: 0;\\n  min-height: 100%;\\n  z-index: 3;\\n}\\n.eruda-dev-tools .eruda-tools .CodeMirror-gutter {\\n  white-space: normal;\\n  height: 100%;\\n  display: inline-block;\\n  vertical-align: top;\\n  margin-bottom: -30px;\\n}\\n.eruda-dev-tools .eruda-tools .CodeMirror-gutter-wrapper {\\n  position: absolute;\\n  z-index: 4;\\n  background: none !important;\\n  border: none !important;\\n}\\n.eruda-dev-tools .eruda-tools .CodeMirror-gutter-background {\\n  position: absolute;\\n  top: 0; bottom: 0;\\n  z-index: 4;\\n}\\n.eruda-dev-tools .eruda-tools .CodeMirror-gutter-elt {\\n  position: absolute;\\n  cursor: default;\\n  z-index: 4;\\n}\\n.eruda-dev-tools .eruda-tools .CodeMirror-gutter-wrapper ::-moz-selection { background-color: transparent }\\n.eruda-dev-tools .eruda-tools .CodeMirror-gutter-wrapper ::selection { background-color: transparent }\\n.eruda-dev-tools .eruda-tools .CodeMirror-gutter-wrapper ::-moz-selection { background-color: transparent }\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror-lines {\\n  cursor: text;\\n  min-height: 1px; /* prevents collapsing before first draw */\\n}\\n.eruda-dev-tools .eruda-tools .CodeMirror pre.CodeMirror-line,\\n.eruda-dev-tools .eruda-tools .CodeMirror pre.CodeMirror-line-like {\\n  /* Reset some styles that the rest of the page might have set */ border-radius: 0;\\n  border-width: 0;\\n  background: transparent;\\n  font-family: inherit;\\n  font-size: inherit;\\n  margin: 0;\\n  white-space: pre;\\n  word-wrap: normal;\\n  line-height: inherit;\\n  color: inherit;\\n  z-index: 2;\\n  position: relative;\\n  overflow: visible;\\n  -webkit-tap-highlight-color: transparent;\\n  font-variant-ligatures: contextual;\\n}\\n.eruda-dev-tools .eruda-tools .CodeMirror-wrap pre.CodeMirror-line,\\n.eruda-dev-tools .eruda-tools .CodeMirror-wrap pre.CodeMirror-line-like {\\n  word-wrap: break-word;\\n  white-space: pre-wrap;\\n  word-break: normal;\\n}\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror-linebackground {\\n  position: absolute;\\n  left: 0; right: 0; top: 0; bottom: 0;\\n  z-index: 0;\\n}\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror-linewidget {\\n  position: relative;\\n  z-index: 2;\\n  padding: 0.1px; /* Force widget margins to stay inside of the container */\\n}\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror-widget {}\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror-rtl pre { direction: rtl; }\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror-code {\\n  outline: none;\\n}\\n\\n/* Force content-box sizing for the elements where we expect it */\\n.eruda-dev-tools .eruda-tools .CodeMirror-scroll,\\n.eruda-dev-tools .eruda-tools .CodeMirror-sizer,\\n.eruda-dev-tools .eruda-tools .CodeMirror-gutter,\\n.eruda-dev-tools .eruda-tools .CodeMirror-gutters,\\n.eruda-dev-tools .eruda-tools .CodeMirror-linenumber {\\n  box-sizing: content-box;\\n}\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror-measure {\\n  position: absolute;\\n  width: 100%;\\n  height: 0;\\n  overflow: hidden;\\n  visibility: hidden;\\n}\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror-cursor {\\n  position: absolute;\\n  pointer-events: none;\\n}\\n.eruda-dev-tools .eruda-tools .CodeMirror-measure pre { position: static; }\\n\\n.eruda-dev-tools .eruda-tools div.CodeMirror-cursors {\\n  visibility: hidden;\\n  position: relative;\\n  z-index: 3;\\n}\\n.eruda-dev-tools .eruda-tools div.CodeMirror-dragcursors {\\n  visibility: visible;\\n}\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror-focused div.CodeMirror-cursors {\\n  visibility: visible;\\n}\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror-selected { background: #d9d9d9; }\\n.eruda-dev-tools .eruda-tools .CodeMirror-focused .CodeMirror-selected { background: #d7d4f0; }\\n.eruda-dev-tools .eruda-tools .CodeMirror-crosshair { cursor: crosshair; }\\n.eruda-dev-tools .eruda-tools .CodeMirror-line::-moz-selection, .eruda-dev-tools .eruda-tools .CodeMirror-line > span::-moz-selection, .eruda-dev-tools .eruda-tools .CodeMirror-line > span > span::-moz-selection { background: #d7d4f0; }\\n.eruda-dev-tools .eruda-tools .CodeMirror-line::selection, .eruda-dev-tools .eruda-tools .CodeMirror-line > span::selection, .eruda-dev-tools .eruda-tools .CodeMirror-line > span > span::selection { background: #d7d4f0; }\\n.eruda-dev-tools .eruda-tools .CodeMirror-line::-moz-selection, .eruda-dev-tools .eruda-tools .CodeMirror-line > span::-moz-selection, .eruda-dev-tools .eruda-tools .CodeMirror-line > span > span::-moz-selection { background: #d7d4f0; }\\n\\n.eruda-dev-tools .eruda-tools .cm-searching {\\n  background-color: #ffa;\\n  background-color: rgba(255, 255, 0, .4);\\n}\\n\\n/* Used to force a border model for a node */\\n.eruda-dev-tools .eruda-tools .cm-force-border { padding-right: .1px; }\\n\\n@media print {\\n  /* Hide the cursor when printing */\\n  .eruda-dev-tools .eruda-tools .CodeMirror div.CodeMirror-cursors {\\n    visibility: hidden;\\n  }\\n}\\n\\n/* See issue #2901 */\\n.eruda-dev-tools .eruda-tools .cm-tab-wrap-hack:after { content: ''; }\\n\\n/* Help users use markselection to safely style text background */\\n.eruda-dev-tools .eruda-tools span.CodeMirror-selectedtext { background: none; }\\n\", \"\"]), e.exports = t;\n  }, function (e, t, r) {\n    (t = r(5)(!1)).push([e.i, \".eruda-dev-tools .eruda-tools .CodeMirror {\\n  height: 100%;\\n}\\n\\n/* Sync style with chrome dev-tool */\\n.eruda-dev-tools .eruda-tools .cm-keyword {\\n  color: hsl(310, 86%, 36%);\\n}\\n.eruda-dev-tools .eruda-tools .cm-number {\\n  color: hsl(248, 100%, 41%);\\n}\\n.eruda-dev-tools .eruda-tools .cm-comment {\\n  color: hsl(120, 100%, 23%) !important;\\n  font-style: italic;\\n}\\n.eruda-dev-tools .eruda-tools .cm-string {\\n  color: hsl(1, 80%, 43%) !important;\\n}\\n.eruda-dev-tools .eruda-tools .cm-string-2 {\\n  color: hsl(1, 99%, 39%) !important;\\n}\\n.eruda-dev-tools .eruda-tools .cm-atom {\\n  color: hsl(310, 86%, 36%);\\n}\\n.eruda-dev-tools .eruda-tools .cm-def {\\n  color: hsl(240, 73%, 38%);\\n}\\n.eruda-dev-tools .eruda-tools .cm-operator {\\n  color: hsl(27, 100%, 30%);\\n}\\n.eruda-dev-tools .eruda-tools .cm-meta {\\n  color: hsl(27, 100%, 30%);\\n}\\n.eruda-dev-tools .eruda-tools .cm-variable-2 {\\n  color: hsl(240, 73%, 38%);\\n}\\n\", \"\"]), e.exports = t;\n  }, function (e, t, r) {\n    var n = r(28);\n    e.exports = (n.default || n).template({\n      compiler: [8, \">= 4.3.0\"],\n      main: function (e, t, r, n, i) {\n        return '<textarea class=\"eruda-editor\">function fib(num) {\\n    if (num <= 2) return 1;\\n    return fib(num - 1) + fib(num - 2);\\n}\\nconsole.log(fib(5));</textarea>\\n<div class=\"eruda-bottom-bar\">\\n    <div class=\"eruda-btn eruda-beautify\">\\n        Beautify\\n    </div>\\n    <div class=\"eruda-btn eruda-copy\">\\n        Copy\\n    </div>\\n    <div class=\"eruda-btn eruda-clear\">\\n        Clear\\n    </div>\\n    <div class=\"eruda-btn eruda-run\">\\n        Run\\n    </div>\\n</div>';\n      },\n      useData: !0\n    });\n  }, function (e, t, r) {\n    e.exports = r(29).default;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    function n(e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    }\n\n    function i(e) {\n      if (e && e.__esModule) return e;\n      var t = {};\n      if (null != e) for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]);\n      return t.default = e, t;\n    }\n\n    t.__esModule = !0;\n    var o = i(r(10)),\n        l = n(r(40)),\n        a = n(r(1)),\n        s = i(r(0)),\n        u = i(r(41)),\n        c = n(r(42));\n\n    function d() {\n      var e = new o.HandlebarsEnvironment();\n      return s.extend(e, o), e.SafeString = l.default, e.Exception = a.default, e.Utils = s, e.escapeExpression = s.escapeExpression, e.VM = u, e.template = function (t) {\n        return u.template(t, e);\n      }, e;\n    }\n\n    var f = d();\n    f.create = d, c.default(f), f.default = f, t.default = f, e.exports = t.default;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    t.__esModule = !0;\n    var n = r(0);\n    t.default = function (e) {\n      e.registerHelper(\"blockHelperMissing\", function (t, r) {\n        var i = r.inverse,\n            o = r.fn;\n        if (!0 === t) return o(this);\n        if (!1 === t || null == t) return i(this);\n        if (n.isArray(t)) return t.length > 0 ? (r.ids && (r.ids = [r.name]), e.helpers.each(t, r)) : i(this);\n\n        if (r.data && r.ids) {\n          var l = n.createFrame(r.data);\n          l.contextPath = n.appendContextPath(r.data.contextPath, r.name), r = {\n            data: l\n          };\n        }\n\n        return o(t, r);\n      });\n    }, e.exports = t.default;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    (function (n) {\n      t.__esModule = !0;\n      var i,\n          o = r(0),\n          l = r(1),\n          a = (i = l) && i.__esModule ? i : {\n        default: i\n      };\n      t.default = function (e) {\n        e.registerHelper(\"each\", function (e, t) {\n          if (!t) throw new a.default(\"Must pass iterator to #each\");\n          var r,\n              i = t.fn,\n              l = t.inverse,\n              s = 0,\n              u = \"\",\n              c = void 0,\n              d = void 0;\n\n          function f(t, r, n) {\n            c && (c.key = t, c.index = r, c.first = 0 === r, c.last = !!n, d && (c.contextPath = d + t)), u += i(e[t], {\n              data: c,\n              blockParams: o.blockParams([e[t], t], [d + t, null])\n            });\n          }\n\n          if (t.data && t.ids && (d = o.appendContextPath(t.data.contextPath, t.ids[0]) + \".\"), o.isFunction(e) && (e = e.call(this)), t.data && (c = o.createFrame(t.data)), e && \"object\" == typeof e) if (o.isArray(e)) for (var h = e.length; s < h; s++) s in e && f(s, s, s === e.length - 1);else if (n.Symbol && e[n.Symbol.iterator]) {\n            for (var p = [], v = e[n.Symbol.iterator](), g = v.next(); !g.done; g = v.next()) p.push(g.value);\n\n            for (h = (e = p).length; s < h; s++) f(s, s, s === e.length - 1);\n          } else r = void 0, Object.keys(e).forEach(function (e) {\n            void 0 !== r && f(r, s - 1), r = e, s++;\n          }), void 0 !== r && f(r, s - 1, !0);\n          return 0 === s && (u = l(this)), u;\n        });\n      }, e.exports = t.default;\n    }).call(this, r(4));\n  }, function (e, t, r) {\n    \"use strict\";\n\n    t.__esModule = !0;\n    var n,\n        i = r(1),\n        o = (n = i) && n.__esModule ? n : {\n      default: n\n    };\n    t.default = function (e) {\n      e.registerHelper(\"helperMissing\", function () {\n        if (1 !== arguments.length) throw new o.default('Missing helper: \"' + arguments[arguments.length - 1].name + '\"');\n      });\n    }, e.exports = t.default;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    t.__esModule = !0;\n    var n,\n        i = r(0),\n        o = r(1),\n        l = (n = o) && n.__esModule ? n : {\n      default: n\n    };\n    t.default = function (e) {\n      e.registerHelper(\"if\", function (e, t) {\n        if (2 != arguments.length) throw new l.default(\"#if requires exactly one argument\");\n        return i.isFunction(e) && (e = e.call(this)), !t.hash.includeZero && !e || i.isEmpty(e) ? t.inverse(this) : t.fn(this);\n      }), e.registerHelper(\"unless\", function (t, r) {\n        if (2 != arguments.length) throw new l.default(\"#unless requires exactly one argument\");\n        return e.helpers.if.call(this, t, {\n          fn: r.inverse,\n          inverse: r.fn,\n          hash: r.hash\n        });\n      });\n    }, e.exports = t.default;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    t.__esModule = !0, t.default = function (e) {\n      e.registerHelper(\"log\", function () {\n        for (var t = [void 0], r = arguments[arguments.length - 1], n = 0; n < arguments.length - 1; n++) t.push(arguments[n]);\n\n        var i = 1;\n        null != r.hash.level ? i = r.hash.level : r.data && null != r.data.level && (i = r.data.level), t[0] = i, e.log.apply(e, t);\n      });\n    }, e.exports = t.default;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    t.__esModule = !0;\n    var n = /^(constructor|__defineGetter__|__defineSetter__|__lookupGetter__|__proto__)$/;\n    t.dangerousPropertyRegex = n, t.default = function (e) {\n      e.registerHelper(\"lookup\", function (e, t) {\n        return e ? !n.test(String(t)) || Object.prototype.propertyIsEnumerable.call(e, t) ? e[t] : void 0 : e;\n      });\n    };\n  }, function (e, t, r) {\n    \"use strict\";\n\n    t.__esModule = !0;\n    var n,\n        i = r(0),\n        o = r(1),\n        l = (n = o) && n.__esModule ? n : {\n      default: n\n    };\n    t.default = function (e) {\n      e.registerHelper(\"with\", function (e, t) {\n        if (2 != arguments.length) throw new l.default(\"#with requires exactly one argument\");\n        i.isFunction(e) && (e = e.call(this));\n        var r = t.fn;\n        if (i.isEmpty(e)) return t.inverse(this);\n        var n = t.data;\n        return t.data && t.ids && ((n = i.createFrame(t.data)).contextPath = i.appendContextPath(t.data.contextPath, t.ids[0])), r(e, {\n          data: n,\n          blockParams: i.blockParams([e], [n && n.contextPath])\n        });\n      });\n    }, e.exports = t.default;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    t.__esModule = !0, t.registerDefaultDecorators = function (e) {\n      o.default(e);\n    };\n    var n,\n        i = r(38),\n        o = (n = i) && n.__esModule ? n : {\n      default: n\n    };\n  }, function (e, t, r) {\n    \"use strict\";\n\n    t.__esModule = !0;\n    var n = r(0);\n    t.default = function (e) {\n      e.registerDecorator(\"inline\", function (e, t, r, i) {\n        var o = e;\n        return t.partials || (t.partials = {}, o = function (i, o) {\n          var l = r.partials;\n          r.partials = n.extend({}, l, t.partials);\n          var a = e(i, o);\n          return r.partials = l, a;\n        }), t.partials[i.args[0]] = i.fn, o;\n      });\n    }, e.exports = t.default;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    t.__esModule = !0;\n    var n = r(0),\n        i = {\n      methodMap: [\"debug\", \"info\", \"warn\", \"error\"],\n      level: \"info\",\n      lookupLevel: function (e) {\n        if (\"string\" == typeof e) {\n          var t = n.indexOf(i.methodMap, e.toLowerCase());\n          e = t >= 0 ? t : parseInt(e, 10);\n        }\n\n        return e;\n      },\n      log: function (e) {\n        if (e = i.lookupLevel(e), \"undefined\" != typeof console && i.lookupLevel(i.level) <= e) {\n          var t = i.methodMap[e];\n          console[t] || (t = \"log\");\n\n          for (var r = arguments.length, n = Array(r > 1 ? r - 1 : 0), o = 1; o < r; o++) n[o - 1] = arguments[o];\n\n          console[t].apply(console, n);\n        }\n      }\n    };\n    t.default = i, e.exports = t.default;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    function n(e) {\n      this.string = e;\n    }\n\n    t.__esModule = !0, n.prototype.toString = n.prototype.toHTML = function () {\n      return \"\" + this.string;\n    }, t.default = n, e.exports = t.default;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    t.__esModule = !0, t.checkRevision = function (e) {\n      var t = e && e[0] || 1,\n          r = a.COMPILER_REVISION;\n      if (t >= a.LAST_COMPATIBLE_COMPILER_REVISION && t <= a.COMPILER_REVISION) return;\n\n      if (t < a.LAST_COMPATIBLE_COMPILER_REVISION) {\n        var n = a.REVISION_CHANGES[r],\n            i = a.REVISION_CHANGES[t];\n        throw new l.default(\"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version (\" + n + \") or downgrade your runtime to an older version (\" + i + \").\");\n      }\n\n      throw new l.default(\"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version (\" + e[1] + \").\");\n    }, t.template = function (e, t) {\n      if (!t) throw new l.default(\"No environment passed to template\");\n      if (!e || !e.main) throw new l.default(\"Unknown template object: \" + typeof e);\n      e.main.decorator = e.main_d, t.VM.checkRevision(e.compiler);\n      var r = e.compiler && 7 === e.compiler[0];\n      var n = {\n        strict: function (e, t, r) {\n          if (!(e && t in e)) throw new l.default('\"' + t + '\" not defined in ' + e, {\n            loc: r\n          });\n          return e[t];\n        },\n        lookup: function (e, t) {\n          for (var r = e.length, n = 0; n < r; n++) if (e[n] && null != e[n][t]) return e[n][t];\n        },\n        lambda: function (e, t) {\n          return \"function\" == typeof e ? e.call(t) : e;\n        },\n        escapeExpression: i.escapeExpression,\n        invokePartial: function (r, n, o) {\n          o.hash && (n = i.extend({}, n, o.hash), o.ids && (o.ids[0] = !0)), r = t.VM.resolvePartial.call(this, r, n, o);\n          var a = i.extend({}, o, {\n            hooks: this.hooks\n          }),\n              s = t.VM.invokePartial.call(this, r, n, a);\n\n          if (null == s && t.compile && (o.partials[o.name] = t.compile(r, e.compilerOptions, t), s = o.partials[o.name](n, a)), null != s) {\n            if (o.indent) {\n              for (var u = s.split(\"\\n\"), c = 0, d = u.length; c < d && (u[c] || c + 1 !== d); c++) u[c] = o.indent + u[c];\n\n              s = u.join(\"\\n\");\n            }\n\n            return s;\n          }\n\n          throw new l.default(\"The partial \" + o.name + \" could not be compiled when running in runtime-only mode\");\n        },\n        fn: function (t) {\n          var r = e[t];\n          return r.decorator = e[t + \"_d\"], r;\n        },\n        programs: [],\n        program: function (e, t, r, n, i) {\n          var o = this.programs[e],\n              l = this.fn(e);\n          return t || i || n || r ? o = u(this, e, l, t, r, n, i) : o || (o = this.programs[e] = u(this, e, l)), o;\n        },\n        data: function (e, t) {\n          for (; e && t--;) e = e._parent;\n\n          return e;\n        },\n        nullContext: Object.seal({}),\n        noop: t.VM.noop,\n        compilerInfo: e.compiler\n      };\n\n      function o(t) {\n        var r = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1],\n            i = r.data;\n        o._setup(r), !r.partial && e.useData && (i = d(t, i));\n        var l = void 0,\n            a = e.useBlockParams ? [] : void 0;\n\n        function s(t) {\n          return \"\" + e.main(n, t, n.helpers, n.partials, i, a, l);\n        }\n\n        return e.useDepths && (l = r.depths ? t != r.depths[0] ? [t].concat(r.depths) : r.depths : [t]), (s = f(e.main, s, n, r.depths || [], i, a))(t, r);\n      }\n\n      return o.isTop = !0, o._setup = function (o) {\n        if (o.partial) n.helpers = o.helpers, n.partials = o.partials, n.decorators = o.decorators, n.hooks = o.hooks;else {\n          n.helpers = i.extend({}, t.helpers, o.helpers), e.usePartial && (n.partials = i.extend({}, t.partials, o.partials)), (e.usePartial || e.useDecorators) && (n.decorators = i.extend({}, t.decorators, o.decorators)), n.hooks = {};\n          var l = o.allowCallsToHelperMissing || r;\n          s.moveHelperToHooks(n, \"helperMissing\", l), s.moveHelperToHooks(n, \"blockHelperMissing\", l);\n        }\n      }, o._child = function (t, r, i, o) {\n        if (e.useBlockParams && !i) throw new l.default(\"must pass block params\");\n        if (e.useDepths && !o) throw new l.default(\"must pass parent depths\");\n        return u(n, t, e[t], r, 0, i, o);\n      }, o;\n    }, t.wrapProgram = u, t.resolvePartial = function (e, t, r) {\n      e ? e.call || r.name || (r.name = e, e = r.partials[e]) : e = \"@partial-block\" === r.name ? r.data[\"partial-block\"] : r.partials[r.name];\n      return e;\n    }, t.invokePartial = function (e, t, r) {\n      var n = r.data && r.data[\"partial-block\"];\n      r.partial = !0, r.ids && (r.data.contextPath = r.ids[0] || r.data.contextPath);\n      var o = void 0;\n      r.fn && r.fn !== c && function () {\n        r.data = a.createFrame(r.data);\n        var e = r.fn;\n        o = r.data[\"partial-block\"] = function (t) {\n          var r = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1];\n          return r.data = a.createFrame(r.data), r.data[\"partial-block\"] = n, e(t, r);\n        }, e.partials && (r.partials = i.extend({}, r.partials, e.partials));\n      }();\n      void 0 === e && o && (e = o);\n      if (void 0 === e) throw new l.default(\"The partial \" + r.name + \" could not be found\");\n      if (e instanceof Function) return e(t, r);\n    }, t.noop = c;\n\n    var n,\n        i = function (e) {\n      if (e && e.__esModule) return e;\n      var t = {};\n      if (null != e) for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]);\n      return t.default = e, t;\n    }(r(0)),\n        o = r(1),\n        l = (n = o) && n.__esModule ? n : {\n      default: n\n    },\n        a = r(10),\n        s = r(11);\n\n    function u(e, t, r, n, i, o, l) {\n      function a(t) {\n        var i = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1],\n            a = l;\n        return !l || t == l[0] || t === e.nullContext && null === l[0] || (a = [t].concat(l)), r(e, t, e.helpers, e.partials, i.data || n, o && [i.blockParams].concat(o), a);\n      }\n\n      return (a = f(r, a, e, l, n, o)).program = t, a.depth = l ? l.length : 0, a.blockParams = i || 0, a;\n    }\n\n    function c() {\n      return \"\";\n    }\n\n    function d(e, t) {\n      return t && \"root\" in t || ((t = t ? a.createFrame(t) : {}).root = e), t;\n    }\n\n    function f(e, t, r, n, o, l) {\n      if (e.decorator) {\n        var a = {};\n        t = e.decorator(t, a, r, n && n[0], o, l, n), i.extend(t, a);\n      }\n\n      return t;\n    }\n  }, function (e, t, r) {\n    \"use strict\";\n\n    (function (r) {\n      t.__esModule = !0, t.default = function (e) {\n        var t = void 0 !== r ? r : window,\n            n = t.Handlebars;\n\n        e.noConflict = function () {\n          return t.Handlebars === e && (t.Handlebars = n), e;\n        };\n      }, e.exports = t.default;\n    }).call(this, r(4));\n  }]);\n});","map":{"version":3,"mappings":";CAAA,UAA2CA,CAA3C,EAAiDC,CAAjD,EAAiDA;AAC1B,qBAAZC,OAAY,IAA8B,mBAAXC,MAAnB,GACrBA,OAAOD,OAAPC,GAAiBF,GADI,GAEI,qBAAXG,MAAW,IAAcA,OAAOC,GAArB,GACzBD,OAAO,EAAPA,EAAWH,CAAXG,CADyB,GAEC,mBAAZF,OAAY,GAC1BA,QAAmBI,SAAnBJ,GAAuBD,GADG,GAG1BD,EAAgBM,SAAhBN,GAAoBC,GAPC;AADvB,EASGM,MATH,EASW;AACX,S;ACTE,QAAIC,IAAmB,EAAvB;;AAGA,aAASC,CAAT,CAA6BC,CAA7B,EAA6BA;AAG5B,UAAGF,EAAiBE,CAAjBF,CAAH,EACC,OAAOA,EAAiBE,CAAjBF,EAA2BN,OAAlC;AAGD,UAAIC,IAASK,EAAiBE,CAAjBF,IAA6B;AACzCG,WAAGD,CADsC;AAEzCE,YAAG,CAFsC;AAGzCV,iBAAS;AAHgC,OAA1C;AAaA,aANAW,EAAQH,CAARG,EAAkBC,IAAlBD,CAAuBV,EAAOD,OAA9BW,EAAuCV,CAAvCU,EAA+CV,EAAOD,OAAtDW,EAA+DJ,CAA/DI,GAGAV,EAAOS,CAAPT,GAAOS,CAAI,CAHXC,EAMOV,EAAOD,OAAd;AA0DD;;AAAA,WArDAO,EAAoBM,CAApBN,GAAwBI,CAAxBJ,EAGAA,EAAoBO,CAApBP,GAAwBD,CAHxBC,EAMAA,EAAoBQ,CAApBR,GAAwB,UAASP,CAAT,EAAkBgB,CAAlB,EAAwBC,CAAxB,EAAwBA;AAC3CV,QAAoBW,CAApBX,CAAsBP,CAAtBO,EAA+BS,CAA/BT,KACHY,OAAOC,cAAPD,CAAsBnB,CAAtBmB,EAA+BH,CAA/BG,EAAqC;AAAEE,qBAAY,CAAd;AAAoBC,aAAKL;AAAzB,OAArCE,CADGZ;AAC2DU,KARhEV,EAaAA,EAAoBgB,CAApBhB,GAAwB,UAASP,CAAT,EAASA;AACX,4BAAXwB,MAAW,IAAeA,OAAOC,WAAtB,IACpBN,OAAOC,cAAPD,CAAsBnB,CAAtBmB,EAA+BK,OAAOC,WAAtCN,EAAmD;AAAEO,eAAO;AAAT,OAAnDP,CADoB,EAGrBA,OAAOC,cAAPD,CAAsBnB,CAAtBmB,EAA+B,YAA/BA,EAA6C;AAAEO,gBAAO;AAAT,OAA7CP,CAHqB;AAGiC,KAjBvDZ,EAyBAA,EAAoBoB,CAApBpB,GAAwB,UAASmB,CAAT,EAAgBE,CAAhB,EAAgBA;AAEvC,UADU,IAAPA,CAAO,KAAGF,IAAQnB,EAAoBmB,CAApBnB,CAAX,GACA,IAAPqB,CAAH,EAAa,OAAOF,CAAP;AACb,UAAW,IAAPE,CAAO,IAAuB,mBAAVF,CAAb,IAAmCA,CAAnC,IAA4CA,EAAMG,UAA7D,EAAyE,OAAOH,CAAP;AACzE,UAAII,IAAKX,OAAOY,MAAPZ,CAAc,IAAdA,CAAT;AAGA,UAFAZ,EAAoBgB,CAApBhB,CAAsBuB,CAAtBvB,GACAY,OAAOC,cAAPD,CAAsBW,CAAtBX,EAA0B,SAA1BA,EAAqC;AAAEE,qBAAY,CAAd;AAAoBK,eAAOA;AAA3B,OAArCP,CADAZ,EAEU,IAAPqB,CAAO,IAAqB,mBAATF,CAAtB,EAAyC,KAAI,IAAIM,CAAR,IAAeN,CAAf,EAAsBnB,EAAoBQ,CAApBR,CAAsBuB,CAAtBvB,EAA0ByB,CAA1BzB,EAA+B,UAASyB,CAAT,EAASA;AAAO,eAAON,EAAMM,CAANN,CAAP;AAAaM,OAA7B,CAAqCC,IAArC,CAA0C,IAA1C,EAAgDD,CAAhD,CAA/BzB;AAC/D,aAAOuB,CAAP;AAAOA,KAjCRvB,EAqCAA,EAAoB2B,CAApB3B,GAAwB,UAASN,CAAT,EAASA;AAChC,UAAIgB,IAAShB,KAAUA,EAAO4B,UAAjB5B,GACZ;AAAwB,eAAOA,EAAgBkC,OAAvB;AAAuB,OADnClC,GAEZ;AAA8B,eAAOA,CAAP;AAAOA,OAFtC;AAIA,aADAM,EAAoBQ,CAApBR,CAAsBU,CAAtBV,EAA8B,GAA9BA,EAAmCU,CAAnCV,GACOU,CAAP;AAAOA,KA1CRV,EA8CAA,EAAoBW,CAApBX,GAAwB,UAAS6B,CAAT,EAAiBC,CAAjB,EAAiBA;AAAY,aAAOlB,OAAOmB,SAAPnB,CAAiBoB,cAAjBpB,CAAgCP,IAAhCO,CAAqCiB,CAArCjB,EAA6CkB,CAA7ClB,CAAP;AAAoDkB,KA9CzG9B,EAiDAA,EAAoBiC,CAApBjC,GAAwB,UAjDxBA,EAqDOA,EAAoBA,EAAoBkC,CAApBlC,GAAwB,EAA5CA,CAAP;;;;AChFFP,MAAQ6B,UAAR7B,GAAQ6B,CAAa,CAArB7B,EACAA,EAAQ0C,MAAR1C,GAAiB0C,CADjB1C,EAEAA,EAAQ2C,OAAR3C,GAgEA,UAAiB4C,CAAjB,EAAwBlB,CAAxB,EAAwBA;AACtB,WAAK,IAAIjB,IAAI,CAAR,EAAWoC,IAAMD,EAAME,MAA5B,EAAoCrC,IAAIoC,CAAxC,EAA6CpC,GAA7C,EACE,IAAImC,EAAMnC,CAANmC,MAAalB,CAAjB,EACE,OAAOjB,CAAP;;AAGJ,cAAQ,CAAR;AAAQ,KAxEVT,EAGAA,EAAQ+C,gBAAR/C,GAwEA,UAA0BgD,CAA1B,EAA0BA;AACxB,UAAsB,mBAAXA,CAAX,EAAgC;AAE9B,YAAIA,KAAUA,EAAOC,MAArB,EACE,OAAOD,EAAOC,MAAPD,EAAP;AACK,YAAc,QAAVA,CAAJ,EACL,OAAO,EAAP;AACK,aAAKA,CAAL,EACL,OAAOA,IAAS,EAAhB;AAMFA,YAAS,KAAKA,CAAdA;AAGF;;AAAA,WAAKE,EAASC,IAATD,CAAcF,CAAdE,CAAL,EACE,OAAOF,CAAP;AAEF,aAAOA,EAAOI,OAAPJ,CAAeK,CAAfL,EAAyBM,CAAzBN,CAAP;AAAgCM,KA/FlCtD,EAIAA,EAAQuD,OAARvD,GA8FA,UAAiB0B,CAAjB,EAAiBA;AACf,cAAKA,CAAL,IAAwB,MAAVA,CAAd,IAAcA,GAEH8B,EAAQ9B,CAAR8B,CAFG9B,IAEgC,MAAjBA,EAAMoB,MAFrBpB,CAAd;AAEmCoB,KArGrC9C,EAKAA,EAAQyD,WAARzD,GAuGA,UAAqBoC,CAArB,EAAqBA;AACnB,UAAIsB,IAAQhB,EAAO,EAAPA,EAAWN,CAAXM,CAAZ;AAEA,aADAgB,EAAMC,OAAND,GAAgBtB,CAAhBsB,EACOA,CAAP;AAAOA,KA/GT1D,EAMAA,EAAQ4D,WAAR5D,GA4GA,UAAqB6D,CAArB,EAA6BC,CAA7B,EAA6BA;AAE3B,aADAD,EAAOE,IAAPF,GAAcC,CAAdD,EACOA,CAAP;AAAOA,KApHT7D,EAOAA,EAAQgE,iBAARhE,GAgHA,UAA2BiE,CAA3B,EAAwCC,CAAxC,EAAwCA;AACtC,cAAQD,IAAcA,IAAc,GAA5BA,GAAkC,EAA1C,IAAgDC,CAAhD;AAAgDA,KAxHlDlE;AASA,QAAImE,IAAS;AACX,WAAK,OADM;AAEX,WAAK,MAFM;AAGX,WAAK,MAHM;AAIX,WAAK,QAJM;AAKX,WAAK,QALM;AAMX,WAAK,QANM;AAOX,WAAK;AAPM,KAAb;AAAA,QAUId,IAAW,YAVf;AAAA,QAWIH,IAAW,WAXf;;AAaA,aAASI,CAAT,CAAoBc,CAApB,EAAoBA;AAClB,aAAOD,EAAOC,CAAPD,CAAP;AAGF;;AAAA,aAASzB,CAAT,CAAgB2B,CAAhB,EAAgBA;AACd,WAAK,IAAI5D,IAAI,CAAb,EAAgBA,IAAI6D,UAAUxB,MAA9B,EAAsCrC,GAAtC,EACE,KAAK,IAAIuB,CAAT,IAAgBsC,UAAU7D,CAAV6D,CAAhB,EACMnD,OAAOmB,SAAPnB,CAAiBoB,cAAjBpB,CAAgCP,IAAhCO,CAAqCmD,UAAU7D,CAAV6D,CAArCnD,EAAmDa,CAAnDb,MACFkD,EAAIrC,CAAJqC,IAAWC,UAAU7D,CAAV6D,EAAatC,CAAbsC,CADTnD;;AAMR,aAAOkD,CAAP;AAGF;;AAAA,QAAIE,IAAWpD,OAAOmB,SAAPnB,CAAiBoD,QAAhC;AAEAvE,MAAQuE,QAARvE,GAAmBuE,CAAnBvE;;AAIA,QAAIwE,IAAa,UAAoB9C,CAApB,EAAoBA;AACnC,aAAwB,qBAAVA,CAAd;AAAcA,KADhB;;AAKI8C,MAAW,GAAXA,MACFxE,EAAQwE,UAARxE,GAAqBwE,IAAa,UAAU9C,CAAV,EAAUA;AAC1C,aAAwB,qBAAVA,CAAU,IAAuC,wBAAzB6C,EAAS3D,IAAT2D,CAAc7C,CAAd6C,CAAtC;AAAoD7C,KAFpD8C,GAKJxE,EAAQwE,UAARxE,GAAqBwE,CALjBA;;AAUJ,QAAIhB,IAAUiB,MAAMjB,OAANiB,IAAiB,UAAU/C,CAAV,EAAUA;AACvC,gBAAOA,CAAP,IAAiC,mBAAVA,CAAvB,KAAqE,qBAAzB6C,EAAS3D,IAAT2D,CAAc7C,CAAd6C,CAA5C;AAA0D7C,KAD5D;;AAIA1B,MAAQwD,OAARxD,GAAkBwD,CAAlBxD;AAAkBwD,G;;;AC/DlBxD,MAAQ6B,UAAR7B,GAAQ6B,CAAa,CAArB7B;AAEA,QAAI0E,IAAa,CAAC,aAAD,EAAgB,UAAhB,EAA4B,YAA5B,EAA0C,eAA1C,EAA2D,SAA3D,EAAsE,MAAtE,EAA8E,QAA9E,EAAwF,OAAxF,CAAjB;;AAEA,aAASC,CAAT,CAAmBC,CAAnB,EAA4BC,CAA5B,EAA4BA;AAC1B,UAAIC,IAAMD,KAAQA,EAAKC,GAAvB;AAAA,UACIC,SAAOC,CADX;AAAA,UAEIC,SAAgBD,CAFpB;AAAA,UAGIE,SAASF,CAHb;AAAA,UAIIG,SAAYH,CAJhB;AAMIF,YACFC,IAAOD,EAAIM,KAAJN,CAAUC,IAAjBA,EACAE,IAAgBH,EAAIO,GAAJP,CAAQC,IADxBA,EAEAG,IAASJ,EAAIM,KAAJN,CAAUI,MAFnBH,EAGAI,IAAYL,EAAIO,GAAJP,CAAQI,MAHpBH,EAKAH,KAAW,QAAQG,CAAR,GAAe,GAAf,GAAqBG,CAN9BJ;;AAYJ,WAHA,IAAIQ,IAAMC,MAAMjD,SAANiD,CAAgBC,WAAhBD,CAA4B3E,IAA5B2E,CAAiCE,IAAjCF,EAAuCX,CAAvCW,CAAV,EAGSG,IAAM,CAAf,EAAkBA,IAAMhB,EAAW5B,MAAnC,EAA2C4C,GAA3C,EACED,KAAKf,EAAWgB,CAAXhB,CAALe,IAAwBH,EAAIZ,EAAWgB,CAAXhB,CAAJY,CAAxBG;;AAIEF,YAAMI,iBAANJ,IACFA,MAAMI,iBAANJ,CAAwBE,IAAxBF,EAA8BZ,CAA9BY,CADEA;;AAIJ;AACMT,cACFW,KAAKG,UAALH,GAAkBV,CAAlBU,EACAA,KAAKR,aAALQ,GAAqBR,CADrBQ,EAKItE,OAAOC,cAAPD,IACFA,OAAOC,cAAPD,CAAsBsE,IAAtBtE,EAA4B,QAA5BA,EAAsC;AACpCO,iBAAOwD,CAD6B;AAEpC7D,uBAAY;AAFwB,SAAtCF,GAIAA,OAAOC,cAAPD,CAAsBsE,IAAtBtE,EAA4B,WAA5BA,EAAyC;AACvCO,iBAAOyD,CADgC;AAEvC9D,uBAAY;AAF2B,SAAzCF,CALEA,KAUFsE,KAAKP,MAALO,GAAcP,CAAdO,EACAA,KAAKN,SAALM,GAAiBN,CAXfhE,CANF2D;AAoBJ,OArBF,CAqBE,OAAOe,CAAP,EAAOA;AAKXlB;;AAAAA,MAAUrC,SAAVqC,GAAsB,IAAIY,KAAJ,EAAtBZ,EAEA3E,EAAiBmC,OAAjBnC,GAAqB2E,CAFrBA,EAGA1E,EAAOD,OAAPC,GAAiBD,EAAiBmC,OAHlCwC;AAGkC,G;AC/DlC,aAASmB,CAAT,CAAyB5E,CAAzB,EAAyBA;AAIvB,aAHAjB,EAAOD,OAAPC,GAAiB6F,IAAkB3E,OAAO4E,cAAP5E,GAAwBA,OAAO6E,cAA/B7E,GAAgD,UAAyBD,CAAzB,EAAyBA;AAC1G,eAAOA,EAAE+E,SAAF/E,IAAeC,OAAO6E,cAAP7E,CAAsBD,CAAtBC,CAAtB;AAA4CD,OAD9CjB,EAGO6F,EAAgB5E,CAAhB4E,CAAP;AAGF7F;;AAAAA,MAAOD,OAAPC,GAAiB6F,CAAjB7F;AAAiB6F,G;ACPjB,QAAII,IAAgB3E,EAAQ,EAAR,CAApB;;AAEA,aAAS4E,CAAT,CAAcC,CAAd,EAAsB/D,CAAtB,EAAgCgE,CAAhC,EAAgCA;AAiB9B,aAhBuB,sBAAZC,OAAY,IAAeA,QAAQhF,GAAvB,GACrBrB,EAAOD,OAAPC,GAAiBkG,IAAOG,QAAQhF,GADX,GAGrBrB,EAAOD,OAAPC,GAAiBkG,IAAO,UAAcC,CAAd,EAAsB/D,CAAtB,EAAgCgE,CAAhC,EAAgCA;AACtD,YAAIE,IAAOL,EAAcE,CAAdF,EAAsB7D,CAAtB6D,CAAX;;AACA,YAAKK,CAAL;AACA,cAAIC,IAAOrF,OAAOsF,wBAAPtF,CAAgCoF,CAAhCpF,EAAsCkB,CAAtClB,CAAX;AAEA,iBAAIqF,EAAKlF,GAALkF,GACKA,EAAKlF,GAALkF,CAAS5F,IAAT4F,CAAcH,CAAdG,CADLA,GAIGA,EAAK9E,KAJZ;AAIYA;AAAAA,OAZO,EAgBhByE,EAAKC,CAALD,EAAa9D,CAAb8D,EAAuBE,KAAYD,CAAnCD,CAAP;AAGFlG;;AAAAA,MAAOD,OAAPC,GAAiBkG,CAAjBlG;AAAiBkG,G;ACtBjB,QAAIO,CAAJ;;AAGAA,QAAI;AACH,aAAOjB,IAAP;AADG,OAAJiB;;AAIA;AAECA,UAAIA,KAAK,IAAIC,QAAJ,CAAa,aAAb,GAATD;AACC,KAHF,CAGE,OAAOE,CAAP,EAAOA;AAEc,yBAAXvG,MAAW,KAAUqG,IAAIrG,MAAd;AAOvBJ;;AAAAA,MAAOD,OAAPC,GAAiByG,CAAjBzG;AAAiByG,G;;;ACXjBzG,MAAOD,OAAPC,GAAiB,UAAU4G,CAAV,EAAUA;AACzB,UAAIC,IAAO,EAAX;AAqCA,aAnCAA,EAAKvC,QAALuC,GAAgB;AACd,eAAOrB,KAAKsB,GAALtB,CAAS,UAAUuB,CAAV,EAAUA;AACxB,cAAIC,IAoCV,UAAgCD,CAAhC,EAAsCH,CAAtC,EAAsCA;AACpC,gBAAII,IAAUD,EAAK,CAALA,KAAW,EAAzB;AAAA,gBAEIE,IAAaF,EAAK,CAALA,CAFjB;AAIA,iBAAKE,CAAL,EACE,OAAOD,CAAP;;AAGF,gBAAIJ,KAAgC,qBAATM,IAA3B,EAAgD;AAC9C,kBAAIC,KAWWC,IAXeH,CAWfG,EAEbC,IAASH,KAAKI,SAASC,mBAAmBC,KAAKC,SAALD,CAAeJ,CAAfI,CAAnBD,CAATD,CAALJ,CAFIE,EAGbM,IAAO,+DAA+DC,MAA/D,CAAsEN,CAAtE,CAHMD,EAIV,OAAOO,MAAP,CAAcD,CAAd,EAAoB,KAApB,CAfDP,CAAJ;AAAA,kBACIS,IAAaX,EAAWY,OAAXZ,CAAmBH,GAAnBG,CAAuB,UAAUa,CAAV,EAAUA;AAChD,uBAAO,iBAAiBH,MAAjB,CAAwBV,EAAWc,UAAXd,IAAyB,EAAjD,EAAqDU,MAArD,CAA4DG,CAA5D,EAAoE,KAApE,CAAP;AAA2E,eAD5Db,CADjB;AAIA,qBAAO,CAACD,CAAD,EAAUW,MAAV,CAAiBC,CAAjB,EAA6BD,MAA7B,CAAoC,CAACR,CAAD,CAApC,EAAqDa,IAArD,CAA0D,IAA1D,CAAP;AAOJ;;AAAA,gBAAmBZ,CAAnB,EAEMC,CAFN,EAGMK,CAHN;AAJE,mBAAO,CAACV,CAAD,EAAUgB,IAAV,CAAe,IAAf,CAAP;AArDkBC,WAoCpB,CApC2ClB,CAoC3C,EApCiDH,CAoCjD,CApCM;;AAEA,iBAAIG,EAAK,CAALA,IACK,UAAUY,MAAV,CAAiBZ,EAAK,CAALA,CAAjB,EAA0B,IAA1B,EAAgCY,MAAhC,CAAuCX,CAAvC,EAAgD,GAAhD,CADLD,GAIGC,CAJP;AAIOA,SAPFxB,EAQJwC,IARIxC,CAQC,EARDA,CAAP;AAQQ,OATVqB,EAcAA,EAAKrG,CAALqG,GAAS,UAAUnG,CAAV,EAAmBwH,CAAnB,EAAmBA;AACH,2BAAZxH,CAAY,KAErBA,IAAU,CAAC,CAAC,IAAD,EAAOA,CAAP,EAAgB,EAAhB,CAAD,CAFW;;AAKvB,aAAK,IAAIF,IAAI,CAAb,EAAgBA,IAAIE,EAAQmC,MAA5B,EAAoCrC,GAApC,EAAyC;AACvC,cAAIuG,IAAO,GAAGY,MAAH,CAAUjH,EAAQF,CAARE,CAAV,CAAX;AAEIwH,gBACGnB,EAAK,CAALA,IAGHA,EAAK,CAALA,IAAU,GAAGY,MAAH,CAAUO,CAAV,EAAsB,OAAtB,EAA+BP,MAA/B,CAAsCZ,EAAK,CAALA,CAAtC,CAHPA,GACHA,EAAK,CAALA,IAAUmB,CAFVA,GAQJrB,EAAKsB,IAALtB,CAAUE,CAAVF,CARIqB;AAQMnB;AAAAA,OA/BdF,EAmCOA,CAAP;AAAOA,KAtCT7G;AAsCS6G,G;AC9CT,aAASuB,CAAT,CAAiBhE,CAAjB,EAAiBA;AAWf,aAVsB,qBAAX7C,MAAW,IAAyC,mBAApBA,OAAO8G,QAA5B,GACpBrI,EAAOD,OAAPC,GAAiBoI,IAAU,UAAiBhE,CAAjB,EAAiBA;AAC1C,sBAAcA,CAAd;AAAcA,OAFI,GAKpBpE,EAAOD,OAAPC,GAAiBoI,IAAU,UAAiBhE,CAAjB,EAAiBA;AAC1C,eAAOA,KAAyB,qBAAX7C,MAAd6C,IAAuCA,EAAImB,WAAJnB,KAAoB7C,MAA3D6C,IAAqEA,MAAQ7C,OAAOc,SAApF+B,GAAgG,QAAhGA,GAAgG,OAAkBA,CAAzH;AAAyHA,OANvG,EAUfgE,EAAQhE,CAARgE,CAAP;AAGFpI;;AAAAA,MAAOD,OAAPC,GAAiBoI,CAAjBpI;AAAiBoI,G;ACJgDpI,MAAOD,OAAPC,GAGzD;AAAe;;AAIrB,UAAIsI,IAAYC,UAAUD,SAA1B;AAAA,UACIE,IAAWD,UAAUC,QADzB;AAAA,UAGIC,IAAQ,aAAavF,IAAb,CAAkBoF,CAAlB,CAHZ;AAAA,UAIII,IAAY,UAAUxF,IAAV,CAAeoF,CAAf,CAJhB;AAAA,UAKIK,IAAU,wCAAwCC,IAAxC,CAA6CN,CAA7C,CALd;AAAA,UAMIO,IAAO,cAAcD,IAAd,CAAmBN,CAAnB,CANX;AAAA,UAOIQ,IAAKJ,KAAaC,CAAbD,IAAwBG,CAPjC;AAAA,UAQIE,IAAaD,MAAOJ,IAAYM,SAASC,YAATD,IAAyB,CAArCN,GAAqC,EAAMG,KAAQF,CAAd,EAAuB,CAAvB,CAA5CG,CARjB;AAAA,UASII,KAAUL,CAAVK,IAAkB,WAAWhG,IAAX,CAAgBoF,CAAhB,CATtB;AAAA,UAUIa,IAAWD,KAAU,eAAehG,IAAf,CAAoBoF,CAApB,CAVzB;AAAA,UAWIc,KAAUP,CAAVO,IAAkB,WAAWlG,IAAX,CAAgBoF,CAAhB,CAXtB;AAAA,UAYIe,IAAS,UAAUnG,IAAV,CAAeoF,CAAf,CAZb;AAAA,UAaIgB,IAAS,iBAAiBpG,IAAjB,CAAsBqF,UAAUgB,MAAhC,CAbb;AAAA,UAcIC,IAAqB,+BAA+BtG,IAA/B,CAAoCoF,CAApC,CAdzB;AAAA,UAeImB,IAAU,YAAYvG,IAAZ,CAAiBoF,CAAjB,CAfd;AAAA,UAiBIoB,KAAOb,CAAPa,IAAe,cAAcxG,IAAd,CAAmBoF,CAAnB,CAAfoB,IAAgD,cAAcxG,IAAd,CAAmBoF,CAAnB,CAjBpD;AAAA,UAkBIqB,IAAU,UAAUzG,IAAV,CAAeoF,CAAf,CAlBd;AAAA,UAoBIsB,IAASF,KAAOC,CAAPD,IAAkB,mDAAmDxG,IAAnD,CAAwDoF,CAAxD,CApB/B;AAAA,UAqBIuB,IAAMH,KAAO,MAAMxG,IAAN,CAAWsF,CAAX,CArBjB;AAAA,UAsBIsB,IAAW,WAAW5G,IAAX,CAAgBoF,CAAhB,CAtBf;AAAA,UAuBIyB,IAAU,OAAO7G,IAAP,CAAYsF,CAAZ,CAvBd;AAAA,UAyBIwB,IAAiBX,KAAUf,EAAU2B,KAAV3B,CAAgB,qBAAhBA,CAzB/B;AA0BI0B,YAAkBA,IAAiBE,OAAOF,EAAe,CAAfA,CAAPE,CAAnCF,GACAA,KAAkBA,KAAkB,EAApCA,KAA0CX,KAAS,CAATA,EAAgBH,KAAS,CAAnEc,CADAA;AAGJ,UAAIG,IAAcN,MAAQV,KAAYE,MAA6B,QAAlBW,CAAkB,IAAQA,IAAiB,KAAtDX,CAApBQ,CAAlB;AAAA,UACIO,IAAoB3B,KAAUK,KAAMC,KAAc,CADtD;;AAGA,eAASsB,CAAT,CAAmBC,CAAnB,EAAmBA;AAAO,eAAO,IAAIC,MAAJ,CAAW,YAAYD,CAAZ,GAAkB,eAA7B,CAAP;AAE1B;;AAAA,UAkCIE,CAlCJ;AAAA,UAAIC,IAAU,UAAS7F,CAAT,EAAe0F,CAAf,EAAeA;AAC3B,YAAII,IAAU9F,EAAK+F,SAAnB;AAAA,YACIV,IAAQI,EAAUC,CAAVD,EAAezB,IAAfyB,CAAoBK,CAApBL,CADZ;;AAEA,YAAIJ,CAAJ,EAAW;AACT,cAAIW,IAAQF,EAAQG,KAARH,CAAcT,EAAMa,KAANb,GAAcA,EAAM,CAANA,EAASpH,MAArC6H,CAAZ;AACA9F,YAAK+F,SAAL/F,GAAiB8F,EAAQG,KAARH,CAAc,CAAdA,EAAiBT,EAAMa,KAAvBJ,KAAiCE,IAAQX,EAAM,CAANA,IAAWW,CAAnBA,GAA2B,EAA5DF,CAAjB9F;AAA6E;AAAA,OALjF;;AASA,eAASmG,CAAT,CAAwBpE,CAAxB,EAAwBA;AACtB,aAAK,IAAIqE,IAAQrE,EAAEsE,UAAFtE,CAAa9D,MAA9B,EAAsCmI,IAAQ,CAA9C,EAA8C,EAAKA,CAAnD,EACIrE,EAAEuE,WAAFvE,CAAcA,EAAEwE,UAAhBxE;;AACJ,eAAOA,CAAP;AAGF;;AAAA,eAASyE,CAAT,CAA8BC,CAA9B,EAAsC1E,CAAtC,EAAsCA;AACpC,eAAOoE,EAAeM,CAAfN,EAAuBO,WAAvBP,CAAmCpE,CAAnCoE,CAAP;AAGF;;AAAA,eAASQ,CAAT,CAAaC,CAAb,EAAkBxE,CAAlB,EAA2B2D,CAA3B,EAAsCc,CAAtC,EAAsCA;AACpC,YAAI9E,IAAIqC,SAAS0C,aAAT1C,CAAuBwC,CAAvBxC,CAAR;AAGA,YAFI2B,MAAahE,EAAEgE,SAAFhE,GAAcgE,CAA3BA,GACAc,MAAS9E,EAAE8E,KAAF9E,CAAQgF,OAARhF,GAAkB8E,CAA3BA,CADAd,EAEkB,mBAAX3D,CAAX,EAAkCL,EAAE2E,WAAF3E,CAAcqC,SAAS4C,cAAT5C,CAAwBhC,CAAxBgC,CAAdrC,EAAlC,KACK,IAAIK,CAAJ,EAAe,KAAK,IAAIxG,IAAI,CAAb,EAAgBA,IAAIwG,EAAQnE,MAA5B,EAA4BA,EAAUrC,CAAtC,EAA2CmG,EAAE2E,WAAF3E,CAAcK,EAAQxG,CAARwG,CAAdL;AAC/D,eAAOA,CAAP;AAGF;;AAAA,eAASkF,CAAT,CAAcL,CAAd,EAAmBxE,CAAnB,EAA4B2D,CAA5B,EAAuCc,CAAvC,EAAuCA;AACrC,YAAI9E,IAAI4E,EAAIC,CAAJD,EAASvE,CAATuE,EAAkBZ,CAAlBY,EAA6BE,CAA7BF,CAAR;AAEA,eADA5E,EAAEmF,YAAFnF,CAAe,MAAfA,EAAuB,cAAvBA,GACOA,CAAP;AAoBF;;AAAA,eAASoF,CAAT,CAAkBV,CAAlB,EAA0BW,CAA1B,EAA0BA;AAGxB,YAFsB,KAAlBA,EAAMC,QAAY,KAClBD,IAAQA,EAAME,UADI,GAElBb,EAAOU,QAAX,EACI,OAAOV,EAAOU,QAAPV,CAAgBW,CAAhBX,CAAP;;AACJ;AAEE,cADsB,MAAlBW,EAAMC,QAAY,KAAMD,IAAQA,EAAMG,IAApB,GAClBH,KAASX,CAAb,EAAuB,QAAO,CAAP;AAAO,SAFhC,QAGSW,IAAQA,EAAME,UAHvB;AAMF;;AAAA,eAASE,CAAT,GAASA;AAIP,YAAIC,CAAJ;;AACA;AACEA,cAAgBrD,SAASqD,aAAzBA;AACA,SAFF,CAEE,OAAM1F,CAAN,EAAMA;AACN0F,cAAgBrD,SAASsD,IAATtD,IAAiB,IAAjCqD;AAEF;;AAAA,eAAOA,KAAiBA,EAAcE,UAA/BF,IAA6CA,EAAcE,UAAdF,CAAyBA,aAA7E,GACIA,IAAgBA,EAAcE,UAAdF,CAAyBA,aAAzCA;;AACJ,eAAOA,CAAP;AAGF;;AAAA,eAASG,CAAT,CAAkB5H,CAAlB,EAAwB0F,CAAxB,EAAwBA;AACtB,YAAII,IAAU9F,EAAK+F,SAAnB;AACKN,UAAUC,CAAVD,EAAenH,IAAfmH,CAAoBK,CAApBL,MAAgCzF,EAAK+F,SAAL/F,IAAK+F,CAAcD,IAAU,GAAVA,GAAgB,EAA9BC,IAAoCL,CAAzED;AAEP;;AAAA,eAASoC,CAAT,CAAqBC,CAArB,EAAwBC,CAAxB,EAAwBA;AAEtB,aADA,IAAIC,IAAKF,EAAEG,KAAFH,CAAQ,GAARA,CAAT,EACSlM,IAAI,CAAb,EAAgBA,IAAIoM,EAAG/J,MAAvB,EAA+BrC,GAA/B,EACQoM,EAAGpM,CAAHoM,KAAGpM,CAAO6J,EAAUuC,EAAGpM,CAAHoM,CAAVvC,EAAiBnH,IAAjBmH,CAAsBsC,CAAtBtC,CAAVuC,KAAsCD,KAAK,MAAMC,EAAGpM,CAAHoM,CAAjDA;;AACR,eAAOD,CAAP;AAlD0BnC;;AAAAA,UAAxBxB,SAAS8D,WAAT9D,GAAgC,UAASpE,CAAT,EAAeO,CAAf,EAAsBC,CAAtB,EAA2B2H,CAA3B,EAA2BA;AAC7D,YAAIzL,IAAI0H,SAAS8D,WAAT9D,EAAR;AAGA,eAFA1H,EAAE0L,MAAF1L,CAASyL,KAAWnI,CAApBtD,EAA0B8D,CAA1B9D,GACAA,EAAE2L,QAAF3L,CAAWsD,CAAXtD,EAAiB6D,CAAjB7D,CADAA,EAEOA,CAAP;AAAOA,OAJL0H,GAMW,UAASpE,CAAT,EAAeO,CAAf,EAAsBC,CAAtB,EAAsBA;AACnC,YAAI9D,IAAI0H,SAASsD,IAATtD,CAAckE,eAAdlE,EAAR;;AACA;AAAM1H,YAAE6L,iBAAF7L,CAAoBsD,EAAKsH,UAAzB5K;AACN,SADA,CACA,OAAMqF,CAAN,EAAMA;AAAK,iBAAOrF,CAAP;AAIX;;AAAA,eAHAA,EAAE8L,QAAF9L,CAAE8L,CAAS,CAAX9L,GACAA,EAAE+L,OAAF/L,CAAU,WAAVA,EAAuB8D,CAAvB9D,CADAA,EAEAA,EAAEgM,SAAFhM,CAAY,WAAZA,EAAyB6D,CAAzB7D,CAFAA,EAGOA,CAAP;AAAOA,OAbmBkJ;;AAqD5B,UAAI+C,IAAc,UAAS3I,CAAT,EAASA;AAAQA,UAAK4I,MAAL5I;AAAK4I,OAAxC;;AAMA,eAASxL,CAAT,CAAcyL,CAAd,EAAcA;AACZ,YAAIC,IAAOlJ,MAAMnC,SAANmC,CAAgBqG,KAAhBrG,CAAsB7D,IAAtB6D,CAA2BH,SAA3BG,EAAsC,CAAtCA,CAAX;AACA,eAAO;AAAW,iBAAOiJ,EAAEE,KAAFF,CAAQ,IAARA,EAAcC,CAAdD,CAAP;AAAqBC,SAAvC;AAGF;;AAAA,eAASE,CAAT,CAAiBxJ,CAAjB,EAAsB+B,CAAtB,EAA8B0H,CAA9B,EAA8BA;AAE5B,aAAK,IAAIC,CAAT,IADK3H,MAAUA,IAAS,EAAnBA,GACY/B,CAAjB,EAAiBA,CACTA,EAAI9B,cAAJ8B,CAAmB0J,CAAnB1J,CADSA,IACU0J,CAAwB,CAAxBA,KAAUD,CAAVC,IAAkC3H,EAAO7D,cAAP6D,CAAsB2H,CAAtB3H,CAD5C/B,KAEX+B,EAAO2H,CAAP3H,IAAe/B,EAAI0J,CAAJ1J,CAFJA;;AAGjB,eAAO+B,CAAP;AAKF;;AAAA,eAAS4H,CAAT,CAAqBhL,CAArB,EAA6BqC,CAA7B,EAAkC4I,CAAlC,EAA2CC,CAA3C,EAAuDC,CAAvD,EAAuDA;AAC1C,gBAAP9I,CAAO,IAAPA,CAEU,CAFVA,KACFA,IAAMrC,EAAOoL,MAAPpL,CAAc,aAAdA,CADJqC,CAAO,KAEQA,IAAMrC,EAAOF,MAFrB;;AAIX,aAAK,IAAIrC,IAAIyN,KAAc,CAAtB,EAAyBhM,IAAIiM,KAAc,CAAhD,IAAqD;AACnD,cAAIE,IAAUrL,EAAOL,OAAPK,CAAe,IAAfA,EAAqBvC,CAArBuC,CAAd;AACA,cAAIqL,IAAU,CAAVA,IAAeA,KAAWhJ,CAA9B,EACI,OAAOnD,KAAKmD,IAAM5E,CAAXyB,CAAP;AACJA,eAAKmM,IAAU5N,CAAfyB,EACAA,KAAK+L,IAAW/L,IAAI+L,CADpB/L,EAEAzB,IAAI4N,IAAU,CAFdnM;AAEc;AA/BdyH;;AAAAA,UACA6D,IAAc,UAAS3I,CAAT,EAASA;AAAQA,UAAKyJ,cAALzJ,GAAsB,CAAtBA,EAAyBA,EAAK0J,YAAL1J,GAAoBA,EAAKnD,KAALmD,CAAW/B,MAAxD+B;AAAwD/B,OADvF6G,GAEKZ,MACLyE,IAAc,UAAS3I,CAAT,EAASA;AAAQ;AAAMA,YAAK4I,MAAL5I;AAAiB,SAAvB,CAAuB,OAAM2J,CAAN,EAAMA;AAAAA,OADvDzF,CAFLY;;AAmCJ,UAAI8E,IAAU;AACZhJ,aAAKvB,EAALuB,GAAU,IAAVA,EACAA,KAAKiI,CAALjI,GAAS,IADTA,EAEAA,KAAKiJ,IAALjJ,GAAY,CAFZA,EAGAA,KAAKkJ,OAALlJ,GAAexD,EAAKwD,KAAKmJ,SAAV3M,EAAqBwD,IAArBxD,CAHfwD;AAGoCA,OAJtC;;AAwBA,eAAS9C,CAAT,CAAiBC,CAAjB,EAAwB4I,CAAxB,EAAwBA;AACtB,aAAK,IAAI/K,IAAI,CAAb,EAAgBA,IAAImC,EAAME,MAA1B,EAA0BA,EAAUrC,CAApC,EACI,IAAImC,EAAMnC,CAANmC,KAAY4I,CAAhB,EAAuB,OAAO/K,CAAP;;AAC3B,gBAAQ,CAAR;AArBFgO;;AAAAA,QAAQnM,SAARmM,CAAkBG,SAAlBH,GAA8B,UAAUI,CAAV,EAAUA;AACtCA,UAAK3K,EAAL2K,GAAU,CAAVA,EACIA,EAAKH,IAALG,IAAKH,CAAS,IAAII,IAAJ,EAAdD,GACFA,EAAKnB,CAALmB,EADEA,GAGFE,WAAWF,EAAKF,OAAhBI,EAAyBF,EAAKH,IAALG,GAAKH,CAAQ,IAAII,IAAJ,EAAtCC,CAJFF;AAI4CC,OAL9CL,EAQAA,EAAQnM,SAARmM,CAAkBO,GAAlBP,GAAwB,UAAUQ,CAAV,EAAcvB,CAAd,EAAcA;AACpCjI,aAAKiI,CAALjI,GAASiI,CAATjI;AACA,YAAIiJ,KAAQ,IAAII,IAAJ,EAARJ,GAAmBO,CAAvB;AAAuBA,UAClBxJ,KAAKvB,EADa+K,IACPP,IAAOjJ,KAAKiJ,IADLO,MAErBC,aAAazJ,KAAKvB,EAAlBgL,GACAzJ,KAAKvB,EAALuB,GAAUsJ,WAAWtJ,KAAKkJ,OAAhBI,EAAyBE,CAAzBF,CADVG,EAEAzJ,KAAKiJ,IAALjJ,GAAYiJ,CAJSO;AAITP,OAdhBD;AAyBA,UAIIU,IAAO;AAAC5K,kBAAU;AAAW,iBAAO,iBAAP;AAAO;AAA7B,OAJX;AAAA,UAOI6K,IAAiB;AAACC,iBAAQ;AAAT,OAPrB;AAAA,UAOsCC,IAAY;AAACC,gBAAQ;AAAT,OAPlD;AAAA,UAOsEC,IAAW;AAACD,gBAAQ;AAAT,OAPjF;;AAWA,eAASE,CAAT,CAAoBzM,CAApB,EAA4B0M,CAA5B,EAAkCzB,CAAlC,EAAkCA;AAChC,aAAK,IAAI0B,IAAM,CAAV,EAAaC,IAAM,CAAxB,IAA6B;AAC3B,cAAIvB,IAAUrL,EAAOL,OAAPK,CAAe,IAAfA,EAAqB2M,CAArB3M,CAAd;AAAmC2M,WACnB,CADmBA,IAC/BtB,CAD+BsB,KACdtB,IAAUrL,EAAOF,MADH6M;AAEnC,cAAIE,IAAUxB,IAAUsB,CAAxB;AACA,cAAItB,KAAWrL,EAAOF,MAAlBuL,IAA4BuB,IAAMC,CAAND,IAAiBF,CAAjD,EACI,OAAOC,IAAMG,KAAKC,GAALD,CAASD,CAATC,EAAkBJ,IAAOE,CAAzBE,CAAb;AAIJ,cAHAF,KAAOvB,IAAUsB,CAAjBC,EAEAD,IAAMtB,IAAU,CAFhBuB,EAEgB,CADhBA,KAAO3B,IAAW2B,IAAM3B,CACR,KACLyB,CAAX,EAAmB,OAAOC,CAAP;AAAOA;AAI9B;;AAAA,UAAIK,IAAY,CAAC,EAAD,CAAhB;;AACA,eAASC,CAAT,CAAkB/N,CAAlB,EAAkBA;AAChB,eAAO8N,EAAUlN,MAAVkN,IAAoB9N,CAA3B,GACI8N,EAAU5H,IAAV4H,CAAeE,EAAIF,CAAJE,IAAiB,GAAhCF;;AACJ,eAAOA,EAAU9N,CAAV8N,CAAP;AAGF;;AAAA,eAASE,CAAT,CAAaC,CAAb,EAAaA;AAAO,eAAOA,EAAIA,EAAIrN,MAAJqN,GAAW,CAAfA,CAAP;AAEpB;;AAAA,eAASpJ,CAAT,CAAanE,CAAb,EAAoB8K,CAApB,EAAoBA;AAElB,aADA,IAAI0C,IAAM,EAAV,EACS3P,IAAI,CAAb,EAAgBA,IAAImC,EAAME,MAA1B,EAAkCrC,GAAlC,EAAyC2P,EAAI3P,CAAJ2P,IAAS1C,EAAE9K,EAAMnC,CAANmC,CAAF8K,EAAYjN,CAAZiN,CAAT0C;;AACzC,eAAOA,CAAP;AASF;;AAAA,eAASC,CAAT,GAASA,CAET;;AAAA,eAASC,CAAT,CAAmB/J,CAAnB,EAAyBgK,CAAzB,EAAyBA;AACvB,YAAIC,CAAJ;AAQA,eAPIrP,OAAOY,MAAPZ,GACFqP,IAAOrP,OAAOY,MAAPZ,CAAcoF,CAAdpF,CADLA,IAGFkP,EAAQ/N,SAAR+N,GAAoB9J,CAApB8J,EACAG,IAAO,IAAIH,CAAJ,EAJLlP,GAMAoP,KAAS1C,EAAQ0C,CAAR1C,EAAe2C,CAAf3C,CANT1M,EAOGqP,CAAP;AAGF;;AAAA,UAAIC,IAA6B,2GAAjC;;AACA,eAASC,CAAT,CAAyBC,CAAzB,EAAyBA;AACvB,eAAO,KAAKxN,IAAL,CAAUwN,CAAV,KAAiBA,IAAK,GAALA,KACrBA,EAAGC,WAAHD,MAAoBA,EAAGE,WAAHF,EAApBA,IAAwCF,EAA2BtN,IAA3BsN,CAAgCE,CAAhCF,CADnBE,CAAxB;AAGF;;AAAA,eAASG,EAAT,CAAoBH,CAApB,EAAwBI,CAAxB,EAAwBA;AACtB,eAAKA,OACDA,EAAOhJ,MAAPgJ,CAAcpO,OAAdoO,CAAsB,KAAtBA,IAAsB,CAAU,CAAhCA,IAAqCL,EAAgBC,CAAhBD,CADpCK,KAEEA,EAAO5N,IAAP4N,CAAYJ,CAAZI,CAFFA,GAAiBL,EAAgBC,CAAhBD,CAAtB;AAKF;;AAAA,eAASnN,EAAT,CAAiBc,CAAjB,EAAiBA;AACf,aAAK,IAAInC,CAAT,IAAcmC,CAAd,EAAqB,IAAIA,EAAI9B,cAAJ8B,CAAmBnC,CAAnBmC,KAAyBA,EAAInC,CAAJmC,CAA7B,EAAuC,QAAO,CAAP;;AAC5D,gBAAO,CAAP;AAQF;;AAAA,UAAI2M,KAAiB,44DAArB;;AACA,eAASC,EAAT,CAAyBN,CAAzB,EAAyBA;AAAM,eAAOA,EAAGO,UAAHP,CAAc,CAAdA,KAAoB,GAApBA,IAA2BK,GAAe7N,IAAf6N,CAAoBL,CAApBK,CAAlC;AAG/B;;AAAA,eAASG,EAAT,CAA4BC,CAA5B,EAAiCzB,CAAjC,EAAsC0B,CAAtC,EAAsCA;AACpC,gBAAQA,IAAM,CAANA,GAAU1B,IAAM,CAAhB0B,GAAoB1B,IAAMyB,EAAItO,MAAtC,KAAiDmO,GAAgBG,EAAIE,MAAJF,CAAWzB,CAAXyB,CAAhBH,CAAjD,GAAqFtB,KAAO0B,CAAP1B;;AACrF,eAAOA,CAAP;AAMF;;AAAA,eAAS4B,EAAT,CAAmBC,CAAnB,EAAyBC,CAAzB,EAA+BC,CAA/B,EAA+BA;AAI7B,aADA,IAAIL,IAAMI,IAAOC,CAAPD,GAAOC,CAAM,CAAbD,GAAiB,CAC3B,IAAS;AACP,cAAIA,KAAQC,CAAZ,EAAkB,OAAOD,CAAP;AAClB,cAAIE,KAAQF,IAAOC,CAAfC,IAAqB,CAAzB;AAAA,cAA4BC,IAAMP,IAAM,CAANA,GAAUvB,KAAK+B,IAAL/B,CAAU6B,CAAV7B,CAAVuB,GAA4BvB,KAAKgC,KAALhC,CAAW6B,CAAX7B,CAA9D;AACA,cAAI8B,KAAOH,CAAX,EAAmB,OAAOD,EAAKI,CAALJ,IAAYC,CAAZD,GAAmBE,CAA1B;AACfF,YAAKI,CAALJ,IAAaE,IAAKE,CAAlBJ,GACGC,IAAOG,IAAMP,CADhBG;AACgBH;AAmBxB;;AAAA,UAAIU,KAAY,IAAhB;;AACA,eAASC,EAAT,CAAuBC,CAAvB,EAA8BtB,CAA9B,EAAkCuB,CAAlC,EAAkCA;AAChC,YAAIC,CAAJ;AACAJ,aAAY,IAAZA;;AACA,aAAK,IAAItR,IAAI,CAAb,EAAgBA,IAAIwR,EAAMnP,MAA1B,EAA0BA,EAAUrC,CAApC,EAAuC;AACrC,cAAI2R,IAAMH,EAAMxR,CAANwR,CAAV;AACA,cAAIG,EAAIX,IAAJW,GAAWzB,CAAXyB,IAAiBA,EAAIV,EAAJU,GAASzB,CAA9B,EAAoC,OAAOlQ,CAAP;AAChC2R,YAAIV,EAAJU,IAAUzB,CAAVyB,KACEA,EAAIX,IAAJW,IAAYA,EAAIV,EAAhBU,IAAgC,YAAVF,CAAtBE,GAA4CD,IAAQ1R,CAApD2R,GACGL,KAAYtR,CAFjB2R,GAIAA,EAAIX,IAAJW,IAAYzB,CAAZyB,KACEA,EAAIX,IAAJW,IAAYA,EAAIV,EAAhBU,IAAgC,YAAVF,CAAtBE,GAA4CD,IAAQ1R,CAApD2R,GACGL,KAAYtR,CAFjB2R,CAJAA;AASN;;AAAA,eAAgB,QAATD,CAAS,GAAOA,CAAP,GAAeJ,EAA/B;AA0BF;;AAAA,UAAIM,KAAe;AAejB,YAAIC,IAAS,2CAAb;AAAA,YACIC,IAAY,QADhB;AAAA,YAC0BC,IAAW,OADrC;AAAA,YAC8CC,IAAe,QAD7D;AAAA,YACuEC,IAAc,MADrF;;AAGA,iBAASC,CAAT,CAAkBC,CAAlB,EAAyBnB,CAAzB,EAA+BC,CAA/B,EAA+BA;AAC7BjM,eAAKmN,KAALnN,GAAamN,CAAbnN,EACAA,KAAKgM,IAALhM,GAAYgM,CADZhM,EACkBA,KAAKiM,EAALjM,GAAUiM,CAD5BjM;AAIF;;AAAA,eAAO,UAAS2L,CAAT,EAAcyB,CAAd,EAAcA;AACnB,cAAIC,IAAyB,SAAbD,CAAa,GAAQ,GAAR,GAAc,GAA3C;AAEA,cAAkB,KAAdzB,EAAItO,MAAU,IAAkB,SAAb+P,CAAa,IAAbA,CAAuBP,EAAOnP,IAAPmP,CAAYlB,CAAZkB,CAA9C,EAAkE,QAAO,CAAP;;AAElE,eADA,IAtBgBS,CAsBhB,EAAIlQ,IAAMuO,EAAItO,MAAd,EAAsBkQ,IAAQ,EAA9B,EACSvS,IAAI,CAAb,EAAgBA,IAAIoC,CAApB,EAAoBA,EAAOpC,CAA3B,EACIuS,EAAM5K,IAAN4K,CAAM5K,CAxBM2K,IAwBQ3B,EAAIF,UAAJE,CAAe3Q,CAAf2Q,CAAdhJ,KAvBE,GAuBFA,GA3BG,2PAIuBkJ,MAJvB,CAI8ByB,CAJ9B,CA2BH3K,GAtBD,QAAS2K,CAAT,IAAiBA,KAAQ,IAAzB,GAAyC,GAAzC,GACA,QAASA,CAAT,IAAiBA,KAAQ,IAAzB,GAJO,6PAI8CzB,MAJ9C,CAIqDyB,IAAO,IAJ5D,CAIP,GACA,QAASA,CAAT,IAAiBA,KAAQ,IAAzB,GAAyC,GAAzC,GACA,QAAUA,CAAV,IAAkBA,KAAQ,IAA1B,GAA2C,GAA3C,GACQ,QAARA,CAAQ,GAAiB,GAAjB,GACH,GAiBVC;;AAMJ,eAAK,IAAIC,IAAM,CAAV,EAAaC,IAAOJ,CAAzB,EAAoCG,IAAMpQ,CAA1C,EAA0CA,EAAOoQ,CAAjD,EAAsD;AACpD,gBAAIE,IAAOH,EAAMC,CAAND,CAAX;AACY,mBAARG,CAAQ,GAAOH,EAAMC,CAAND,IAAaE,CAApB,GACLA,IAAOC,CADF;AASd;;AAAA,eAAK,IAAIC,IAAM,CAAV,EAAahB,IAAMU,CAAxB,EAAmCM,IAAMvQ,CAAzC,EAAyCA,EAAOuQ,CAAhD,EAAqD;AACnD,gBAAIC,IAASL,EAAMI,CAANJ,CAAb;AACc,mBAAVK,CAAU,IAAc,OAAPjB,CAAP,GAAqBY,EAAMI,CAANJ,IAAa,GAAlC,GACLR,EAASrP,IAATqP,CAAca,CAAdb,MAAyBJ,IAAMiB,CAANjB,EAA4B,OAAViB,CAAU,KAAOL,EAAMI,CAANJ,IAAa,GAApB,CAArDR,CADK;AAOhB;;AAAA,eAAK,IAAIc,IAAM,CAAV,EAAaC,IAASP,EAAM,CAANA,CAA3B,EAAqCM,IAAMzQ,IAAM,CAAjD,EAAiD,EAAKyQ,CAAtD,EAA2D;AACzD,gBAAIE,IAASR,EAAMM,CAANN,CAAb;AACc,mBAAVQ,CAAU,IAAiB,OAAVD,CAAP,IAAwC,OAAhBP,EAAMM,IAAI,CAAVN,CAAxB,GAA+CA,EAAMM,CAANN,IAAa,GAA5D,GACK,OAAVQ,CAAU,IAAOD,KAAUP,EAAMM,IAAI,CAAVN,CAAjB,IACC,OAAVO,CAAU,IAAiB,OAAVA,CADR,KAC0BP,EAAMM,CAANN,IAAaO,CADvC,CADL,EAGdA,IAASC,CAHK;AAUhB;;AAAA,eAAK,IAAIC,IAAM,CAAf,EAAkBA,IAAM5Q,CAAxB,EAAwBA,EAAO4Q,CAA/B,EAAoC;AAClC,gBAAIC,IAASV,EAAMS,CAANT,CAAb;AACA,gBAAc,OAAVU,CAAJ,EAAqBV,EAAMS,CAANT,IAAa,GAAbA,CAArB,KACK,IAAc,OAAVU,CAAJ,EAAmB;AACtB,kBAAIrO,SAAM,CAAV;;AACA,mBAAKA,IAAMoO,IAAM,CAAjB,EAAoBpO,IAAMxC,CAANwC,IAA2B,OAAd2N,EAAM3N,CAAN2N,CAAjC,EAAuC3N,EAAeA,CAAtD,CAAsDA;;AAEtD,mBADA,IAAIjC,IAAWqQ,KAAuB,OAAhBT,EAAMS,IAAI,CAAVT,CAAPS,IAAgCpO,IAAMxC,CAANwC,IAA2B,OAAd2N,EAAM3N,CAAN2N,CAA7CS,GAAkE,GAAlEA,GAAwE,GAAvF,EACSE,IAAIF,CAAb,EAAkBE,IAAItO,CAAtB,EAAsBA,EAAOsO,CAA7B,EAAkCX,EAAMW,CAANX,IAAW5P,CAAX4P;;AAClCS,kBAAMpO,IAAM,CAAZoO;AAAY;AAOhB;;AAAA,eAAK,IAAIG,IAAM,CAAV,EAAaC,IAAQf,CAA1B,EAAqCc,IAAM/Q,CAA3C,EAA2CA,EAAO+Q,CAAlD,EAAuD;AACrD,gBAAIE,IAASd,EAAMY,CAANZ,CAAb;AACa,mBAATa,CAAS,IAAiB,OAAVC,CAAP,GAAwBd,EAAMY,CAANZ,IAAa,GAArC,GACJR,EAASrP,IAATqP,CAAcsB,CAAdtB,MAAyBqB,IAAQC,CAAjCtB,CADI;AAUf;;AAAA,eAAK,IAAIuB,IAAM,CAAf,EAAkBA,IAAMlR,CAAxB,EAAwBA,EAAOkR,CAA/B,EACE,IAAIxB,EAAUpP,IAAVoP,CAAeS,EAAMe,CAANf,CAAfT,CAAJ,EAAgC;AAC9B,gBAAIyB,SAAQ,CAAZ;;AACA,iBAAKA,IAAQD,IAAM,CAAnB,EAAsBC,IAAQnR,CAARmR,IAAezB,EAAUpP,IAAVoP,CAAeS,EAAMgB,CAANhB,CAAfT,CAArC,EAA0DyB,EAAWA,CAArE,CAAqEA;;AAIrE,iBAHA,IAAIC,IAA6C,QAAnCF,IAAMf,EAAMe,IAAI,CAAVf,CAANe,GAAqBjB,CAAc,CAAjD,EAEIoB,IAAYD,MADwC,QAA3CD,IAAQnR,CAARmR,GAAchB,EAAMgB,CAANhB,CAAdgB,GAA6BlB,CAAc,CACxCmB,IAAmBA,IAAS,GAATA,GAAe,GAAlCA,GAAyCnB,CAFzD,EAGSqB,IAAMJ,CAAf,EAAoBI,IAAMH,CAA1B,EAA0BA,EAASG,CAAnC,EAA0CnB,EAAMmB,CAANnB,IAAakB,CAAblB;;AAC1Ce,gBAAMC,IAAQ,CAAdD;AAUJ;;AAAA,eADA,IAAgBlT,CAAhB,EAAIoR,IAAQ,EAAZ,EACSmC,IAAM,CAAf,EAAkBA,IAAMvR,CAAxB,GACE,IAAI4P,EAAatP,IAAbsP,CAAkBO,EAAMoB,CAANpB,CAAlBP,CAAJ,EAAmC;AACjC,gBAAIrN,IAAQgP,CAAZ;;AACA,mBAAOA,CAAP,EAAYA,IAAMvR,CAANuR,IAAa3B,EAAatP,IAAbsP,CAAkBO,EAAMoB,CAANpB,CAAlBP,CAAzB,EAAiD2B,EAASA,CAA1D,CAA0DA;;AAC1DnC,cAAM7J,IAAN6J,CAAW,IAAIU,CAAJ,CAAa,CAAb,EAAgBvN,CAAhB,EAAuBgP,CAAvB,CAAXnC;AAAkCmC,WAHpC,MAIO;AACL,gBAAIzE,IAAMyE,CAAV;AAAA,gBAAeC,IAAKpC,EAAMnP,MAA1B;;AACA,mBAAOsR,CAAP,EAAYA,IAAMvR,CAANuR,IAA2B,OAAdpB,EAAMoB,CAANpB,CAAzB,EAA+BoB,EAAeA,CAA9C,CAA8CA;;AAC9C,iBAAK,IAAIE,IAAM3E,CAAf,EAAoB2E,IAAMF,CAA1B,GACE,IAAI1B,EAAYvP,IAAZuP,CAAiBM,EAAMsB,CAANtB,CAAjBN,CAAJ,EAAkC;AAC5B/C,kBAAM2E,CAAN3E,IAAasC,EAAMsC,MAANtC,CAAaoC,CAAbpC,EAAiB,CAAjBA,EAAoB,IAAIU,CAAJ,CAAa,CAAb,EAAgBhD,CAAhB,EAAqB2E,CAArB,CAApBrC,CAAbtC;AACJ,kBAAI6E,IAASF,CAAb;;AACA,qBAAOA,CAAP,EAAYA,IAAMF,CAANE,IAAa5B,EAAYvP,IAAZuP,CAAiBM,EAAMsB,CAANtB,CAAjBN,CAAzB,EAAgD4B,EAASA,CAAzD,CAAyDA;;AACzDrC,gBAAMsC,MAANtC,CAAaoC,CAAbpC,EAAiB,CAAjBA,EAAoB,IAAIU,CAAJ,CAAa,CAAb,EAAgB6B,CAAhB,EAAwBF,CAAxB,CAApBrC,GACAtC,IAAM2E,CADNrC;AACMqC,aALR,MAKQA,EACGA,CADHA;;AAGN3E,gBAAMyE,CAANzE,IAAasC,EAAMsC,MAANtC,CAAaoC,CAAbpC,EAAiB,CAAjBA,EAAoB,IAAIU,CAAJ,CAAa,CAAb,EAAgBhD,CAAhB,EAAqByE,CAArB,CAApBnC,CAAbtC;AAcR;;AAAA,iBAXiB,SAAbkD,CAAa,KACO,KAAlBZ,EAAM,CAANA,EAASW,KAAS,KAAM/R,IAAIuQ,EAAIlH,KAAJkH,CAAU,MAAVA,CAAV,MACpBa,EAAM,CAANA,EAASR,IAATQ,GAAgBpR,EAAE,CAAFA,EAAKiC,MAArBmP,EACAA,EAAMwC,OAANxC,CAAc,IAAIU,CAAJ,CAAa,CAAb,EAAgB,CAAhB,EAAmB9R,EAAE,CAAFA,EAAKiC,MAAxB,CAAdmP,CAFoB,GAIE,KAApB/B,EAAI+B,CAAJ/B,EAAW0C,KAAS,KAAM/R,IAAIuQ,EAAIlH,KAAJkH,CAAU,MAAVA,CAAV,MACtBlB,EAAI+B,CAAJ/B,EAAWwB,EAAXxB,IAAiBrP,EAAE,CAAFA,EAAKiC,MAAtBoN,EACA+B,EAAM7J,IAAN6J,CAAW,IAAIU,CAAJ,CAAa,CAAb,EAAgB9P,IAAMhC,EAAE,CAAFA,EAAKiC,MAA3B,EAAmCD,CAAnC,CAAXoP,CAFsB,CALT,GAWG,SAAbY,CAAa,GAAQZ,EAAMyC,OAANzC,EAAR,GAA0BA,CAA9C;AAA8CA,SAxHhD;AAvBiB,SAAnB;;AAsJA,eAAS0C,EAAT,CAAkB5P,CAAlB,EAAwB8N,CAAxB,EAAwBA;AACtB,YAAIZ,IAAQlN,EAAKkN,KAAjB;AAEA,eADa,QAATA,CAAS,KAAQA,IAAQlN,EAAKkN,KAALlN,GAAasN,GAAatN,EAAK6P,IAAlBvC,EAAwBQ,CAAxBR,CAA7B,GACNJ,CAAP;AAQF;;AAAA,UAAI4C,KAAa,EAAjB;AAAA,UAEIC,KAAK,UAASC,CAAT,EAAkB5B,CAAlB,EAAwBzF,CAAxB,EAAwBA;AAC/B,YAAIqH,EAAQC,gBAAZ,EACED,EAAQC,gBAARD,CAAyB5B,CAAzB4B,EAA+BrH,CAA/BqH,EAA+BrH,CAAG,CAAlCqH,EADF,KAEO,IAAIA,EAAQE,WAAZ,EACLF,EAAQE,WAARF,CAAoB,OAAO5B,CAA3B4B,EAAiCrH,CAAjCqH,EADK,KAEA;AACL,cAAIhO,IAAMgO,EAAQG,SAARH,KAAsBA,EAAQG,SAARH,GAAoB,EAA1CA,CAAV;AACAhO,YAAIoM,CAAJpM,IAAIoM,CAASpM,EAAIoM,CAAJpM,KAAa8N,EAAtB1B,EAAkCvL,MAAlCuL,CAAyCzF,CAAzCyF,CAAJpM;AAA6C2G;AAAAA,OATjD;;AAaA,eAASyH,EAAT,CAAqBJ,CAArB,EAA8B5B,CAA9B,EAA8BA;AAC5B,eAAO4B,EAAQG,SAARH,IAAqBA,EAAQG,SAARH,CAAkB5B,CAAlB4B,CAArBA,IAAgDF,EAAvD;AAGF;;AAAA,eAASO,EAAT,CAAaL,CAAb,EAAsB5B,CAAtB,EAA4BzF,CAA5B,EAA4BA;AAC1B,YAAIqH,EAAQM,mBAAZ,EACEN,EAAQM,mBAARN,CAA4B5B,CAA5B4B,EAAkCrH,CAAlCqH,EAAkCrH,CAAG,CAArCqH,EADF,KAEO,IAAIA,EAAQO,WAAZ,EACLP,EAAQO,WAARP,CAAoB,OAAO5B,CAA3B4B,EAAiCrH,CAAjCqH,EADK,KAEA;AACL,cAAIhO,IAAMgO,EAAQG,SAAlB;AAAA,cAA6B/E,IAAMpJ,KAAOA,EAAIoM,CAAJpM,CAA1C;;AACA,cAAIoJ,CAAJ,EAAS;AACP,gBAAIpF,IAAQpI,EAAQwN,CAARxN,EAAa+K,CAAb/K,CAAZ;AACIoI,iBAAS,CAATA,KACAhE,EAAIoM,CAAJpM,IAAYoJ,EAAIrF,KAAJqF,CAAU,CAAVA,EAAapF,CAAboF,EAAoBvI,MAApBuI,CAA2BA,EAAIrF,KAAJqF,CAAUpF,IAAQ,CAAlBoF,CAA3BA,CADZpF;AACyD;AAAA;AAKnE;;AAAA,eAASwK,EAAT,CAAgBR,CAAhB,EAAyB5B,CAAzB,EAAyBA;AACvB,YAAIqC,IAAWL,GAAYJ,CAAZI,EAAqBhC,CAArBgC,CAAf;AACA,YAAKK,EAAS1S,MAAd,EAEA,KADA,IAAI6K,IAAOlJ,MAAMnC,SAANmC,CAAgBqG,KAAhBrG,CAAsB7D,IAAtB6D,CAA2BH,SAA3BG,EAAsC,CAAtCA,CAAX,EACShE,IAAI,CAAb,EAAgBA,IAAI+U,EAAS1S,MAA7B,EAA6BA,EAAUrC,CAAvC,EAA4C+U,EAAS/U,CAAT+U,EAAY5H,KAAZ4H,CAAkB,IAAlBA,EAAwB7H,CAAxB6H;AAM9C;;AAAA,eAASC,EAAT,CAAwBC,CAAxB,EAA4B9O,CAA5B,EAA+B+O,CAA/B,EAA+BA;AAI7B,eAHgB,mBAAL/O,CAAK,KACZA,IAAI;AAACuM,gBAAMvM,CAAP;AAAUgP,0BAAgB;AAAanQ,iBAAKoQ,gBAALpQ,GAAKoQ,CAAmB,CAAxBpQ;AAAwB;AAA/D,SADQ,GAEhB8P,GAAOG,CAAPH,EAAWI,KAAY/O,EAAEuM,IAAzBoC,EAA+BG,CAA/BH,EAAmC3O,CAAnC2O,CAFgB,EAGTO,GAAmBlP,CAAnBkP,KAAyBlP,EAAEmP,gBAAlC;AAGF;;AAAA,eAASC,EAAT,CAA8BN,CAA9B,EAA8BA;AAC5B,YAAIvF,IAAMuF,EAAGR,SAAHQ,IAAgBA,EAAGR,SAAHQ,CAAaO,cAAvC;AACA,YAAK9F,CAAL,EAEA,KADA,IAAInB,IAAM0G,EAAGQ,KAAHR,CAASS,sBAATT,KAAoCA,EAAGQ,KAAHR,CAASS,sBAATT,GAAkC,EAAtEA,CAAV,EACSjV,IAAI,CAAb,EAAgBA,IAAI0P,EAAIrN,MAAxB,EAAwBA,EAAUrC,CAAlC,EAAkCA,CAAkC,CAAlCA,IAASkC,EAAQqM,CAARrM,EAAawN,EAAI1P,CAAJ0P,CAAbxN,CAATlC,IAC9BuO,EAAI5G,IAAJ4G,CAASmB,EAAI1P,CAAJ0P,CAATnB,CAD8BvO;AAIpC;;AAAA,eAAS2V,EAAT,CAAoBrB,CAApB,EAA6B5B,CAA7B,EAA6BA;AAC3B,eAAOgC,GAAYJ,CAAZI,EAAqBhC,CAArBgC,EAA2BrS,MAA3BqS,GAAoC,CAA3C;AAKF;;AAAA,eAASkB,EAAT,CAAoBC,CAApB,EAAoBA;AAClBA,UAAKhU,SAALgU,CAAexB,EAAfwB,GAAoB,UAASnD,CAAT,EAAezF,CAAf,EAAeA;AAAIoH,aAAGrP,IAAHqP,EAAS3B,CAAT2B,EAAepH,CAAfoH;AAAepH,SAAtD4I,EACAA,EAAKhU,SAALgU,CAAelB,GAAfkB,GAAqB,UAASnD,CAAT,EAAezF,CAAf,EAAeA;AAAI0H,aAAI3P,IAAJ2P,EAAUjC,CAAViC,EAAgB1H,CAAhB0H;AAAgB1H,SADxD4I;AAOF;;AAAA,eAASC,EAAT,CAA0B3P,CAA1B,EAA0BA;AACpBA,UAAEgP,cAAFhP,GAAoBA,EAAEgP,cAAFhP,EAApBA,GACGA,EAAE4P,WAAF5P,GAAE4P,CAAc,CADnB5P;AAGN;;AAAA,eAAS6P,EAAT,CAA2B7P,CAA3B,EAA2BA;AACrBA,UAAE8P,eAAF9P,GAAqBA,EAAE8P,eAAF9P,EAArBA,GACGA,EAAE+P,YAAF/P,GAAE+P,CAAe,CADpB/P;AAGN;;AAAA,eAASkP,EAAT,CAA4BlP,CAA5B,EAA4BA;AAC1B,eAA6B,QAAtBA,EAAEiP,gBAAoB,GAAOjP,EAAEiP,gBAAT,GAA6C,KAAjBjP,EAAE4P,WAA3D;AAEF;;AAAA,eAASI,EAAT,CAAgBhQ,CAAhB,EAAgBA;AAAI2P,WAAiB3P,CAAjB2P,GAAqBE,GAAkB7P,CAAlB6P,CAArBF;AAEpB;;AAAA,eAASM,EAAT,CAAkBjQ,CAAlB,EAAkBA;AAAI,eAAOA,EAAER,MAAFQ,IAAYA,EAAEkQ,UAArB;AACtB;;AAAA,eAASC,EAAT,CAAkBnQ,CAAlB,EAAkBA;AAChB,YAAIgG,IAAIhG,EAAEoQ,KAAV;AAOA,eANS,QAALpK,CAAK,KACQ,IAAXhG,EAAEqQ,MAAS,GAAKrK,IAAI,CAAT,GACK,IAAXhG,EAAEqQ,MAAS,GAAKrK,IAAI,CAAT,GACA,IAAXhG,EAAEqQ,MAAS,KAAKrK,IAAI,CAAT,CAHb,GAKL9C,KAAOlD,EAAEsQ,OAATpN,IAAyB,KAAL8C,CAApB9C,KAA8B8C,IAAI,CAAlC9C,CALK,EAMF8C,CAAP;AAIF;;AAAA,UAQIuK,EARJ;AAAA,UAuBIC,EAvBJ;AAAA,UAAIC,KAAc;AAGhB,YAAItO,KAAMC,IAAa,CAAvB,EAA4B,QAAO,CAAP;AAC5B,YAAIsO,IAAM9L,EAAI,KAAJA,CAAV;AACA,eAAO,eAAe8L,CAAf,IAAsB,cAAcA,CAA3C;AALgB,SAAlB;;AASA,eAASC,EAAT,CAA0BC,CAA1B,EAA0BA;AACxB,YAAqB,QAAjBL,EAAJ,EAA2B;AACzB,cAAIhU,IAAOqI,EAAI,MAAJA,EAAY,GAAZA,CAAX;AACAH,YAAqBmM,CAArBnM,EAA8BG,EAAI,MAAJA,EAAY,CAACrI,CAAD,EAAO8F,SAAS4C,cAAT5C,CAAwB,GAAxBA,CAAP,CAAZuC,CAA9BH,GACuC,KAAnCmM,EAAQpM,UAARoM,CAAmBC,YAAgB,KACnCN,KAAgBhU,EAAKuU,WAALvU,IAAoB,CAApBA,IAAyBA,EAAKsU,YAALtU,GAAoB,CAA7CA,IAA6C,EAAO4F,KAAMC,IAAa,CAA1B,CAD1B,CADvCqC;AAIF;;AAAA,YAAIxG,IAAOsS,KAAgB3L,EAAI,MAAJA,EAAY,GAAZA,CAAhB2L,GACT3L,EAAI,MAAJA,EAAY,GAAZA,EAAsB,IAAtBA,EAA4B,uDAA5BA,CADF;AAGA,eADA3G,EAAKkH,YAALlH,CAAkB,SAAlBA,EAA6B,EAA7BA,GACOA,CAAP;AAKF;;AAAA,eAAS8S,EAAT,CAAyBH,CAAzB,EAAyBA;AACvB,YAAoB,QAAhBJ,EAAJ,EAA4B,OAAOA,EAAP;AAC5B,YAAIQ,IAAMvM,EAAqBmM,CAArBnM,EAA8BpC,SAAS4C,cAAT5C,CAAwB,KAAxBA,CAA9BoC,CAAV;AAAA,YACIwM,IAAKpN,EAAMmN,CAANnN,EAAW,CAAXA,EAAc,CAAdA,EAAiBqN,qBAAjBrN,EADT;AAAA,YAEIsN,IAAKtN,EAAMmN,CAANnN,EAAW,CAAXA,EAAc,CAAdA,EAAiBqN,qBAAjBrN,EAFT;AAIA,eADAO,EAAewM,CAAfxM,GAAewM,GACVK,CADUL,IACJK,EAAGG,IAAHH,IAAWA,EAAGI,KADVT,MAERJ,KAAgBW,EAAGE,KAAHF,GAAWF,EAAGI,KAAdF,GAAsB,CAF9BP,CACf;AAMF;;AAAA,UA8BM5Q,EA9BN;AAAA,UAAIsR,KAA+C,KAA9B,QAAQpL,KAAR,CAAc,IAAd,EAAoBhK,MAAU,GAAI,UAAUE,CAAV,EAAUA;AAE/D,aADA,IAAI2M,IAAM,CAAV,EAAawI,IAAS,EAAtB,EAA0BzX,IAAIsC,EAAOF,MACrC,EAAO6M,KAAOjP,CAAd,GAAiB;AACf,cAAI0X,IAAKpV,EAAOL,OAAPK,CAAe,IAAfA,EAAqB2M,CAArB3M,CAAT;AAA8B2M,WACnB,CADmBA,IAC1ByI,CAD0BzI,KACdyI,IAAKpV,EAAOF,MADE6M;AAE9B,cAAI5K,IAAO/B,EAAO8H,KAAP9H,CAAa2M,CAAb3M,EAA2C,QAAzBA,EAAOsO,MAAPtO,CAAcoV,IAAK,CAAnBpV,CAAyB,GAAOoV,IAAK,CAAZ,GAAgBA,CAA3DpV,CAAX;AAAA,cACIqV,IAAKtT,EAAKpC,OAALoC,CAAa,IAAbA,CADT;AACsB,WACX,CADW,IAClBsT,CADkB,IAEpBF,EAAO/P,IAAP+P,CAAYpT,EAAK+F,KAAL/F,CAAW,CAAXA,EAAcsT,CAAdtT,CAAZoT,GACAxI,KAAO0I,IAAK,CAHQ,KAKpBF,EAAO/P,IAAP+P,CAAYpT,CAAZoT,GACAxI,IAAMyI,IAAK,CANS;AASxB;;AAAA,eAAOD,CAAP;AAAOA,OAf0C,GAgB/C,UAAUnV,CAAV,EAAUA;AAAU,eAAOA,EAAO8J,KAAP9J,CAAa,UAAbA,CAAP;AAAoB,OAhB5C;AAAA,UAkBIsV,KAAejY,OAAOkY,YAAPlY,GAAsB,UAAUmY,CAAV,EAAUA;AACjD;AAAM,iBAAOA,EAAGlK,cAAHkK,IAAqBA,EAAGjK,YAA/B;AACN,SADA,CACA,OAAM3H,CAAN,EAAMA;AAAK,kBAAO,CAAP;AAAO;AAAA,OAFDvG,GAGf,UAAUmY,CAAV,EAAUA;AACZ,YAAI/N,CAAJ;;AACA;AAAKA,cAAQ+N,EAAGC,aAAHD,CAAiBE,SAAjBF,CAA2BzL,WAA3ByL,EAAR/N;AACL,SADA,CACA,OAAM7D,CAAN,EAAMA,CACN;;AAAA,kBAAK6D,CAAL,IAAcA,EAAMkO,aAANlO,MAAyB+N,CAAvC,KACsD,KAA/C/N,EAAMmO,gBAANnO,CAAuB,YAAvBA,EAAqCA,CAArCA,CADP;AAC4CA,OA1B9C;AAAA,UA6BIoO,KAEE,aADAjS,KAAI4E,EAAI,KAAJA,CACJ,MACJ5E,GAAEmF,YAAFnF,CAAe,QAAfA,EAAyB,SAAzBA,GAC0B,qBAAZA,GAAEkS,MAFZ,CA/BN;AAAA,UAoCIC,KAAiB,IApCrB;AAAA,UA8CIC,KAAQ,EA9CZ;AAAA,UA8CgBC,KAAY,EA9C5B;;AAmDA,eAASC,EAAT,CAAoBlY,CAApB,EAA0BY,CAA1B,EAA0BA;AACpB0C,kBAAUxB,MAAVwB,GAAmB,CAAnBA,KACA1C,EAAKuX,YAALvX,GAAoB6C,MAAMnC,SAANmC,CAAgBqG,KAAhBrG,CAAsB7D,IAAtB6D,CAA2BH,SAA3BG,EAAsC,CAAtCA,CADpBH,GAEJ0U,GAAMhY,CAANgY,IAAcpX,CAFV0C;AAWN;;AAAA,eAAS8U,EAAT,CAAqBC,CAArB,EAAqBA;AACnB,YAAmB,mBAARA,CAAQ,IAAYJ,GAAU1W,cAAV0W,CAAyBI,CAAzBJ,CAA/B,EACEI,IAAOJ,GAAUI,CAAVJ,CAAPI,CADF,KAEO,IAAIA,KAA4B,mBAAbA,EAAKrY,IAApBqY,IAAwCJ,GAAU1W,cAAV0W,CAAyBI,EAAKrY,IAA9BiY,CAA5C,EAAiF;AACtF,cAAI9G,IAAQ8G,GAAUI,EAAKrY,IAAfiY,CAAZ;AACoB,6BAAT9G,CAAS,KAAYA,IAAQ;AAACnR,kBAAMmR;AAAP,WAApB,GAA2BA,CAC/CkH,IAAO/I,EAAU6B,CAAV7B,EAAiB+I,CAAjB/I,CADwC6B,EAE1CnR,IAF0CmR,GAEnCA,EAAMnR,IAFE;AAEFA,SAJb,MAKA;AAAA,cAAmB,mBAARqY,CAAQ,IAAY,0BAA0BlW,IAA1B,CAA+BkW,CAA/B,CAA/B,EACL,OAAOD,GAAY,iBAAZA,CAAP;AACK,cAAmB,mBAARC,CAAQ,IAAY,2BAA2BlW,IAA3B,CAAgCkW,CAAhC,CAA/B,EACL,OAAOD,GAAY,kBAAZA,CAAP;AAEF;AAAA,eAAmB,mBAARC,CAAQ,GAAmB;AAACrY,gBAAMqY;AAAP,SAAnB,GACLA,KAAQ;AAACrY,gBAAM;AAAP,SADtB;AAMF;;AAAA,eAASsY,EAAT,CAAiBC,CAAjB,EAA0BF,CAA1B,EAA0BA;AACxBA,YAAOD,GAAYC,CAAZD,CAAPC;AACA,YAAIG,IAAWR,GAAMK,EAAKrY,IAAXgY,CAAf;AACA,aAAKQ,CAAL,EAAiB,OAAOF,GAAQC,CAARD,EAAiB,YAAjBA,CAAP;AACjB,YAAIG,IAAUD,EAASD,CAATC,EAAkBH,CAAlBG,CAAd;;AACA,YAAIE,GAAenX,cAAfmX,CAA8BL,EAAKrY,IAAnC0Y,CAAJ,EAA8C;AAC5C,cAAIC,IAAOD,GAAeL,EAAKrY,IAApB0Y,CAAX;;AACA,eAAK,IAAI3L,CAAT,IAAiB4L,CAAjB,EACOA,EAAKpX,cAALoX,CAAoB5L,CAApB4L,MACDF,EAAQlX,cAARkX,CAAuB1L,CAAvB0L,MAAgCA,EAAQ,MAAM1L,CAAd0L,IAAsBA,EAAQ1L,CAAR0L,CAAtDA,GACJA,EAAQ1L,CAAR0L,IAAgBE,EAAK5L,CAAL4L,CAFXA;AAOT;;AAAA,YAFAF,EAAQzY,IAARyY,GAAeJ,EAAKrY,IAApByY,EACIJ,EAAKO,UAALP,KAAmBI,EAAQG,UAARH,GAAqBJ,EAAKO,UAA7CP,CADJI,EAEIJ,EAAKQ,SAAT,EAAsB,KAAK,IAAIC,CAAT,IAAmBT,EAAKQ,SAAxB,EAClBJ,EAAQK,CAARL,IAAkBJ,EAAKQ,SAALR,CAAeS,CAAfT,CAAlBI;AAEJ,eAAOA,CAAP;AAKF;;AAAA,UAAIC,KAAiB,EAArB;;AACA,eAASK,EAAT,CAAoBnY,CAApB,EAA0BoY,CAA1B,EAA0BA;AAExBnM,UAAQmM,CAARnM,EADW6L,GAAenX,cAAfmX,CAA8B9X,CAA9B8X,IAAsCA,GAAe9X,CAAf8X,CAAtCA,GAA8DA,GAAe9X,CAAf8X,IAAuB,EAChG7L;AAGF;;AAAA,eAASoM,EAAT,CAAmBrY,CAAnB,EAAyBsY,CAAzB,EAAyBA;AACvB,aAAc,CAAd,KAAIA,CAAJ,EAAsB,OAAOA,CAAP;AACtB,YAAItY,EAAKqY,SAAT,EAAsB,OAAOrY,EAAKqY,SAALrY,CAAesY,CAAftY,CAAP;AACtB,YAAIuY,IAAS,EAAb;;AACA,aAAK,IAAIjY,CAAT,IAAcgY,CAAd,EAAqB;AACnB,cAAIE,IAAMF,EAAMhY,CAANgY,CAAV;AACIE,uBAAe3V,KAAf2V,KAAwBA,IAAMA,EAAIxS,MAAJwS,CAAW,EAAXA,CAA9BA,GACJD,EAAOjY,CAAPiY,IAAYC,CADRA;AAGN;;AAAA,eAAOD,CAAP;AAKF;;AAAA,eAASE,EAAT,CAAmBzY,CAAnB,EAAyBsY,CAAzB,EAAyBA;AAEvB,aADA,IAAII,CACJ,EAAO1Y,EAAKyY,SAALzY,KACL0Y,IAAO1Y,EAAKyY,SAALzY,CAAesY,CAAftY,CADFA,KAEQ0Y,EAAK1Y,IAAL0Y,IAAa1Y,CAF5B,GAGEsY,IAAQI,EAAKJ,KAAbA,EACAtY,IAAO0Y,EAAK1Y,IADZsY;;AAGF,eAAOI,KAAQ;AAAC1Y,gBAAMA,CAAP;AAAasY,iBAAOA;AAApB,SAAf;AAGF;;AAAA,eAASK,EAAT,CAAoB3Y,CAApB,EAA0B4Y,CAA1B,EAA8BC,CAA9B,EAA8BA;AAC5B,gBAAO7Y,EAAK2Y,UAAZ,IAAyB3Y,EAAK2Y,UAAL3Y,CAAgB4Y,CAAhB5Y,EAAoB6Y,CAApB7Y,CAAzB;AAQF;;AAAA,UAAI8Y,KAAe,UAAS1X,CAAT,EAAiBiL,CAAjB,EAA0B0M,CAA1B,EAA0BA;AAC3ClV,aAAKkK,GAALlK,GAAWA,KAAKL,KAALK,GAAa,CAAxBA,EACAA,KAAKzC,MAALyC,GAAczC,CADdyC,EAEAA,KAAKwI,OAALxI,GAAewI,KAAW,CAF1BxI,EAGAA,KAAKmV,aAALnV,GAAqBA,KAAKoV,eAALpV,GAAuB,CAH5CA,EAIAA,KAAKqV,SAALrV,GAAiB,CAJjBA,EAKAA,KAAKkV,UAALlV,GAAkBkV,CALlBlV;AAKkBkV,OANpB;;AAiFA,eAASI,EAAT,CAAiBC,CAAjB,EAAsB9Y,CAAtB,EAAsBA;AAEpB,aADAA,KAAK8Y,EAAIC,KACT,IAAQ,CAAR,IAAa/Y,KAAK8Y,EAAIE,IAAtB,EAA8B,MAAM,IAAI3V,KAAJ,CAAU,uBAAuBrD,IAAI8Y,EAAIC,KAA/B,IAAwC,mBAAlD,CAAN;;AAE9B,aADA,IAAIE,IAAQH,CACZ,EADYA,CACJG,EAAMC,KAAd,GACE,KAAK,IAAI3a,IAAI,CAAb,GAAa,EAAMA,CAAnB,EAAsB;AACpB,cAAIwL,IAAQkP,EAAME,QAANF,CAAe1a,CAAf0a,CAAZ;AAAA,cAA+BG,IAAKrP,EAAMsP,SAANtP,EAApC;;AACA,cAAI/J,IAAIoZ,CAAR,EAAY;AAAEH,gBAAQlP,CAARkP;AAAe;AAC7BjZ;;AAAAA,eAAKoZ,CAALpZ;AAGJ;;AAAA,eAAOiZ,EAAMC,KAAND,CAAYjZ,CAAZiZ,CAAP;AAKF;;AAAA,eAASK,EAAT,CAAoBR,CAApB,EAAyB5V,CAAzB,EAAgCC,CAAhC,EAAgCA;AAC9B,YAAI+K,IAAM,EAAV;AAAA,YAAclO,IAAIkD,EAAML,IAAxB;AAQA,eAPAiW,EAAIS,IAAJT,CAAS5V,EAAML,IAAfiW,EAAqB3V,EAAIN,IAAJM,GAAW,CAAhC2V,EAAmC,UAAUjW,CAAV,EAAUA;AAC3C,cAAI6P,IAAO7P,EAAK6P,IAAhB;AACI1S,eAAKmD,EAAIN,IAAT7C,KAAiB0S,IAAOA,EAAK9J,KAAL8J,CAAW,CAAXA,EAAcvP,EAAIsL,EAAlBiE,CAAxB1S,GACAA,KAAKkD,EAAML,IAAX7C,KAAmB0S,IAAOA,EAAK9J,KAAL8J,CAAWxP,EAAMuL,EAAjBiE,CAA1B1S,CADAA,EAEJkO,EAAIhI,IAAJgI,CAASwE,CAATxE,CAFIlO,EAEK0S,EACP1S,CAHEA;AAGFA,SALJ8Y,GAOO5K,CAAP;AAGF;;AAAA,eAASsL,EAAT,CAAkBV,CAAlB,EAAuBvJ,CAAvB,EAA6BC,CAA7B,EAA6BA;AAC3B,YAAItB,IAAM,EAAV;AAEA,eADA4K,EAAIS,IAAJT,CAASvJ,CAATuJ,EAAetJ,CAAfsJ,EAAmB,UAAUjW,CAAV,EAAUA;AAAQqL,YAAIhI,IAAJgI,CAASrL,EAAK6P,IAAdxE;AAAcwE,SAAnDoG,GACO5K,CAAP;AAKF;;AAAA,eAASuL,EAAT,CAA0B5W,CAA1B,EAAgC6W,CAAhC,EAAgCA;AAC9B,YAAIC,IAAOD,IAAS7W,EAAK6W,MAAzB;AACA,YAAIC,CAAJ,EAAY,KAAK,IAAI3Z,IAAI6C,CAAb,EAAmB7C,CAAnB,EAAsBA,IAAIA,EAAEoJ,MAA5B,EAAsCpJ,EAAE0Z,MAAF1Z,IAAY2Z,CAAZ3Z;AAKpD;;AAAA,eAAS4Z,EAAT,CAAgB/W,CAAhB,EAAgBA;AACd,YAAmB,QAAfA,EAAKuG,MAAT,EAA2B,OAAO,IAAP;;AAE3B,aADA,IAAI8G,IAAMrN,EAAKuG,MAAf,EAAuByQ,IAAKpZ,EAAQyP,EAAIgJ,KAAZzY,EAAmBoC,CAAnBpC,CAA5B,EACSwY,IAAQ/I,EAAI9G,MAArB,EAA6B6P,CAA7B,EAAoC/I,IAAM+I,CAAN/I,EAAa+I,IAAQA,EAAM7P,MAA/D,EACE,KAAK,IAAI7K,IAAI,CAAb,EACM0a,EAAME,QAANF,CAAe1a,CAAf0a,KAAqB/I,CAD3B,EAC2BA,EADR3R,CAAnB,EAEEsb,KAAMZ,EAAME,QAANF,CAAe1a,CAAf0a,EAAkBI,SAAlBJ,EAANY;;AAGJ,eAAOA,IAAK3J,EAAI6I,KAAhB;AAKF;;AAAA,eAASe,EAAT,CAAsBb,CAAtB,EAA6Bc,CAA7B,EAA6BA;AAC3B,YAAI/Z,IAAIiZ,EAAMF,KAAd;;AACAiB,WAAO,GAAG;AACR,eAAK,IAAIjJ,IAAM,CAAf,EAAkBA,IAAMkI,EAAME,QAANF,CAAerY,MAAvC,EAAuCA,EAAUmQ,CAAjD,EAAsD;AACpD,gBAAIhH,IAAQkP,EAAME,QAANF,CAAelI,CAAfkI,CAAZ;AAAA,gBAAiCxK,IAAK1E,EAAM2P,MAA5C;;AACA,gBAAIK,IAAItL,CAAR,EAAY;AAAEwK,kBAAQlP,CAARkP;AAAe,uBAASe,CAAT;AAC7BD;;AAAAA,iBAAKtL,CAALsL,EACA/Z,KAAK+J,EAAMsP,SAANtP,EADLgQ;AAGF;;AAAA,iBAAO/Z,CAAP;AAAOA,SAPF,QAOEA,CACCiZ,EAAMC,KART;;AAUP,aADA,IAAI3a,IAAI,CACR,EAAOA,IAAI0a,EAAMC,KAAND,CAAYrY,MAAvB,EAAuBA,EAAUrC,CAAjC,EAAoC;AAClC,cAA2B0b,IAAhBhB,EAAMC,KAAND,CAAY1a,CAAZ0a,EAA0BS,MAArC;AACA,cAAIK,IAAIE,CAAR,EAAc;AACdF,eAAKE,CAALF;AAEF;;AAAA,eAAO/Z,IAAIzB,CAAX;AAGF;;AAAA,eAAS2b,EAAT,CAAgBpB,CAAhB,EAAqBta,CAArB,EAAqBA;AAAI,eAAOA,KAAKsa,EAAIC,KAATva,IAAkBA,IAAIsa,EAAIC,KAAJD,GAAYA,EAAIE,IAA7C;AAEzB;;AAAA,eAASmB,EAAT,CAAuB9C,CAAvB,EAAgC9Y,CAAhC,EAAgCA;AAC9B,eAAO6b,OAAO/C,EAAQgD,mBAARhD,CAA4B9Y,IAAI8Y,EAAQiD,eAAxCjD,CAAP+C,CAAP;AAIF;;AAAA,eAASG,EAAT,CAAa1X,CAAb,EAAmB4L,CAAnB,EAAuBuB,CAAvB,EAAuBA;AAGrB,iBAFgB,CAEhB,KAFKA,CAEL,KAFyBA,IAAS,IAElC,GAFkC,EAE5BzM,gBAAgBgX,EAFY,CAElC,EAA8B,OAAO,IAAIA,EAAJ,CAAQ1X,CAAR,EAAc4L,CAAd,EAAkBuB,CAAlB,CAAP;AAC9BzM,aAAKV,IAALU,GAAYV,CAAZU,EACAA,KAAKkL,EAALlL,GAAUkL,CADVlL,EAEAA,KAAKyM,MAALzM,GAAcyM,CAFdzM;AAOF;;AAAA,eAASiX,EAAT,CAAa/P,CAAb,EAAgBC,CAAhB,EAAgBA;AAAK,eAAOD,EAAE5H,IAAF4H,GAASC,EAAE7H,IAAX4H,IAAmBA,EAAEgE,EAAFhE,GAAOC,EAAE+D,EAAnC;AAErB;;AAAA,eAASgM,EAAT,CAAwBhQ,CAAxB,EAA2BC,CAA3B,EAA2BA;AAAK,eAAOD,EAAEuF,MAAFvF,IAAYC,EAAEsF,MAAdvF,IAAqC,KAAb+P,GAAI/P,CAAJ+P,EAAO9P,CAAP8P,CAA/B;AAEhC;;AAAA,eAASE,EAAT,CAAiBC,CAAjB,EAAiBA;AAAI,eAAOJ,GAAII,EAAE9X,IAAN0X,EAAYI,EAAElM,EAAd8L,CAAP;AACrB;;AAAA,eAASK,EAAT,CAAgBnQ,CAAhB,EAAmBC,CAAnB,EAAmBA;AAAK,eAAO8P,GAAI/P,CAAJ+P,EAAO9P,CAAP8P,IAAY,CAAZA,GAAgB9P,CAAhB8P,GAAoB/P,CAA3B;AACxB;;AAAA,eAASoQ,EAAT,CAAgBpQ,CAAhB,EAAmBC,CAAnB,EAAmBA;AAAK,eAAO8P,GAAI/P,CAAJ+P,EAAO9P,CAAP8P,IAAY,CAAZA,GAAgB/P,CAAhB+P,GAAoB9P,CAA3B;AAIxB;;AAAA,eAASoQ,EAAT,CAAkBhC,CAAlB,EAAuB9Y,CAAvB,EAAuBA;AAAI,eAAO4N,KAAKmN,GAALnN,CAASkL,EAAIC,KAAbnL,EAAoBA,KAAKC,GAALD,CAAS5N,CAAT4N,EAAYkL,EAAIC,KAAJD,GAAYA,EAAIE,IAAhBF,GAAuB,CAAnClL,CAApBA,CAAP;AAC3B;;AAAA,eAASoN,EAAT,CAAiBlC,CAAjB,EAAsBrL,CAAtB,EAAsBA;AACpB,YAAIA,EAAI5K,IAAJ4K,GAAWqL,EAAIC,KAAnB,EAA4B,OAAOwB,GAAIzB,EAAIC,KAARwB,EAAe,CAAfA,CAAP;AAC5B,YAAIU,IAAOnC,EAAIC,KAAJD,GAAYA,EAAIE,IAAhBF,GAAuB,CAAlC;AACA,eAAIrL,EAAI5K,IAAJ4K,GAAWwN,CAAXxN,GAA0B8M,GAAIU,CAAJV,EAAU1B,GAAQC,CAARD,EAAaoC,CAAbpC,EAAmBnG,IAAnBmG,CAAwBjY,MAAlC2Z,CAA1B9M,GAGN,UAAmBA,CAAnB,EAAwByN,CAAxB,EAAwBA;AACtB,cAAIzM,IAAKhB,EAAIgB,EAAb;AACA,iBAAU,QAANA,CAAM,IAAQA,IAAKyM,CAAb,GAA+BX,GAAI9M,EAAI5K,IAAR0X,EAAcW,CAAdX,CAA/B,GACD9L,IAAK,CAALA,GAAiB8L,GAAI9M,EAAI5K,IAAR0X,EAAc,CAAdA,CAAjB9L,GACKhB,CAFd;AAJO0N,SAET,CAFmB1N,CAEnB,EAFwBoL,GAAQC,CAARD,EAAapL,EAAI5K,IAAjBgW,EAAuBnG,IAAvBmG,CAA4BjY,MAEpD,CAHE;AASF;;AAAA,eAASwa,EAAT,CAAsBtC,CAAtB,EAA2BpY,CAA3B,EAA2BA;AAEzB,aADA,IAAIwN,IAAM,EAAV,EACS3P,IAAI,CAAb,EAAgBA,IAAImC,EAAME,MAA1B,EAAkCrC,GAAlC,EAAyC2P,EAAI3P,CAAJ2P,IAAS8M,GAAQlC,CAARkC,EAAata,EAAMnC,CAANmC,CAAbsa,CAAT9M;;AACzC,eAAOA,CAAP;AAjMFsK;;AAAAA,SAAapY,SAAboY,CAAuB6C,GAAvB7C,GAA6B;AAAa,eAAOjV,KAAKkK,GAALlK,IAAYA,KAAKzC,MAALyC,CAAY3C,MAA/B;AAA+BA,OAAzE4X,EACAA,GAAapY,SAAboY,CAAuB8C,GAAvB9C,GAA6B;AAAa,eAAOjV,KAAKkK,GAALlK,IAAYA,KAAKqV,SAAxB;AAAwBA,OADlEJ,EAEAA,GAAapY,SAAboY,CAAuB+C,IAAvB/C,GAA8B;AAAa,eAAOjV,KAAKzC,MAALyC,CAAY6L,MAAZ7L,CAAmBA,KAAKkK,GAAxBlK,KAAwBkK,KAAQ3K,CAAvC;AAAuCA,OAFlF0V,EAGAA,GAAapY,SAAboY,CAAuBgD,IAAvBhD,GAA8B;AAC5B,YAAIjV,KAAKkK,GAALlK,GAAWA,KAAKzC,MAALyC,CAAY3C,MAA3B,EACI,OAAO2C,KAAKzC,MAALyC,CAAY6L,MAAZ7L,CAAmBA,KAAKkK,GAALlK,EAAnBA,CAAP;AAA+BkK,OALrC+K,EAOAA,GAAapY,SAAboY,CAAuBiD,GAAvBjD,GAA6B,UAAUxQ,CAAV,EAAUA;AACrC,YAAIyG,IAAKlL,KAAKzC,MAALyC,CAAY6L,MAAZ7L,CAAmBA,KAAKkK,GAAxBlK,CAAT;AAIA,YAFoB,mBAATyE,CAAS,GAAiByG,KAAMzG,CAAvB,GACRyG,MAAOzG,EAAM/G,IAAN+G,GAAaA,EAAM/G,IAAN+G,CAAWyG,CAAXzG,CAAbA,GAA8BA,EAAMyG,CAANzG,CAArCyG,CACZ,EAAqB,SAAVlL,KAAKkK,GAAK,EAAOgB,CAAP;AAAOA,OAZ9B+J,EAcAA,GAAapY,SAAboY,CAAuBkD,QAAvBlD,GAAkC,UAAUxQ,CAAV,EAAUA;AAE1C,aADA,IAAI9E,IAAQK,KAAKkK,GACjB,EAAOlK,KAAKkY,GAALlY,CAASyE,CAATzE,CAAP,EAAgByE;;AAChB,eAAOzE,KAAKkK,GAALlK,GAAWL,CAAlB;AAAkBA,OAjBpBsV,EAmBAA,GAAapY,SAAboY,CAAuBmD,QAAvBnD,GAAkC;AAEhC,aADA,IAAItV,IAAQK,KAAKkK,GACjB,EAAO,aAAaxM,IAAb,CAAkBsC,KAAKzC,MAALyC,CAAY6L,MAAZ7L,CAAmBA,KAAKkK,GAAxBlK,CAAlB,CAAP,GAAiDkK,EAAWlK,KAAKkK,GAAhBA;;AACjD,eAAOlK,KAAKkK,GAALlK,GAAWL,CAAlB;AAAkBA,OAtBpBsV,EAwBAA,GAAapY,SAAboY,CAAuBoD,SAAvBpD,GAAmC;AAAajV,aAAKkK,GAALlK,GAAWA,KAAKzC,MAALyC,CAAY3C,MAAvB2C;AAAuB3C,OAxBvE4X,EAyBAA,GAAapY,SAAboY,CAAuBqD,MAAvBrD,GAAgC,UAAU/J,CAAV,EAAUA;AACxC,YAAIwB,IAAQ1M,KAAKzC,MAALyC,CAAY9C,OAAZ8C,CAAoBkL,CAApBlL,EAAwBA,KAAKkK,GAA7BlK,CAAZ;AACA,YAAI0M,KAAS,CAAb,EAAmC,OAAlB1M,KAAKkK,GAALlK,GAAW0M,CAAX1M,EAAW0M,CAAc,CAAP;AAAO,OA3B5CuI,EA6BAA,GAAapY,SAAboY,CAAuBsD,MAAvBtD,GAAgC,UAAUxY,CAAV,EAAUA;AAAIuD,aAAKkK,GAALlK,IAAYvD,CAAZuD;AAAYvD,OA7B1DwY,EA8BAA,GAAapY,SAAboY,CAAuBxV,MAAvBwV,GAAgC;AAK9B,eAJIjV,KAAKmV,aAALnV,GAAqBA,KAAKL,KAA1BK,KACFA,KAAKoV,eAALpV,GAAuBuI,EAAYvI,KAAKzC,MAAjBgL,EAAyBvI,KAAKL,KAA9B4I,EAAqCvI,KAAKwI,OAA1CD,EAAmDvI,KAAKmV,aAAxD5M,EAAuEvI,KAAKoV,eAA5E7M,CAAvBvI,EACAA,KAAKmV,aAALnV,GAAqBA,KAAKL,KAFxBK,GAIGA,KAAKoV,eAALpV,IAAwBA,KAAKqV,SAALrV,GAAiBuI,EAAYvI,KAAKzC,MAAjBgL,EAAyBvI,KAAKqV,SAA9B9M,EAAyCvI,KAAKwI,OAA9CD,CAAjBvI,GAA0E,CAAlGA,CAAP;AAAyG,OAnC3GiV,EAqCAA,GAAapY,SAAboY,CAAuBuD,WAAvBvD,GAAqC;AACnC,eAAO1M,EAAYvI,KAAKzC,MAAjBgL,EAAyB,IAAzBA,EAA+BvI,KAAKwI,OAApCD,KACJvI,KAAKqV,SAALrV,GAAiBuI,EAAYvI,KAAKzC,MAAjBgL,EAAyBvI,KAAKqV,SAA9B9M,EAAyCvI,KAAKwI,OAA9CD,CAAjBvI,GAA0E,CADtEuI,CAAP;AAC6E,OAvC/E0M,EAyCAA,GAAapY,SAAboY,CAAuBxQ,KAAvBwQ,GAA+B,UAAUwD,CAAV,EAAmBC,CAAnB,EAA4BC,CAA5B,EAA4BA;AACzD,YAAsB,mBAAXF,CAAX,EAOO;AACL,cAAIhU,IAAQzE,KAAKzC,MAALyC,CAAYqF,KAAZrF,CAAkBA,KAAKkK,GAAvBlK,EAA4ByE,KAA5BzE,CAAkCyY,CAAlCzY,CAAZ;AACA,iBAAIyE,KAASA,EAAMa,KAANb,GAAc,CAAvBA,GAAmC,IAAnCA,IACAA,MAAqB,CAArBA,KAASiU,CAATjU,KAA8BzE,KAAKkK,GAALlK,IAAYyE,EAAM,CAANA,EAASpH,MAAnDoH,GACGA,CAFHA,CAAJ;AARA;;AAAA,YAAImU,IAAQ,UAAUjN,CAAV,EAAUA;AAAO,iBAAOgN,IAAkBhN,EAAIP,WAAJO,EAAlBgN,GAAsChN,CAA7C;AAA6CA,SAA1E;;AAEA,YAAIiN,EADS5Y,KAAKzC,MAALyC,CAAY6Y,MAAZ7Y,CAAmBA,KAAKkK,GAAxBlK,EAA6ByY,EAAQpb,MAArC2C,CACT4Y,KAAiBA,EAAMH,CAANG,CAArB,EAEE,QADgB,CAChB,KADIF,CACJ,KADyB1Y,KAAKkK,GAALlK,IAAYyY,EAAQpb,MAC7C,GAD6CA,CACtC,CAAP;AAAO,OA/Cb4X,EAwDAA,GAAapY,SAAboY,CAAuB/P,OAAvB+P,GAAiC;AAAY,eAAOjV,KAAKzC,MAALyC,CAAYqF,KAAZrF,CAAkBA,KAAKL,KAAvBK,EAA8BA,KAAKkK,GAAnClK,CAAP;AAA0CkK,OAxDvF+K,EAyDAA,GAAapY,SAAboY,CAAuB6D,cAAvB7D,GAAwC,UAAUxY,CAAV,EAAasc,CAAb,EAAaA;AACnD/Y,aAAKqV,SAALrV,IAAkBvD,CAAlBuD;;AACA;AAAM,iBAAO+Y,GAAP;AACN,SADA,SACA;AAAU/Y,eAAKqV,SAALrV,IAAkBvD,CAAlBuD;AAAkBvD;AAAAA,OA5D9BwY,EA8DAA,GAAapY,SAAboY,CAAuB+D,SAAvB/D,GAAmC,UAAUxY,CAAV,EAAUA;AAC3C,YAAIwc,IAASjZ,KAAKkV,UAAlB;AACA,eAAO+D,KAAUA,EAAOD,SAAPC,CAAiBxc,CAAjBwc,CAAjB;AAAkCxc,OAhEpCwY,EAkEAA,GAAapY,SAAboY,CAAuBiE,SAAvBjE,GAAmC;AACjC,YAAIgE,IAASjZ,KAAKkV,UAAlB;AACA,eAAO+D,KAAUA,EAAOC,SAAPD,CAAiBjZ,KAAKkK,GAAtB+O,CAAjB;AAAuC/O,OApEzC+K;;AAoMA,UAAIkE,KAAe,UAAS1E,CAAT,EAAgBuE,CAAhB,EAAgBA;AACjChZ,aAAKyU,KAALzU,GAAayU,CAAbzU,EACAA,KAAKgZ,SAALhZ,GAAiBgZ,CADjBhZ;AACiBgZ,OAFnB;AAAA,UAKII,KAAU,UAAS7D,CAAT,EAAcd,CAAd,EAAqBnV,CAArB,EAA2B0Z,CAA3B,EAA2BA;AACvChZ,aAAKyU,KAALzU,GAAayU,CAAbzU,EACAA,KAAKuV,GAALvV,GAAWuV,CADXvV,EAEAA,KAAKV,IAALU,GAAYV,CAFZU,EAGAA,KAAKqZ,YAALrZ,GAAoBgZ,KAAa,CAHjChZ,EAIAA,KAAKsZ,UAALtZ,GAAkB,IAJlBA,EAKAA,KAAKuZ,YAALvZ,GAAoB,CALpBA;AAKoB,OAXtB;;AAmDA,eAASwZ,EAAT,CAAuBvJ,CAAvB,EAA2B3Q,CAA3B,EAAiCma,CAAjC,EAA0CC,CAA1C,EAA0CA;AAGxC,YAAIC,IAAK,CAAC1J,EAAGwE,KAAHxE,CAAS2J,OAAV,CAAT;AAAA,YAA6BC,IAAc,EAA3C;AAEAC,WAAQ7J,CAAR6J,EAAYxa,EAAK6P,IAAjB2K,EAAuB7J,EAAGsF,GAAHtF,CAAO9T,IAA9B2d,EAAoCL,CAApCK,EAA6C,UAAUla,CAAV,EAAeqG,CAAf,EAAeA;AAAS,iBAAO0T,EAAGhX,IAAHgX,CAAQ/Z,CAAR+Z,EAAa1T,CAAb0T,CAAP;AAAoB1T,SAAzF6T,EACQD,CADRC,EACqBJ,CADrBI;;AAmCA,aAjCA,IAAIrF,IAAQgF,EAAQhF,KAApB,EAGIsF,IAAO,UAAWte,CAAX,EAAWA;AACpBge,YAAQH,UAARG,GAAqBE,CAArBF;AACA,cAAIO,IAAU/J,EAAGwE,KAAHxE,CAASgK,QAAThK,CAAkBxU,CAAlBwU,CAAd;AAAA,cAAoCjV,IAAI,CAAxC;AAAA,cAA2C4T,IAAK,CAAhD;AACA6K,YAAQhF,KAARgF,GAAQhF,CAAQ,CAAhBgF,EACAK,GAAQ7J,CAAR6J,EAAYxa,EAAK6P,IAAjB2K,EAAuBE,EAAQ7d,IAA/B2d,EAAqCL,CAArCK,EAA8C,UAAUla,CAAV,EAAeqG,CAAf,EAAeA;AAG3D,iBAFA,IAAItG,IAAQ3E,CAEZ,EAAO4T,IAAKhP,CAAZ,GAAiB;AACf,kBAAIsa,IAAQP,EAAG3e,CAAH2e,CAAZ;AACIO,kBAAQta,CAARsa,IACAP,EAAG7K,MAAH6K,CAAU3e,CAAV2e,EAAa,CAAbA,EAAgB/Z,CAAhB+Z,EAAqBA,EAAG3e,IAAE,CAAL2e,CAArBA,EAA8BO,CAA9BP,CADAO,EAEJlf,KAAK,CAFDkf,EAGJtL,IAAKvE,KAAKC,GAALD,CAASzK,CAATyK,EAAc6P,CAAd7P,CAHD6P;AAKN;;AAAA,gBAAKjU,CAAL,EACA,IAAI+T,EAAQG,MAAZ,EACER,EAAG7K,MAAH6K,CAAUha,CAAVga,EAAiB3e,IAAI2E,CAArBga,EAA4B/Z,CAA5B+Z,EAAiC,aAAa1T,CAA9C0T,GACA3e,IAAI2E,IAAQ,CADZga,CADF,KAIE,OAAOha,IAAQ3E,CAAf,EAAkB2E,KAAS,CAA3B,EAA8B;AAC5B,kBAAIgN,IAAMgN,EAAGha,IAAM,CAATga,CAAV;AACAA,gBAAGha,IAAM,CAATga,IAAS,CAAMhN,IAAMA,IAAM,GAAZA,GAAkB,EAAxB,IAA8B,UAA9B,GAA2C1G,CAApD0T;AAAoD1T;AAAAA,WAjB1D6T,EAoBGD,CApBHC,CADAL,EAsBAA,EAAQhF,KAARgF,GAAgBhF,CAtBhBgF,EAuBAA,EAAQH,UAARG,GAAqB,IAvBrBA,EAwBAA,EAAQF,YAARE,GAAuB,CAxBvBA;AAwBuB,SA9BzB,EAiCShe,IAAI,CAAb,EAAgBA,IAAIwU,EAAGwE,KAAHxE,CAASgK,QAAThK,CAAkB5S,MAAtC,EAAsCA,EAAU5B,CAAhD,EAAmDse,EAAMte,CAANse;;AAEnD,eAAO;AAACK,kBAAQT,CAAT;AAAaU,mBAASR,EAAYS,OAAZT,IAAuBA,EAAYU,SAAnCV,GAA+CA,CAA/CA,GAA6D;AAAnF,SAAP;AAGF;;AAAA,eAASW,EAAT,CAAuBvK,CAAvB,EAA2B3Q,CAA3B,EAAiCmb,CAAjC,EAAiCA;AAC/B,aAAKnb,EAAK8a,MAAV,IAAoB9a,EAAK8a,MAAL9a,CAAY,CAAZA,KAAkB2Q,EAAGwE,KAAHxE,CAAS2J,OAA/C,EAAwD;AACtD,cAAIH,IAAUiB,GAAiBzK,CAAjByK,EAAqBrE,GAAO/W,CAAP+W,CAArBqE,CAAd;AAAA,cACIC,IAAarb,EAAK6P,IAAL7P,CAAUjC,MAAViC,GAAmB2Q,EAAG6D,OAAH7D,CAAW2K,kBAA9Btb,IAAoDkV,GAAUvE,EAAGsF,GAAHtF,CAAO9T,IAAjBqY,EAAuBiF,EAAQhF,KAA/BD,CADrE;AAAA,cAEI9B,IAAS8G,GAAcvJ,CAAduJ,EAAkBla,CAAlBka,EAAwBC,CAAxBD,CAFb;AAGImB,gBAAclB,EAAQhF,KAARgF,GAAgBkB,CAA9BA,GACJrb,EAAKub,UAALvb,GAAkBma,EAAQqB,IAARrB,CAAQqB,CAAMH,CAAdlB,CADdkB,EAEJrb,EAAK8a,MAAL9a,GAAcoT,EAAO0H,MAFjBO,EAGAjI,EAAO2H,OAAP3H,GAAkBpT,EAAKyb,YAALzb,GAAoBoT,EAAO2H,OAA7C3H,GACKpT,EAAKyb,YAALzb,KAAqBA,EAAKyb,YAALzb,GAAoB,IAAzCA,CAJLqb,EAKAF,MAAmBxK,EAAGsF,GAAHtF,CAAO+K,iBAA1BP,KACAxK,EAAGsF,GAAHtF,CAAOgL,YAAPhL,GAAsB5F,KAAKmN,GAALnN,CAAS4F,EAAGsF,GAAHtF,CAAOgL,YAAhB5Q,EAAgB4Q,EAAgBhL,EAAGsF,GAAHtF,CAAO+K,iBAAvC3Q,CADtBoQ,CALAE;AAQN;;AAAA,eAAOrb,EAAK8a,MAAZ;AAGF;;AAAA,eAASM,EAAT,CAA0BzK,CAA1B,EAA8BxT,CAA9B,EAAiCye,CAAjC,EAAiCA;AAC/B,YAAI3F,IAAMtF,EAAGsF,GAAb;AAAA,YAAkB4F,IAAUlL,EAAGkL,OAA/B;AACA,aAAK5F,EAAIpZ,IAAJoZ,CAAST,UAAd,EAA4B,OAAO,IAAIsE,EAAJ,CAAY7D,CAAZ,EAAYA,CAAK,CAAjB,EAAuB9Y,CAAvB,CAAP;;AAC5B,YAAIkD,IA6HN,UAAuBsQ,CAAvB,EAA2BxT,CAA3B,EAA8Bye,CAA9B,EAA8BA;AAG5B,eAFA,IAAIE,CAAJ,EAAeC,CAAf,EAAwB9F,IAAMtF,EAAGsF,GAAjC,EACI+F,IAAMJ,KAAW,CAAXA,GAAeze,KAAKwT,EAAGsF,GAAHtF,CAAO9T,IAAP8T,CAAY2E,SAAZ3E,GAAwB,GAAxBA,GAA+B,GAApCxT,CADzB,EAESkM,IAASlM,CAAlB,EAAqBkM,IAAS2S,CAA9B,EAA8BA,EAAO3S,CAArC,EAA6C;AAC3C,gBAAIA,KAAU4M,EAAIC,KAAlB,EAA2B,OAAOD,EAAIC,KAAX;AAC3B,gBAAIlW,IAAOgW,GAAQC,CAARD,EAAa3M,IAAS,CAAtB2M,CAAX;AAAA,gBAAqClQ,IAAQ9F,EAAKub,UAAlD;AACA,gBAAIzV,OAAW8V,CAAX9V,IAAsBuD,KAAUvD,aAAiB+T,EAAjB/T,GAAgCA,EAAM4T,SAAtC5T,GAAkD,CAA5DuD,KAAkE4M,EAAI0F,YAA5F7V,CAAJ,EACI,OAAOuD,CAAP;AACJ,gBAAI4S,IAAWhT,EAAYjJ,EAAK6P,IAAjB5G,EAAuB,IAAvBA,EAA6B0H,EAAG6D,OAAH7D,CAAWzH,OAAxCD,CAAf;AAAuDC,aACxC,QAAX6S,CAAW,IAAQD,IAAYG,CADoB/S,MAErD6S,IAAU1S,IAAS,CAAnB0S,EACAD,IAAYG,CAHyC/S;AAMzD;;AAAA,iBAAO6S,CAAP;AA3IYG,SA6Hd,CA7H4BvL,CA6H5B,EA7HgCxT,CA6HhC,EA7HmCye,CA6HnC,CA7HE;AAAA,YACIO,IAAQ9b,IAAQ4V,EAAIC,KAAZ7V,IAAqB2V,GAAQC,CAARD,EAAa3V,IAAQ,CAArB2V,EAAwBuF,UADzD;AAAA,YAEIpB,IAAUgC,IAAQrC,GAAQsC,SAARtC,CAAkB7D,CAAlB6D,EAAuBqC,CAAvBrC,EAA8BzZ,CAA9ByZ,CAARqC,GAA+C,IAAIrC,EAAJ,CAAY7D,CAAZ,EAAiBT,GAAWS,EAAIpZ,IAAf2Y,CAAjB,EAAuCnV,CAAvC,CAF7D;;AAWA,eAPA4V,EAAIS,IAAJT,CAAS5V,CAAT4V,EAAgB9Y,CAAhB8Y,EAAmB,UAAUjW,CAAV,EAAUA;AAC3Bqc,aAAY1L,CAAZ0L,EAAgBrc,EAAK6P,IAArBwM,EAA2BlC,CAA3BkC;AACA,cAAIzR,IAAMuP,EAAQna,IAAlB;AACAA,YAAKub,UAALvb,GAAkB4K,KAAOzN,IAAI,CAAXyN,IAAgBA,IAAM,CAANA,IAAW,CAA3BA,IAAgCA,KAAOiR,EAAQS,QAAf1R,IAA2BA,IAAMiR,EAAQU,MAAzE3R,GAAkFuP,EAAQqB,IAARrB,EAAlFvP,GAAmG,IAArH5K,EACAma,EAAQqC,QAARrC,EADAna;AACQwc,SAJVvG,GAMI2F,MAAW3F,EAAI0F,YAAJ1F,GAAmBkE,EAAQna,IAAtC4b,CANJ3F,EAOOkE,CAAP;AAMF;;AAAA,eAASkC,EAAT,CAAqB1L,CAArB,EAAyBd,CAAzB,EAA+BsK,CAA/B,EAAwCsC,CAAxC,EAAwCA;AACtC,YAAI5f,IAAO8T,EAAGsF,GAAHtF,CAAO9T,IAAlB;AAAA,YACI6f,IAAS,IAAI/G,EAAJ,CAAiB9F,CAAjB,EAAuBc,EAAG6D,OAAH7D,CAAWzH,OAAlC,EAA2CiR,CAA3C,CADb;;AAIA,aAFAuC,EAAOrc,KAAPqc,GAAeA,EAAO9R,GAAP8R,GAAaD,KAAW,CAAvCC,EACY,MAAR7M,CAAQ,IAAM8M,GAAc9f,CAAd8f,EAAoBxC,EAAQhF,KAA5BwH,CAClB,EAD8CxH,CACtCuH,EAAOlE,GAAPkE,EAAR,GACEE,GAAU/f,CAAV+f,EAAgBF,CAAhBE,EAAwBzC,EAAQhF,KAAhCyH,GACAF,EAAOrc,KAAPqc,GAAeA,EAAO9R,GADtBgS;AAKJ;;AAAA,eAASD,EAAT,CAAuB9f,CAAvB,EAA6BsY,CAA7B,EAA6BA;AAC3B,YAAItY,EAAKggB,SAAT,EAAsB,OAAOhgB,EAAKggB,SAALhgB,CAAesY,CAAftY,CAAP;;AACtB,YAAKA,EAAKyY,SAAV;AACA,cAAImE,IAAQnE,GAAUzY,CAAVyY,EAAgBH,CAAhBG,CAAZ;AACA,iBAAImE,EAAM5c,IAAN4c,CAAWoD,SAAXpD,GAA+BA,EAAM5c,IAAN4c,CAAWoD,SAAXpD,CAAqBA,EAAMtE,KAA3BsE,CAA/BA,GAA0DtE,KAA9D;AAAA;AAGF;;AAAA,eAASyH,EAAT,CAAmB/f,CAAnB,EAAyB6f,CAAzB,EAAiCvH,CAAjC,EAAwCsE,CAAxC,EAAwCA;AACtC,aAAK,IAAI/d,IAAI,CAAb,EAAgBA,IAAI,EAApB,EAAwBA,GAAxB,EAA6B;AACvB+d,gBAASA,EAAM,CAANA,IAAWnE,GAAUzY,CAAVyY,EAAgBH,CAAhBG,EAAuBzY,IAA3C4c;AACJ,cAAI9S,IAAQ9J,EAAKigB,KAALjgB,CAAW6f,CAAX7f,EAAmBsY,CAAnBtY,CAAZ;AACA,cAAI6f,EAAO9R,GAAP8R,GAAaA,EAAOrc,KAAxB,EAAiC,OAAOsG,CAAP;AAEnC;;AAAA,cAAM,IAAInG,KAAJ,CAAU,UAAU3D,EAAKZ,IAAf,GAAsB,4BAAhC,CAAN;AA9IF6d;;AAAAA,SAAQvc,SAARuc,CAAkBJ,SAAlBI,GAA8B,UAAU3c,CAAV,EAAUA;AACtC,YAAI6C,IAAOU,KAAKuV,GAALvV,CAASsV,OAATtV,CAAiBA,KAAKV,IAALU,GAAYvD,CAA7BuD,CAAX;AAEA,eADY,QAARV,CAAQ,IAAQ7C,IAAIuD,KAAKqZ,YAAjB,KAAiCrZ,KAAKqZ,YAALrZ,GAAoBvD,CAArD,GACL6C,CAAP;AAAOA,OAHT8Z,EAMAA,GAAQvc,SAARuc,CAAkBF,SAAlBE,GAA8B,UAAU3c,CAAV,EAAUA;AACtC,aAAKuD,KAAKsZ,UAAV,EAAwB,OAAO,IAAP;;AACxB,eAAOtZ,KAAKsZ,UAALtZ,CAAgBA,KAAKuZ,YAArBvZ,KAAsCvD,CAA7C,GACIuD,KAAKuZ,YAALvZ,IAAqB,CAArBA;;AACJ,YAAI0N,IAAO1N,KAAKsZ,UAALtZ,CAAgBA,KAAKuZ,YAALvZ,GAAoB,CAApCA,CAAX;AACA,eAAO;AAAC0N,gBAAMA,KAAQA,EAAK/P,OAAL+P,CAAa,iBAAbA,EAAgC,EAAhCA,CAAf;AACC+H,gBAAMzV,KAAKsZ,UAALtZ,CAAgBA,KAAKuZ,YAArBvZ,IAAqCvD;AAD5C,SAAP;AACmDA,OAZrD2c,EAeAA,GAAQvc,SAARuc,CAAkB0C,QAAlB1C,GAA6B;AAC3BpZ,aAAKV,IAALU,IACIA,KAAKqZ,YAALrZ,GAAoB,CAApBA,IAAyBA,KAAKqZ,YAALrZ,EAD7BA;AACkCqZ,OAjBpCD,EAoBAA,GAAQsC,SAARtC,GAAoB,UAAU7D,CAAV,EAAekG,CAAf,EAAsBnc,CAAtB,EAAsBA;AACxC,eAAImc,aAAiBtC,EAAjBsC,GACO,IAAIrC,EAAJ,CAAY7D,CAAZ,EAAiBf,GAAUe,EAAIpZ,IAAdqY,EAAoBiH,EAAMhH,KAA1BD,CAAjB,EAAmDlV,CAAnD,EAAyDmc,EAAMzC,SAA/D,CADPyC,GAGO,IAAIrC,EAAJ,CAAY7D,CAAZ,EAAiBf,GAAUe,EAAIpZ,IAAdqY,EAAoBiH,CAApBjH,CAAjB,EAA6ClV,CAA7C,CAHX;AAGwDA,OAxB1D8Z,EA2BAA,GAAQvc,SAARuc,CAAkB0B,IAAlB1B,GAAyB,UAAUiD,CAAV,EAAUA;AACjC,YAAI5H,KAAiB,CAAjBA,KAAQ4H,CAAR5H,GAAyBD,GAAUxU,KAAKuV,GAALvV,CAAS7D,IAAnBqY,EAAyBxU,KAAKyU,KAA9BD,CAAzBC,GAAgEzU,KAAKyU,KAAzE;AACA,eAAOzU,KAAKqZ,YAALrZ,GAAoB,CAApBA,GAAwB,IAAImZ,EAAJ,CAAiB1E,CAAjB,EAAwBzU,KAAKqZ,YAA7B,CAAxBrZ,GAAqEyU,CAA5E;AAA4EA,OA7B9E2E;;AAiJA,UAAIkD,KAAQ,UAASN,CAAT,EAAiBtO,CAAjB,EAAuB+G,CAAvB,EAAuBA;AACjCzU,aAAKL,KAALK,GAAagc,EAAOrc,KAApBK,EAA2BA,KAAKJ,GAALI,GAAWgc,EAAO9R,GAA7ClK,EACAA,KAAKzC,MAALyC,GAAcgc,EAAO9W,OAAP8W,EADdhc,EAEAA,KAAK0N,IAAL1N,GAAY0N,KAAQ,IAFpB1N,EAGAA,KAAKyU,KAALzU,GAAayU,CAHbzU;AAGayU,OAJf;;AAQA,eAAS8H,EAAT,CAAmBtM,CAAnB,EAAuB/F,CAAvB,EAA4BgR,CAA5B,EAAqCsB,CAArC,EAAqCA;AACnC,YAAmCvW,CAAnC;AAAA,YAGuEwW,CAHvE;AAAA,YAAIlH,IAAMtF,EAAGsF,GAAb;AAAA,YAAkBpZ,IAAOoZ,EAAIpZ,IAA7B;AAAA,YAEImD,IAAOgW,GAAQC,CAARD,EAAQC,CADnBrL,IAAMuN,GAAQlC,CAARkC,EAAavN,CAAbuN,CACalC,EAASjW,IAAjBgW,CAFX;AAAA,YAEmCmE,IAAUiB,GAAiBzK,CAAjByK,EAAqBxQ,EAAI5K,IAAzBob,EAA+BQ,CAA/BR,CAF7C;AAAA,YAGIsB,IAAS,IAAI/G,EAAJ,CAAiB3V,EAAK6P,IAAtB,EAA4Bc,EAAG6D,OAAH7D,CAAWzH,OAAvC,EAAgDiR,CAAhD,CAHb;;AAKA,aADI+C,MAAWC,IAAS,EAApBD,CACJ,EADwB,CAChBA,KAAWR,EAAO9R,GAAP8R,GAAa9R,EAAIgB,EADZ,KACYA,CAAQ8Q,EAAOlE,GAAPkE,EAA5C,GACEA,EAAOrc,KAAPqc,GAAeA,EAAO9R,GAAtB8R,EACA/V,IAAQiW,GAAU/f,CAAV+f,EAAgBF,CAAhBE,EAAwBzC,EAAQhF,KAAhCyH,CADRF,EAEIQ,KAAWC,EAAO9Z,IAAP8Z,CAAY,IAAIH,EAAJ,CAAUN,CAAV,EAAkB/V,CAAlB,EAAyBuO,GAAUe,EAAIpZ,IAAdqY,EAAoBiF,EAAQhF,KAA5BD,CAAzB,CAAZiI,CAFfT;;AAIF,eAAOQ,IAAUC,CAAVD,GAAmB,IAAIF,EAAJ,CAAUN,CAAV,EAAkB/V,CAAlB,EAAyBwT,EAAQhF,KAAjC,CAA1B;AAGF;;AAAA,eAASiI,EAAT,CAA4BhP,CAA5B,EAAkCiP,CAAlC,EAAkCA;AAChC,YAAIjP,CAAJ,EAAY,SAAS;AACnB,cAAIkP,IAAYlP,EAAKjJ,KAALiJ,CAAW,mCAAXA,CAAhB;AACA,eAAKkP,CAAL,EAAkB;AAClBlP,cAAOA,EAAKrI,KAALqI,CAAW,CAAXA,EAAckP,EAAUtX,KAAxBoI,IAAiCA,EAAKrI,KAALqI,CAAWkP,EAAUtX,KAAVsX,GAAkBA,EAAU,CAAVA,EAAavf,MAA1CqQ,CAAxCA;AACA,cAAIpF,IAAOsU,EAAU,CAAVA,IAAe,SAAfA,GAA2B,WAAtC;AACoB,kBAAhBD,EAAOrU,CAAPqU,CAAgB,GAChBA,EAAOrU,CAAPqU,IAAeC,EAAU,CAAVA,CADC,GAEV,IAAK7X,MAAL,CAAY,YAAa6X,EAAU,CAAVA,CAAb,GAA4B,SAAxC,EAAqDlf,IAArD,CAA0Dif,EAAOrU,CAAPqU,CAA1D,MACNA,EAAOrU,CAAPqU,KAAgB,MAAMC,EAAU,CAAVA,CADhB,CAFU;AAKtB;AAAA,eAAOlP,CAAP;AAIF;;AAAA,eAASoM,EAAT,CAAiB7J,CAAjB,EAAqBd,CAArB,EAA2BhT,CAA3B,EAAiCsd,CAAjC,EAA0CxR,CAA1C,EAA6C4R,CAA7C,EAA0DH,CAA1D,EAA0DA;AACxD,YAAImD,IAAe1gB,EAAK0gB,YAAxB;AACoB,gBAAhBA,CAAgB,KAAQA,IAAe5M,EAAG6D,OAAH7D,CAAW4M,YAAlC;AACpB,YACkE5W,CADlE;AAAA,YAAI6W,IAAW,CAAf;AAAA,YAAkBC,IAAW,IAA7B;AAAA,YACIf,IAAS,IAAI/G,EAAJ,CAAiB9F,CAAjB,EAAuBc,EAAG6D,OAAH7D,CAAWzH,OAAlC,EAA2CiR,CAA3C,CADb;AAAA,YAEIV,IAAQ9I,EAAG6D,OAAH7D,CAAW+M,YAAX/M,IAA2B,CAAC,IAAD,CAFvC;;AAIA,aADY,MAARd,CAAQ,IAAMuN,GAAmBT,GAAc9f,CAAd8f,EAAoBxC,EAAQhF,KAA5BwH,CAAnBS,EAAuD7C,CAAvD6C,CAClB,EADyE7C,CACjEmC,EAAOlE,GAAPkE,EAAR,GAAsB;AASpB,cARIA,EAAO9R,GAAP8R,GAAa/L,EAAG6D,OAAH7D,CAAW2K,kBAAxBoB,IACFa,KAAe,CAAfA,EACInD,KAAciC,GAAY1L,CAAZ0L,EAAgBxM,CAAhBwM,EAAsBlC,CAAtBkC,EAA+BK,EAAO9R,GAAtCyR,CADlBkB,EAEAb,EAAO9R,GAAP8R,GAAa7M,EAAK9R,MAFlBwf,EAGA5W,IAAQ,IAJN+V,IAMF/V,IAAQyW,GAAmBR,GAAU/f,CAAV+f,EAAgBF,CAAhBE,EAAwBzC,EAAQhF,KAAhCyH,EAAuCnD,CAAvCmD,CAAnBQ,EAAkE7C,CAAlE6C,CANNV,EAQAjD,CAAJ,EAAW;AACT,gBAAIkE,IAAQlE,EAAM,CAANA,EAASxd,IAArB;AACI0hB,kBAAShX,IAAQ,QAAQA,IAAQgX,IAAQ,GAARA,GAAchX,CAAtBA,GAA8BgX,CAAtC,CAAjBA;AAEN;;AAAA,eAAKJ,CAAL,IAAqBE,KAAY9W,CAAjC,EAAwC;AACtC,mBAAO6W,IAAWd,EAAOrc,KAAzB,GAEEsI,EADA6U,IAAWzS,KAAKC,GAALD,CAAS2R,EAAOrc,KAAhB0K,EAAuByS,IAAW,GAAlCzS,CACXpC,EAAY8U,CAAZ9U;;AAEF8U,gBAAW9W,CAAX8W;AAEFf;;AAAAA,YAAOrc,KAAPqc,GAAeA,EAAO9R,GAAtB8R;AAEF;;AAAA,eAAOc,IAAWd,EAAO9R,GAAzB,GAA8B;AAI5B,cAAIA,IAAMG,KAAKC,GAALD,CAAS2R,EAAO9R,GAAhBG,EAAqByS,IAAW,GAAhCzS,CAAV;AACApC,YAAEiC,CAAFjC,EAAO8U,CAAP9U,GACA6U,IAAW5S,CADXjC;AACWiC;AA4Cf;;AAAA,UAAIgT,MAAmB,CAAvB;AAAA,UAA8BC,MAAoB,CAAlD;;AAYA,eAASC,EAAT,CAAoBC,CAApB,EAA4BrR,CAA5B,EAAkCC,CAAlC,EAAkCA;AAChCjM,aAAKqd,MAALrd,GAAcqd,CAAdrd,EACAA,KAAKgM,IAALhM,GAAYgM,CADZhM,EACkBA,KAAKiM,EAALjM,GAAUiM,CAD5BjM;AAKF;;AAAA,eAASsd,EAAT,CAA0BC,CAA1B,EAAiCF,CAAjC,EAAiCA;AAC/B,YAAIE,CAAJ,EAAa,KAAK,IAAIviB,IAAI,CAAb,EAAgBA,IAAIuiB,EAAMlgB,MAA1B,EAA0BA,EAAUrC,CAApC,EAAuC;AAClD,cAAIwiB,IAAOD,EAAMviB,CAANuiB,CAAX;AACA,cAAIC,EAAKH,MAALG,IAAeH,CAAnB,EAA6B,OAAOG,CAAP;AAAOA;AAKxC;;AAAA,eAASC,EAAT,CAA0BF,CAA1B,EAAiCC,CAAjC,EAAiCA;AAE/B,aADA,IAAI1hB,CAAJ,EACSd,IAAI,CAAb,EAAgBA,IAAIuiB,EAAMlgB,MAA1B,EAA0BA,EAAUrC,CAApC,EACQuiB,EAAMviB,CAANuiB,KAAYC,CAAZD,IAAYC,CAAS1hB,MAAMA,IAAI,EAAVA,CAAT0hB,EAAwB7a,IAAxB6a,CAA6BD,EAAMviB,CAANuiB,CAA7BC,CAAZD;;AACR,eAAOzhB,CAAP;AA4CF;;AAAA,eAAS4hB,EAAT,CAAgCnI,CAAhC,EAAqCoI,CAArC,EAAqCA;AACnC,YAAIA,EAAOC,IAAX,EAAmB,OAAO,IAAP;AACnB,YAAIC,IAAWlH,GAAOpB,CAAPoB,EAAYgH,EAAO3R,IAAP2R,CAAYre,IAAxBqX,KAAiCrB,GAAQC,CAARD,EAAaqI,EAAO3R,IAAP2R,CAAYre,IAAzBgW,EAA+BwI,WAA/E;AAAA,YACIC,IAAUpH,GAAOpB,CAAPoB,EAAYgH,EAAO1R,EAAP0R,CAAUre,IAAtBqX,KAA+BrB,GAAQC,CAARD,EAAaqI,EAAO1R,EAAP0R,CAAUre,IAAvBgW,EAA6BwI,WAD1E;AAEA,aAAKD,CAAL,IAAKA,CAAaE,CAAlB,EAA6B,OAAO,IAAP;;AAE7B,YAAIC,IAAUL,EAAO3R,IAAP2R,CAAYzS,EAA1B;AAAA,YAA8B+S,IAAQN,EAAO1R,EAAP0R,CAAUzS,EAAhD;AAAA,YAAoDgT,IAA0C,KAA/BjH,GAAI0G,EAAO3R,IAAXiL,EAAiB0G,EAAO1R,EAAxBgL,CAA/D;AAAA,YAEIzB,IAxCN,UAA2B2I,CAA3B,EAAgCH,CAAhC,EAAyCE,CAAzC,EAAyCA;AACvC,cAAIE,CAAJ;AACA,cAAID,CAAJ,EAAW,KAAK,IAAInjB,IAAI,CAAb,EAAgBA,IAAImjB,EAAI9gB,MAAxB,EAAwBA,EAAUrC,CAAlC,EAAqC;AAC9C,gBAAIwiB,IAAOW,EAAInjB,CAAJmjB,CAAX;AAAA,gBAAmBd,IAASG,EAAKH,MAAjC;;AAEA,gBADgC,QAAbG,EAAKxR,IAAQ,KAASqR,EAAOgB,aAAPhB,GAAuBG,EAAKxR,IAALwR,IAAaQ,CAApCX,GAA8CG,EAAKxR,IAALwR,GAAYQ,CAAnE,KACZR,EAAKxR,IAALwR,IAAaQ,CAAbR,IAAuC,cAAfH,EAAO3P,IAA/B8P,KAA+B9P,CAAwBwQ,CAAxBxQ,IAAwBwQ,CAAaV,EAAKH,MAALG,CAAYc,UAAhFd,CAApB,EAAiH;AAC/G,kBAAIe,IAAuB,QAAXf,EAAKvR,EAAM,KAASoR,EAAOmB,cAAPnB,GAAwBG,EAAKvR,EAALuR,IAAWQ,CAAnCX,GAA6CG,EAAKvR,EAALuR,GAAUQ,CAAhE,CAA3B;AAA2FA,eACzFI,MAAOA,IAAK,EAAZA,CADyFJ,EACxErb,IADwEqb,CACnE,IAAIZ,EAAJ,CAAeC,CAAf,EAAuBG,EAAKxR,IAA5B,EAAkCuS,IAAY,IAAZA,GAAmBf,EAAKvR,EAA1D,CADmE+R;AACT/R;AAGtF;AAAA,iBAAOmS,CAAP;AA8BYK,SAxCd,CAwCgCZ,CAxChC,EAwC0CG,CAxC1C,EAwCmDE,CAxCnD,CAsCE;AAAA,YAGIxG,IA7BN,UAA0ByG,CAA1B,EAA+BF,CAA/B,EAAsCC,CAAtC,EAAsCA;AACpC,cAAIE,CAAJ;AACA,cAAID,CAAJ,EAAW,KAAK,IAAInjB,IAAI,CAAb,EAAgBA,IAAImjB,EAAI9gB,MAAxB,EAAwBA,EAAUrC,CAAlC,EAAqC;AAC9C,gBAAIwiB,IAAOW,EAAInjB,CAAJmjB,CAAX;AAAA,gBAAmBd,IAASG,EAAKH,MAAjC;;AAEA,gBAD2B,QAAXG,EAAKvR,EAAM,KAASoR,EAAOmB,cAAPnB,GAAwBG,EAAKvR,EAALuR,IAAWS,CAAnCZ,GAA2CG,EAAKvR,EAALuR,GAAUS,CAA9D,KACVT,EAAKxR,IAALwR,IAAaS,CAAbT,IAAqC,cAAfH,EAAO3P,IAA7B8P,KAA6B9P,CAAwBwQ,CAAxBxQ,IAAoC8P,EAAKH,MAALG,CAAYc,UAA7Ed,CAAjB,EAA2G;AACzG,kBAAIkB,IAA4B,QAAblB,EAAKxR,IAAQ,KAASqR,EAAOgB,aAAPhB,GAAuBG,EAAKxR,IAALwR,IAAaS,CAApCZ,GAA4CG,EAAKxR,IAALwR,GAAYS,CAAjE,CAAhC;AAAiGA,eAC/FG,MAAOA,IAAK,EAAZA,CAD+FH,EAC9Etb,IAD8Esb,CACzE,IAAIb,EAAJ,CAAeC,CAAf,EAAuBqB,IAAe,IAAfA,GAAsBlB,EAAKxR,IAALwR,GAAYS,CAAzD,EACyB,QAAXT,EAAKvR,EAAM,GAAO,IAAP,GAAcuR,EAAKvR,EAALuR,GAAUS,CADjD,CADyEA;AAExBA;AAG7E;AAAA,iBAAOG,CAAP;AAkBWO,SA7Bb,CA6B8BZ,CA7B9B,EA6BuCE,CA7BvC,EA6B8CC,CA7B9C,CA0BE;AAAA,YAMIU,IAAiC,KAAtBjB,EAAOxO,IAAPwO,CAAYtgB,MAN3B;AAAA,YAMwCwhB,IAASpU,EAAIkT,EAAOxO,IAAX1E,EAAiBpN,MAAjBoN,IAA2BmU,IAAWZ,CAAXY,GAAqB,CAAhDnU,CANjD;;AAOA,YAAI+K,CAAJ,EAEE,KAAK,IAAIxa,IAAI,CAAb,EAAgBA,IAAIwa,EAAMnY,MAA1B,EAA0BA,EAAUrC,CAApC,EAAuC;AACrC,cAAIwiB,IAAOhI,EAAMxa,CAANwa,CAAX;;AACA,cAAe,QAAXgI,EAAKvR,EAAT,EAAqB;AACnB,gBAAIS,IAAQ4Q,GAAiB5F,CAAjB4F,EAAuBE,EAAKH,MAA5BC,CAAZ;AACK5Q,gBACIkS,MAAYpB,EAAKvR,EAALuR,GAAsB,QAAZ9Q,EAAMT,EAAM,GAAO,IAAP,GAAcS,EAAMT,EAANS,GAAWmS,CAA3DD,CADJlS,GAAS8Q,EAAKvR,EAALuR,GAAUQ,CAAnBtR;AAAmBsR;AAK9B;AAAA,YAAItG,CAAJ,EAEE,KAAK,IAAIlK,IAAM,CAAf,EAAkBA,IAAMkK,EAAKra,MAA7B,EAA6BA,EAAUmQ,CAAvC,EAA4C;AAC1C,cAAIsR,IAASpH,EAAKlK,CAALkK,CAAb;AACiB,kBAAboH,EAAO7S,EAAM,KAAQ6S,EAAO7S,EAAP6S,IAAaD,CAArB,GACE,QAAfC,EAAO9S,IAAQ,GACHsR,GAAiB9H,CAAjB8H,EAAwBwB,EAAOzB,MAA/BC,MAEZwB,EAAO9S,IAAP8S,GAAcD,CAAdC,EACIF,MAAapJ,MAAUA,IAAQ,EAAlBA,CAAboJ,EAAoCjc,IAApCic,CAAyCE,CAAzCF,CAHQtB,CADG,IAOjBwB,EAAO9S,IAAP8S,IAAeD,CAAfC,EACIF,MAAapJ,MAAUA,IAAQ,EAAlBA,CAAboJ,EAAoCjc,IAApCic,CAAyCE,CAAzCF,CARa,CADF;AAcjBpJ;AAAAA,cAASA,IAAQuJ,GAAgBvJ,CAAhBuJ,CAAjBvJ,GACAkC,KAAQA,KAAQlC,CAAhBkC,KAAyBA,IAAOqH,GAAgBrH,CAAhBqH,CAAhCrH,CADAlC;AAGJ,YAAIwJ,IAAa,CAACxJ,CAAD,CAAjB;;AACA,aAAKoJ,CAAL,EAAe;AAEb,cAAkCK,CAAlC;AAAA,cAAIC,IAAMvB,EAAOxO,IAAPwO,CAAYtgB,MAAZsgB,GAAqB,CAA/B;AACA,cAAIuB,IAAM,CAANA,IAAW1J,CAAf,EACI,KAAK,IAAI7H,IAAM,CAAf,EAAkBA,IAAM6H,EAAMnY,MAA9B,EAA8BA,EAAUsQ,CAAxC,EACuB,QAAjB6H,EAAM7H,CAAN6H,EAAWvJ,EAAM,IAANA,CACZgT,MAAeA,IAAa,EAA5BA,CADYhT,EACqBtJ,IADrBsJ,CAC0B,IAAImR,EAAJ,CAAe5H,EAAM7H,CAAN6H,EAAW6H,MAA1B,EAAkC,IAAlC,EAAwC,IAAxC,CAD1BpR,CAAM;;AAE3B,eAAK,IAAI4B,IAAM,CAAf,EAAkBA,IAAMqR,CAAxB,EAAwBA,EAAOrR,CAA/B,EACImR,EAAWrc,IAAXqc,CAAgBC,CAAhBD;;AACJA,YAAWrc,IAAXqc,CAAgBtH,CAAhBsH;AAEF;;AAAA,eAAOA,CAAP;AAKF;;AAAA,eAASD,EAAT,CAAyBxB,CAAzB,EAAyBA;AACvB,aAAK,IAAIviB,IAAI,CAAb,EAAgBA,IAAIuiB,EAAMlgB,MAA1B,EAA0BA,EAAUrC,CAApC,EAAuC;AACrC,cAAIwiB,IAAOD,EAAMviB,CAANuiB,CAAX;AACiB,kBAAbC,EAAKxR,IAAQ,IAAQwR,EAAKxR,IAALwR,IAAaA,EAAKvR,EAA1B,IAA0BA,CAAqC,CAArCA,KAAMuR,EAAKH,MAALG,CAAY2B,cAA5C,IACb5B,EAAMzO,MAANyO,CAAaviB,GAAbuiB,EAAkB,CAAlBA,CADa;AAGnB;;AAAA,eAAKA,EAAMlgB,MAANkgB,GACEA,CADFA,GAAuB,IAA5B;AAkCF;;AAAA,eAAS6B,EAAT,CAA2B9f,CAA3B,EAA2BA;AACzB,YAAIie,IAAQje,EAAKwe,WAAjB;;AACA,YAAKP,CAAL;AACA,eAAK,IAAIviB,IAAI,CAAb,EAAgBA,IAAIuiB,EAAMlgB,MAA1B,EAA0BA,EAAUrC,CAApC,EACIuiB,EAAMviB,CAANuiB,EAASF,MAATE,CAAgB8B,UAAhB9B,CAA2Bje,CAA3Bie;;AACJje,YAAKwe,WAALxe,GAAmB,IAAnBA;AAAmB;AAErB;;AAAA,eAASggB,EAAT,CAA2BhgB,CAA3B,EAAiCie,CAAjC,EAAiCA;AAC/B,YAAKA,CAAL;AACA,eAAK,IAAIviB,IAAI,CAAb,EAAgBA,IAAIuiB,EAAMlgB,MAA1B,EAA0BA,EAAUrC,CAApC,EACIuiB,EAAMviB,CAANuiB,EAASF,MAATE,CAAgBgC,UAAhBhC,CAA2Bje,CAA3Bie;;AACJje,YAAKwe,WAALxe,GAAmBie,CAAnBje;AAAmBie;AAKrB;;AAAA,eAASiC,EAAT,CAAmBnC,CAAnB,EAAmBA;AAAU,eAAOA,EAAOgB,aAAPhB,GAAOgB,CAAiB,CAAxBhB,GAA4B,CAAnC;AAC7B;;AAAA,eAASoC,EAAT,CAAoBpC,CAApB,EAAoBA;AAAU,eAAOA,EAAOmB,cAAPnB,GAAwB,CAAxBA,GAA4B,CAAnC;AAK9B;;AAAA,eAASqC,EAAT,CAAiCxY,CAAjC,EAAoCC,CAApC,EAAoCA;AAClC,YAAIwY,IAAUzY,EAAEyO,KAAFzO,CAAQ7J,MAAR6J,GAAiBC,EAAEwO,KAAFxO,CAAQ9J,MAAvC;AACA,YAAe,KAAXsiB,CAAJ,EAAoB,OAAOA,CAAP;AACpB,YAAIC,IAAO1Y,EAAE2Y,IAAF3Y,EAAX;AAAA,YAAqB4Y,IAAO3Y,EAAE0Y,IAAF1Y,EAA5B;AAAA,YACI4Y,IAAU9I,GAAI2I,EAAK5T,IAATiL,EAAe6I,EAAK9T,IAApBiL,KAA6BuI,GAAUtY,CAAVsY,IAAeA,GAAUrY,CAAVqY,CAD1D;AAEA,YAAIO,CAAJ,EAAe,QAAQA,CAAR;AACf,YAAIC,IAAQ/I,GAAI2I,EAAK3T,EAATgL,EAAa6I,EAAK7T,EAAlBgL,KAAyBwI,GAAWvY,CAAXuY,IAAgBA,GAAWtY,CAAXsY,CAArD;AACA,eAAIO,KACG7Y,EAAE1I,EAAF0I,GAAOD,EAAEzI,EADhB;AAMF;;AAAA,eAASwhB,EAAT,CAA6B3gB,CAA7B,EAAmCK,CAAnC,EAAmCA;AACjC,YAAiD+M,CAAjD;AAAA,YAAIwT,IAAM/C,MAAqB7d,EAAKwe,WAApC;AACA,YAAIoC,CAAJ,EAAW,KAAK,IAAIC,SAAK,CAAT,EAAmBnlB,IAAI,CAA5B,EAA+BA,IAAIklB,EAAI7iB,MAAvC,EAAuCA,EAAUrC,CAAjD,EAAiDA,CAC1DmlB,IAAKD,EAAIllB,CAAJklB,CADqDllB,EAEnDqiB,MAFmDriB,CAE5ColB,SAF4CplB,IAEF,SAA5B2E,IAAQwgB,EAAGnU,IAAXrM,GAAkBwgB,EAAGlU,EAAO,CAFEjR,KAETiR,CAC3CS,CAD2CT,IAClCyT,GAAwBhT,CAAxBgT,EAA+BS,EAAG9C,MAAlCqC,IAA4C,CAHD1kB,MAItD0R,IAAQyT,EAAG9C,MAJ2CriB;AAM5D,eAAO0R,CAAP;AAEF;;AAAA,eAAS2T,EAAT,CAA8B/gB,CAA9B,EAA8BA;AAAQ,eAAO2gB,GAAoB3gB,CAApB2gB,EAAoB3gB,CAAM,CAA1B2gB,CAAP;AACtC;;AAAA,eAASK,EAAT,CAA4BhhB,CAA5B,EAA4BA;AAAQ,eAAO2gB,GAAoB3gB,CAApB2gB,EAAoB3gB,CAAM,CAA1B2gB,CAAP;AAEpC;;AAAA,eAASM,EAAT,CAA6BjhB,CAA7B,EAAmC4L,CAAnC,EAAmCA;AACjC,YAAiDwB,CAAjD;AAAA,YAAIwT,IAAM/C,MAAqB7d,EAAKwe,WAApC;AACA,YAAIoC,CAAJ,EAAW,KAAK,IAAIllB,IAAI,CAAb,EAAgBA,IAAIklB,EAAI7iB,MAAxB,EAAwBA,EAAUrC,CAAlC,EAAqC;AAC9C,cAAImlB,IAAKD,EAAIllB,CAAJklB,CAAT;AACIC,YAAG9C,MAAH8C,CAAUC,SAAVD,KAAmC,QAAXA,EAAGnU,IAAQ,IAAQmU,EAAGnU,IAAHmU,GAAUjV,CAArDiV,MAAsE,QAATA,EAAGlU,EAAM,IAAQkU,EAAGlU,EAAHkU,GAAQjV,CAAtFiV,MAAsFjV,CACpFwB,CADoFxB,IAC3EwU,GAAwBhT,CAAxBgT,EAA+BS,EAAG9C,MAAlCqC,IAA4C,CADvDS,MAC6DzT,IAAQyT,EAAG9C,MADxE8C;AAGN;AAAA,eAAOzT,CAAP;AAMF;;AAAA,eAAS8T,EAAT,CAAmCjL,CAAnC,EAAwCc,CAAxC,EAAgDrK,CAAhD,EAAsDC,CAAtD,EAA0DoR,CAA1D,EAA0DA;AACxD,YAAI/d,IAAOgW,GAAQC,CAARD,EAAae,CAAbf,CAAX;AAAA,YACI4K,IAAM/C,MAAqB7d,EAAKwe,WADpC;AAEA,YAAIoC,CAAJ,EAAW,KAAK,IAAIllB,IAAI,CAAb,EAAgBA,IAAIklB,EAAI7iB,MAAxB,EAAwBA,EAAUrC,CAAlC,EAAqC;AAC9C,cAAImlB,IAAKD,EAAIllB,CAAJklB,CAAT;;AACA,cAAKC,EAAG9C,MAAH8C,CAAUC,SAAf;AACA,gBAAI1T,IAAQyT,EAAG9C,MAAH8C,CAAUN,IAAVM,CAAe,CAAfA,CAAZ;AAAA,gBACIJ,IAAU9I,GAAIvK,EAAMV,IAAViL,EAAgBjL,CAAhBiL,KAAyBuI,GAAUW,EAAG9C,MAAbmC,IAAuBA,GAAUnC,CAAVmC,CAD9D;AAAA,gBAEIQ,IAAQ/I,GAAIvK,EAAMT,EAAVgL,EAAchL,CAAdgL,KAAqBwI,GAAWU,EAAG9C,MAAdoC,IAAwBA,GAAWpC,CAAXoC,CAFzD;AAGA,kBAAIM,KAAW,CAAXA,IAAgBC,KAAS,CAAzBD,IAA8BA,KAAW,CAAXA,IAAgBC,KAAS,CAA3D,MACID,KAAW,CAAXA,KAAiBI,EAAG9C,MAAH8C,CAAU3B,cAAV2B,IAA4B9C,EAAOgB,aAAnC8B,GAAmDlJ,GAAIvK,EAAMT,EAAVgL,EAAcjL,CAAdiL,KAAuB,CAA1EkJ,GAA8ElJ,GAAIvK,EAAMT,EAAVgL,EAAcjL,CAAdiL,IAAsB,CAArH8I,KACAA,KAAW,CAAXA,KAAiBI,EAAG9C,MAAH8C,CAAU3B,cAAV2B,IAA4B9C,EAAOgB,aAAnC8B,GAAmDlJ,GAAIvK,EAAMV,IAAViL,EAAgBhL,CAAhBgL,KAAuB,CAA1EkJ,GAA8ElJ,GAAIvK,EAAMV,IAAViL,EAAgBhL,CAAhBgL,IAAsB,CAArH8I,CAFJ,GAGI,QAAO,CAAP;AAAO;AAAA;AAQf;;AAAA,eAASU,EAAT,CAAoBnhB,CAApB,EAAoBA;AAElB,aADA,IAAIohB,CACJ,EAAOA,IAASL,GAAqB/gB,CAArB+gB,CAAhB,GACI/gB,IAAOohB,EAAOb,IAAPa,CAAOb,CAAM,CAAba,EAAa,CAAG,CAAhBA,EAAsBphB,IAA7BA;;AACJ,eAAOA,CAAP;AAuBF;;AAAA,eAASqhB,EAAT,CAAsBpL,CAAtB,EAA2BqL,CAA3B,EAA2BA;AACzB,YAAIthB,IAAOgW,GAAQC,CAARD,EAAasL,CAAbtL,CAAX;AAAA,YAAgCuL,IAAMJ,GAAWnhB,CAAXmhB,CAAtC;AACA,eAAInhB,KAAQuhB,CAARvhB,GAAsBshB,CAAtBthB,GACG+W,GAAOwK,CAAPxK,CADP;AAMF;;AAAA,eAASyK,EAAT,CAAyBvL,CAAzB,EAA8BqL,CAA9B,EAA8BA;AAC5B,YAAIA,IAAQrL,EAAIwL,QAAJxL,EAAZ,EAA8B,OAAOqL,CAAP;AAC9B,YAAgCF,CAAhC;AAAA,YAAIphB,IAAOgW,GAAQC,CAARD,EAAasL,CAAbtL,CAAX;AACA,aAAK0L,GAAazL,CAAbyL,EAAkB1hB,CAAlB0hB,CAAL,EAAgC,OAAOJ,CAAP;;AAChC,eAAOF,IAASJ,GAAmBhhB,CAAnBghB,CAAhB,GACIhhB,IAAOohB,EAAOb,IAAPa,CAAY,CAAZA,EAAY,CAAG,CAAfA,EAAqBphB,IAA5BA;;AACJ,eAAO+W,GAAO/W,CAAP+W,IAAe,CAAtB;AAMF;;AAAA,eAAS2K,EAAT,CAAsBzL,CAAtB,EAA2BjW,CAA3B,EAA2BA;AACzB,YAAI4gB,IAAM/C,MAAqB7d,EAAKwe,WAApC;AACA,YAAIoC,CAAJ,EAAW,KAAK,IAAIC,SAAK,CAAT,EAAmBnlB,IAAI,CAA5B,EAA+BA,IAAIklB,EAAI7iB,MAAvC,EAAuCA,EAAUrC,CAAjD,EAET,KADAmlB,IAAKD,EAAIllB,CAAJklB,CACL,EAAQ7C,MAAR,CAAe+C,SAAf;AACA,cAAe,QAAXD,EAAGnU,IAAP,EAAuB,QAAO,CAAP;AACvB,eAAImU,EAAG9C,MAAH8C,CAAUc,UAAd,IACe,KAAXd,EAAGnU,IADP,IACoBmU,EAAG9C,MAAH8C,CAAU9B,aAD9B,IAC+C6C,GAAkB3L,CAAlB2L,EAAuB5hB,CAAvB4hB,EAA6Bf,CAA7Be,CAD/C,EAEI,QAAO,CAAP;AAAO;AAGf;;AAAA,eAASA,EAAT,CAA2B3L,CAA3B,EAAgCjW,CAAhC,EAAsCke,CAAtC,EAAsCA;AACpC,YAAe,QAAXA,EAAKvR,EAAT,EAAqB;AACnB,cAAIrM,IAAM4d,EAAKH,MAALG,CAAYqC,IAAZrC,CAAiB,CAAjBA,EAAiB,CAAG,CAApBA,CAAV;AACA,iBAAO0D,GAAkB3L,CAAlB2L,EAAuBthB,EAAIN,IAA3B4hB,EAAiC5D,GAAiB1d,EAAIN,IAAJM,CAASke,WAA1BR,EAAuCE,EAAKH,MAA5CC,CAAjC4D,CAAP;AAEF;;AAAA,YAAI1D,EAAKH,MAALG,CAAYgB,cAAZhB,IAA8BA,EAAKvR,EAALuR,IAAWle,EAAK6P,IAAL7P,CAAUjC,MAAvD,EACI,QAAO,CAAP;;AACJ,aAAK,IAAI8iB,SAAK,CAAT,EAAmBnlB,IAAI,CAA5B,EAA+BA,IAAIsE,EAAKwe,WAALxe,CAAiBjC,MAApD,EAAoDA,EAAUrC,CAA9D,EAEE,KADAmlB,IAAK7gB,EAAKwe,WAALxe,CAAiBtE,CAAjBsE,CACL,EAAO+d,MAAP,CAAc+C,SAAd,IAAcA,CAAcD,EAAG9C,MAAH8C,CAAUc,UAAtC,IAAoDd,EAAGnU,IAAHmU,IAAW3C,EAAKvR,EAApE,KACc,QAATkU,EAAGlU,EAAM,IAAQkU,EAAGlU,EAAHkU,IAAS3C,EAAKxR,IADpC,MAEKmU,EAAG9C,MAAH8C,CAAU9B,aAAV8B,IAA2B3C,EAAKH,MAALG,CAAYgB,cAF5C,KAGI0C,GAAkB3L,CAAlB2L,EAAuB5hB,CAAvB4hB,EAA6Bf,CAA7Be,CAHJ,EAGwC,QAAO,CAAP;AAK5C;;AAAA,eAASC,EAAT,CAAsBC,CAAtB,EAAsBA;AAIpB,aADA,IAAI5K,IAAI,CAAR,EAAWd,KAFX0L,IAAUX,GAAWW,CAAXX,CAEC/K,EAAgB7P,MAA3B,EACS7K,IAAI,CAAb,EAAgBA,IAAI0a,EAAMC,KAAND,CAAYrY,MAAhC,EAAgCA,EAAUrC,CAA1C,EAA6C;AAC3C,cAAIsE,IAAOoW,EAAMC,KAAND,CAAY1a,CAAZ0a,CAAX;AACA,cAAIpW,KAAQ8hB,CAAZ,EAAuB;AAChB5K,eAAKlX,EAAK6W,MAAVK;AAET;;AAAA,aAAK,IAAIzZ,IAAI2Y,EAAM7P,MAAnB,EAA2B9I,CAA3B,EAAyCA,KAAX2Y,IAAQ3Y,CAAGA,EAAU8I,MAAnD,EACE,KAAK,IAAI2H,IAAM,CAAf,EAAkBA,IAAMzQ,EAAE6Y,QAAF7Y,CAAWM,MAAnC,EAAmCA,EAAUmQ,CAA7C,EAAkD;AAChD,cAAIb,IAAM5P,EAAE6Y,QAAF7Y,CAAWyQ,CAAXzQ,CAAV;AACA,cAAI4P,KAAO+I,CAAX,EAAoB;AACbc,eAAK7J,EAAIwJ,MAATK;AAGX;;AAAA,eAAOA,CAAP;AAMF;;AAAA,eAAS6K,EAAT,CAAoB/hB,CAApB,EAAoBA;AAClB,YAAmB,KAAfA,EAAK6W,MAAT,EAAwB,OAAO,CAAP;;AAExB,aADA,IAA4BuK,CAA5B,EAAItjB,IAAMkC,EAAK6P,IAAL7P,CAAUjC,MAApB,EAAoCsP,IAAMrN,CAC1C,EAAOohB,IAASL,GAAqB1T,CAArB0T,CAAhB,GAA2C;AACzC,cAAI3T,IAAQgU,EAAOb,IAAPa,CAAY,CAAZA,EAAY,CAAG,CAAfA,CAAZ;AACA/T,cAAMD,EAAMV,IAANU,CAAWpN,IAAjBqN,EACAvP,KAAOsP,EAAMV,IAANU,CAAWxB,EAAXwB,GAAgBA,EAAMT,EAANS,CAASxB,EADhCyB;AAIF;;AAAA,aADAA,IAAMrN,CACN,EAAOohB,IAASJ,GAAmB3T,CAAnB2T,CAAhB,GAAyC;AACvC,cAAIgB,IAAUZ,EAAOb,IAAPa,CAAY,CAAZA,EAAY,CAAG,CAAfA,CAAd;AACAtjB,eAAOuP,EAAIwC,IAAJxC,CAAStP,MAATsP,GAAkB2U,EAAQtV,IAARsV,CAAapW,EAAtC9N,EAEAA,MADAuP,IAAM2U,EAAQrV,EAARqV,CAAWhiB,IACjBlC,EAAW+R,IAAX/R,CAAgBC,MAAhBD,GAAyBkkB,EAAQrV,EAARqV,CAAWpW,EAFpC9N;AAIF;;AAAA,eAAOA,CAAP;AAIF;;AAAA,eAASmkB,EAAT,CAAqBtR,CAArB,EAAqBA;AACnB,YAAI3U,IAAI2U,EAAGkL,OAAX;AAAA,YAAoB5F,IAAMtF,EAAGsF,GAA7B;AACAja,UAAEkmB,OAAFlmB,GAAYga,GAAQC,CAARD,EAAaC,EAAIC,KAAjBF,CAAZha,EACAA,EAAEmmB,aAAFnmB,GAAkB+lB,GAAW/lB,EAAEkmB,OAAbH,CADlB/lB,EAEAA,EAAEomB,cAAFpmB,GAAEomB,CAAiB,CAFnBpmB,EAGAia,EAAIS,IAAJT,CAAS,UAAUjW,CAAV,EAAUA;AACjB,cAAIlC,IAAMikB,GAAW/hB,CAAX+hB,CAAV;AACIjkB,cAAM9B,EAAEmmB,aAARrkB,KACF9B,EAAEmmB,aAAFnmB,GAAkB8B,CAAlB9B,EACAA,EAAEkmB,OAAFlmB,GAAYgE,CAFVlC;AAEUkC,SAJhBiW,CAHAja;AAgBF;;AAAA,UAAIqmB,KAAO,UAASxS,CAAT,EAAe2O,CAAf,EAA4B8D,CAA5B,EAA4BA;AACrC5hB,aAAKmP,IAALnP,GAAYmP,CAAZnP,EACAsf,GAAkBtf,IAAlBsf,EAAwBxB,CAAxBwB,CADAtf,EAEAA,KAAKmW,MAALnW,GAAc4hB,IAAiBA,EAAe5hB,IAAf4hB,CAAjBA,GAAwC,CAFtD5hB;AAEsD,OAHxD;;AAwBA,eAAS6hB,EAAT,CAAqBviB,CAArB,EAAqBA;AACnBA,UAAKuG,MAALvG,GAAc,IAAdA,EACA8f,GAAkB9f,CAAlB8f,CADA9f;AAnBFqiB;;AAAAA,SAAK9kB,SAAL8kB,CAAetL,MAAfsL,GAAwB;AAAc,eAAOtL,GAAOrW,IAAPqW,CAAP;AAAcrW,OAApD2hB,EACA/Q,GAAW+Q,EAAX/Q,CADA+Q;AA0BA,UAAIG,KAAoB,EAAxB;AAAA,UAA4BC,KAA4B,EAAxD;;AACA,eAASC,EAAT,CAA6B/b,CAA7B,EAAoC6N,CAApC,EAAoCA;AAClC,aAAK7N,CAAL,IAAc,QAAQvI,IAAR,CAAauI,CAAb,CAAd,EAAqC,OAAO,IAAP;AACrC,YAAIgc,IAAQnO,EAAQkJ,YAARlJ,GAAuBiO,EAAvBjO,GAAmDgO,EAA/D;AACA,eAAOG,EAAMhc,CAANgc,MACJA,EAAMhc,CAANgc,IAAehc,EAAMtI,OAANsI,CAAc,MAAdA,EAAsB,OAAtBA,CADXgc,CAAP;AASF;;AAAA,eAASC,EAAT,CAA0BjS,CAA1B,EAA8BkS,CAA9B,EAA8BA;AAI5B,YAAI3gB,IAAU6E,EAAK,MAALA,EAAa,IAAbA,EAAmB,IAAnBA,EAAyB3C,IAAS,qBAATA,GAAiC,IAA1D2C,CAAd;AAAA,YACI+b,IAAU;AAACC,eAAKhc,EAAK,KAALA,EAAY,CAAC7E,CAAD,CAAZ6E,EAAuB,iBAAvBA,CAAN;AAAiD7E,mBAASA,CAA1D;AACC2I,eAAK,CADN;AACSD,eAAK,CADd;AACiB+F,cAAIA,CADrB;AAECqS,0BAAe,CAFhB;AAGCC,uBAAatS,EAAGuS,SAAHvS,CAAa,cAAbA;AAHd,SADd;AAKAkS,UAASpQ,OAAToQ,GAAmB,EAAnBA;;AAGA,aAAK,IAAInnB,IAAI,CAAb,EAAgBA,MAAMmnB,EAASM,IAATN,GAAgBA,EAASM,IAATN,CAAc9kB,MAA9B8kB,GAAuC,CAA7CnnB,CAAhB,EAAiEA,GAAjE,EAAsE;AACpE,cAAIsE,IAAOtE,IAAImnB,EAASM,IAATN,CAAcnnB,IAAI,CAAlBmnB,CAAJnnB,GAA2BmnB,EAAS7iB,IAA/C;AAAA,cAAqDkN,SAAQ,CAA7D;AACA4V,YAAQlY,GAARkY,GAAc,CAAdA,EACAA,EAAQM,QAARN,GAAmBO,EADnBP,EAIIlQ,GAAgBjC,EAAGkL,OAAHlL,CAAW8B,OAA3BG,MAAwC1F,IAAQ0C,GAAS5P,CAAT4P,EAAee,EAAGsF,GAAHtF,CAAO7C,SAAtB8B,CAAhDgD,MACAkQ,EAAQM,QAARN,GAAmBQ,GAAkBR,EAAQM,QAA1BE,EAAoCpW,CAApCoW,CADnB1Q,CAJJkQ,EAMAA,EAAQ9gB,GAAR8gB,GAAc,EANdA,EAQAS,GAAkBvjB,CAAlBujB,EAAwBT,CAAxBS,EAAiCrI,GAAcvK,CAAduK,EAAkBlb,CAAlBkb,EADP2H,KAAYlS,EAAGkL,OAAHlL,CAAW6S,gBAAvBX,IAA2C9L,GAAO/W,CAAP+W,CACpCmE,CAAjCqI,CARAT,EASI9iB,EAAKyb,YAALzb,KACEA,EAAKyb,YAALzb,CAAkBgb,OAAlBhb,KACA8iB,EAAQ9H,OAAR8H,GAAkBnb,EAAY3H,EAAKyb,YAALzb,CAAkBgb,OAA9BrT,EAAuCmb,EAAQ9H,OAAR8H,IAAmB,EAA1Dnb,CADlB3H,GAEAA,EAAKyb,YAALzb,CAAkBib,SAAlBjb,KACA8iB,EAAQ7H,SAAR6H,GAAoBnb,EAAY3H,EAAKyb,YAALzb,CAAkBib,SAA9BtT,EAAyCmb,EAAQ7H,SAAR6H,IAAqB,EAA9Dnb,CADpB3H,CAHFA,CATJ8iB,EAiB0B,KAAtBA,EAAQ9gB,GAAR8gB,CAAY/kB,MAAU,IACtB+kB,EAAQ9gB,GAAR8gB,CAAYzf,IAAZyf,CAAiB,CAAjBA,EAAoB,CAApBA,EAAuBA,EAAQ5gB,OAAR4gB,CAAgBtc,WAAhBsc,CAA4BtQ,GAAiB7B,EAAGkL,OAAHlL,CAAW8B,OAA5BD,CAA5BsQ,CAAvBA,CAlBJA,EAqBS,KAALpnB,CAAK,IACPmnB,EAASpQ,OAAToQ,CAAiB7gB,GAAjB6gB,GAAuBC,EAAQ9gB,GAA/B6gB,EACAA,EAASpQ,OAAToQ,CAAiBF,KAAjBE,GAAyB,EAFlB,KAEkB,CAE9BA,EAASpQ,OAAToQ,CAAiBY,IAAjBZ,KAA0BA,EAASpQ,OAAToQ,CAAiBY,IAAjBZ,GAAwB,EAAlDA,CAF8B,EAEyBxf,IAFzB,CAE8Byf,EAAQ9gB,GAFtC,GAEsCA,CAC7D6gB,EAASpQ,OAAToQ,CAAiBa,MAAjBb,KAA4BA,EAASpQ,OAAToQ,CAAiBa,MAAjBb,GAA0B,EAAtDA,CAD6D7gB,EACFqB,IADErB,CACG,EADHA,CAJxD,CArBT8gB;AA+BF;;AAAA,YAAI1e,CAAJ,EAAY;AACV,cAAIgU,IAAO0K,EAAQ5gB,OAAR4gB,CAAgBa,SAA3B;AAA2BA,WACvB,aAAavlB,IAAb,CAAkBga,EAAKvS,SAAvB,KAAsCuS,EAAKwL,aAALxL,IAAsBA,EAAKwL,aAALxL,CAAmB,SAAnBA,CADrCuL,MAEvBb,EAAQ5gB,OAAR4gB,CAAgBjd,SAAhBid,GAA4B,kBAFLa;AAS7B;;AAAA,eAJAnT,GAAOG,CAAPH,EAAW,YAAXA,EAAyBG,CAAzBH,EAA6BqS,EAAS7iB,IAAtCwQ,EAA4CsS,EAAQC,GAApDvS,GACIsS,EAAQC,GAARD,CAAYjd,SAAZid,KACAA,EAAQ7H,SAAR6H,GAAoBnb,EAAYmb,EAAQC,GAARD,CAAYjd,SAAxB8B,EAAmCmb,EAAQ7H,SAAR6H,IAAqB,EAAxDnb,CADpBmb,CADJtS,EAIOsS,CAAP;AAGF;;AAAA,eAASe,EAAT,CAAuCjY,CAAvC,EAAuCA;AACrC,YAAIkR,IAAQrW,EAAI,MAAJA,EAAY,GAAZA,EAAsB,gBAAtBA,CAAZ;AAGA,eAFAqW,EAAMgH,KAANhH,GAAc,QAAQlR,EAAGO,UAAHP,CAAc,CAAdA,EAAiBpM,QAAjBoM,CAA0B,EAA1BA,CAAtBkR,EACAA,EAAM9V,YAAN8V,CAAmB,YAAnBA,EAAiCA,EAAMgH,KAAvChH,CADAA,EAEOA,CAAP;AAKF;;AAAA,eAASuG,EAAT,CAAoBP,CAApB,EAA6BjT,CAA7B,EAAmClJ,CAAnC,EAA0Cod,CAA1C,EAAsDC,CAAtD,EAAgEC,CAAhE,EAAqEC,CAArE,EAAqEA;AACnE,YAAKrU,CAAL;AACA,cAEI3N,CAFJ;AAAA,cAAIiiB,IAAcrB,EAAQG,WAARH,GAiEpB,UAAqBjT,CAArB,EAA2BuU,CAA3B,EAA2BA;AACzB,gBAAIvU,EAAK9R,MAAL8R,GAAc,CAAdA,IAAc,CAAM,KAAKzR,IAAL,CAAUyR,CAAV,CAAxB,EAA2C,OAAOA,CAAP;;AAE3C,iBADA,IAAIwU,IAAcD,CAAlB,EAAkChR,IAAS,EAA3C,EACS1X,IAAI,CAAb,EAAgBA,IAAImU,EAAK9R,MAAzB,EAAiCrC,GAAjC,EAAsC;AACpC,kBAAIkQ,IAAKiE,EAAKtD,MAALsD,CAAYnU,CAAZmU,CAAT;AACU,qBAANjE,CAAM,IAANA,CAAayY,CAAP,IAAuB3oB,KAAKmU,EAAK9R,MAAL8R,GAAc,CAAnBnU,IAAkD,MAA1BmU,EAAK1D,UAAL0D,CAAgBnU,IAAI,CAApBmU,CAA/C,KACNjE,IAAK,GADC,GAEVwH,KAAUxH,CAFA,EAGVyY,IAAoB,OAANzY,CAHJ;AAKZ;;AAAA,mBAAOwH,CAAP;AA3EwC6P,WAiE1C,CAjEsDpT,CAiEtD,EAjE4DiT,EAAQE,aAiEpE,CAjEoBF,GAAiEjT,CAAnF;AAAA,cACIyU,IAAUxB,EAAQnS,EAARmS,CAAW3N,KAAX2N,CAAiByB,YAD/B;AAAA,cAC6CC,KAAW,CADxD;;AAGA,cAAKF,EAAQlmB,IAARkmB,CAAazU,CAAbyU,CAAL,EAMO;AACLpiB,gBAAUgC,SAASugB,sBAATvgB,EAAVhC;;AAEA,iBADA,IAAI0I,IAAM,CACV,IAAa;AACX0Z,gBAAQI,SAARJ,GAAoB1Z,CAApB0Z;AACA,kBAAIxoB,IAAIwoB,EAAQxgB,IAARwgB,CAAazU,CAAbyU,CAAR;AAAA,kBACIxZ,IAAUhP,IAAIA,EAAEkK,KAAFlK,GAAU8O,CAAd9O,GAAoB+T,EAAK9R,MAAL8R,GAAcjF,CADhD;;AAEA,kBAAIE,CAAJ,EAAa;AACX,oBAAI+H,IAAM3O,SAAS4C,cAAT5C,CAAwBigB,EAAYpe,KAAZoe,CAAkBvZ,CAAlBuZ,EAAuBvZ,IAAME,CAA7BqZ,CAAxBjgB,CAAV;AACIF,qBAAMC,IAAa,CAAnBD,GAAwB9B,EAAQsE,WAARtE,CAAoBuE,EAAI,MAAJA,EAAY,CAACoM,CAAD,CAAZpM,CAApBvE,CAAxB8B,GACG9B,EAAQsE,WAARtE,CAAoB2Q,CAApB3Q,CADH8B,EAEJ8e,EAAQ9gB,GAAR8gB,CAAYzf,IAAZyf,CAAiBA,EAAQlY,GAAzBkY,EAA8BA,EAAQlY,GAARkY,GAAchY,CAA5CgY,EAAqDjQ,CAArDiQ,CAFI9e,EAGJ8e,EAAQjY,GAARiY,IAAehY,CAHX9G,EAIJ8e,EAAQlY,GAARkY,IAAehY,CAJX9G;AAMN;;AAAA,mBAAKlI,CAAL,EAAU;AACV8O,mBAAOE,IAAU,CAAjBF;AACA,kBAAI+Z,SAAQ,CAAZ;;AACA,kBAAY,QAAR7oB,EAAE,CAAFA,CAAJ,EAAkB;AAChB,oBAAIoN,IAAU4Z,EAAQnS,EAARmS,CAAWtO,OAAXsO,CAAmB5Z,OAAjC;AAAA,oBAA0C0b,IAAW1b,IAAU4Z,EAAQjY,GAARiY,GAAc5Z,CAA7E;AAA6EA,iBAC7Eyb,IAAQziB,EAAQsE,WAARtE,CAAoBuE,EAAI,MAAJA,EAAYyE,EAAS0Z,CAAT1Z,CAAZzE,EAAgC,QAAhCA,CAApBvE,CADqEgH,EAEvElC,YAFuEkC,CAE1D,MAF0DA,EAElD,cAFkDA,GAG7Eyb,EAAM3d,YAAN2d,CAAmB,SAAnBA,EAA8B,IAA9BA,CAH6Ezb,EAI7E4Z,EAAQjY,GAARiY,IAAe8B,CAJ8D1b;AAI9D0b,eALjB,MAMmB,QAAR9oB,EAAE,CAAFA,CAAQ,IAAgB,QAARA,EAAE,CAAFA,CAAR,IAAU,CAC3B6oB,IAAQziB,EAAQsE,WAARtE,CAAoBuE,EAAI,MAAJA,EAAoB,QAAR3K,EAAE,CAAFA,CAAQ,GAAO,GAAP,GAAkB,GAAtC2K,EAAgD,gBAAhDA,CAApBvE,CADmB,EAErB8E,YAFqB,CAER,SAFQ,EAEGlL,EAAE,CAAFA,CAFH,GAG3BgnB,EAAQjY,GAARiY,IAAe,CAHE,KAGF,CAEf6B,IAAQ7B,EAAQnS,EAARmS,CAAWtO,OAAXsO,CAAmB+B,sBAAnB/B,CAA0ChnB,EAAE,CAAFA,CAA1CgnB,CAFO,EAGT9b,YAHS,CAGI,SAHJ,EAGelL,EAAE,CAAFA,CAHf,GAIXkI,KAAMC,IAAa,CAAnBD,GAAwB9B,EAAQsE,WAARtE,CAAoBuE,EAAI,MAAJA,EAAY,CAACke,CAAD,CAAZle,CAApBvE,CAAxB8B,GACG9B,EAAQsE,WAARtE,CAAoByiB,CAApBziB,CALQ,EAMf4gB,EAAQjY,GAARiY,IAAe,CATE;;AAWnBA,gBAAQ9gB,GAAR8gB,CAAYzf,IAAZyf,CAAiBA,EAAQlY,GAAzBkY,EAA8BA,EAAQlY,GAARkY,GAAc,CAA5CA,EAA+C6B,CAA/C7B,GACAA,EAAQlY,GAARkY,EADAA;AACQlY;AAAAA,WA1CZ,MACEkY,EAAQjY,GAARiY,IAAejT,EAAK9R,MAApB+kB,EACA5gB,IAAUgC,SAAS4C,cAAT5C,CAAwBigB,CAAxBjgB,CADV4e,EAEAA,EAAQ9gB,GAAR8gB,CAAYzf,IAAZyf,CAAiBA,EAAQlY,GAAzBkY,EAA8BA,EAAQlY,GAARkY,GAAcjT,EAAK9R,MAAjD+kB,EAAyD5gB,CAAzD4gB,CAFAA,EAGI9e,KAAMC,IAAa,CAAnBD,KAAwBwgB,KAAW,CAAnCxgB,CAHJ8e,EAIAA,EAAQlY,GAARkY,IAAejT,EAAK9R,MAJpB+kB;;AA6CF,cADAA,EAAQE,aAARF,GAAmE,MAA3CqB,EAAYhY,UAAZgY,CAAuBtU,EAAK9R,MAAL8R,GAAc,CAArCsU,CAAxBrB,EACInc,KAASod,CAATpd,IAAuBqd,CAAvBrd,IAAmC6d,CAAnC7d,IAA+Csd,CAAnD,EAAwD;AACtD,gBAAIa,IAAYne,KAAS,EAAzB;AACIod,kBAAce,KAAaf,CAA3BA,GACAC,MAAYc,KAAad,CAAzBA,CADAD;AAEJ,gBAAIjH,IAAQrW,EAAI,MAAJA,EAAY,CAACvE,CAAD,CAAZuE,EAAuBqe,CAAvBre,EAAkCwd,CAAlCxd,CAAZ;AACA,gBAAIyd,CAAJ,EACE,KAAK,IAAIa,CAAT,IAAiBb,CAAjB,EAAmCA,EAAW1mB,cAAX0mB,CAA0Ba,CAA1Bb,KAA2C,WAARa,CAAnCb,IAA8D,WAARa,CAAtDb,IAC/BpH,EAAM9V,YAAN8V,CAAmBiI,CAAnBjI,EAAyBoH,EAAWa,CAAXb,CAAzBpH,CAD+BoH;AAGrC,mBAAOpB,EAAQ5gB,OAAR4gB,CAAgBtc,WAAhBsc,CAA4BhG,CAA5BgG,CAAP;AAEFA;;AAAAA,YAAQ5gB,OAAR4gB,CAAgBtc,WAAhBsc,CAA4B5gB,CAA5B4gB;AAA4B5gB;AAoB9B;;AAAA,eAASohB,EAAT,CAA2B7J,CAA3B,EAAkCvM,CAAlC,EAAkCA;AAChC,eAAO,UAAU4V,CAAV,EAAmBjT,CAAnB,EAAyBlJ,CAAzB,EAAgCod,CAAhC,EAA4CC,CAA5C,EAAsDC,CAAtD,EAA2DC,CAA3D,EAA2DA;AAChEvd,cAAQA,IAAQA,IAAQ,kBAAhBA,GAAqC,iBAA7CA;;AAEA,eADA,IAAItG,IAAQyiB,EAAQlY,GAApB,EAAyBtK,IAAMD,IAAQwP,EAAK9R,MAC5C,IAAS;AAGP,iBADA,IAAIinB,SAAO,CAAX,EACStpB,IAAI,CAAb,EAAgBA,IAAIwR,EAAMnP,MAAVrC,IAAUqC,GACxBinB,IAAO9X,EAAMxR,CAANwR,CADiBnP,EAEf4O,EAFe5O,GAEVsC,CAFUtC,IAEDinB,EAAKtY,IAALsY,IAAa3kB,CAFZtC,CAA1B,EAAkCrC,GAAlC,CAAkCA;;AAIlC,gBAAIspB,EAAKrY,EAALqY,IAAW1kB,CAAf,EAAsB,OAAOmZ,EAAMqJ,CAANrJ,EAAe5J,CAAf4J,EAAqB9S,CAArB8S,EAA4BsK,CAA5BtK,EAAwCuK,CAAxCvK,EAAkDwK,CAAlDxK,EAAuDyK,CAAvDzK,CAAP;AACtBA,cAAMqJ,CAANrJ,EAAe5J,EAAK9J,KAAL8J,CAAW,CAAXA,EAAcmV,EAAKrY,EAALqY,GAAU3kB,CAAxBwP,CAAf4J,EAA+C9S,CAA/C8S,EAAsDsK,CAAtDtK,EAAkE,IAAlEA,EAAwEwK,CAAxExK,EAA6EyK,CAA7EzK,GACAsK,IAAa,IADbtK,EAEA5J,IAAOA,EAAK9J,KAAL8J,CAAWmV,EAAKrY,EAALqY,GAAU3kB,CAArBwP,CAFP4J,EAGApZ,IAAQ2kB,EAAKrY,EAHb8M;AAGa9M;AAAAA,SAdjB;AAmBF;;AAAA,eAASsY,EAAT,CAA4BnC,CAA5B,EAAqC3M,CAArC,EAA2C4H,CAA3C,EAAmDmH,CAAnD,EAAmDA;AACjD,YAAIC,KAAUD,CAAVC,IAA0BpH,EAAO4D,UAArC;AACIwD,aAAUrC,EAAQ9gB,GAAR8gB,CAAYzf,IAAZyf,CAAiBA,EAAQlY,GAAzBkY,EAA8BA,EAAQlY,GAARkY,GAAc3M,CAA5C2M,EAAkDqC,CAAlDrC,CAAVqC,EAA4DA,CAC3DD,CAD2DC,IAC3CrC,EAAQnS,EAARmS,CAAWjH,OAAXiH,CAAmBsC,KAAnBtC,CAAyBuC,qBADkBF,KAEzDA,MACDA,IAASrC,EAAQ5gB,OAAR4gB,CAAgBtc,WAAhBsc,CAA4B5e,SAAS0C,aAAT1C,CAAuB,MAAvBA,CAA5B4e,CADRqC,GAELA,EAAOne,YAAPme,CAAoB,WAApBA,EAAiCpH,EAAO5e,EAAxCgmB,CAJ8DA,CAA5DA,EAMAA,MACFrC,EAAQnS,EAARmS,CAAWjH,OAAXiH,CAAmBsC,KAAnBtC,CAAyBwC,aAAzBxC,CAAuCqC,CAAvCrC,GACAA,EAAQ5gB,OAAR4gB,CAAgBtc,WAAhBsc,CAA4BqC,CAA5BrC,CAFEqC,CANAA,EAUJrC,EAAQlY,GAARkY,IAAe3M,CAVXgP,EAWJrC,EAAQE,aAARF,GAAQE,CAAgB,CAXpBmC;AAgBN;;AAAA,eAAS5B,EAAT,CAA2BvjB,CAA3B,EAAiC8iB,CAAjC,EAA0ChI,CAA1C,EAA0CA;AACxC,YAAImD,IAAQje,EAAKwe,WAAjB;AAAA,YAA8B+G,IAAUvlB,EAAK6P,IAA7C;AAAA,YAAmDP,IAAK,CAAxD;AACA,YAAK2O,CAAL,EAQA,KAFA,IAAqDtX,CAArD,EAA4Dsd,CAA5D,EACoBuB,CADpB,EAC+BC,CAD/B,EAC6CC,CAD7C,EAC6D5E,CAD7D,EACwEoD,CADxE,EAAIpmB,IAAMynB,EAAQxnB,MAAlB,EAA0B6M,IAAM,CAAhC,EAAmClP,IAAI,CAAvC,EAA0CmU,IAAO,EAAjD,EACI8V,IAAa,CACjB,IAAS;AACP,cAAIA,KAAc/a,CAAlB,EAAuB;AACrB4a,gBAAYC,IAAeC,IAAiBzB,IAAM,EAAlDuB,EACAtB,IAAa,IADbsB,EAEA1E,IAAY,IAFZ0E,EAEkBG,IAAaC,KAF/BJ;;AAIA,iBADA,IAAIK,IAAiB,EAArB,EAAyBC,SAAY,CAArC,EACSlX,IAAI,CAAb,EAAgBA,IAAIqP,EAAMlgB,MAA1B,EAA0BA,EAAU6Q,CAApC,EAAuC;AACrC,kBAAIiS,IAAK5C,EAAMrP,CAANqP,CAAT;AAAA,kBAAmBniB,IAAI+kB,EAAG9C,MAA1B;AACA,kBAAc,cAAVjiB,EAAEsS,IAAQ,IAAcyS,EAAGnU,IAAHmU,IAAWjW,CAAzB,IAAgC9O,EAAE6lB,UAAhD,EACEkE,EAAexiB,IAAfwiB,CAAoB/pB,CAApB+pB,EADF,KAEO,IAAIhF,EAAGnU,IAAHmU,IAAWjW,CAAXiW,KAA4B,QAATA,EAAGlU,EAAM,IAAQkU,EAAGlU,EAAHkU,GAAQjW,CAAhB,IAAuB9O,EAAEglB,SAAFhlB,IAAe+kB,EAAGlU,EAAHkU,IAASjW,CAAxB9O,IAA+B+kB,EAAGnU,IAAHmU,IAAWjW,CAA7FiW,CAAJ,EAAuG;AAY5G,oBAXa,QAATA,EAAGlU,EAAM,IAAQkU,EAAGlU,EAAHkU,IAASjW,CAAjB,IAAwB+a,IAAa9E,EAAGlU,EAAxC,KACXgZ,IAAa9E,EAAGlU,EAAhBgZ,EACAF,IAAe,EAFJ,GAIT3pB,EAAE+J,SAAF/J,KAAe0pB,KAAa,MAAM1pB,EAAE+J,SAApC/J,CAJS,EAKTA,EAAEmoB,GAAFnoB,KAASmoB,KAAOA,IAAMA,IAAM,GAAZA,GAAkB,EAAzBA,IAA+BnoB,EAAEmoB,GAA1CnoB,CALS,EAMTA,EAAEioB,UAAFjoB,IAAgB+kB,EAAGnU,IAAHmU,IAAWjW,CAA3B9O,KAAkC4pB,KAAkB,MAAM5pB,EAAEioB,UAA5DjoB,CANS,EAOTA,EAAEkoB,QAAFloB,IAAc+kB,EAAGlU,EAAHkU,IAAS8E,CAAvB7pB,IAAuB6pB,CAAeG,MAAcA,IAAY,EAA1BA,CAAfH,EAA8CtiB,IAA9CsiB,CAAmD7pB,EAAEkoB,QAArD2B,EAA+D9E,EAAGlU,EAAlEgZ,CAPd,EAUT7pB,EAAEgoB,KAAFhoB,KAAEgoB,CAAUI,MAAeA,IAAa,EAA5BA,CAAVJ,EAA2CA,KAA3CA,GAAmDhoB,EAAEgoB,KAAvDhoB,CAVS,EAWTA,EAAEooB,UAAN,EACE,KAAK,IAAIa,CAAT,IAAiBjpB,EAAEooB,UAAnB,EAAmBA,CACdA,MAAeA,IAAa,EAA5BA,CADcA,EACmBa,CADnBb,IAC2BpoB,EAAEooB,UAAFpoB,CAAaipB,CAAbjpB,CAD3BooB;AAGjBpoB,kBAAEglB,SAAFhlB,KAAEglB,CAAeA,CAAfA,IAA4BV,GAAwBU,EAAU/C,MAAlCqC,EAA0CtkB,CAA1CskB,IAA+C,CAA7EtkB,MACAglB,IAAYD,CADZ/kB;AACY+kB,eAjBX,MAkBIA,EAAGnU,IAAHmU,GAAUjW,CAAViW,IAAiB8E,IAAa9E,EAAGnU,IAAjCmU,KACT8E,IAAa9E,EAAGnU,IADPmU;AAIb;;AAAA,gBAAIiF,CAAJ,EAAiB,KAAK,IAAI1W,IAAM,CAAf,EAAkBA,IAAM0W,EAAU/nB,MAAlC,EAA0CqR,KAAO,CAAjD,EACT0W,EAAU1W,IAAM,CAAhB0W,KAAsBH,CAAtBG,KAAoCL,KAAgB,MAAMK,EAAU1W,CAAV0W,CAA1DA;AAER,iBAAKhF,CAAL,IAAkBA,EAAUpU,IAAVoU,IAAkBlW,CAApC,EAA2C,KAAK,IAAI2E,IAAM,CAAf,EAAkBA,IAAMsW,EAAe9nB,MAAvC,EAAuCA,EAAUwR,CAAjD,EACvC0V,GAAmBnC,CAAnBmC,EAA4B,CAA5BA,EAA+BY,EAAetW,CAAfsW,CAA/BZ;;AACJ,gBAAInE,MAAcA,EAAUpU,IAAVoU,IAAkB,CAAhCA,KAAsClW,CAA1C,EAA+C;AAG7C,kBAFAqa,GAAmBnC,CAAnBmC,EAAmBnC,CAA0B,QAAhBhC,EAAUnU,EAAM,GAAO7O,IAAM,CAAb,GAAiBgjB,EAAUnU,EAArDmW,IAA2DlY,CAA9Eqa,EACmBnE,EAAU/C,MAD7BkH,EACuD,QAAlBnE,EAAUpU,IAD/CuY,GAEoB,QAAhBnE,EAAUnU,EAAd,EAA4B;AACxBmU,gBAAUnU,EAAVmU,IAAgBlW,CAAhBkW,KAAuBA,KAAY,CAAnCA;AAAmC;AAG3C;;AAAA,cAAIlW,KAAO9M,CAAX,EAAkB;;AAGlB,eADA,IAAIioB,IAAOhb,KAAKC,GAALD,CAASjN,CAATiN,EAAc4a,CAAd5a,CACX,IAAa;AACX,gBAAI8E,CAAJ,EAAU;AACR,kBAAIvP,IAAMsK,IAAMiF,EAAK9R,MAArB;;AACA,mBAAK+iB,CAAL,EAAgB;AACd,oBAAIkF,IAAY1lB,IAAMylB,CAANzlB,GAAauP,EAAK9J,KAAL8J,CAAW,CAAXA,EAAckW,IAAOnb,CAArBiF,CAAbvP,GAAyCuP,CAAzD;AACAiT,kBAAQM,QAARN,CAAiBA,CAAjBA,EAA0BkD,CAA1BlD,EAAqCnc,IAAQA,IAAQ6e,CAAhB7e,GAA4B6e,CAAjE1C,EACiB4C,CADjB5C,EACiClY,IAAMob,EAAUjoB,MAAhB6M,IAA0B+a,CAA1B/a,GAAuC6a,CAAvC7a,GAAsD,EADvFkY,EAC2FmB,CAD3FnB,EACgGoB,CADhGpB;AAGF;;AAAA,kBAAIxiB,KAAOylB,CAAX,EAAiB;AAAClW,oBAAOA,EAAK9J,KAAL8J,CAAWkW,IAAOnb,CAAlBiF,CAAPA,EAA+BjF,IAAMmb,CAArClW;AAA2C;AAC7DjF;;AAAAA,kBAAMtK,CAANsK,EACA8a,IAAiB,EADjB9a;AAGFiF;;AAAAA,gBAAO0V,EAAQxf,KAARwf,CAAcjW,CAAdiW,EAAkBjW,IAAKwL,EAAOpf,GAAPof,CAAvByK,CAAP1V,EACAlJ,IAAQ+b,GAAoB5H,EAAOpf,GAAPof,CAApB4H,EAAiCI,EAAQnS,EAARmS,CAAWtO,OAA5CkO,CADR7S;AACoD2E;AAAAA,SApExD,MACE,KAAK,IAAItG,IAAM,CAAf,EAAkBA,IAAM4M,EAAO/c,MAA/B,EAAuCmQ,KAAK,CAA5C,EACI4U,EAAQM,QAARN,CAAiBA,CAAjBA,EAA0ByC,EAAQxf,KAARwf,CAAcjW,CAAdiW,EAAkBjW,IAAKwL,EAAO5M,CAAP4M,CAAvByK,CAA1BzC,EAA+DJ,GAAoB5H,EAAO5M,IAAI,CAAX4M,CAApB4H,EAAmCI,EAAQnS,EAARmS,CAAWtO,OAA9CkO,CAA/DI;AA2ER;;AAAA,eAASmD,EAAT,CAAkBhQ,CAAlB,EAAuBjW,CAAvB,EAA6BshB,CAA7B,EAA6BA;AAE3B5gB,aAAKV,IAALU,GAAYV,CAAZU,EAEAA,KAAKyiB,IAALziB,GAjbF,UAA6BV,CAA7B,EAA6BA;AAE3B,eADA,IAAIohB,CAAJ,EAAY/K,CACZ,EAAO+K,IAASJ,GAAmBhhB,CAAnBghB,CAAhB,GACEhhB,IAAOohB,EAAOb,IAAPa,CAAY,CAAZA,EAAY,CAAG,CAAfA,EAAqBphB,IAA5BA,EAA4BA,CAC1BqW,MAAUA,IAAQ,EAAlBA,CAD0BrW,EACHqD,IADGrD,CACEA,CADFA,CAA5BA;;AAGF,iBAAOqW,CAAP;AA2aY6P,SAjbd,CAibkClmB,CAjblC,CA+aEU,EAIAA,KAAKyV,IAALzV,GAAYA,KAAKyiB,IAALziB,GAAYqW,GAAO5L,EAAIzK,KAAKyiB,IAAThY,CAAP4L,IAAyBuK,CAAzBvK,GAAiC,CAA7CrW,GAAiD,CAJ7DA,EAKAA,KAAKZ,IAALY,GAAYA,KAAKmP,IAALnP,GAAY,IALxBA,EAMAA,KAAKylB,MAALzlB,GAAcghB,GAAazL,CAAbyL,EAAkB1hB,CAAlB0hB,CANdhhB;AAUF;;AAAA,eAAS0lB,EAAT,CAAwBzV,CAAxB,EAA4BjE,CAA5B,EAAkCC,CAAlC,EAAkCA;AAEhC,aADA,IAAgB0Z,CAAhB,EAAIxoB,IAAQ,EAAZ,EACS+M,IAAM8B,CAAf,EAAqB9B,IAAM+B,CAA3B,EAA+B/B,IAAMyb,CAArC,EAA8C;AAC5C,cAAIC,IAAO,IAAIL,EAAJ,CAAatV,EAAGsF,GAAhB,EAAqBD,GAAQrF,EAAGsF,GAAXD,EAAgBpL,CAAhBoL,CAArB,EAA2CpL,CAA3C,CAAX;AACAyb,cAAUzb,IAAM0b,EAAKnQ,IAArBkQ,EACAxoB,EAAMwF,IAANxF,CAAWyoB,CAAXzoB,CADAwoB;AAGF;;AAAA,eAAOxoB,CAAP;AAGF;;AAAA,UAAI0oB,KAAiB,IAArB;AAAA,UAwCIC,KAAyB,IAxC7B;;AAiDA,eAASC,EAAT,CAAqBzW,CAArB,EAA8B5B,CAA9B,EAA8BA;AAC5B,YAAIhD,IAAMgF,GAAYJ,CAAZI,EAAqBhC,CAArBgC,CAAV;;AACA,YAAKhF,EAAIrN,MAAT;AACA,cAAqDgE,CAArD;AAAA,cAAI6G,IAAOlJ,MAAMnC,SAANmC,CAAgBqG,KAAhBrG,CAAsB7D,IAAtB6D,CAA2BH,SAA3BG,EAAsC,CAAtCA,CAAX;AACI6mB,eACFxkB,IAAOwkB,GAAeG,gBADpBH,GAEOC,KACTzkB,IAAOykB,EADEA,IAGTzkB,IAAOykB,KAAyB,EAAhCzkB,EACAiI,WAAW2c,EAAX3c,EAA8B,CAA9BA,CAJSwc,CAFPD;;AAYJ,eAJA,IAAI9L,IAAO,UAAW/e,CAAX,EAAWA;AACpBqG,cAAKsB,IAALtB,CAAU;AAAc,qBAAOqJ,EAAI1P,CAAJ0P,EAAOvC,KAAPuC,CAAa,IAAbA,EAAmBxC,CAAnBwC,CAAP;AAA0BxC,aAAlD7G;AAAkD6G,WADpD,EAISlN,IAAI,CAAb,EAAgBA,IAAI0P,EAAIrN,MAAxB,EAAwBA,EAAUrC,CAAlC,EACE+e,EAAM/e,CAAN+e;AAAM/e;AAGV;;AAAA,eAASirB,EAAT,GAASA;AACP,YAAIC,IAAUJ,EAAd;AACAA,aAAyB,IAAzBA;;AACA,aAAK,IAAI9qB,IAAI,CAAb,EAAgBA,IAAIkrB,EAAQ7oB,MAA5B,EAA4BA,EAAUrC,CAAtC,EAA2CkrB,EAAQlrB,CAARkrB;AAM7C;;AAAA,eAASC,EAAT,CAA8BlW,CAA9B,EAAkCkS,CAAlC,EAA4CvB,CAA5C,EAAmDwF,CAAnD,EAAmDA;AACjD,aAAK,IAAIlY,IAAI,CAAb,EAAgBA,IAAIiU,EAASkE,OAATlE,CAAiB9kB,MAArC,EAA6C6Q,GAA7C,EAAkD;AAChD,cAAIR,IAAOyU,EAASkE,OAATlE,CAAiBjU,CAAjBiU,CAAX;AACY,oBAARzU,CAAQ,GAAU4Y,GAAerW,CAAfqW,EAAmBnE,CAAnBmE,CAAV,GACK,YAAR5Y,CAAQ,GAAY6Y,GAAiBtW,CAAjBsW,EAAqBpE,CAArBoE,EAA+B3F,CAA/B2F,EAAsCH,CAAtCG,CAAZ,GACA,WAAR7Y,CAAQ,GAAW8Y,GAAkBvW,CAAlBuW,EAAsBrE,CAAtBqE,CAAX,GACA,YAAR9Y,CAAQ,IAAY+Y,GAAkBxW,CAAlBwW,EAAsBtE,CAAtBsE,EAAgCL,CAAhCK,CAHjB;AAKdtE;;AAAAA,UAASkE,OAATlE,GAAmB,IAAnBA;AAKF;;AAAA,eAASuE,EAAT,CAA2BvE,CAA3B,EAA2BA;AAQzB,eAPIA,EAAS/iB,IAAT+iB,IAAiBA,EAAShT,IAA1BgT,KACFA,EAAS/iB,IAAT+iB,GAAgBpc,EAAI,KAAJA,EAAW,IAAXA,EAAiB,IAAjBA,EAAuB,oBAAvBA,CAAhBoc,EACIA,EAAShT,IAATgT,CAAczb,UAAdyb,IACAA,EAAShT,IAATgT,CAAczb,UAAdyb,CAAyBwE,YAAzBxE,CAAsCA,EAAS/iB,IAA/C+iB,EAAqDA,EAAShT,IAA9DgT,CAFJA,EAGAA,EAAS/iB,IAAT+iB,CAAcrc,WAAdqc,CAA0BA,EAAShT,IAAnCgT,CAHAA,EAII7e,KAAMC,IAAa,CAAnBD,KAAwB6e,EAAS/iB,IAAT+iB,CAAclc,KAAdkc,CAAoByE,MAApBzE,GAA6B,CAArD7e,CALF6e,GAOGA,EAAS/iB,IAAhB;AAkBF;;AAAA,eAASynB,EAAT,CAAwB5W,CAAxB,EAA4BkS,CAA5B,EAA4BA;AAC1B,YAAI2E,IAAM7W,EAAGkL,OAAHlL,CAAW6S,gBAArB;AACA,eAAIgE,KAAOA,EAAIxnB,IAAJwnB,IAAY3E,EAAS7iB,IAA5BwnB,IACF7W,EAAGkL,OAAHlL,CAAW6S,gBAAX7S,GAA8B,IAA9BA,EACAkS,EAASpQ,OAAToQ,GAAmB2E,EAAI/U,OADvB9B,EAEO6W,EAAIC,KAHTD,IAKG5E,GAAiBjS,CAAjBiS,EAAqBC,CAArBD,CALP;AAWF;;AAAA,eAASoE,EAAT,CAAwBrW,CAAxB,EAA4BkS,CAA5B,EAA4BA;AAC1B,YAAIrd,IAAMqd,EAAShT,IAATgT,CAAchd,SAAxB;AAAA,YACI4hB,IAAQF,GAAe5W,CAAf4W,EAAmB1E,CAAnB0E,CADZ;AAEI1E,UAAShT,IAATgT,IAAiBA,EAAS/iB,IAA1B+iB,KAAkCA,EAAS/iB,IAAT+iB,GAAgB4E,EAAM1E,GAAxDF,GACJA,EAAShT,IAATgT,CAAczb,UAAdyb,CAAyBwE,YAAzBxE,CAAsC4E,EAAM1E,GAA5CF,EAAiDA,EAAShT,IAA1DgT,CADIA,EAEJA,EAAShT,IAATgT,GAAgB4E,EAAM1E,GAFlBF,EAGA4E,EAAMzM,OAANyM,IAAiB5E,EAAS7H,OAA1ByM,IAAqCA,EAAMxM,SAANwM,IAAmB5E,EAAS5H,SAAjEwM,IACF5E,EAAS7H,OAAT6H,GAAmB4E,EAAMzM,OAAzB6H,EACAA,EAAS5H,SAAT4H,GAAqB4E,EAAMxM,SAD3B4H,EAEAqE,GAAkBvW,CAAlBuW,EAAsBrE,CAAtBqE,CAHEO,IAIOjiB,MACTqd,EAAShT,IAATgT,CAAchd,SAAdgd,GAA0Brd,CADjBA,CAPPqd;AAYN;;AAAA,eAASqE,EAAT,CAA2BvW,CAA3B,EAA+BkS,CAA/B,EAA+BA;AAAAA,SA3C/B,UAA8BlS,CAA9B,EAAkCkS,CAAlC,EAAkCA;AAChC,cAAIrd,IAAMqd,EAAS7H,OAAT6H,GAAmBA,EAAS7H,OAAT6H,GAAmB,GAAnBA,IAA0BA,EAAS7iB,IAAT6iB,CAAc7H,OAAd6H,IAAyB,EAAnDA,CAAnBA,GAA4EA,EAAS7iB,IAAT6iB,CAAc7H,OAApG;AAEA,cADIxV,MAAOA,KAAO,4BAAdA,GACAqd,EAAS6E,UAAb,EACMliB,IAAOqd,EAAS6E,UAAT7E,CAAoBhd,SAApBgd,GAAgCrd,CAAvCA,IACGqd,EAAS6E,UAAT7E,CAAoBzb,UAApByb,CAA+Bzc,WAA/Byc,CAA2CA,EAAS6E,UAApD7E,GAAiEA,EAAS6E,UAAT7E,GAAsB,IAD1Frd,EADN,KAGO,IAAIA,CAAJ,EAAS;AACd,gBAAImiB,IAAOP,GAAkBvE,CAAlBuE,CAAX;AACAvE,cAAS6E,UAAT7E,GAAsB8E,EAAKC,YAALD,CAAkBlhB,EAAI,KAAJA,EAAW,IAAXA,EAAiBjB,CAAjBiB,CAAlBkhB,EAAyCA,EAAKthB,UAA9CshB,CAAtB9E,EACAlS,EAAGkL,OAAHlL,CAAWyU,KAAXzU,CAAiB2U,aAAjB3U,CAA+BkS,EAAS6E,UAAxC/W,CADAkS;AACwC6E;AAmC1CG,SA5CF,CA4CuBlX,CA5CvB,EA4C2BkS,CA5C3B,CA2C+BA,EAEzBA,EAAS7iB,IAAT6iB,CAAciF,SAAdjF,GACAuE,GAAkBvE,CAAlBuE,EAA4BvhB,SAA5BuhB,GAAwCvE,EAAS7iB,IAAT6iB,CAAciF,SADtDjF,GAEKA,EAAS/iB,IAAT+iB,IAAiBA,EAAShT,IAA1BgT,KACLA,EAAS/iB,IAAT+iB,CAAchd,SAAdgd,GAA0B,EADrBA,CAJoBA;AAM7B,YAAI5H,IAAY4H,EAAS5H,SAAT4H,GAAqBA,EAAS5H,SAAT4H,GAAqB,GAArBA,IAA4BA,EAAS7iB,IAAT6iB,CAAc5H,SAAd4H,IAA2B,EAAvDA,CAArBA,GAAkFA,EAAS7iB,IAAT6iB,CAAc5H,SAAhH;AACA4H,UAAShT,IAATgT,CAAchd,SAAdgd,GAA0B5H,KAAa,EAAvC4H;AAGF;;AAAA,eAASoE,EAAT,CAA0BtW,CAA1B,EAA8BkS,CAA9B,EAAwCvB,CAAxC,EAA+CwF,CAA/C,EAA+CA;AAS7C,YARIjE,EAASkF,MAATlF,KACFA,EAAS/iB,IAAT+iB,CAAczc,WAAdyc,CAA0BA,EAASkF,MAAnClF,GACAA,EAASkF,MAATlF,GAAkB,IAFhBA,GAIAA,EAASmF,gBAATnF,KACFA,EAAS/iB,IAAT+iB,CAAczc,WAAdyc,CAA0BA,EAASmF,gBAAnCnF,GACAA,EAASmF,gBAATnF,GAA4B,IAF1BA,CAJAA,EAQAA,EAAS7iB,IAAT6iB,CAAcoF,WAAlB,EAA+B;AAC7B,cAAIN,IAAOP,GAAkBvE,CAAlBuE,CAAX;AACAvE,YAASmF,gBAATnF,GAA4Bpc,EAAI,KAAJA,EAAW,IAAXA,EAAiB,kCAAkCoc,EAAS7iB,IAAT6iB,CAAcoF,WAAjExhB,EACK,YAAYkK,EAAG6D,OAAH7D,CAAWuX,WAAXvX,GAAyBmW,EAAKqB,QAA9BxX,GAA8BwX,CAAYrB,EAAKsB,gBAA3D,IAA+E,aAA/E,GAAgGtB,EAAqBsB,gBAArH,GAAyH,IAD9H3hB,CAA5Boc,EAEAlS,EAAGkL,OAAHlL,CAAWyU,KAAXzU,CAAiB2U,aAAjB3U,CAA+BkS,EAASmF,gBAAxCrX,CAFAkS,EAGA8E,EAAKC,YAALD,CAAkB9E,EAASmF,gBAA3BL,EAA6C9E,EAAShT,IAAtD8X,CAHA9E;AAKF;;AAAA,YAAIwF,IAAUxF,EAAS7iB,IAAT6iB,CAAcyF,aAA5B;;AACA,YAAI3X,EAAG6D,OAAH7D,CAAW4X,WAAX5X,IAA0B0X,CAA9B,EAAuC;AACrC,cAAIG,IAASpB,GAAkBvE,CAAlBuE,CAAb;AAAA,cACIqB,IAAa5F,EAASkF,MAATlF,GAAkBpc,EAAI,KAAJA,EAAW,IAAXA,EAAiB,2BAAjBA,EAA+C,YAAYkK,EAAG6D,OAAH7D,CAAWuX,WAAXvX,GAAyBmW,EAAKqB,QAA9BxX,GAA8BwX,CAAYrB,EAAKsB,gBAA3D,IAA+E,IAA9H3hB,CADnC;AAWA,cATAkK,EAAGkL,OAAHlL,CAAWyU,KAAXzU,CAAiB2U,aAAjB3U,CAA+B8X,CAA/B9X,GACA6X,EAAOZ,YAAPY,CAAoBC,CAApBD,EAAgC3F,EAAShT,IAAzC2Y,CADA7X,EAEIkS,EAAS7iB,IAAT6iB,CAAcoF,WAAdpF,KACA4F,EAAW5iB,SAAX4iB,IAAwB,MAAM5F,EAAS7iB,IAAT6iB,CAAcoF,WAD5CpF,CAFJlS,EAGgDsX,CAC5CtX,EAAG6D,OAAH7D,CAAW4X,WADiCN,IAChBI,KAAYA,EAAQ,wBAARA,CADIJ,KAE5CpF,EAAShiB,UAATgiB,GAAsB4F,EAAWjiB,WAAXiiB,CACtBhiB,EAAI,KAAJA,EAAW6Q,GAAc3G,EAAG6D,OAAjB8C,EAA0BgK,CAA1BhK,CAAX7Q,EACI,6CADJA,EAEK,WAAYqgB,EAAK4B,UAAL5B,CAAgB,wBAAhBA,CAAZ,GAAyD,aAAzD,GAA0EnW,EAAGkL,OAAHlL,CAA4BgY,iBAAtG,GAA0G,IAF/GliB,CADsBgiB,CAFsBR,CAHhDtX,EASI0X,CAAJ,EAAe,KAAK,IAAIO,IAAI,CAAb,EAAgBA,IAAIjY,EAAGkL,OAAHlL,CAAWkY,WAAXlY,CAAuB5S,MAA3C,EAA2CA,EAAU6qB,CAArD,EAAwD;AACrE,gBAAIzpB,IAAKwR,EAAGkL,OAAHlL,CAAWkY,WAAXlY,CAAuBiY,CAAvBjY,EAA0B9K,SAAnC;AAAA,gBAA8CuH,IAAQib,EAAQ7qB,cAAR6qB,CAAuBlpB,CAAvBkpB,KAA8BA,EAAQlpB,CAARkpB,CAApF;AACIjb,iBACAqb,EAAWjiB,WAAXiiB,CAAuBhiB,EAAI,KAAJA,EAAW,CAAC2G,CAAD,CAAX3G,EAAoB,uBAApBA,EACG,WAAYqgB,EAAK4B,UAAL5B,CAAgB3nB,CAAhB2nB,CAAZ,GAAmC,aAAnC,GAAoDA,EAAKgC,WAALhC,CAAiB3nB,CAAjB2nB,CAApD,GAA4E,IAD/ErgB,CAAvBgiB,CADArb;AAEsG;AAAA;AAKhH;;AAAA,eAAS+Z,EAAT,CAA2BxW,CAA3B,EAA+BkS,CAA/B,EAAyCiE,CAAzC,EAAyCA;AACnCjE,UAASkG,SAATlG,KAAsBA,EAASkG,SAATlG,GAAqB,IAA3CA;;AAEJ,aADA,IAAImG,IAAWzjB,EAAU,uBAAVA,CAAf,EACSzF,IAAO+iB,EAAS/iB,IAAT+iB,CAAcxc,UAD9B,EAC0CsS,SAAO,CAAjD,EAA2D7Y,CAA3D,EAAiEA,IAAO6Y,CAAxE,EACEA,IAAO7Y,EAAKmpB,WAAZtQ,EACIqQ,EAAS5qB,IAAT4qB,CAAclpB,EAAK+F,SAAnBmjB,KAAiCnG,EAAS/iB,IAAT+iB,CAAczc,WAAdyc,CAA0B/iB,CAA1B+iB,CADrClK;;AAGFuQ,WAAkBvY,CAAlBuY,EAAsBrG,CAAtBqG,EAAgCpC,CAAhCoC;AAIF;;AAAA,eAASC,EAAT,CAA0BxY,CAA1B,EAA8BkS,CAA9B,EAAwCvB,CAAxC,EAA+CwF,CAA/C,EAA+CA;AAC7C,YAAIW,IAAQF,GAAe5W,CAAf4W,EAAmB1E,CAAnB0E,CAAZ;AAQA,eAPA1E,EAAShT,IAATgT,GAAgBA,EAAS/iB,IAAT+iB,GAAgB4E,EAAM1E,GAAtCF,EACI4E,EAAMzM,OAANyM,KAAiB5E,EAAS7H,OAAT6H,GAAmB4E,EAAMzM,OAA1CyM,CADJ5E,EAEI4E,EAAMxM,SAANwM,KAAmB5E,EAAS5H,SAAT4H,GAAqB4E,EAAMxM,SAA9CwM,CAFJ5E,EAIAqE,GAAkBvW,CAAlBuW,EAAsBrE,CAAtBqE,CAJArE,EAKAoE,GAAiBtW,CAAjBsW,EAAqBpE,CAArBoE,EAA+B3F,CAA/B2F,EAAsCH,CAAtCG,CALApE,EAMAqG,GAAkBvY,CAAlBuY,EAAsBrG,CAAtBqG,EAAgCpC,CAAhCoC,CANArG,EAOOA,EAAS/iB,IAAhB;AAKF;;AAAA,eAASopB,EAAT,CAA2BvY,CAA3B,EAA+BkS,CAA/B,EAAyCiE,CAAzC,EAAyCA;AAEvC,YADAsC,GAAqBzY,CAArByY,EAAyBvG,EAAS7iB,IAAlCopB,EAAwCvG,CAAxCuG,EAAkDtC,CAAlDsC,EAAkDtC,CAAM,CAAxDsC,GACIvG,EAASM,IAAb,EAAqB,KAAK,IAAIznB,IAAI,CAAb,EAAgBA,IAAImnB,EAASM,IAATN,CAAc9kB,MAAlC,EAA0CrC,GAA1C,EACjB0tB,GAAqBzY,CAArByY,EAAyBvG,EAASM,IAATN,CAAcnnB,CAAdmnB,CAAzBuG,EAA2CvG,CAA3CuG,EAAqDtC,CAArDsC,EAAqDtC,CAAM,CAA3DsC;AAGN;;AAAA,eAASA,EAAT,CAA8BzY,CAA9B,EAAkC3Q,CAAlC,EAAwC6iB,CAAxC,EAAkDiE,CAAlD,EAAwDuC,CAAxD,EAAwDA;AACtD,YAAKrpB,EAAKspB,OAAV,EAEA,KADA,IAAI3B,IAAOP,GAAkBvE,CAAlBuE,CAAX,EACS1rB,IAAI,CADb,EACgB6tB,IAAKvpB,EAAKspB,OAA1B,EAAmC5tB,IAAI6tB,EAAGxrB,MAA1C,EAA0CA,EAAUrC,CAApD,EAAuD;AACrD,cAAIypB,IAASoE,EAAG7tB,CAAH6tB,CAAb;AAAA,cAAoBzpB,IAAO2G,EAAI,KAAJA,EAAW,CAAC0e,EAAOrlB,IAAR,CAAX2G,EAA0B,2BAA2B0e,EAAOtf,SAAPsf,GAAmB,MAAMA,EAAOtf,SAAhCsf,GAA4C,EAAvE,CAA1B1e,CAA3B;AACK0e,YAAOqE,iBAAPrE,IAA4BrlB,EAAKkH,YAALlH,CAAkB,kBAAlBA,EAAsC,MAAtCA,CAA5BqlB,EACLsE,GAAmBtE,CAAnBsE,EAA2B3pB,CAA3B2pB,EAAiC5G,CAAjC4G,EAA2C3C,CAA3C2C,CADKtE,EAELxU,EAAGkL,OAAHlL,CAAWyU,KAAXzU,CAAiB2U,aAAjB3U,CAA+B7Q,CAA/B6Q,CAFKwU,EAGDkE,KAAclE,EAAOuE,KAArBL,GACA1B,EAAKC,YAALD,CAAkB7nB,CAAlB6nB,EAAwB9E,EAASkF,MAATlF,IAAmBA,EAAShT,IAApD8X,CADA0B,GAGA1B,EAAKnhB,WAALmhB,CAAiB7nB,CAAjB6nB,CANCxC,EAOLsB,GAAYtB,CAAZsB,EAAoB,QAApBA,CAPKtB;AAOe;AAIxB;;AAAA,eAASsE,EAAT,CAA4BtE,CAA5B,EAAoCrlB,CAApC,EAA0C+iB,CAA1C,EAAoDiE,CAApD,EAAoDA;AAClD,YAAI3B,EAAOwE,SAAX,EAAsB;AAAA,WACvB9G,EAASkG,SAATlG,KAAuBA,EAASkG,SAATlG,GAAqB,EAA5CA,CADuB,EAC0Bxf,IAD1B,CAC+BvD,CAD/B;AAEpB,cAAI8pB,IAAQ9C,EAAK+C,YAAjB;AACA/pB,YAAK6G,KAAL7G,CAAWmT,IAAXnT,GAAkBgnB,EAAKqB,QAALrB,GAAgB,IAAlChnB,EACKqlB,EAAO2E,WAAP3E,KACHyE,KAAS9C,EAAKsB,gBAAdwB,EACA9pB,EAAK6G,KAAL7G,CAAWiqB,WAAXjqB,GAAyBgnB,EAAKsB,gBAALtB,GAAwB,IAF9C3B,CADLrlB,EAKAA,EAAK6G,KAAL7G,CAAW8pB,KAAX9pB,GAAmB8pB,IAAQ,IAL3B9pB;AAOEqlB;;AAAAA,UAAO2E,WAAP3E,KACFrlB,EAAK6G,KAAL7G,CAAWwnB,MAAXxnB,GAAoB,CAApBA,EACAA,EAAK6G,KAAL7G,CAAWkqB,QAAXlqB,GAAsB,UADtBA,EAEKqlB,EAAOwE,SAAPxE,KAAoBrlB,EAAK6G,KAAL7G,CAAWmqB,UAAXnqB,GAAWmqB,CAAcnD,EAAKsB,gBAAnB6B,GAAsC,IAArE9E,CAHHA;AAON;;AAAA,eAAS+E,EAAT,CAAsB/E,CAAtB,EAAsBA;AACpB,YAAqB,QAAjBA,EAAOtO,MAAX,EAA6B,OAAOsO,EAAOtO,MAAd;AAC7B,YAAIlG,IAAKwU,EAAOlP,GAAPkP,CAAWxU,EAApB;AACA,aAAKA,CAAL,EAAW,OAAO,CAAP;;AACX,aAAK1J,EAAS/C,SAASsD,IAAlBP,EAAwBke,EAAOrlB,IAA/BmH,CAAL,EAA2C;AACzC,cAAIkjB,IAAc,qBAAlB;AACIhF,YAAO2E,WAAP3E,KACAgF,KAAe,mBAAmBxZ,EAAGkL,OAAHlL,CAAWyZ,OAAXzZ,CAAmBgC,WAAtC,GAAoD,KADnEwS,GAEAA,EAAOwE,SAAPxE,KACAgF,KAAe,YAAYxZ,EAAGkL,OAAHlL,CAAW0Z,OAAX1Z,CAAmB2Z,WAA/B,GAA6C,KAD5DnF,CAFAA,EAIJ7e,EAAqBqK,EAAGkL,OAAHlL,CAAW8B,OAAhCnM,EAAyCG,EAAI,KAAJA,EAAW,CAAC0e,EAAOrlB,IAAR,CAAX2G,EAA0B,IAA1BA,EAAgC0jB,CAAhC1jB,CAAzCH,CAJI6e;AAMN;;AAAA,eAAOA,EAAOtO,MAAPsO,GAAgBA,EAAOrlB,IAAPqlB,CAAY/d,UAAZ+d,CAAuBzS,YAA9C;AAIF;;AAAA,eAAS6X,EAAT,CAAuB1O,CAAvB,EAAgCha,CAAhC,EAAgCA;AAC9B,aAAK,IAAI1E,IAAI2U,GAASjQ,CAATiQ,CAAb,EAA0B3U,KAAK0e,EAAQwO,OAAvC,EAAgDltB,IAAIA,EAAEiK,UAAtD,EACE,KAAKjK,CAAL,IAAyB,KAAdA,EAAEgK,QAAY,IAA2C,UAAtChK,EAAEqtB,YAAFrtB,CAAe,kBAAfA,CAA9B,IACKA,EAAEiK,UAAFjK,IAAgB0e,EAAQ4O,KAAxBttB,IAAiCA,KAAK0e,EAAQ6O,KADnD,EAEI,QAAO,CAAP;AAMR;;AAAA,eAASC,EAAT,CAAoB9O,CAApB,EAAoBA;AAAU,eAAOA,EAAQ+O,SAAR/O,CAAkBgP,SAAzB;AAC9B;;AAAA,eAASC,EAAT,CAAqBjP,CAArB,EAAqBA;AAAU,eAAOA,EAAQ6O,KAAR7O,CAAcnJ,YAAdmJ,GAA6BA,EAAQ+O,SAAR/O,CAAkBnJ,YAAtD;AAC/B;;AAAA,eAASqY,EAAT,CAAkBlP,CAAlB,EAAkBA;AAChB,YAAIA,EAAQmP,cAAZ,EAA8B,OAAOnP,EAAQmP,cAAf;AAC9B,YAAInpB,IAAIyE,EAAqBuV,EAAQpJ,OAA7BnM,EAAsCG,EAAI,KAAJA,EAAW,GAAXA,EAAgB,sBAAhBA,CAAtCH,CAAR;AAAA,YACIK,IAAQrL,OAAO2vB,gBAAP3vB,GAA0BA,OAAO2vB,gBAAP3vB,CAAwBuG,CAAxBvG,CAA1BA,GAAuDuG,EAAEqpB,YADrE;AAAA,YAEItoB,IAAO;AAACqQ,gBAAMkY,SAASxkB,EAAMojB,WAAfoB,CAAP;AAAoCjY,iBAAOiY,SAASxkB,EAAMykB,YAAfD;AAA3C,SAFX;AAIA,eADKE,MAAMzoB,EAAKqQ,IAAXoY,KAAqBA,MAAMzoB,EAAKsQ,KAAXmY,CAArBA,KAA0CxP,EAAQmP,cAARnP,GAAyBjZ,CAAnEyoB,GACEzoB,CAAP;AAGF;;AAAA,eAAS0oB,EAAT,CAAmB3a,CAAnB,EAAmBA;AAAM,eArjEP,KAqjE4BA,EAAGkL,OAAHlL,CAAW4a,cAAhC;AACzB;;AAAA,eAASC,EAAT,CAAsB7a,CAAtB,EAAsBA;AACpB,eAAOA,EAAGkL,OAAHlL,CAAW8a,QAAX9a,CAAoB2Z,WAApB3Z,GAAkC2a,GAAU3a,CAAV2a,CAAlC3a,GAAkDA,EAAGkL,OAAHlL,CAAW+a,QAApE;AAEF;;AAAA,eAASC,EAAT,CAAuBhb,CAAvB,EAAuBA;AACrB,eAAOA,EAAGkL,OAAHlL,CAAW8a,QAAX9a,CAAoBib,YAApBjb,GAAmC2a,GAAU3a,CAAV2a,CAAnC3a,GAAmDA,EAAGkL,OAAHlL,CAAWkb,SAArE;AA4BF;;AAAA,eAASC,EAAT,CAAyBjJ,CAAzB,EAAmC7iB,CAAnC,EAAyCshB,CAAzC,EAAyCA;AACvC,YAAIuB,EAAS7iB,IAAT6iB,IAAiB7iB,CAArB,EACI,OAAO;AAACgC,eAAK6gB,EAASpQ,OAAToQ,CAAiB7gB,GAAvB;AAA4B2gB,iBAAOE,EAASpQ,OAAToQ,CAAiBF;AAApD,SAAP;;AACJ,aAAK,IAAIjnB,IAAI,CAAb,EAAgBA,IAAImnB,EAASM,IAATN,CAAc9kB,MAAlC,EAA0CrC,GAA1C,EACI,IAAImnB,EAASM,IAATN,CAAcnnB,CAAdmnB,KAAoB7iB,CAAxB,EACE,OAAO;AAACgC,eAAK6gB,EAASpQ,OAAToQ,CAAiBY,IAAjBZ,CAAsBnnB,CAAtBmnB,CAAN;AAAgCF,iBAAOE,EAASpQ,OAAToQ,CAAiBa,MAAjBb,CAAwBnnB,CAAxBmnB;AAAvC,SAAP;;AACN,aAAK,IAAI3U,IAAM,CAAf,EAAkBA,IAAM2U,EAASM,IAATN,CAAc9kB,MAAtC,EAA8CmQ,GAA9C,EACI,IAAI6I,GAAO8L,EAASM,IAATN,CAAc3U,CAAd2U,CAAP9L,IAA6BuK,CAAjC,EACE,OAAO;AAACtf,eAAK6gB,EAASpQ,OAAToQ,CAAiBY,IAAjBZ,CAAsB3U,CAAtB2U,CAAN;AAAkCF,iBAAOE,EAASpQ,OAAToQ,CAAiBa,MAAjBb,CAAwB3U,CAAxB2U,CAAzC;AAAuE3T,mBAAQ;AAA/E,SAAP;AAkBR;;AAAA,eAAS6c,EAAT,CAAqBpb,CAArB,EAAyB3Q,CAAzB,EAA+B4L,CAA/B,EAAmCogB,CAAnC,EAAmCA;AACjC,eAAOC,GAAoBtb,CAApBsb,EAAwBC,GAAsBvb,CAAtBub,EAA0BlsB,CAA1BksB,CAAxBD,EAAyDrgB,CAAzDqgB,EAA6DD,CAA7DC,CAAP;AAIF;;AAAA,eAASE,EAAT,CAAyBxb,CAAzB,EAA6B2Q,CAA7B,EAA6BA;AAC3B,YAAIA,KAAS3Q,EAAGkL,OAAHlL,CAAW2L,QAApBgF,IAAgCA,IAAQ3Q,EAAGkL,OAAHlL,CAAW4L,MAAvD,EACI,OAAO5L,EAAGkL,OAAHlL,CAAW2V,IAAX3V,CAAgByb,GAAczb,CAAdyb,EAAkB9K,CAAlB8K,CAAhBzb,CAAP;AACJ,YAAI6W,IAAM7W,EAAGkL,OAAHlL,CAAW6S,gBAArB;AACA,eAAIgE,KAAOlG,KAASkG,EAAIlG,KAApBkG,IAA6BlG,IAAQkG,EAAIlG,KAAJkG,GAAYA,EAAIrR,IAArDqR,GACOA,CADPA,GACOA,KADX;AASF;;AAAA,eAAS0E,EAAT,CAA+Bvb,CAA/B,EAAmC3Q,CAAnC,EAAmCA;AACjC,YAAIshB,IAAQvK,GAAO/W,CAAP+W,CAAZ;AAAA,YACIuP,IAAO6F,GAAgBxb,CAAhBwb,EAAoB7K,CAApB6K,CADX;AAEI7F,cAASA,EAAKzW,IAAdyW,GACFA,IAAO,IADLA,GAEOA,KAAQA,EAAKS,OAAbT,KACTO,GAAqBlW,CAArBkW,EAAyBP,CAAzBO,EAA+BvF,CAA/BuF,EAAsCwF,GAAc1b,CAAd0b,CAAtCxF,GACAlW,EAAGQ,KAAHR,CAAS2b,WAAT3b,GAAS2b,CAAc,CAFdhG,CAFPA,EAMCA,MACDA,IAzCN,UAAmC3V,CAAnC,EAAuC3Q,CAAvC,EAAuCA;AAErC,cAAIshB,IAAQvK,GADZ/W,IAAOmhB,GAAWnhB,CAAXmhB,CACKpK,CAAZ;AAAA,cACIuP,IAAO3V,EAAGkL,OAAHlL,CAAW6S,gBAAX7S,GAA8B,IAAIsV,EAAJ,CAAatV,EAAGsF,GAAhB,EAAqBjW,CAArB,EAA2BshB,CAA3B,CADzC;AAEAgF,YAAKhF,KAALgF,GAAahF,CAAbgF;AACA,cAAImB,IAAQnB,EAAKmB,KAALnB,GAAa1D,GAAiBjS,CAAjBiS,EAAqB0D,CAArB1D,CAAzB;AAGA,iBAFA0D,EAAKzW,IAALyW,GAAYmB,EAAM1E,GAAlBuD,EACAhgB,EAAqBqK,EAAGkL,OAAHlL,CAAW4b,WAAhCjmB,EAA6CmhB,EAAM1E,GAAnDzc,CADAggB,EAEOA,CAAP;AAiCWkG,SAzCb,CAyCuC7b,CAzCvC,EAyC2C3Q,CAzC3C,CAwCOsmB,CANDA;AASJ,YAAI/Q,IAAOuW,GAAgBxF,CAAhBwF,EAAsB9rB,CAAtB8rB,EAA4BxK,CAA5BwK,CAAX;AACA,eAAO;AACL9rB,gBAAMA,CADD;AACOsmB,gBAAMA,CADb;AACmBmG,gBAAM,IADzB;AAELzqB,eAAKuT,EAAKvT,GAFL;AAEU2gB,iBAAOpN,EAAKoN,KAFtB;AAE6BzT,kBAAQqG,EAAKrG,MAF1C;AAGLwd,uBAAY;AAHP,SAAP;AASF;;AAAA,eAAST,EAAT,CAA6Btb,CAA7B,EAAiCgc,CAAjC,EAA2C/gB,CAA3C,EAA+CogB,CAA/C,EAAqDY,CAArD,EAAqDA;AAC/CD,UAASzd,MAATyd,KAAmB/gB,KAAM,CAAzB+gB;AACJ,YAA6Bvf,CAA7B;AAAA,YAAInQ,IAAM2O,KAAMogB,KAAQ,EAAdpgB,CAAV;AAaA,eAZI+gB,EAAShK,KAATgK,CAAenvB,cAAfmvB,CAA8B1vB,CAA9B0vB,IACFvf,IAAQuf,EAAShK,KAATgK,CAAe1vB,CAAf0vB,CADNA,IAGGA,EAASF,IAATE,KACDA,EAASF,IAATE,GAAgBA,EAASrG,IAATqG,CAAc9c,IAAd8c,CAAmB5Z,qBAAnB4Z,EADfA,GAEAA,EAASD,UAATC,KA/FT,UAA2Bhc,CAA3B,EAA+BkS,CAA/B,EAAyC4J,CAAzC,EAAyCA;AACvC,cAAII,IAAWlc,EAAG6D,OAAH7D,CAAWmc,YAA1B;AAAA,cACIC,IAAWF,KAAYrB,GAAa7a,CAAb6a,CAD3B;;AAEA,eAAK3I,EAASpQ,OAAToQ,CAAiBmK,OAAtB,IAAiCH,KAAYhK,EAASpQ,OAAToQ,CAAiB+G,KAAjB/G,IAA0BkK,CAAvE,EAAiF;AAC/E,gBAAIC,IAAUnK,EAASpQ,OAAToQ,CAAiBmK,OAAjBnK,GAA2B,EAAzC;;AACA,gBAAIgK,CAAJ,EAAc;AACZhK,gBAASpQ,OAAToQ,CAAiB+G,KAAjB/G,GAAyBkK,CAAzBlK;;AAEA,mBADA,IAAIoK,IAAQpK,EAAShT,IAATgT,CAAcxc,UAAdwc,CAAyBqK,cAAzBrK,EAAZ,EACSnnB,IAAI,CAAb,EAAgBA,IAAIuxB,EAAMlvB,MAANkvB,GAAe,CAAnC,EAAsCvxB,GAAtC,EAA2C;AACzC,oBAAI2R,IAAM4f,EAAMvxB,CAANuxB,CAAV;AAAA,oBAAoBtU,IAAOsU,EAAMvxB,IAAI,CAAVuxB,CAA3B;AACIliB,qBAAKoiB,GAALpiB,CAASsC,EAAI+f,MAAJ/f,GAAasL,EAAKyU,MAA3BriB,IAAqC,CAArCA,IACAiiB,EAAQ3pB,IAAR2pB,CAAQ3pB,CAAMgK,EAAI+f,MAAJ/f,GAAasL,EAAK0U,GAAxBhqB,IAA+B,CAA/BA,GAAmCopB,EAAKY,GAAhDL,CADAjiB;AACgDsiB;AAGxDL;;AAAAA,cAAQ3pB,IAAR2pB,CAAaP,EAAKW,MAALX,GAAcA,EAAKY,GAAhCL;AAAgCK;AAkF9BC,SAhGN,CAgGwB3c,CAhGxB,EAgG4Bgc,EAASrG,IAhGrC,EAgG2CqG,EAASF,IAhGpD,GAiGME,EAASD,UAATC,GAASD,CAAa,CAFnBC,CAFAA,EAImB,CAExBvf,IA0DJ,UAA0BuD,CAA1B,EAA8Bgc,CAA9B,EAAwC/gB,CAAxC,EAA4CogB,CAA5C,EAA4CA;AAC1C,cAGIS,CAHJ;AAAA,cAAIc,IAAQC,GAAuBb,EAAS3qB,GAAhCwrB,EAAqC5hB,CAArC4hB,EAAyCxB,CAAzCwB,CAAZ;AAAA,cACI1tB,IAAOytB,EAAMztB,IADjB;AAAA,cACuBO,IAAQktB,EAAMltB,KADrC;AAAA,cAC4CC,IAAMitB,EAAMjtB,GADxD;AAAA,cAC6DgI,IAAWilB,EAAMjlB,QAD9E;;AAIA,cAAqB,KAAjBxI,EAAKqH,QAAT,EAAwB;AACtB,iBAAK,IAAI+G,IAAM,CAAf,EAAkBA,IAAM,CAAxB,EAA2BA,GAA3B,EAAkC;AAChC,qBAAO7N,KAAS6L,GAAgBygB,EAAS3sB,IAAT2sB,CAAc9c,IAAd8c,CAAmBpgB,MAAnBogB,CAA0BY,EAAME,UAANF,GAAmBltB,CAA7CssB,CAAhBzgB,CAAhB,GAA6E7L,EAAaA,CAAbA;;AAC7E,qBAAOktB,EAAME,UAANF,GAAmBjtB,CAAnBitB,GAAyBA,EAAMG,QAA/BH,IAA2CrhB,GAAgBygB,EAAS3sB,IAAT2sB,CAAc9c,IAAd8c,CAAmBpgB,MAAnBogB,CAA0BY,EAAME,UAANF,GAAmBjtB,CAA7CqsB,CAAhBzgB,CAAlD,GAA+G5L,EAAWA,CAAXA;;AAK/G,mBAHImsB,IADAzoB,KAAMC,IAAa,CAAnBD,IAAiC,KAAT3D,CAAxB2D,IAAsC1D,KAAOitB,EAAMG,QAANH,GAAiBA,EAAME,UAApEzpB,GACOlE,EAAKsH,UAALtH,CAAgBiT,qBAAhBjT,EADPkE,GAGO2pB,GAAcjoB,EAAM5F,CAAN4F,EAAYrF,CAAZqF,EAAmBpF,CAAnBoF,EAAwBwnB,cAAxBxnB,EAAdioB,EAAwD3B,CAAxD2B,CACX,EAAS1a,IAAT,IAAiBwZ,EAAKvZ,KAAtB,IAAwC,KAAT7S,CAA/B,EAA6C;AAC7CC,kBAAMD,CAANC,EACAD,KAAgB,CADhBC,EAEAgI,IAAW,OAFXhI;AAIE0D;;AAAAA,iBAAMC,IAAa,EAAnBD,KAAyByoB,IAmCjC,UAAmCha,CAAnC,EAA4Cga,CAA5C,EAA4CA;AAC1C,mBAAKnxB,OAAOsyB,MAAZ,IAA4C,QAAtBA,OAAOC,WAA7B,IACID,OAAOC,WAAPD,IAAsBA,OAAOE,UADjC,IACiCA,CAvyDnC,UAA2Brb,CAA3B,EAA2BA;AACzB,oBAAsB,QAAlBuB,EAAJ,EAA8B,OAAOA,EAAP;AAC9B,oBAAIlU,IAAOwG,EAAqBmM,CAArBnM,EAA8BG,EAAI,MAAJA,EAAY,GAAZA,CAA9BH,CAAX;AAAA,oBACIynB,IAASjuB,EAAKiT,qBAALjT,EADb;AAAA,oBAEIkuB,IAAYtoB,EAAM5F,CAAN4F,EAAY,CAAZA,EAAe,CAAfA,EAAkBqN,qBAAlBrN,EAFhB;AAGA,uBAAOsO,KAAiBjJ,KAAKoiB,GAALpiB,CAASgjB,EAAO9a,IAAP8a,GAAcC,EAAU/a,IAAjClI,IAAyC,CAAjE;AAkyDgDkjB,eAvyDlD,CAuyDoExb,CAvyDpE,CAsyDE,EAEI,OAAOga,CAAP;AACJ,kBAAIyB,IAASN,OAAOC,WAAPD,GAAqBA,OAAOE,UAAzC;AAAA,kBACIK,IAASP,OAAOQ,WAAPR,GAAqBA,OAAOS,UADzC;AAEA,qBAAO;AAACpb,sBAAMwZ,EAAKxZ,IAALwZ,GAAYyB,CAAnB;AAA2Bhb,uBAAOuZ,EAAKvZ,KAALuZ,GAAayB,CAA/C;AACCb,qBAAKZ,EAAKY,GAALZ,GAAW0B,CADjB;AACyBf,wBAAQX,EAAKW,MAALX,GAAc0B;AAD/C,eAAP;AAzCsCG,aAmCxC,CAnCkE3d,EAAGkL,OAAHlL,CAAW8B,OAmC7E,EAnCsFga,CAmCtF,CAnCQzoB;AAA8EyoB,WAbpF,MAcO;AAEL,gBAAIQ,CAAJ;AADI5sB,gBAAQ,CAARA,KAAaiI,IAAW0jB,IAAO,OAA/B3rB,GAGAosB,IADA9b,EAAG6D,OAAH7D,CAAWmc,YAAXnc,IAAWmc,CAAiBG,IAAQntB,EAAKotB,cAALptB,EAAzBgtB,EAAgD/uB,MAAhD+uB,GAAyD,CAApEnc,GACOsc,EAAc,WAARjB,CAAQ,GAAUiB,EAAMlvB,MAANkvB,GAAe,CAAzB,GAA6B,CAA3CA,CADPtc,GAGO7Q,EAAKiT,qBAALjT,EALPO;AAON;;AAAA,cAAI2D,KAAMC,IAAa,CAAnBD,IAAmB,CAAM3D,CAAzB2D,KAAyB3D,CAAWosB,CAAXpsB,IAAWosB,CAASA,EAAKxZ,IAAdwZ,IAAcxZ,CAASwZ,EAAKvZ,KAAhElP,CAAJ,EAA4E;AAC1E,gBAAIuqB,IAAQzuB,EAAKsH,UAALtH,CAAgBotB,cAAhBptB,GAAiC,CAAjCA,CAAZ;AAEI2sB,gBADA8B,IACO;AAACtb,oBAAMsb,EAAMtb,IAAb;AAAmBC,qBAAOqb,EAAMtb,IAANsb,GAAaC,GAAU7d,EAAGkL,OAAb2S,CAAvC;AAA8DnB,mBAAKkB,EAAMlB,GAAzE;AAA8ED,sBAAQmB,EAAMnB;AAA5F,aADPmB,GAGOE,EAFPhC;AASN;;AAAA,eAJA,IAAIiC,IAAOjC,EAAKY,GAALZ,GAAWE,EAASF,IAATE,CAAcU,GAApC,EAAyCsB,IAAOlC,EAAKW,MAALX,GAAcE,EAASF,IAATE,CAAcU,GAA5E,EACIxgB,KAAO6hB,IAAOC,CAAd9hB,IAAsB,CAD1B,EAEImgB,IAAUL,EAASrG,IAATqG,CAAcla,OAAdka,CAAsBK,OAFpC,EAGItxB,IAAI,CACR,EAAOA,IAAIsxB,EAAQjvB,MAARivB,GAAiB,CAArBtxB,IAAqB,EACpBmR,IAAMmgB,EAAQtxB,CAARsxB,CADc,CAA5B,EAA+BtxB,GAA/B,CAA+BA;;AAE/B,cAAI2xB,IAAM3xB,IAAIsxB,EAAQtxB,IAAI,CAAZsxB,CAAJtxB,GAAqB,CAA/B;AAAA,cAAkCkzB,IAAM5B,EAAQtxB,CAARsxB,CAAxC;AAAA,cACI5Z,IAAS;AAACH,mBAAmB,WAAZ3K,CAAY,GAAUmkB,EAAKvZ,KAAf,GAAuBuZ,EAAKxZ,IAA/CA,IAAuD0Z,EAASF,IAATE,CAAc1Z,IAAtE;AACCC,oBAAoB,UAAZ5K,CAAY,GAASmkB,EAAKxZ,IAAd,GAAqBwZ,EAAKvZ,KAA9CA,IAAuDyZ,EAASF,IAATE,CAAc1Z,IADtE;AAECoa,iBAAKA,CAFN;AAEWD,oBAAQwB;AAFnB,WADb;AAOA,iBAHKnC,EAAKxZ,IAALwZ,IAAcA,EAAKvZ,KAAnBuZ,KAA4BrZ,EAAOyb,KAAPzb,GAAOyb,CAAQ,CAA3CpC,GACA9b,EAAG6D,OAAH7D,CAAWme,yBAAXne,KAAwCyC,EAAOsb,IAAPtb,GAAcsb,CAAdtb,EAAoBA,EAAO2b,OAAP3b,GAAiBub,CAA7Ehe,CADA8b,EAGErZ,CAAP;AA1GU4b,SA0DZ,CA1D6Bre,CA0D7B,EA1DiCgc,CA0DjC,EA1D2C/gB,CA0D3C,EA1D+CogB,CA0D/C,CA5D4B,EAGb6C,KAHa,KAGJlC,EAAShK,KAATgK,CAAe1vB,CAAf0vB,IAAsBvf,CAHlB,CAPtBuf,GAYG;AAAC1Z,gBAAM7F,EAAM6F,IAAb;AAAmBC,iBAAO9F,EAAM8F,KAAhC;AACCma,eAAKT,IAAYxf,EAAMshB,IAAlB9B,GAAyBxf,EAAMigB,GADrC;AAECD,kBAAQR,IAAYxf,EAAM2hB,OAAlBnC,GAA4Bxf,EAAMggB;AAF3C,SAAP;AAKF;;AAAA,UAsbI6B,EAtbJ;AAAA,UAAIR,KAAW;AAACxb,cAAM,CAAP;AAAUC,eAAO,CAAjB;AAAoBma,aAAK,CAAzB;AAA4BD,gBAAQ;AAApC,OAAf;;AAEA,eAASI,EAAT,CAAgCxrB,CAAhC,EAAqC4J,CAArC,EAAyCogB,CAAzC,EAAyCA;AAIvC,aAHA,IAAIlsB,CAAJ,EAAUO,CAAV,EAAiBC,CAAjB,EAAsBgI,CAAtB,EAAgC4mB,CAAhC,EAAwCC,CAAxC,EAGSzzB,IAAI,CAAb,EAAgBA,IAAIsG,EAAIjE,MAAxB,EAAgCrC,KAAK,CAArC,EAcE,IAbAwzB,IAASltB,EAAItG,CAAJsG,CAATktB,EACAC,IAAOntB,EAAItG,IAAI,CAARsG,CADPktB,EAEItjB,IAAKsjB,CAALtjB,IACFvL,IAAQ,CAARA,EAAWC,IAAM,CAAjBD,EACAiI,IAAW,MAFTsD,IAGOA,IAAKujB,CAALvjB,GAETtL,IAAc,KADdD,IAAQuL,IAAKsjB,CACC,CAFLtjB,GACIsjB,CAEJxzB,KAAKsG,EAAIjE,MAAJiE,GAAa,CAAlBtG,IAAuBkQ,KAAMujB,CAANvjB,IAAc5J,EAAItG,IAAI,CAARsG,IAAa4J,CAF9CsjB,MAIb7uB,KADAC,IAAM6uB,IAAOD,CACb7uB,IAAc,CAAdA,EACIuL,KAAMujB,CAANvjB,KAActD,IAAW,OAAzBsD,CALSsjB,CANfA,EAaa,QAAT7uB,CAAJ,EAAmB;AAIjB,cAHAP,IAAOkC,EAAItG,IAAI,CAARsG,CAAPlC,EACIovB,KAAUC,CAAVD,IAAkBlD,MAASlsB,EAAKkf,UAALlf,GAAkB,MAAlBA,GAA2B,OAApCksB,CAAlBkD,KACA5mB,IAAW0jB,CADXkD,CADJpvB,EAGY,UAARksB,CAAQ,IAAmB,KAAT3rB,CAAtB,EACI,OAAO3E,KAAKsG,EAAItG,IAAI,CAARsG,KAAcA,EAAItG,IAAI,CAARsG,CAAnBtG,IAAiCsG,EAAItG,IAAI,CAARsG,EAAWgd,UAAnD,GACAlf,IAAOkC,EAAe,KAAVtG,KAAK,CAAK,CAAfsG,CAAPlC,EACAwI,IAAW,MADXxI;AAGJ,cAAY,WAARksB,CAAQ,IAAW3rB,KAAS8uB,IAAOD,CAAvC,EACI,OAAOxzB,IAAIsG,EAAIjE,MAAJiE,GAAa,CAAjBtG,IAAsBsG,EAAItG,IAAI,CAARsG,KAAcA,EAAItG,IAAI,CAARsG,CAApCtG,IAA4C,CAAOsG,EAAItG,IAAI,CAARsG,EAAWgd,UAArE,GACAlf,IAAOkC,GAAKtG,KAAK,CAAVsG,IAAe,CAAfA,CAAPlC,EACAwI,IAAW,OADXxI;AAGJ;AAGJ;;AAAA,eAAO;AAACA,gBAAMA,CAAP;AAAaO,iBAAOA,CAApB;AAA2BC,eAAKA,CAAhC;AAAqCgI,oBAAUA,CAA/C;AAAyDmlB,sBAAYyB,CAArE;AAA6ExB,oBAAUyB;AAAvF,SAAP;AAGF;;AAAA,eAASxB,EAAT,CAAuBV,CAAvB,EAA8BjB,CAA9B,EAA8BA;AAC5B,YAAIS,IAAOgC,EAAX;AACA,YAAY,UAARzC,CAAJ,EAAsB,KAAK,IAAItwB,IAAI,CAAb,EAAgBA,IAAIuxB,EAAMlvB,MAAVrC,IAAUqC,CACzC0uB,IAAOQ,EAAMvxB,CAANuxB,CADkClvB,EACxBkV,IADwBlV,IAChB0uB,EAAKvZ,KADf,EAAkCxX,GAAlC,CAAkCA,CAAxD,KAEW,KAAK,IAAIwS,IAAM+e,EAAMlvB,MAANkvB,GAAe,CAA9B,EAAiC/e,KAAO,CAAPA,IAAO,CAC5Cue,IAAOQ,EAAM/e,CAAN+e,CADqC,EACzBha,IADyB,IACjBwZ,EAAKvZ,KAD5B,EAA2ChF,GAA3C,CAA2CA;AAGtD,eAAOue,CAAP;AAkEF;;AAAA,eAAS2C,EAAT,CAAsCvM,CAAtC,EAAsCA;AACpC,YAAIA,EAASpQ,OAAToQ,KACFA,EAASpQ,OAAToQ,CAAiBF,KAAjBE,GAAyB,EAAzBA,EACAA,EAASpQ,OAAToQ,CAAiBmK,OAAjBnK,GAA2B,IAD3BA,EAEIA,EAASM,IAHXN,CAAJ,EAGuB,KAAK,IAAInnB,IAAI,CAAb,EAAgBA,IAAImnB,EAASM,IAATN,CAAc9kB,MAAlC,EAA0CrC,GAA1C,EACjBmnB,EAASpQ,OAAToQ,CAAiBa,MAAjBb,CAAwBnnB,CAAxBmnB,IAA6B,EAA7BA;AAIR;;AAAA,eAASwM,EAAT,CAAmC1e,CAAnC,EAAmCA;AACjCA,UAAGkL,OAAHlL,CAAW2e,eAAX3e,GAA6B,IAA7BA,EACA1K,EAAe0K,EAAGkL,OAAHlL,CAAW4b,WAA1BtmB,CADA0K;;AAEA,aAAK,IAAIjV,IAAI,CAAb,EAAgBA,IAAIiV,EAAGkL,OAAHlL,CAAW2V,IAAX3V,CAAgB5S,MAApC,EAA4CrC,GAA5C,EACI0zB,GAA6Bze,EAAGkL,OAAHlL,CAAW2V,IAAX3V,CAAgBjV,CAAhBiV,CAA7Bye;AAGN;;AAAA,eAASG,EAAT,CAAqB5e,CAArB,EAAqBA;AACnB0e,WAA0B1e,CAA1B0e,GACA1e,EAAGkL,OAAHlL,CAAW6e,eAAX7e,GAA6BA,EAAGkL,OAAHlL,CAAW8e,gBAAX9e,GAA8BA,EAAGkL,OAAHlL,CAAWqa,cAAXra,GAA4B,IADvF0e,EAEK1e,EAAG6D,OAAH7D,CAAWmc,YAAXnc,KAA2BA,EAAGkL,OAAHlL,CAAWyR,cAAXzR,GAAWyR,CAAiB,CAAvDzR,CAFL0e,EAGA1e,EAAGkL,OAAHlL,CAAW+e,YAAX/e,GAA0B,IAH1B0e;AAMF;;AAAA,eAASM,EAAT,GAASA;AAIP,eAAIrrB,KAAUO,CAAVP,GAAUO,EAAoBX,SAASsD,IAATtD,CAAc6O,qBAAd7O,GAAsC+O,IAAtC/O,GAA6CinB,SAASF,iBAAiB/mB,SAASsD,IAA1ByjB,EAAgChB,UAAzCkB,CAAjEtmB,CAAVP,GACGhJ,OAAOs0B,WAAPt0B,IAAOs0B,CAAgB1rB,SAAS2rB,eAAT3rB,IAA4BA,SAASsD,IAArDooB,EAA2DE,UADzE;AAGF;;AAAA,eAASC,EAAT,GAASA;AACP,eAAIzrB,KAAUO,CAAVP,GAAUO,EAAoBX,SAASsD,IAATtD,CAAc6O,qBAAd7O,GAAsCmpB,GAAtCnpB,GAA4CinB,SAASF,iBAAiB/mB,SAASsD,IAA1ByjB,EAAgC+E,SAAzC7E,CAAhEtmB,CAAVP,GACGhJ,OAAO20B,WAAP30B,IAAO20B,CAAgB/rB,SAAS2rB,eAAT3rB,IAA4BA,SAASsD,IAArDyoB,EAA2DC,SADzE;AAIF;;AAAA,eAASC,EAAT,CAAyBrO,CAAzB,EAAyBA;AACvB,YAAIjL,IAAS,CAAb;AACA,YAAIiL,EAAQwH,OAAZ,EAAuB,KAAK,IAAI5tB,IAAI,CAAb,EAAgBA,IAAIomB,EAAQwH,OAARxH,CAAgB/jB,MAApC,EAAoCA,EAAUrC,CAA9C,EAAuDomB,EAAQwH,OAARxH,CAAgBpmB,CAAhBomB,EAAmB4H,KAAnB5H,KAC1EjL,KAAUqT,GAAapI,EAAQwH,OAARxH,CAAgBpmB,CAAhBomB,CAAboI,CADgEpI;AAE9E,eAAOjL,CAAP;AAOF;;AAAA,eAASuZ,EAAT,CAAyBzf,CAAzB,EAA6BmR,CAA7B,EAAsC2K,CAAtC,EAA4CtS,CAA5C,EAAqDkW,CAArD,EAAqDA;AACnD,aAAKA,CAAL,EAAqB;AACnB,cAAIxZ,IAASsZ,GAAgBrO,CAAhBqO,CAAb;AACA1D,YAAKY,GAALZ,IAAY5V,CAAZ4V,EAAoBA,EAAKW,MAALX,IAAe5V,CAAnC4V;AAEF;;AAAA,YAAe,UAAXtS,CAAJ,EAAyB,OAAOsS,CAAP;AACpBtS,cAAWA,IAAU,OAArBA;AACL,YAAImW,IAAOzO,GAAaC,CAAbD,CAAX;;AAGA,YAFe,WAAX1H,CAAW,GAAWmW,KAAQ3F,GAAWha,EAAGkL,OAAd8O,CAAnB,GACR2F,KAAQ3f,EAAGkL,OAAHlL,CAAW4f,UADX,EAEA,UAAXpW,CAAW,IAAqB,YAAXA,CAAzB,EAA8C;AAC5C,cAAIqW,IAAO7f,EAAGkL,OAAHlL,CAAWia,SAAXja,CAAqBoC,qBAArBpC,EAAX;AACA2f,eAAQE,EAAKnD,GAALmD,IAAuB,YAAXrW,CAAW,GAAW,CAAX,GAAe4V,IAAtCS,CAARF;AACA,cAAIG,IAAOD,EAAKvd,IAALud,IAAwB,YAAXrW,CAAW,GAAW,CAAX,GAAewV,IAAvCa,CAAX;AACA/D,YAAKxZ,IAALwZ,IAAagE,CAAbhE,EAAmBA,EAAKvZ,KAALuZ,IAAcgE,CAAjChE;AAGF;;AAAA,eADAA,EAAKY,GAALZ,IAAY6D,CAAZ7D,EAAkBA,EAAKW,MAALX,IAAe6D,CAAjC7D,EACOA,CAAP;AAKF;;AAAA,eAASiE,EAAT,CAAyB/f,CAAzB,EAA6BggB,CAA7B,EAAqCxW,CAArC,EAAqCA;AACnC,YAAe,SAAXA,CAAJ,EAAwB,OAAOwW,CAAP;AACxB,YAAI1d,IAAO0d,EAAO1d,IAAlB;AAAA,YAAwBoa,IAAMsD,EAAOtD,GAArC;AAEA,YAAe,UAAXlT,CAAJ,EACElH,KAAQ0c,IAAR1c,EACAoa,KAAO0C,IADP9c,CADF,KAGO,IAAe,WAAXkH,CAAW,IAAXA,CAAuBA,CAA3B,EAAoC;AACzC,cAAIyW,IAAWjgB,EAAGkL,OAAHlL,CAAW8Z,KAAX9Z,CAAiBoC,qBAAjBpC,EAAf;AACAsC,eAAQ2d,EAAS3d,IAAjBA,EACAoa,KAAOuD,EAASvD,GADhBpa;AAIF;AAAA,YAAI4d,IAAelgB,EAAGkL,OAAHlL,CAAWia,SAAXja,CAAqBoC,qBAArBpC,EAAnB;AACA,eAAO;AAACsC,gBAAMA,IAAO4d,EAAa5d,IAA3B;AAAiCoa,eAAKA,IAAMwD,EAAaxD;AAAzD,SAAP;AAGF;;AAAA,eAASyD,EAAT,CAAoBngB,CAApB,EAAwB/F,CAAxB,EAA6BuP,CAA7B,EAAsC2H,CAAtC,EAA+CkK,CAA/C,EAA+CA;AAE7C,eADKlK,MAAWA,IAAU9L,GAAQrF,EAAGsF,GAAXD,EAAgBpL,EAAI5K,IAApBgW,CAArB8L,GACEsO,GAAgBzf,CAAhByf,EAAoBtO,CAApBsO,EAA6BrE,GAAYpb,CAAZob,EAAgBjK,CAAhBiK,EAAyBnhB,EAAIgB,EAA7BmgB,EAAiCC,CAAjCD,CAA7BqE,EAAqEjW,CAArEiW,CAAP;AAmBF;;AAAA,eAASW,EAAT,CAAsBpgB,CAAtB,EAA0B/F,CAA1B,EAA+BuP,CAA/B,EAAwC2H,CAAxC,EAAiDkP,CAAjD,EAAkEpE,CAAlE,EAAkEA;AAGhE,iBAASrwB,CAAT,CAAaqP,CAAb,EAAiBsH,CAAjB,EAAiBA;AACf,cAAIpX,IAAImwB,GAAoBtb,CAApBsb,EAAwB+E,CAAxB/E,EAAyCrgB,CAAzCqgB,EAA6C/Y,IAAQ,OAARA,GAAkB,MAA/D+Y,EAAuEW,CAAvEX,CAAR;AAEA,iBADI/Y,IAASpX,EAAEmX,IAAFnX,GAASA,EAAEoX,KAApBA,GAAoCpX,EAAEoX,KAAFpX,GAAUA,EAAEmX,IAAhDC,EACGkd,GAAgBzf,CAAhByf,EAAoBtO,CAApBsO,EAA6Bt0B,CAA7Bs0B,EAAgCjW,CAAhCiW,CAAP;AALFtO;;AAAAA,YAAUA,KAAW9L,GAAQrF,EAAGsF,GAAXD,EAAgBpL,EAAI5K,IAApBgW,CAArB8L,EACKkP,MAAmBA,IAAkB9E,GAAsBvb,CAAtBub,EAA0BpK,CAA1BoK,CAArC8E,CADLlP;AAOA,YAAI5U,IAAQ0C,GAASkS,CAATlS,EAAkBe,EAAGsF,GAAHtF,CAAO7C,SAAzB8B,CAAZ;AAAA,YAAiDhE,IAAKhB,EAAIgB,EAA1D;AAAA,YAA8DuB,IAASvC,EAAIuC,MAA3E;AAQA,YAPIvB,KAAMkW,EAAQjS,IAARiS,CAAa/jB,MAAnB6N,IACFA,IAAKkW,EAAQjS,IAARiS,CAAa/jB,MAAlB6N,EACAuB,IAAS,QAFPvB,IAGOA,KAAM,CAANA,KACTA,IAAK,CAALA,EACAuB,IAAS,OAFAvB,CAHPA,EAKO,CAENsB,CAAL,EAAc,OAAO3Q,EAAc,YAAV4Q,CAAU,GAAWvB,IAAK,CAAhB,GAAoBA,CAAlCrP,EAAgD,YAAV4Q,CAAtC5Q,CAAP;;AAEd,iBAAS00B,CAAT,CAAiBrlB,CAAjB,EAAqBslB,CAArB,EAA8BC,CAA9B,EAA8BA;AAE5B,iBAAO50B,EAAI40B,IAASvlB,IAAK,CAAdulB,GAAkBvlB,CAAtBrP,EAD0C,KAAtC2Q,EAAMgkB,CAANhkB,EAA6BW,KAAS,IACPsjB,CAAnC50B,CAAP;AAEF;;AAAA,YAAI20B,IAAUjkB,GAAcC,CAAdD,EAAqBrB,CAArBqB,EAAyBE,CAAzBF,CAAd;AAAA,YACImkB,IAAQpkB,EADZ;AAAA,YAEIqI,IAAM4b,EAAQrlB,CAARqlB,EAAYC,CAAZD,EAA+B,YAAV9jB,CAArB8jB,CAFV;AAIA,eADa,QAATG,CAAS,KAAQ/b,EAAI+b,KAAJ/b,GAAY4b,EAAQrlB,CAARqlB,EAAYG,CAAZH,EAA6B,YAAV9jB,CAAnB8jB,CAApB,GACN5b,CAAP;AAKF;;AAAA,eAASgc,EAAT,CAAwB1gB,CAAxB,EAA4B/F,CAA5B,EAA4BA;AAC1B,YAAIqI,IAAO,CAAX;AACArI,YAAMuN,GAAQxH,EAAGsF,GAAXkC,EAAgBvN,CAAhBuN,CAANvN,EACK+F,EAAG6D,OAAH7D,CAAWmc,YAAXnc,KAA2BsC,IAAOub,GAAU7d,EAAGkL,OAAb2S,IAAwB5jB,EAAIgB,EAA9D+E,CADL/F;AAEA,YAAIkX,IAAU9L,GAAQrF,EAAGsF,GAAXD,EAAgBpL,EAAI5K,IAApBgW,CAAd;AAAA,YACIqX,IAAMxL,GAAaC,CAAbD,IAAwB8I,GAAWha,EAAGkL,OAAd8O,CADlC;AAEA,eAAO;AAAC1X,gBAAMA,CAAP;AAAaC,iBAAOD,CAApB;AAA0Boa,eAAKA,CAA/B;AAAoCD,kBAAQC,IAAMvL,EAAQjL;AAA1D,SAAP;AASF;;AAAA,eAASya,EAAT,CAAqBtxB,CAArB,EAA2B4L,CAA3B,EAA+BuB,CAA/B,EAAuCokB,CAAvC,EAAgDC,CAAhD,EAAgDA;AAC9C,YAAI5mB,IAAM8M,GAAI1X,CAAJ0X,EAAU9L,CAAV8L,EAAcvK,CAAduK,CAAV;AAGA,eAFA9M,EAAI4mB,IAAJ5mB,GAAW4mB,CAAX5mB,EACI2mB,MAAW3mB,EAAI2mB,OAAJ3mB,GAAc2mB,CAAzBA,CADJ3mB,EAEOA,CAAP;AAKF;;AAAA,eAAS6mB,EAAT,CAAoB9gB,CAApB,EAAwBmH,CAAxB,EAA2B4Z,CAA3B,EAA2BA;AACzB,YAAIzb,IAAMtF,EAAGsF,GAAb;AAEA,aADAyb,KAAK/gB,EAAGkL,OAAHlL,CAAW4f,UAChB,IAAQ,CAAR,EAAa,OAAOe,GAAYrb,EAAIC,KAAhBob,EAAuB,CAAvBA,EAA0B,IAA1BA,EAA0B,CAAO,CAAjCA,EAAiC,CAAI,CAArCA,CAAP;AACb,YAAIhQ,IAAQrK,GAAahB,CAAbgB,EAAkBya,CAAlBza,CAAZ;AAAA,YAAkCmB,IAAOnC,EAAIC,KAAJD,GAAYA,EAAIE,IAAhBF,GAAuB,CAAhE;AACA,YAAIqL,IAAQlJ,CAAZ,EACI,OAAOkZ,GAAYrb,EAAIC,KAAJD,GAAYA,EAAIE,IAAhBF,GAAuB,CAAnCqb,EAAsCtb,GAAQC,CAARD,EAAaoC,CAAbpC,EAAmBnG,IAAnBmG,CAAwBjY,MAA9DuzB,EAAsE,IAAtEA,EAA4E,CAA5EA,EAA+E,CAA/EA,CAAP;AACAxZ,YAAI,CAAJA,KAASA,IAAI,CAAbA;;AAGJ,aADA,IAAIgK,IAAU9L,GAAQC,CAARD,EAAasL,CAAbtL,CACd,IAAS;AACP,cAAI5I,IAAQukB,GAAgBhhB,CAAhBghB,EAAoB7P,CAApB6P,EAA6BrQ,CAA7BqQ,EAAoC7Z,CAApC6Z,EAAuCD,CAAvCC,CAAZ;AAAA,cACI7Q,IAAYG,GAAoBa,CAApBb,EAA6B7T,EAAMxB,EAANwB,IAAYA,EAAMokB,IAANpkB,GAAa,CAAbA,IAAkBA,EAAMmkB,OAANnkB,GAAgB,CAAlCA,GAAsC,CAAtCA,GAA0C,CAAtDA,CAA7B6T,CADhB;AAEA,eAAKH,CAAL,EAAkB,OAAO1T,CAAP;AAClB,cAAIwkB,IAAW9Q,EAAUP,IAAVO,CAAe,CAAfA,CAAf;AACA,cAAI8Q,EAAS5xB,IAAT4xB,IAAiBtQ,CAArB,EAA8B,OAAOsQ,CAAP;AAC9B9P,cAAU9L,GAAQC,CAARD,EAAasL,IAAQsQ,EAAS5xB,IAA9BgW,CAAV8L;AAAwC9hB;AAI5C;;AAAA,eAAS6xB,EAAT,CAA2BlhB,CAA3B,EAA+BmR,CAA/B,EAAwCkP,CAAxC,EAAyDU,CAAzD,EAAyDA;AACvDA,aAAKvB,GAAgBrO,CAAhBqO,CAALuB;AACA,YAAIpxB,IAAMwhB,EAAQjS,IAARiS,CAAa/jB,MAAvB;AAAA,YACI+zB,IAAQtlB,GAAU,UAAUZ,CAAV,EAAUA;AAAM,iBAAOqgB,GAAoBtb,CAApBsb,EAAwB+E,CAAxB/E,EAAyCrgB,IAAK,CAA9CqgB,EAAiDmB,MAAjDnB,IAA2DyF,CAAlE;AAAkEA,SAA5FllB,EAAkGlM,CAAlGkM,EAAuG,CAAvGA,CADZ;AAGA,eAAO;AAACslB,iBAAOA,CAAR;AAAexxB,eADtBA,IAAMkM,GAAU,UAAUZ,CAAV,EAAUA;AAAM,mBAAOqgB,GAAoBtb,CAApBsb,EAAwB+E,CAAxB/E,EAAyCrgB,CAAzCqgB,EAA6CoB,GAA7CpB,GAAmDyF,CAA1D;AAA0DA,WAApFllB,EAA0FslB,CAA1FtlB,EAAiGlM,CAAjGkM;AACC,SAAP;AAGF;;AAAA,eAASulB,EAAT,CAA+BphB,CAA/B,EAAmCmR,CAAnC,EAA4CkP,CAA5C,EAA6D3vB,CAA7D,EAA6DA;AAG3D,eAFK2vB,MAAmBA,IAAkB9E,GAAsBvb,CAAtBub,EAA0BpK,CAA1BoK,CAArC8E,GAEEa,GAAkBlhB,CAAlBkhB,EAAsB/P,CAAtB+P,EAA+Bb,CAA/Ba,EADSzB,GAAgBzf,CAAhByf,EAAoBtO,CAApBsO,EAA6BnE,GAAoBtb,CAApBsb,EAAwB+E,CAAxB/E,EAAyC5qB,CAAzC4qB,CAA7BmE,EAA+E,MAA/EA,EAAuF/C,GAChGwE,CAAP;AAKF;;AAAA,eAASG,EAAT,CAAoBC,CAApB,EAAyBna,CAAzB,EAA4B4Z,CAA5B,EAA+Bze,CAA/B,EAA+BA;AAC7B,iBAAOgf,EAAI7E,MAAJ6E,IAAcP,CAArB,MAAiCO,EAAI5E,GAAJ4E,GAAUP,CAAVO,IAAUP,CAAYze,IAAOgf,EAAIhf,IAAXA,GAAkBgf,EAAI/e,KAAlCwe,IAA2C5Z,CAAtF;AAGF;;AAAA,eAAS6Z,EAAT,CAAyBhhB,CAAzB,EAA6BmR,CAA7B,EAAsC/K,CAAtC,EAA8Ce,CAA9C,EAAiD4Z,CAAjD,EAAiDA;AAE/CA,aAAK7P,GAAaC,CAAbD,CAAL6P;AACA,YAAIV,IAAkB9E,GAAsBvb,CAAtBub,EAA0BpK,CAA1BoK,CAAtB;AAAA,YAGIhC,IAAeiG,GAAgBrO,CAAhBqO,CAHnB;AAAA,YAII2B,IAAQ,CAJZ;AAAA,YAIexxB,IAAMwhB,EAAQjS,IAARiS,CAAa/jB,MAJlC;AAAA,YAI0Cm0B,KAAM,CAJhD;AAAA,YAMIhlB,IAAQ0C,GAASkS,CAATlS,EAAkBe,EAAGsF,GAAHtF,CAAO7C,SAAzB8B,CANZ;;AASA,YAAI1C,CAAJ,EAAW;AACT,cAAI8X,KAAQrU,EAAG6D,OAAH7D,CAAWmc,YAAXnc,GAA0BwhB,EAA1BxhB,GAAkDyhB,EAA1DpN,EACUrU,CADVqU,EACclD,CADdkD,EACuBjO,CADvBiO,EAC+BgM,CAD/BhM,EACgD9X,CADhD8X,EACuDlN,CADvDkN,EAC0D0M,CAD1D1M,CAAJ;AAOA8M,eALAI,IAAoB,KAAdlN,EAAKnX,KAKXikB,IAAc9M,EAAKtY,IAAnBolB,GAA0B9M,EAAKrY,EAALqY,GAAU,CAApC8M,EACAxxB,IAAM4xB,IAAMlN,EAAKrY,EAAXulB,GAAgBlN,EAAKtY,IAALsY,GAAY,CADlC8M;AAOF;;AAAA,YAYIO,CAZJ;AAAA,YAYWllB,CAZX;AAAA,YAAImlB,IAAW,IAAf;AAAA,YAAqBC,IAAY,IAAjC;AAAA,YACI3mB,IAAKY,GAAU,UAAUZ,CAAV,EAAUA;AAC3B,cAAIqmB,IAAMhG,GAAoBtb,CAApBsb,EAAwB+E,CAAxB/E,EAAyCrgB,CAAzCqgB,CAAV;AAEA,iBADAgG,EAAI5E,GAAJ4E,IAAW/H,CAAX+H,EAAyBA,EAAI7E,MAAJ6E,IAAc/H,CAAvC+H,EAAuC/H,EAClC8H,GAAWC,CAAXD,EAAgBla,CAAhBka,EAAmBN,CAAnBM,EAAmBN,CAAG,CAAtBM,CADkC9H,KAEnC+H,EAAI5E,GAAJ4E,IAAWP,CAAXO,IAAgBA,EAAIhf,IAAJgf,IAAYna,CAA5Bma,KACFK,IAAW1mB,CAAX0mB,EACAC,IAAYN,CAFVA,GAEUA,CAEP,CANgC/H,CACvC;AAKO,SARA1d,EASNslB,CATMtlB,EASClM,CATDkM,CADT;AAAA,YAYmB+kB,KAAU,CAZ7B;;AAcA,YAAIgB,CAAJ,EAAe;AAEb,cAAIC,IAAS1a,IAAIya,EAAUtf,IAAd6E,GAAqBya,EAAUrf,KAAVqf,GAAkBza,CAApD;AAAA,cAAuD2a,IAAUD,KAAUN,CAA3E;AACAtmB,cAAK0mB,KAAYG,IAAU,CAAVA,GAAc,CAA1BH,CAAL1mB,EACAuB,IAASslB,IAAU,OAAVA,GAAoB,QAD7B7mB,EAEAymB,IAAQG,IAASD,EAAUtf,IAAnBuf,GAA0BD,EAAUrf,KAF5CtH;AAE4CsH,SAL9C,MAMO;AAEAgf,eAAQtmB,KAAMtL,CAANsL,IAAaA,KAAMkmB,CAA3BI,IAAqCtmB,GAArCsmB,EAIL/kB,IAAe,KAANvB,CAAM,GAAI,OAAJ,GAAcA,KAAMkW,EAAQjS,IAARiS,CAAa/jB,MAAnB6N,GAA4B,QAA5BA,GAC1BqgB,GAAoBtb,CAApBsb,EAAwB+E,CAAxB/E,EAAyCrgB,KAAMsmB,IAAM,CAANA,GAAU,CAAhBtmB,CAAzCqgB,EAA6DmB,MAA7DnB,GAAsE/B,CAAtE+B,IAAsFyF,CAAtFzF,IAA4FiG,CAA5FjG,GACD,OADCA,GACS,QANPiG;AASL,cAAIvB,IAASI,GAAapgB,CAAbogB,EAAiBrZ,GAAIX,CAAJW,EAAY9L,CAAZ8L,EAAgBvK,CAAhBuK,CAAjBqZ,EAA0C,MAA1CA,EAAkDjP,CAAlDiP,EAA2DC,CAA3DD,CAAb;AACAsB,cAAQ1B,EAAO1d,IAAfof,EACAd,IAAUG,IAAIf,EAAOtD,GAAXqE,GAAWrE,CAAO,CAAlBqE,GAAsBA,KAAKf,EAAOvD,MAAZsE,GAAqB,CAArBA,GAAyB,CADzDW;AAKF;;AAAA,eAAOf,GAAYva,CAAZua,EADP1lB,IAAKQ,GAAmB0V,EAAQjS,IAA3BzD,EAAiCR,CAAjCQ,EAAqC,CAArCA,CACEklB,EAAwBnkB,CAAxBmkB,EAAgCC,CAAhCD,EAAyCxZ,IAAIua,CAA7Cf,CAAP;AAGF;;AAAA,eAASc,EAAT,CAAwBzhB,CAAxB,EAA4BmR,CAA5B,EAAqC/K,CAArC,EAA6Cia,CAA7C,EAA8D9jB,CAA9D,EAAqE4K,CAArE,EAAwE4Z,CAAxE,EAAwEA;AAKtE,YAAI1rB,IAAQwG,GAAU,UAAU9Q,CAAV,EAAUA;AAC9B,cAAIspB,IAAO9X,EAAMxR,CAANwR,CAAX;AAAA,cAAqBglB,IAAoB,KAAdlN,EAAKnX,KAAhC;AACA,iBAAOmkB,GAAWjB,GAAapgB,CAAbogB,EAAiBrZ,GAAIX,CAAJW,EAAYwa,IAAMlN,EAAKrY,EAAXulB,GAAgBlN,EAAKtY,IAAjCgL,EAAuCwa,IAAM,QAANA,GAAiB,OAAxDxa,CAAjBqZ,EACa,MADbA,EACqBjP,CADrBiP,EAC8BC,CAD9BD,CAAXiB,EAC2Dla,CAD3Dka,EAC8DN,CAD9DM,EAC8DN,CAAG,CADjEM,CAAP;AACwE,SAH9DxlB,EAIT,CAJSA,EAINU,EAAMnP,MAANmP,GAAe,CAJTV,CAAZ;AAAA,YAKIwY,IAAO9X,EAAMlH,CAANkH,CALX;;AASA,YAAIlH,IAAQ,CAAZ,EAAe;AACb,cAAIksB,IAAoB,KAAdlN,EAAKnX,KAAf;AAAA,cACIxN,IAAQ0wB,GAAapgB,CAAbogB,EAAiBrZ,GAAIX,CAAJW,EAAYwa,IAAMlN,EAAKtY,IAAXwlB,GAAkBlN,EAAKrY,EAAnC+K,EAAuCwa,IAAM,OAANA,GAAgB,QAAvDxa,CAAjBqZ,EACa,MADbA,EACqBjP,CADrBiP,EAC8BC,CAD9BD,CADZ;AAGIiB,aAAW3xB,CAAX2xB,EAAkBla,CAAlBka,EAAqBN,CAArBM,EAAqBN,CAAG,CAAxBM,KAAiC3xB,EAAMgtB,GAANhtB,GAAYqxB,CAA7CM,KACAhN,IAAO9X,EAAMlH,IAAQ,CAAdkH,CADP8kB;AAGN;;AAAA,eAAOhN,CAAP;AAGF;;AAAA,eAASmN,EAAT,CAA+BxhB,CAA/B,EAAmCmR,CAAnC,EAA4C4Q,CAA5C,EAAqD1B,CAArD,EAAsE9jB,CAAtE,EAA6E4K,CAA7E,EAAgF4Z,CAAhF,EAAgFA;AAQ9E,YAAIiB,IAAMd,GAAkBlhB,CAAlBkhB,EAAsB/P,CAAtB+P,EAA+Bb,CAA/Ba,EAAgDH,CAAhDG,CAAV;AAAA,YACIC,IAAQa,EAAIb,KADhB;AAAA,YAEIxxB,IAAMqyB,EAAIryB,GAFd;AAGI,aAAKlC,IAAL,CAAU0jB,EAAQjS,IAARiS,CAAavV,MAAbuV,CAAoBxhB,IAAM,CAA1BwhB,CAAV,KAA2CxhB,GAA3C;;AAEJ,aADA,IAAI0kB,IAAO,IAAX,EAAiB4N,IAAc,IAA/B,EACSl3B,IAAI,CAAb,EAAgBA,IAAIwR,EAAMnP,MAA1B,EAAkCrC,GAAlC,EAAuC;AACrC,cAAI+B,IAAIyP,EAAMxR,CAANwR,CAAR;;AACA,gBAAIzP,EAAEiP,IAAFjP,IAAU6C,CAAV7C,IAAiBA,EAAEkP,EAAFlP,IAAQq0B,CAA7B;AACA,gBACIe,IAAO5G,GAAoBtb,CAApBsb,EAAwB+E,CAAxB/E,EADU,KAAXxuB,EAAEoQ,KAAS,GACqC9C,KAAKC,GAALD,CAASzK,CAATyK,EAActN,EAAEkP,EAAhB5B,IAAsB,CAD3D,GAC+DA,KAAKmN,GAALnN,CAAS+mB,CAAT/mB,EAAgBtN,EAAEiP,IAAlB3B,CAAzEkhB,EAAkG/Y,KAD7G;AAAA,gBAII4f,IAAOD,IAAO/a,CAAP+a,GAAW/a,IAAI+a,CAAJ/a,GAAW,GAAtB+a,GAA4BA,IAAO/a,CAJ9C;AAI8CA,cACzCkN,CADyClN,IACjC8a,IAAcE,CADmBhb,MAE5CkN,IAAOvnB,CAAPunB,EACA4N,IAAcE,CAH8Bhb;AAG9Bgb;AAOlB;;AAAA,eAJK9N,MAAQA,IAAO9X,EAAMA,EAAMnP,MAANmP,GAAe,CAArBA,CAAf8X,GAEDA,EAAKtY,IAALsY,GAAY8M,CAAZ9M,KAAqBA,IAAO;AAACtY,gBAAMolB,CAAP;AAAcnlB,cAAIqY,EAAKrY,EAAvB;AAA2BkB,iBAAOmX,EAAKnX;AAAvC,SAA5BmX,CAFCA,EAGDA,EAAKrY,EAALqY,GAAU1kB,CAAV0kB,KAAiBA,IAAO;AAACtY,gBAAMsY,EAAKtY,IAAZ;AAAkBC,cAAIrM,CAAtB;AAA2BuN,iBAAOmX,EAAKnX;AAAvC,SAAxBmX,CAHCA,EAIEA,CAAP;AAKF;;AAAA,eAAS+N,EAAT,CAAoBlX,CAApB,EAAoBA;AAClB,YAAgC,QAA5BA,EAAQ4T,gBAAZ,EAAwC,OAAO5T,EAAQ4T,gBAAf;;AACxC,YAAmB,QAAfR,EAAJ,EAAyB;AACvBA,eAAcxoB,EAAI,KAAJA,EAAW,IAAXA,EAAiB,sBAAjBA,CAAdwoB;;AAGA,eAAK,IAAIvzB,IAAI,CAAb,EAAgBA,IAAI,EAApB,EAAoB,EAAMA,CAA1B,EACEuzB,GAAYzoB,WAAZyoB,CAAwB/qB,SAAS4C,cAAT5C,CAAwB,GAAxBA,CAAxB+qB,GACAA,GAAYzoB,WAAZyoB,CAAwBxoB,EAAI,IAAJA,CAAxBwoB,CADAA;;AAGFA,aAAYzoB,WAAZyoB,CAAwB/qB,SAAS4C,cAAT5C,CAAwB,GAAxBA,CAAxB+qB;AAEF3oB;;AAAAA,UAAqBuV,EAAQpJ,OAA7BnM,EAAsC2oB,EAAtC3oB;AACA,YAAIuQ,IAASoY,GAAYvc,YAAZuc,GAA2B,EAAxC;AAGA,eAFIpY,IAAS,CAATA,KAAcgF,EAAQ4T,gBAAR5T,GAA2BhF,CAAzCA,GACJ5Q,EAAe4V,EAAQpJ,OAAvBxM,CADI4Q,EAEGA,KAAU,CAAjB;AAIF;;AAAA,eAAS2X,EAAT,CAAmB3S,CAAnB,EAAmBA;AACjB,YAA+B,QAA3BA,EAAQ2T,eAAZ,EAAuC,OAAO3T,EAAQ2T,eAAf;AACvC,YAAIwD,IAASvsB,EAAI,MAAJA,EAAY,YAAZA,CAAb;AAAA,YACIsc,IAAMtc,EAAI,KAAJA,EAAW,CAACusB,CAAD,CAAXvsB,EAAqB,sBAArBA,CADV;AAEAH,UAAqBuV,EAAQpJ,OAA7BnM,EAAsCyc,CAAtCzc;AACA,YAAImmB,IAAOuG,EAAOjgB,qBAAPigB,EAAX;AAAA,YAA2CpJ,KAAS6C,EAAKvZ,KAALuZ,GAAaA,EAAKxZ,IAA3B2W,IAAmC,EAA9E;AAEA,eADIA,IAAQ,CAARA,KAAa/N,EAAQ2T,eAAR3T,GAA0B+N,CAAvCA,GACGA,KAAS,EAAhB;AAKF;;AAAA,eAASyC,EAAT,CAAuB1b,CAAvB,EAAuBA;AAGrB,aAFA,IAAI3U,IAAI2U,EAAGkL,OAAX,EAAoB5I,IAAO,EAA3B,EAA+B2W,IAAQ,EAAvC,EACIlB,IAAa1sB,EAAEouB,OAAFpuB,CAAUi3B,UAD3B,EAES91B,IAAInB,EAAEouB,OAAFpuB,CAAUqK,UAFvB,EAEmC3K,IAAI,CAAvC,EAA0CyB,CAA1C,EAA6CA,IAAIA,EAAE8rB,WAAN9rB,EAAM8rB,EAAevtB,CAAlE,EAAqE;AACnE,cAAIyD,IAAKwR,EAAGkL,OAAHlL,CAAWkY,WAAXlY,CAAuBjV,CAAvBiV,EAA0B9K,SAAnC;AACAoN,YAAK9T,CAAL8T,IAAW9V,EAAE+1B,UAAF/1B,GAAeA,EAAE81B,UAAjB91B,GAA8BurB,CAAzCzV,EACA2W,EAAMzqB,CAANyqB,IAAYzsB,EAAEmtB,WADdrX;AAGF;;AAAA,eAAO;AAACkV,oBAAUgL,GAAqBn3B,CAArBm3B,CAAX;AACC/K,4BAAkBpsB,EAAEouB,OAAFpuB,CAAU2W,WAD7B;AAEC+V,sBAAYzV,CAFb;AAGC6V,uBAAac,CAHd;AAICC,wBAAc7tB,EAAEquB,OAAFruB,CAAUsuB;AAJzB,SAAP;AAUF;;AAAA,eAAS6I,EAAT,CAA8BtX,CAA9B,EAA8BA;AAC5B,eAAOA,EAAQ4P,QAAR5P,CAAiB9I,qBAAjB8I,GAAyC5I,IAAzC4I,GAAgDA,EAAQ4O,KAAR5O,CAAc9I,qBAAd8I,GAAsC5I,IAA7F;AAMF;;AAAA,eAASqP,EAAT,CAAwB3R,CAAxB,EAAwBA;AACtB,YAAIyiB,IAAKL,GAAWpiB,EAAGkL,OAAdkX,CAAT;AAAA,YAAiClG,IAAWlc,EAAG6D,OAAH7D,CAAWmc,YAAvD;AAAA,YACIuG,IAAUxG,KAAY9hB,KAAKmN,GAALnN,CAAS,CAATA,EAAY4F,EAAGkL,OAAHlL,CAAW8a,QAAX9a,CAAoB2Z,WAApB3Z,GAAkC6d,GAAU7d,EAAGkL,OAAb2S,CAAlC7d,GAA0D,CAAtE5F,CAD1B;AAEA,eAAO,UAAU/K,CAAV,EAAUA;AACf,cAAI0hB,GAAa/Q,EAAGsF,GAAhByL,EAAqB1hB,CAArB0hB,CAAJ,EAAkC,OAAO,CAAP;AAElC,cAAI4R,IAAgB,CAApB;AACA,cAAItzB,EAAKspB,OAAT,EAAoB,KAAK,IAAI5tB,IAAI,CAAb,EAAgBA,IAAIsE,EAAKspB,OAALtpB,CAAajC,MAAjC,EAAyCrC,GAAzC,EACdsE,EAAKspB,OAALtpB,CAAatE,CAAbsE,EAAgB6W,MAAhB7W,KAA0BszB,KAAiBtzB,EAAKspB,OAALtpB,CAAatE,CAAbsE,EAAgB6W,MAA3D7W;AAGN,iBAAI6sB,IACOyG,KAAiBvoB,KAAK+B,IAAL/B,CAAU/K,EAAK6P,IAAL7P,CAAUjC,MAAViC,GAAmBqzB,CAA7BtoB,KAAyC,CAA1DuoB,IAA+DF,CADtEvG,GAGOyG,IAAgBF,CAH3B;AAG2BA,SAX7B;AAeF;;AAAA,eAASG,EAAT,CAA6B5iB,CAA7B,EAA6BA;AAC3B,YAAIsF,IAAMtF,EAAGsF,GAAb;AAAA,YAAkBud,IAAMlR,GAAe3R,CAAf2R,CAAxB;AACArM,UAAIS,IAAJT,CAAS,UAAUjW,CAAV,EAAUA;AACjB,cAAIyzB,IAAYD,EAAIxzB,CAAJwzB,CAAhB;AACIC,eAAazzB,EAAK6W,MAAlB4c,IAA4B7c,GAAiB5W,CAAjB4W,EAAuB6c,CAAvB7c,CAA5B6c;AAAmDA,SAFzDxd;AAWF;;AAAA,eAASyd,EAAT,CAAsB/iB,CAAtB,EAA0B9O,CAA1B,EAA6B8xB,CAA7B,EAAsCC,CAAtC,EAAsCA;AACpC,YAAI/X,IAAUlL,EAAGkL,OAAjB;AACA,aAAK8X,CAAL,IAA8D,UAA9C7hB,GAASjQ,CAATiQ,EAAY0Y,YAAZ1Y,CAAyB,gBAAzBA,CAAhB,EAAwE,OAAO,IAAP;AAExE,YAAIgG,CAAJ;AAAA,YAAO4Z,CAAP;AAAA,YAAUmC,IAAQhY,EAAQ+O,SAAR/O,CAAkB9I,qBAAlB8I,EAAlB;;AAEA;AAAM/D,cAAIjW,EAAEiyB,OAAFjyB,GAAYgyB,EAAM5gB,IAAtB6E,EAA4B4Z,IAAI7vB,EAAEkyB,OAAFlyB,GAAYgyB,EAAMxG,GAAlDvV;AACN,SADA,CACA,OAAOjW,CAAP,EAAOA;AAAK,iBAAO,IAAP;AACZ;;AAAA,YAAmC7B,CAAnC;AAAA,YAAI2wB,IAASc,GAAW9gB,CAAX8gB,EAAe3Z,CAAf2Z,EAAkBC,CAAlBD,CAAb;;AACA,YAAImC,KAAWjD,EAAOa,IAAPb,GAAc,CAAzBiD,IAAyB,CAAM5zB,IAAOgW,GAAQrF,EAAGsF,GAAXD,EAAgB2a,EAAO3wB,IAAvBgW,EAA6BnG,IAA1C,EAAgD9R,MAAhD,IAA0D4yB,EAAO/kB,EAA9F,EAAkG;AAChG,cAAIooB,IAAU/qB,EAAYjJ,CAAZiJ,EAAkBjJ,EAAKjC,MAAvBkL,EAA+B0H,EAAG6D,OAAH7D,CAAWzH,OAA1CD,IAAqDjJ,EAAKjC,MAAxE;AACA4yB,cAASjZ,GAAIiZ,EAAO3wB,IAAX0X,EAAiB3M,KAAKmN,GAALnN,CAAS,CAATA,EAAYA,KAAKkpB,KAALlpB,CAAKkpB,CAAOnc,IAAIiT,GAASpa,EAAGkL,OAAZkP,EAAqB9X,IAAhCghB,IAAwCzF,GAAU7d,EAAGkL,OAAb2S,CAA7CzjB,IAAsEipB,CAAlFjpB,CAAjB2M,CAATiZ;AAEF;;AAAA,eAAOA,CAAP;AAKF;;AAAA,eAASvE,EAAT,CAAuBzb,CAAvB,EAA2BxT,CAA3B,EAA2BA;AACzB,YAAIA,KAAKwT,EAAGkL,OAAHlL,CAAW4L,MAApB,EAA8B,OAAO,IAAP;AAE9B,aADApf,KAAKwT,EAAGkL,OAAHlL,CAAW2L,QAChB,IAAQ,CAAR,EAAa,OAAO,IAAP;;AAEb,aADA,IAAIgK,IAAO3V,EAAGkL,OAAHlL,CAAW2V,IAAtB,EACS5qB,IAAI,CAAb,EAAgBA,IAAI4qB,EAAKvoB,MAAzB,EAAiCrC,GAAjC,EAEE,KADAyB,KAAKmpB,EAAK5qB,CAAL4qB,EAAQnQ,IACb,IAAQ,CAAR,EAAa,OAAOza,CAAP;AAUjB;;AAAA,eAASw4B,EAAT,CAAmBvjB,CAAnB,EAAuBjE,CAAvB,EAA6BC,CAA7B,EAAiCwnB,CAAjC,EAAiCA;AACnB,gBAARznB,CAAQ,KAAQA,IAAOiE,EAAGsF,GAAHtF,CAAOuF,KAAtB,GACF,QAANvJ,CAAM,KAAQA,IAAKgE,EAAGsF,GAAHtF,CAAOuF,KAAPvF,GAAeA,EAAGsF,GAAHtF,CAAOwF,IAAnC,CADE,EAEPge,MAAWA,IAAU,CAArBA,CAFO;AAIZ,YAAItY,IAAUlL,EAAGkL,OAAjB;AAOA,YANIsY,KAAWxnB,IAAKkP,EAAQU,MAAxB4X,KAC8B,QAA7BtY,EAAQuY,iBAAqB,IAAQvY,EAAQuY,iBAARvY,GAA4BnP,CADlEynB,MAEAtY,EAAQuY,iBAARvY,GAA4BnP,CAF5BynB,GAIJxjB,EAAGQ,KAAHR,CAAS0jB,WAAT1jB,GAAS0jB,CAAc,CAJnBF,EAMAznB,KAAQmP,EAAQU,MAApB,EACMsB,MAAqBwD,GAAa1Q,EAAGsF,GAAhBoL,EAAqB3U,CAArB2U,IAA6BxF,EAAQU,MAA1DsB,IACAyW,GAAU3jB,CAAV2jB,CADAzW,CADN,KAGO,IAAIlR,KAAMkP,EAAQS,QAAlB,EACDuB,MAAqB2D,GAAgB7Q,EAAGsF,GAAnBuL,EAAwB7U,IAAKwnB,CAA7B3S,IAAwC3F,EAAQS,QAArEuB,GACFyW,GAAU3jB,CAAV2jB,CADEzW,IAGFhC,EAAQS,QAART,IAAoBsY,CAApBtY,EACAA,EAAQU,MAARV,IAAkBsY,CAJhBtW,EADC,KAOA,IAAInR,KAAQmP,EAAQS,QAAhB5P,IAA4BC,KAAMkP,EAAQU,MAA9C,EACL+X,GAAU3jB,CAAV2jB,EADK,KAEA,IAAI5nB,KAAQmP,EAAQS,QAApB,EAA8B;AACnC,cAAIiY,IAAMC,GAAiB7jB,CAAjB6jB,EAAqB7nB,CAArB6nB,EAAyB7nB,IAAKwnB,CAA9BK,EAAuC,CAAvCA,CAAV;AACID,eACF1Y,EAAQyK,IAARzK,GAAeA,EAAQyK,IAARzK,CAAa9V,KAAb8V,CAAmB0Y,EAAIvuB,KAAvB6V,CAAfA,EACAA,EAAQS,QAART,GAAmB0Y,EAAIjT,KADvBzF,EAEAA,EAAQU,MAARV,IAAkBsY,CAHhBI,IAKFD,GAAU3jB,CAAV2jB,CALEC;AAKQ5jB,SAPP,MASA,IAAIhE,KAAMkP,EAAQU,MAAlB,EAA0B;AAC/B,cAAIkY,IAAQD,GAAiB7jB,CAAjB6jB,EAAqB9nB,CAArB8nB,EAA2B9nB,CAA3B8nB,EAA2B9nB,CAAO,CAAlC8nB,CAAZ;AACIC,eACF5Y,EAAQyK,IAARzK,GAAeA,EAAQyK,IAARzK,CAAa9V,KAAb8V,CAAmB,CAAnBA,EAAsB4Y,EAAMzuB,KAA5B6V,CAAfA,EACAA,EAAQU,MAARV,GAAiB4Y,EAAMnT,KAFrBmT,IAIFH,GAAU3jB,CAAV2jB,CAJEG;AAIQ9jB,SANP,MAQA;AACL,cAAI+jB,IAASF,GAAiB7jB,CAAjB6jB,EAAqB9nB,CAArB8nB,EAA2B9nB,CAA3B8nB,EAA2B9nB,CAAO,CAAlC8nB,CAAb;AAAA,cACIG,IAASH,GAAiB7jB,CAAjB6jB,EAAqB7nB,CAArB6nB,EAAyB7nB,IAAKwnB,CAA9BK,EAAuC,CAAvCA,CADb;AAEIE,eAAUC,CAAVD,IACF7Y,EAAQyK,IAARzK,GAAeA,EAAQyK,IAARzK,CAAa9V,KAAb8V,CAAmB,CAAnBA,EAAsB6Y,EAAO1uB,KAA7B6V,EACZhZ,MADYgZ,CACLuK,GAAezV,CAAfyV,EAAmBsO,EAAOpT,KAA1B8E,EAAiCuO,EAAOrT,KAAxC8E,CADKvK,EAEZhZ,MAFYgZ,CAELA,EAAQyK,IAARzK,CAAa9V,KAAb8V,CAAmB8Y,EAAO3uB,KAA1B6V,CAFKA,CAAfA,EAGAA,EAAQU,MAARV,IAAkBsY,CAJhBO,IAMFJ,GAAU3jB,CAAV2jB,CANEI;AAUN;AAAA,YAAIlN,IAAM3L,EAAQ2H,gBAAlB;AACIgE,cACE7a,IAAK6a,EAAIlG,KAAT3U,GACA6a,EAAIlG,KAAJkG,IAAa2M,CADbxnB,GAEKD,IAAO8a,EAAIlG,KAAJkG,GAAYA,EAAIrR,IAAvBzJ,KACLmP,EAAQ2H,gBAAR3H,GAA2B,IADtBnP,CAHP8a;AAUN;;AAAA,eAASoN,EAAT,CAAuBjkB,CAAvB,EAA2B3Q,CAA3B,EAAiCoO,CAAjC,EAAiCA;AAC/BuC,UAAGQ,KAAHR,CAAS0jB,WAAT1jB,GAAS0jB,CAAc,CAAvB1jB;AACA,YAAIkL,IAAUlL,EAAGkL,OAAjB;AAAA,YAA0B2L,IAAM7W,EAAGkL,OAAHlL,CAAW6S,gBAA3C;;AAIA,YAHIgE,KAAOxnB,KAAQwnB,EAAIlG,KAAnBkG,IAA4BxnB,IAAOwnB,EAAIlG,KAAJkG,GAAYA,EAAIrR,IAAnDqR,KACA3L,EAAQ2H,gBAAR3H,GAA2B,IAD3B2L,GAC2B,EAE3BxnB,IAAO6b,EAAQS,QAAftc,IAA2BA,KAAQ6b,EAAQU,MAFhB,CAE/B;AACA,cAAIsG,IAAWhH,EAAQyK,IAARzK,CAAauQ,GAAczb,CAAdyb,EAAkBpsB,CAAlBosB,CAAbvQ,CAAf;;AACA,cAAqB,QAAjBgH,EAAS/iB,IAAb;AACA,gBAAIsL,IAAMyX,EAASkE,OAATlE,KAAqBA,EAASkE,OAATlE,GAAmB,EAAxCA,CAAV;AAAkD,aACvB,CADuB,IAC9CjlB,EAAQwN,CAARxN,EAAawQ,CAAbxQ,CAD8C,IAClBwN,EAAI/H,IAAJ+H,CAASgD,CAAThD,CADkB;AACTgD;AAAAA;AAI3C;;AAAA,eAASkmB,EAAT,CAAmB3jB,CAAnB,EAAmBA;AACjBA,UAAGkL,OAAHlL,CAAW2L,QAAX3L,GAAsBA,EAAGkL,OAAHlL,CAAW4L,MAAX5L,GAAoBA,EAAGsF,GAAHtF,CAAOuF,KAAjDvF,EACAA,EAAGkL,OAAHlL,CAAW2V,IAAX3V,GAAkB,EADlBA,EAEAA,EAAGkL,OAAHlL,CAAW4f,UAAX5f,GAAwB,CAFxBA;AAKF;;AAAA,eAAS6jB,EAAT,CAA0B7jB,CAA1B,EAA8BkkB,CAA9B,EAAoCC,CAApC,EAA0CxoB,CAA1C,EAA0CA;AACxC,YAAqCwK,CAArC;AAAA,YAAI9Q,IAAQomB,GAAczb,CAAdyb,EAAkByI,CAAlBzI,CAAZ;AAAA,YAA2C9F,IAAO3V,EAAGkL,OAAHlL,CAAW2V,IAA7D;AACA,aAAKzI,EAAL,IAA0BiX,KAAQnkB,EAAGsF,GAAHtF,CAAOuF,KAAPvF,GAAeA,EAAGsF,GAAHtF,CAAOwF,IAAxD,EACI,OAAO;AAACnQ,iBAAOA,CAAR;AAAesb,iBAAOwT;AAAtB,SAAP;;AAEJ,aADA,IAAI33B,IAAIwT,EAAGkL,OAAHlL,CAAW2L,QAAnB,EACS5gB,IAAI,CAAb,EAAgBA,IAAIsK,CAApB,EAA2BtK,GAA3B,EACIyB,KAAKmpB,EAAK5qB,CAAL4qB,EAAQnQ,IAAbhZ;;AACJ,YAAIA,KAAK03B,CAAT,EAAe;AACb,cAAIvoB,IAAM,CAAV,EAAa;AACX,gBAAItG,KAASsgB,EAAKvoB,MAALuoB,GAAc,CAA3B,EAAgC,OAAO,IAAP;AAChCxP,gBAAQ3Z,IAAImpB,EAAKtgB,CAALsgB,EAAYnQ,IAAhBhZ,GAAwB03B,CAAhC/d,EACA9Q,GADA8Q;AACA9Q,WAHF,MAKE8Q,IAAO3Z,IAAI03B,CAAX/d;;AAEF+d,eAAQ/d,CAAR+d,EAAcC,KAAQhe,CAAtB+d;AAEF;;AAAA,eAAOxT,GAAa1Q,EAAGsF,GAAhBoL,EAAqByT,CAArBzT,KAA8ByT,CAArC,GAA2C;AACzC,cAAI9uB,MAAUsG,IAAM,CAANA,GAAU,CAAVA,GAAcga,EAAKvoB,MAALuoB,GAAc,CAAtCtgB,CAAJ,EAAgD,OAAO,IAAP;AAChD8uB,eAAQxoB,IAAMga,EAAKtgB,KAASsG,IAAM,CAANA,GAAU,CAAVA,GAAc,CAAvBtG,CAALsgB,EAAgCnQ,IAA9C2e,EACA9uB,KAASsG,CADTwoB;AAGF;;AAAA,eAAO;AAAC9uB,iBAAOA,CAAR;AAAesb,iBAAOwT;AAAtB,SAAP;AA0BF;;AAAA,eAASC,EAAT,CAAwBpkB,CAAxB,EAAwBA;AAEtB,aADA,IAAI2V,IAAO3V,EAAGkL,OAAHlL,CAAW2V,IAAtB,EAA4B0O,IAAQ,CAApC,EACSt5B,IAAI,CAAb,EAAgBA,IAAI4qB,EAAKvoB,MAAzB,EAAiCrC,GAAjC,EAAsC;AACpC,cAAImnB,IAAWyD,EAAK5qB,CAAL4qB,CAAf;AACKzD,YAASsD,MAATtD,IAAqBA,EAAS/iB,IAAT+iB,IAAS/iB,CAAQ+iB,EAASkE,OAA/ClE,IAA+CkE,EAAciO,CAA7DnS;AAEP;;AAAA,eAAOmS,CAAP;AAGF;;AAAA,eAASC,EAAT,CAAyBtkB,CAAzB,EAAyBA;AACvBA,UAAGkL,OAAHlL,CAAWyU,KAAXzU,CAAiBukB,aAAjBvkB,CAA+BA,EAAGkL,OAAHlL,CAAWyU,KAAXzU,CAAiBwkB,gBAAjBxkB,EAA/BA;AAGF;;AAAA,eAASwkB,EAAT,CAA0BxkB,CAA1B,EAA8BykB,CAA9B,EAA8BA;AAAAA,aACX,CADWA,KACvBA,CADuBA,KACFA,KAAU,CADRA;;AAO5B,aAJA,IAAInf,IAAMtF,EAAGsF,GAAb,EAAkB7C,IAAS,EAA3B,EACIiiB,IAAcjiB,EAAOkiB,OAAPliB,GAAiBlP,SAASugB,sBAATvgB,EADnC,EAEIqxB,IAAcniB,EAAOO,SAAPP,GAAmBlP,SAASugB,sBAATvgB,EAFrC,EAISxI,IAAI,CAAb,EAAgBA,IAAIua,EAAIuf,GAAJvf,CAAQwf,MAARxf,CAAelY,MAAnC,EAA2CrC,GAA3C,EACE,IAAK05B,KAAW15B,KAAKua,EAAIuf,GAAJvf,CAAQyf,SAA7B;AACA,cAAIhwB,IAAQuQ,EAAIuf,GAAJvf,CAAQwf,MAARxf,CAAeva,CAAfua,CAAZ;;AACA,gBAAIvQ,EAAMgH,IAANhH,GAAa1F,IAAb0F,IAAqBiL,EAAGkL,OAAHlL,CAAW4L,MAAhC7W,IAA0CA,EAAMiH,EAANjH,GAAW1F,IAAX0F,GAAkBiL,EAAGkL,OAAHlL,CAAW2L,QAA3E;AACA,gBAAIwE,IAAYpb,EAAMiwB,KAANjwB,EAAhB;AAAsBiwB,aAClB7U,KAAanQ,EAAG6D,OAAH7D,CAAWilB,uBADND,KAElBE,GAAoBllB,CAApBklB,EAAwBnwB,EAAMowB,IAA9BD,EAAoCR,CAApCQ,CAFkBF,EAGjB7U,KACDiV,GAAmBplB,CAAnBolB,EAAuBrwB,CAAvBqwB,EAA8BR,CAA9BQ,CAJkBJ;AAIYJ;AAEpC;;AAAA,eAAOniB,CAAP;AAIF;;AAAA,eAASyiB,EAAT,CAA6BllB,CAA7B,EAAiCmlB,CAAjC,EAAuCzY,CAAvC,EAAuCA;AACrC,YAAIzS,IAAMmmB,GAAapgB,CAAbogB,EAAiB+E,CAAjB/E,EAAuB,KAAvBA,EAA8B,IAA9BA,EAAoC,IAApCA,EAAoC,CAAOpgB,EAAG6D,OAAH7D,CAAWme,yBAAtDiC,CAAV;AAAA,YAEIiF,IAAS3Y,EAAO7W,WAAP6W,CAAmB5W,EAAI,KAAJA,EAAW,GAAXA,EAAqB,mBAArBA,CAAnB4W,CAFb;;AAOA,YAJA2Y,EAAOrvB,KAAPqvB,CAAa/iB,IAAb+iB,GAAoBprB,EAAIqI,IAAJrI,GAAW,IAA/BorB,EACAA,EAAOrvB,KAAPqvB,CAAa3I,GAAb2I,GAAmBprB,EAAIyiB,GAAJziB,GAAU,IAD7BorB,EAEAA,EAAOrvB,KAAPqvB,CAAanf,MAAbmf,GAAsBjrB,KAAKmN,GAALnN,CAAS,CAATA,EAAYH,EAAIwiB,MAAJxiB,GAAaA,EAAIyiB,GAA7BtiB,IAAoC4F,EAAG6D,OAAH7D,CAAWslB,YAA/ClrB,GAA8D,IAFpFirB,EAIIprB,EAAIwmB,KAAR,EAAe;AAEb,cAAI8E,IAAc7Y,EAAO7W,WAAP6W,CAAmB5W,EAAI,KAAJA,EAAW,GAAXA,EAAqB,8CAArBA,CAAnB4W,CAAlB;AACA6Y,YAAYvvB,KAAZuvB,CAAkBra,OAAlBqa,GAA4B,EAA5BA,EACAA,EAAYvvB,KAAZuvB,CAAkBjjB,IAAlBijB,GAAyBtrB,EAAIwmB,KAAJxmB,CAAUqI,IAAVrI,GAAiB,IAD1CsrB,EAEAA,EAAYvvB,KAAZuvB,CAAkB7I,GAAlB6I,GAAwBtrB,EAAIwmB,KAAJxmB,CAAUyiB,GAAVziB,GAAgB,IAFxCsrB,EAGAA,EAAYvvB,KAAZuvB,CAAkBrf,MAAlBqf,GAAgE,OAApCtrB,EAAIwmB,KAAJxmB,CAAUwiB,MAAVxiB,GAAmBA,EAAIwmB,KAAJxmB,CAAUyiB,GAAO,IAAM,IAHtE6I;AAGsE;AAI1E;;AAAA,eAASC,EAAT,CAAmBvuB,CAAnB,EAAsBC,CAAtB,EAAsBA;AAAK,eAAOD,EAAEylB,GAAFzlB,GAAQC,EAAEwlB,GAAVzlB,IAAiBA,EAAEqL,IAAFrL,GAASC,EAAEoL,IAAnC;AAG3B;;AAAA,eAAS8iB,EAAT,CAA4BplB,CAA5B,EAAgCjL,CAAhC,EAAuC2X,CAAvC,EAAuCA;AACrC,YAAIxB,IAAUlL,EAAGkL,OAAjB;AAAA,YAA0B5F,IAAMtF,EAAGsF,GAAnC;AAAA,YACImgB,IAAWlyB,SAASugB,sBAATvgB,EADf;AAAA,YAEImyB,IAAUtL,GAASpa,EAAGkL,OAAZkP,CAFd;AAAA,YAEoCuL,IAAWD,EAAQpjB,IAFvD;AAAA,YAGIsjB,IAAYxrB,KAAKmN,GAALnN,CAAS8Q,EAAQ2a,UAAjBzrB,EAA6BygB,GAAa7a,CAAb6a,IAAmB3P,EAAQ4O,KAAR5O,CAAcqX,UAA9DnoB,IAA4EsrB,EAAQnjB,KAHpG;AAAA,YAIIujB,IAA0B,SAAjBxgB,EAAInI,SAJjB;;AAMA,iBAAS4oB,CAAT,CAAazjB,CAAb,EAAmBoa,CAAnB,EAAwBzD,CAAxB,EAA+BwD,CAA/B,EAA+BA;AACzBC,cAAM,CAANA,KAAWA,IAAM,CAAjBA,GACJA,IAAMtiB,KAAKkpB,KAALlpB,CAAWsiB,CAAXtiB,CADFsiB,EAEJD,IAASriB,KAAKkpB,KAALlpB,CAAWqiB,CAAXriB,CAFLsiB,EAGJ+I,EAAS5vB,WAAT4vB,CAAqB3vB,EAAI,KAAJA,EAAW,IAAXA,EAAiB,qBAAjBA,EAAyC,+BAA+BwM,CAA/B,GAAsC,yCAAtC,GAAkFoa,CAAlF,GAAwF,aAAxF,IAAkH,QAATzD,CAAS,GAAO2M,IAAYtjB,CAAnB,GAA0B2W,CAA5I,IAAqJ,4CAArJ,IAAqMwD,IAASC,CAA9M,IAAqN,IAA9P5mB,CAArB2vB,CAHI/I;AAMN;;AAAA,iBAASsJ,CAAT,CAAqB32B,CAArB,EAA2B42B,CAA3B,EAAoCC,CAApC,EAAoCA;AAClC,cAEIx2B,CAFJ;AAAA,cAEWC,CAFX;AAAA,cAAIwhB,IAAU9L,GAAQC,CAARD,EAAahW,CAAbgW,CAAd;AAAA,cACI8gB,IAAUhV,EAAQjS,IAARiS,CAAa/jB,MAD3B;;AAGA,mBAAS4yB,CAAT,CAAgB/kB,CAAhB,EAAoBogB,CAApB,EAAoBA;AAClB,mBAAO8E,GAAWngB,CAAXmgB,EAAepZ,GAAI1X,CAAJ0X,EAAU9L,CAAV8L,CAAfoZ,EAA8B,KAA9BA,EAAqChP,CAArCgP,EAA8C9E,CAA9C8E,CAAP;AAGF;;AAAA,mBAASiG,CAAT,CAAensB,CAAf,EAAoB0B,CAApB,EAAyB0qB,CAAzB,EAAyBA;AACvB,gBAAIC,IAASlF,GAAsBphB,CAAtBohB,EAA0BjQ,CAA1BiQ,EAAmC,IAAnCA,EAAyCnnB,CAAzCmnB,CAAb;AAAA,gBACI/oB,IAAe,SAAPsD,CAAO,KAAmB,WAAR0qB,CAAX,IAA8B,MAA9B,GAAuC,OAD1D;AAGA,mBAAOrG,EADU,WAARqG,CAAQ,GAAUC,EAAOnF,KAAjB,GAAyBmF,EAAO32B,GAAP22B,IAAc,KAAK74B,IAAL,CAAU0jB,EAAQjS,IAARiS,CAAavV,MAAbuV,CAAoBmV,EAAO32B,GAAP22B,GAAa,CAAjCnV,CAAV,IAAiD,CAAjD,GAAqD,CAAnEmV,CACnCtG,EAAW3nB,CAAX2nB,EAAiB3nB,CAAjB2nB,CAAP;AAGF;;AAAA,cAAIzjB,IAAQ0C,GAASkS,CAATlS,EAAkBqG,EAAInI,SAAtB8B,CAAZ;AAqCA,iBAj3FJ,UAA6B1C,CAA7B,EAAoCR,CAApC,EAA0CC,CAA1C,EAA8ChE,CAA9C,EAA8CA;AAC5C,iBAAKuE,CAAL,EAAc,OAAOvE,EAAE+D,CAAF/D,EAAQgE,CAARhE,EAAY,KAAZA,EAAmB,CAAnBA,CAAP;;AAEd,iBADA,IAAIyE,KAAQ,CAAZ,EACS1R,IAAI,CAAb,EAAgBA,IAAIwR,EAAMnP,MAA1B,EAA0BA,EAAUrC,CAApC,EAAuC;AACrC,kBAAIspB,IAAO9X,EAAMxR,CAANwR,CAAX;AAAiBxR,eACbspB,EAAKtY,IAALsY,GAAYrY,CAAZqY,IAAkBA,EAAKrY,EAALqY,GAAUtY,CAA5BsY,IAAoCtY,KAAQC,CAARD,IAAcsY,EAAKrY,EAALqY,IAAWtY,CADhDhR,MAEfiN,EAAEoC,KAAKmN,GAALnN,CAASia,EAAKtY,IAAd3B,EAAoB2B,CAApB3B,CAAFpC,EAA6BoC,KAAKC,GAALD,CAASia,EAAKrY,EAAd5B,EAAkB4B,CAAlB5B,CAA7BpC,EAAkE,KAAdqc,EAAKnX,KAAS,GAAI,KAAJ,GAAY,KAA9ElF,EAAqFjN,CAArFiN,GACAyE,KAAQ,CAHO1R;AAMd0R;;AAAAA,iBAASzE,EAAE+D,CAAF/D,EAAQgE,CAARhE,EAAY,KAAZA,CAATyE;AAm0FH8pB,WA70FJ,CA60FwBhqB,CA70FxB,EA60F+B0pB,KAAW,CA70F1C,EA60FsD,QAATC,CAAS,GAAOC,CAAP,GAAiBD,CA70FvE,EA60F8E,UAAUnqB,CAAV,EAAgBC,CAAhB,EAAoBL,CAApB,EAAyB5Q,CAAzB,EAAyBA;AACjG,gBAAIw2B,IAAa,SAAP5lB,CAAV;AAAA,gBACI6qB,IAAUxG,EAAOjkB,CAAPikB,EAAauB,IAAM,MAANA,GAAe,OAA5BvB,CADd;AAAA,gBAEIyG,IAAQzG,EAAOhkB,IAAK,CAAZgkB,EAAeuB,IAAM,OAANA,GAAgB,MAA/BvB,CAFZ;AAAA,gBAII0G,IAAuB,QAAXT,CAAW,IAAgB,KAARlqB,CAJnC;AAAA,gBAI8C4qB,IAAmB,QAATT,CAAS,IAAQlqB,KAAMmqB,CAJ/E;AAAA,gBAKI5gB,IAAa,KAALxa,CALZ;AAAA,gBAKoB0c,KAAQlL,CAARkL,IAAiB1c,KAAKwR,EAAMnP,MAANmP,GAAe,CALzD;;AAMA,gBAAIkqB,EAAM/J,GAAN+J,GAAYD,EAAQ9J,GAApB+J,IAA2B,CAA/B,EAAkC;AAChC,kBACIG,KAAad,IAASa,CAATb,GAAmBY,CAAhCE,KAA8Cnf,CADlD;AAAA,kBAEInF,KAFYwjB,IAASY,CAATZ,GAAqBa,CAEjCrkB,KAF6CiD,CAE7CjD,GAAkBqjB,CAAlBrjB,GAAkBqjB,CAAYpE,IAAMiF,CAANjF,GAAgBkF,CAA5Bd,EAAmCrjB,IAFzD;AAAA,kBAGIC,IAAQqkB,IAAYhB,CAAZgB,GAAYhB,CAAarE,IAAMkF,CAANlF,GAAciF,CAA3BZ,EAAoCrjB,KAH5D;AAIAwjB,gBAAIzjB,CAAJyjB,EAAUS,EAAQ9J,GAAlBqJ,EAAuBxjB,IAAQD,CAA/ByjB,EAAqCS,EAAQ/J,MAA7CsJ;AAA6CtJ,aAL/C,MAMO;AACL,kBAAIoK,CAAJ,EAAaC,CAAb,EAAuBC,CAAvB,EAAgCC,CAAhC;AACIzF,mBACFsF,IAAUf,KAAUY,CAAVZ,IAAuBvgB,CAAvBugB,GAA+BH,CAA/BG,GAA0CU,EAAQlkB,IAA5DukB,EACAC,IAAWhB,IAASF,CAATE,GAAqBM,EAAMrqB,CAANqqB,EAAYzqB,CAAZyqB,EAAiB,QAAjBA,CADhCS,EAEAE,IAAUjB,IAASH,CAATG,GAAoBM,EAAMpqB,CAANoqB,EAAUzqB,CAAVyqB,EAAe,OAAfA,CAF9BS,EAGAG,IAAWlB,KAAUa,CAAVb,IAAqBre,CAArBqe,GAA4BF,CAA5BE,GAAwCW,EAAMlkB,KAJvDgf,KAMFsF,IAAWf,IAAoBM,EAAMrqB,CAANqqB,EAAYzqB,CAAZyqB,EAAiB,QAAjBA,CAApBN,GAASH,CAApBkB,EACAC,KAAYhB,CAAZgB,IAAsBJ,CAAtBI,IAAmCvhB,CAAnCuhB,GAA2ClB,CAA3CkB,GAAuDN,EAAQjkB,KAD/DskB,EAEAE,KAAWjB,CAAXiB,IAAqBJ,CAArBI,IAAgCtf,CAAhCsf,GAAuCpB,CAAvCoB,GAAkDN,EAAMnkB,IAFxDukB,EAGAG,IAAYlB,IAAqBM,EAAMpqB,CAANoqB,EAAUzqB,CAAVyqB,EAAe,OAAfA,CAArBN,GAASF,CATnBrE,GAWJwE,EAAIc,CAAJd,EAAaS,EAAQ9J,GAArBqJ,EAA0Be,IAAWD,CAArCd,EAA8CS,EAAQ/J,MAAtDsJ,CAXIxE,EAYAiF,EAAQ/J,MAAR+J,GAAiBC,EAAM/J,GAAvB8J,IAA8BT,EAAIJ,CAAJI,EAAcS,EAAQ/J,MAAtBsJ,EAA8B,IAA9BA,EAAoCU,EAAM/J,GAA1CqJ,CAZ9BxE,EAaJwE,EAAIgB,CAAJhB,EAAaU,EAAM/J,GAAnBqJ,EAAwBiB,IAAWD,CAAnChB,EAA4CU,EAAMhK,MAAlDsJ,CAbIxE;AAa8C9E;;AAAAA,cAG/C/sB,CAH+C+sB,IAGtC+I,GAAUgB,CAAVhB,EAAmB91B,CAAnB81B,IAA4B,CAHU/I,MAGL/sB,IAAQ82B,CAHH/J,GAIhD+I,GAAUiB,CAAVjB,EAAiB91B,CAAjB81B,IAA0B,CAA1BA,KAA+B91B,IAAQ+2B,CAAvCjB,CAJgD/I,EAITgK,EACtC92B,CADsC82B,IAC/BjB,GAAUgB,CAAVhB,EAAmB71B,CAAnB61B,IAA0B,CADKiB,MACA92B,IAAM62B,CADNC,CAJShK,EAMhD+I,GAAUiB,CAAVjB,EAAiB71B,CAAjB61B,IAAwB,CAAxBA,KAA6B71B,IAAM82B,CAAnCjB,CANgD/I;AAMbgK,WA/2F7C,GAi3FW;AAAC/2B,mBAAOA,CAAR;AAAeC,iBAAKA;AAApB,WAAP;AAGF;;AAAA,YAAIs3B,IAAQlyB,EAAMgH,IAANhH,EAAZ;AAAA,YAA0BmyB,IAAMnyB,EAAMiH,EAANjH,EAAhC;AACA,YAAIkyB,EAAM53B,IAAN43B,IAAcC,EAAI73B,IAAtB,EACE22B,EAAYiB,EAAM53B,IAAlB22B,EAAwBiB,EAAMhsB,EAA9B+qB,EAAkCkB,EAAIjsB,EAAtC+qB,EADF,KAEO;AACL,cAAImB,IAAW9hB,GAAQC,CAARD,EAAa4hB,EAAM53B,IAAnBgW,CAAf;AAAA,cAAyC+hB,IAAS/hB,GAAQC,CAARD,EAAa6hB,EAAI73B,IAAjBgW,CAAlD;AAAA,cACIgiB,IAAc7W,GAAW2W,CAAX3W,KAAwBA,GAAW4W,CAAX5W,CAD1C;AAAA,cAEI8W,IAAUtB,EAAYiB,EAAM53B,IAAlB22B,EAAwBiB,EAAMhsB,EAA9B+qB,EAAkCqB,IAAcF,EAASjoB,IAATioB,CAAc/5B,MAAd+5B,GAAuB,CAArCE,GAAyC,IAA3ErB,EAAiFr2B,GAF/F;AAAA,cAGI43B,IAAavB,EAAYkB,EAAI73B,IAAhB22B,EAAsBqB,IAAc,CAAdA,GAAkB,IAAxCrB,EAA8CkB,EAAIjsB,EAAlD+qB,EAAsDt2B,KAHvE;AAII23B,gBACEC,EAAQ5K,GAAR4K,GAAcC,EAAW7K,GAAX6K,GAAiB,CAA/BD,IACFvB,EAAIuB,EAAQ/kB,KAAZwjB,EAAmBuB,EAAQ5K,GAA3BqJ,EAAgC,IAAhCA,EAAsCuB,EAAQ7K,MAA9CsJ,GACAA,EAAIJ,CAAJI,EAAcwB,EAAW7K,GAAzBqJ,EAA8BwB,EAAWjlB,IAAzCyjB,EAA+CwB,EAAW9K,MAA1DsJ,CAFEuB,IAIFvB,EAAIuB,EAAQ/kB,KAAZwjB,EAAmBuB,EAAQ5K,GAA3BqJ,EAAgCwB,EAAWjlB,IAAXilB,GAAkBD,EAAQ/kB,KAA1DwjB,EAAiEuB,EAAQ7K,MAAzEsJ,CALAsB,GAQAC,EAAQ7K,MAAR6K,GAAiBC,EAAW7K,GAA5B4K,IACAvB,EAAIJ,CAAJI,EAAcuB,EAAQ7K,MAAtBsJ,EAA8B,IAA9BA,EAAoCwB,EAAW7K,GAA/CqJ,CATAsB;AAYN3a;AAAAA,UAAO7W,WAAP6W,CAAmB+Y,CAAnB/Y;AAIF;;AAAA,eAAS8a,EAAT,CAAsBxnB,CAAtB,EAAsBA;AACpB,YAAKA,EAAGwE,KAAHxE,CAASynB,OAAd;AACA,cAAIvc,IAAUlL,EAAGkL,OAAjB;AACAwc,wBAAcxc,EAAQyc,OAAtBD;AACA,cAAItoB,KAAK,CAAT;AACA8L,YAAQ0c,SAAR1c,CAAkBlV,KAAlBkV,CAAwB2c,UAAxB3c,GAAqC,EAArCA,EACIlL,EAAG6D,OAAH7D,CAAW8nB,eAAX9nB,GAA6B,CAA7BA,GACAkL,EAAQyc,OAARzc,GAAkB6c,YAAY;AAAc,mBAAO7c,EAAQ0c,SAAR1c,CAAkBlV,KAAlBkV,CAAwB2c,UAAxB3c,GAAwB2c,CAAczoB,KAAMA,CAApByoB,IAA0B,EAA1BA,GAA+B,QAA9D;AAA8D,WAAxFE,EAClB/nB,EAAG6D,OAAH7D,CAAW8nB,eADOC,CADlB/nB,GAGKA,EAAG6D,OAAH7D,CAAW8nB,eAAX9nB,GAA6B,CAA7BA,KACLkL,EAAQ0c,SAAR1c,CAAkBlV,KAAlBkV,CAAwB2c,UAAxB3c,GAAqC,QADhClL,CAJTkL;AAKyC;AAG3C;;AAAA,eAAS8c,EAAT,CAAqBhoB,CAArB,EAAqBA;AACdA,UAAGwE,KAAHxE,CAASynB,OAATznB,KAAoBA,EAAGkL,OAAHlL,CAAWyU,KAAXzU,CAAiBioB,KAAjBjoB,IAA0BkoB,GAAQloB,CAARkoB,CAA9CloB;AAGP;;AAAA,eAASmoB,EAAT,CAAwBnoB,CAAxB,EAAwBA;AACtBA,UAAGwE,KAAHxE,CAASooB,iBAATpoB,GAASooB,CAAoB,CAA7BpoB,EACA3G,WAAW;AAAkB2G,YAAGwE,KAAHxE,CAASooB,iBAATpoB,KAC3BA,EAAGwE,KAAHxE,CAASooB,iBAATpoB,GAASooB,CAAoB,CAA7BpoB,EACAqoB,GAAOroB,CAAPqoB,CAF2BroB;AAEpBA,SAFT3G,EAGK,GAHLA,CADA2G;AAOF;;AAAA,eAASkoB,EAAT,CAAiBloB,CAAjB,EAAqB9O,CAArB,EAAqBA;AACf8O,UAAGwE,KAAHxE,CAASooB,iBAATpoB,KAA8BA,EAAGwE,KAAHxE,CAASooB,iBAATpoB,GAASooB,CAAoB,CAA3DpoB,GAEuB,cAAvBA,EAAG6D,OAAH7D,CAAWsoB,QAAY,KACtBtoB,EAAGwE,KAAHxE,CAASynB,OAATznB,KACHH,GAAOG,CAAPH,EAAW,OAAXA,EAAoBG,CAApBH,EAAwB3O,CAAxB2O,GACAG,EAAGwE,KAAHxE,CAASynB,OAATznB,GAASynB,CAAU,CADnB5nB,EAEA9I,EAASiJ,EAAGkL,OAAHlL,CAAW0Z,OAApB3iB,EAA6B,oBAA7BA,CAFA8I,EAMKG,EAAGQ,KAAHR,IAAYA,EAAGkL,OAAHlL,CAAWuoB,iBAAXvoB,IAAgCA,EAAGsF,GAAHtF,CAAO6kB,GAAnD7kB,KACHA,EAAGkL,OAAHlL,CAAWyU,KAAXzU,CAAiBwoB,KAAjBxoB,IACIvM,KAAU4F,WAAW;AAAc,iBAAO2G,EAAGkL,OAAHlL,CAAWyU,KAAXzU,CAAiBwoB,KAAjBxoB,CAAiBwoB,CAAM,CAAvBxoB,CAAP;AAA8B,SAAvD3G,EAAiE,EAAjEA,CAFX2G,CANLH,EAUAG,EAAGkL,OAAHlL,CAAWyU,KAAXzU,CAAiByoB,aAAjBzoB,EAXGA,GAaLwnB,GAAaxnB,CAAbwnB,CAd2B,CAFvBxnB;AAkBN;;AAAA,eAASqoB,EAAT,CAAgBroB,CAAhB,EAAoB9O,CAApB,EAAoBA;AACd8O,UAAGwE,KAAHxE,CAASooB,iBAATpoB,KAEAA,EAAGwE,KAAHxE,CAASynB,OAATznB,KACFH,GAAOG,CAAPH,EAAW,MAAXA,EAAmBG,CAAnBH,EAAuB3O,CAAvB2O,GACAG,EAAGwE,KAAHxE,CAASynB,OAATznB,GAASynB,CAAU,CADnB5nB,EAEA7K,EAAQgL,EAAGkL,OAAHlL,CAAW0Z,OAAnB1kB,EAA4B,oBAA5BA,CAHEgL,GAKJ0nB,cAAc1nB,EAAGkL,OAAHlL,CAAW2nB,OAAzBD,CALI1nB,EAMJ3G,WAAW;AAAmB2G,YAAGwE,KAAHxE,CAASynB,OAATznB,KAAoBA,EAAGkL,OAAHlL,CAAW0oB,KAAX1oB,GAAW0oB,CAAQ,CAAvC1oB;AAAuC,SAArE3G,EAAiF,GAAjFA,CARI2G;AAaN;;AAAA,eAAS2oB,EAAT,CAAiC3oB,CAAjC,EAAiCA;AAG/B,aAFA,IAAIkL,IAAUlL,EAAGkL,OAAjB,EACI0d,IAAa1d,EAAQ2d,OAAR3d,CAAgBgP,SADjC,EAESnvB,IAAI,CAAb,EAAgBA,IAAImgB,EAAQyK,IAARzK,CAAa9d,MAAjC,EAAyCrC,GAAzC,EAA8C;AAC5C,cAAI2R,IAAMwO,EAAQyK,IAARzK,CAAangB,CAAbmgB,CAAV;AAAA,cAA2BgR,IAAWlc,EAAG6D,OAAH7D,CAAWmc,YAAjD;AAAA,cACIjW,SAAS,CADb;AAAA,cACuB+S,IAAQ,CAD/B;;AAEA,eAAIvc,EAAI8Y,MAAR;AACA,gBAAIniB,KAAMC,IAAa,CAAvB,EAA0B;AACxB,kBAAI2qB,IAAMvhB,EAAIvN,IAAJuN,CAASwd,SAATxd,GAAqBA,EAAIvN,IAAJuN,CAASqF,YAAxC;AACAmE,kBAAS+X,IAAM2K,CAAf1iB,EACA0iB,IAAa3K,CADb/X;AACa+X,aAHf,MAIO;AACL,kBAAIqD,IAAM5kB,EAAIvN,IAAJuN,CAAS0F,qBAAT1F,EAAV;AACAwJ,kBAASob,EAAI7E,MAAJ6E,GAAaA,EAAI5E,GAA1BxW,EAA0BwW,CAGrBR,CAHqBQ,IAGThgB,EAAIwC,IAAJxC,CAAShH,UAHAgnB,KAItBzD,IAAQvc,EAAIwC,IAAJxC,CAAShH,UAATgH,CAAoB0F,qBAApB1F,GAA4C6F,KAA5C7F,GAAoD4kB,EAAIhf,IAAxD5F,GAA+D,CAJjDggB,CAA1BxW;AAMF;;AAAA,gBAAIC,IAAOzJ,EAAIrN,IAAJqN,CAASwJ,MAATxJ,GAAkBwJ,CAA7B;AACA,iBAAIC,IAAO,IAAPA,IAAeA,KAAQ,IAA3B,MACEF,GAAiBvJ,EAAIrN,IAArB4W,EAA2BC,CAA3BD,GACA6iB,GAAmBpsB,EAAIrN,IAAvBy5B,CADA7iB,EAEIvJ,EAAI8V,IAHV,GAGkB,KAAK,IAAIvU,IAAI,CAAb,EAAgBA,IAAIvB,EAAI8V,IAAJ9V,CAAStP,MAA7B,EAAqC6Q,GAArC,EACZ6qB,GAAmBpsB,EAAI8V,IAAJ9V,CAASuB,CAATvB,CAAnBosB;;AAEN,gBAAI7P,IAAQjZ,EAAGkL,OAAHlL,CAAW6lB,UAAvB,EAAmC;AACjC,kBAAIkD,IAAU3uB,KAAK+B,IAAL/B,CAAU6e,IAAQ4E,GAAU7d,EAAGkL,OAAb2S,CAAlBzjB,CAAd;AACI2uB,kBAAU/oB,EAAGkL,OAAHlL,CAAWwR,aAArBuX,KACF/oB,EAAGkL,OAAHlL,CAAWwR,aAAXxR,GAA2B+oB,CAA3B/oB,EACAA,EAAGkL,OAAHlL,CAAWuR,OAAXvR,GAAqBtD,EAAIrN,IADzB2Q,EAEAA,EAAGkL,OAAHlL,CAAWyR,cAAXzR,GAAWyR,CAAiB,CAH1BsX;AAG0B;AAAA;AAAA;AAQpC;;AAAA,eAASD,EAAT,CAA4Bz5B,CAA5B,EAA4BA;AAC1B,YAAIA,EAAKspB,OAAT,EAAoB,KAAK,IAAI5tB,IAAI,CAAb,EAAgBA,IAAIsE,EAAKspB,OAALtpB,CAAajC,MAAjC,EAAiCA,EAAUrC,CAA3C,EAA8C;AAChE,cAAIi+B,IAAI35B,EAAKspB,OAALtpB,CAAatE,CAAbsE,CAAR;AAAA,cAAyBuG,IAASozB,EAAE75B,IAAF65B,CAAOvyB,UAAzC;AACIb,gBAAUozB,EAAE9iB,MAAF8iB,GAAWpzB,EAAOmM,YAA5BnM;AAA4BmM;AAOpC;;AAAA,eAASknB,EAAT,CAAsB/d,CAAtB,EAA+B5F,CAA/B,EAAoC4jB,CAApC,EAAoCA;AAClC,YAAIxM,IAAMwM,KAA4B,QAAhBA,EAASxM,GAArBwM,GAAmC9uB,KAAKmN,GAALnN,CAAS,CAATA,EAAY8uB,EAASxM,GAArBtiB,CAAnC8uB,GAA+Dhe,EAAQ4P,QAAR5P,CAAiBqU,SAA1F;AACA7C,YAAMtiB,KAAKgC,KAALhC,CAAWsiB,IAAM1C,GAAW9O,CAAX8O,CAAjB5f,CAANsiB;AACA,YAAID,IAASyM,KAA+B,QAAnBA,EAASzM,MAArByM,GAAsCA,EAASzM,MAA/CyM,GAAwDxM,IAAMxR,EAAQwO,OAARxO,CAAgB+P,YAA3F;AAAA,YAEIlf,IAAOuK,GAAahB,CAAbgB,EAAkBoW,CAAlBpW,CAFX;AAAA,YAEmCtK,IAAKsK,GAAahB,CAAbgB,EAAkBmW,CAAlBnW,CAFxC;;AAKA,YAAI4iB,KAAYA,EAASC,MAAzB,EAAiC;AAC/B,cAAIC,IAAaF,EAASC,MAATD,CAAgBntB,IAAhBmtB,CAAqB75B,IAAtC;AAAA,cAA4Cg6B,IAAWH,EAASC,MAATD,CAAgBltB,EAAhBktB,CAAmB75B,IAA1E;AACI+5B,cAAartB,CAAbqtB,IACFrtB,IAAOqtB,CAAPrtB,EACAC,IAAKsK,GAAahB,CAAbgB,EAAkB4K,GAAa7L,GAAQC,CAARD,EAAa+jB,CAAb/jB,CAAb6L,IAAyChG,EAAQwO,OAARxO,CAAgB+P,YAA3E3U,CAFH8iB,IAGOhvB,KAAKC,GAALD,CAASivB,CAATjvB,EAAmBkL,EAAIwL,QAAJxL,EAAnBlL,KAAsC4B,CAAtC5B,KACT2B,IAAOuK,GAAahB,CAAbgB,EAAkB4K,GAAa7L,GAAQC,CAARD,EAAagkB,CAAbhkB,CAAb6L,IAAuChG,EAAQwO,OAARxO,CAAgB+P,YAAzE3U,CAAPvK,EACAC,IAAKqtB,CAFIjvB,CAHPgvB;AAQN;;AAAA,eAAO;AAACrtB,gBAAMA,CAAP;AAAaC,cAAI5B,KAAKmN,GAALnN,CAAS4B,CAAT5B,EAAa2B,IAAO,CAApB3B;AAAjB,SAAP;AAoEF;;AAAA,eAASkvB,EAAT,CAA4BtpB,CAA5B,EAAgC8b,CAAhC,EAAgCA;AAC9B,YAAI5Q,IAAUlL,EAAGkL,OAAjB;AAAA,YAA0Bqe,IAAanH,GAAWpiB,EAAGkL,OAAdkX,CAAvC;AACItG,UAAKY,GAALZ,GAAW,CAAXA,KAAgBA,EAAKY,GAALZ,GAAW,CAA3BA;AACJ,YAAI0N,IAAYxpB,EAAGQ,KAAHR,IAAkC,QAAtBA,EAAGQ,KAAHR,CAASuf,SAArBvf,GAAyCA,EAAGQ,KAAHR,CAASuf,SAAlDvf,GAA8DkL,EAAQ4P,QAAR5P,CAAiBqU,SAA/F;AAAA,YACItC,IAASjC,GAAchb,CAAdgb,CADb;AAAA,YACgCvY,IAAS,EADzC;AAEIqZ,UAAKW,MAALX,GAAcA,EAAKY,GAAnBZ,GAAyBmB,CAAzBnB,KAAmCA,EAAKW,MAALX,GAAcA,EAAKY,GAALZ,GAAWmB,CAA5DnB;AACJ,YAAI2N,IAAYzpB,EAAGsF,GAAHtF,CAAOkG,MAAPlG,GAAgBma,GAAYjP,CAAZiP,CAAhC;AAAA,YACIuP,IAAQ5N,EAAKY,GAALZ,GAAWyN,CADvB;AAAA,YACmCI,IAAW7N,EAAKW,MAALX,GAAc2N,IAAYF,CADxE;AAEA,YAAIzN,EAAKY,GAALZ,GAAW0N,CAAf,EACE/mB,EAAO8c,SAAP9c,GAAmBinB,IAAQ,CAARA,GAAY5N,EAAKY,GAApCja,CADF,KAEO,IAAIqZ,EAAKW,MAALX,GAAc0N,IAAYvM,CAA9B,EAAsC;AAC3C,cAAI2M,IAASxvB,KAAKC,GAALD,CAAS0hB,EAAKY,GAAdtiB,EAAcsiB,CAAMiN,IAAWF,CAAXE,GAAuB7N,EAAKW,MAAlCC,IAA4CO,CAA1D7iB,CAAb;AACIwvB,eAAUJ,CAAVI,KAAuBnnB,EAAO8c,SAAP9c,GAAmBmnB,CAA1CA;AAGN;AAAA,YAAIC,IAAa7pB,EAAGQ,KAAHR,IAAmC,QAAvBA,EAAGQ,KAAHR,CAASmf,UAArBnf,GAA0CA,EAAGQ,KAAHR,CAASmf,UAAnDnf,GAAgEkL,EAAQ4P,QAAR5P,CAAiBiU,UAAlG;AAAA,YACI2K,IAAUjP,GAAa7a,CAAb6a,KAAoB7a,EAAG6D,OAAH7D,CAAWuX,WAAXvX,GAAyBkL,EAAQuO,OAARvO,CAAgBlJ,WAAzChC,GAAuD,CAA3E6a,CADd;AAAA,YAEIkP,IAAUjO,EAAKvZ,KAALuZ,GAAaA,EAAKxZ,IAAlBwZ,GAAyBgO,CAFvC;AAUA,eAPIC,MAAWjO,EAAKvZ,KAALuZ,GAAaA,EAAKxZ,IAALwZ,GAAYgO,CAApCC,GACAjO,EAAKxZ,IAALwZ,GAAY,EAAZA,GACArZ,EAAO0c,UAAP1c,GAAoB,CADpBqZ,GAEKA,EAAKxZ,IAALwZ,GAAY+N,CAAZ/N,GACLrZ,EAAO0c,UAAP1c,GAAoBrI,KAAKmN,GAALnN,CAAS,CAATA,EAAY0hB,EAAKxZ,IAALwZ,IAAaiO,IAAU,CAAVA,GAAc,EAA3BjO,CAAZ1hB,CADf0hB,GAEAA,EAAKvZ,KAALuZ,GAAagO,IAAUD,CAAVC,GAAuB,CAApChO,KACLrZ,EAAO0c,UAAP1c,GAAoBqZ,EAAKvZ,KAALuZ,IAAciO,IAAU,CAAVA,GAAc,EAA5BjO,IAAkCgO,CADjDhO,CALLiO,EAOGtnB,CAAP;AAKF;;AAAA,eAASunB,EAAT,CAAwBhqB,CAAxB,EAA4B0c,CAA5B,EAA4BA;AACf,gBAAPA,CAAO,KACXuN,GAAmBjqB,CAAnBiqB,GACAjqB,EAAGQ,KAAHR,CAASuf,SAATvf,GAASuf,CAAmC,QAAtBvf,EAAGQ,KAAHR,CAASuf,SAAa,GAAOvf,EAAGsF,GAAHtF,CAAOuf,SAAd,GAA0Bvf,EAAGQ,KAAHR,CAASuf,SAAtEA,IAAmF7C,CAFjF;AAOb;;AAAA,eAASwN,EAAT,CAA6BlqB,CAA7B,EAA6BA;AAC3BiqB,WAAmBjqB,CAAnBiqB;AACA,YAAIvtB,IAAMsD,EAAGmqB,SAAHnqB,EAAV;AACAA,UAAGQ,KAAHR,CAASoqB,WAATpqB,GAAuB;AAACjE,gBAAMW,CAAP;AAAYV,cAAIU,CAAhB;AAAqB2tB,kBAAQrqB,EAAG6D,OAAH7D,CAAWsqB;AAAxC,SAAvBtqB;AAGF;;AAAA,eAASuqB,EAAT,CAAwBvqB,CAAxB,EAA4BmH,CAA5B,EAA+B4Z,CAA/B,EAA+BA;AACpB,gBAAL5Z,CAAK,IAAa,QAAL4Z,CAAR,IAAqBkJ,GAAmBjqB,CAAnBiqB,CAArB,EACA,QAAL9iB,CAAK,KAAQnH,EAAGQ,KAAHR,CAASmf,UAATnf,GAAsBmH,CAA9B,CADA,EAEA,QAAL4Z,CAAK,KAAQ/gB,EAAGQ,KAAHR,CAASuf,SAATvf,GAAqB+gB,CAA7B,CAFA;AAcX;;AAAA,eAASkJ,EAAT,CAA4BjqB,CAA5B,EAA4BA;AAC1B,YAAIjL,IAAQiL,EAAGQ,KAAHR,CAASoqB,WAArB;AACIr1B,cACFiL,EAAGQ,KAAHR,CAASoqB,WAATpqB,GAAuB,IAAvBA,EAEAwqB,GAAoBxqB,CAApBwqB,EADW9J,GAAe1gB,CAAf0gB,EAAmB3rB,EAAMgH,IAAzB2kB,CACX8J,EADgD9J,GAAe1gB,CAAf0gB,EAAmB3rB,EAAMiH,EAAzB0kB,CAChD8J,EAAkCz1B,EAAMs1B,MAAxCG,CAHEz1B;AAON;;AAAA,eAASy1B,EAAT,CAA6BxqB,CAA7B,EAAiCjE,CAAjC,EAAuCC,CAAvC,EAA2CquB,CAA3C,EAA2CA;AACzC,YAAII,IAAOnB,GAAmBtpB,CAAnBspB,EAAuB;AAChChnB,gBAAMlI,KAAKC,GAALD,CAAS2B,EAAKuG,IAAdlI,EAAoB4B,EAAGsG,IAAvBlI,CAD0B;AAEhCsiB,eAAKtiB,KAAKC,GAALD,CAAS2B,EAAK2gB,GAAdtiB,EAAmB4B,EAAG0gB,GAAtBtiB,IAA6BiwB,CAFF;AAGhC9nB,iBAAOnI,KAAKmN,GAALnN,CAAS2B,EAAKwG,KAAdnI,EAAqB4B,EAAGuG,KAAxBnI,CAHyB;AAIhCqiB,kBAAQriB,KAAKmN,GAALnN,CAAS2B,EAAK0gB,MAAdriB,EAAsB4B,EAAGygB,MAAzBriB,IAAmCiwB;AAJX,SAAvBf,CAAX;AAMAiB,WAAevqB,CAAfuqB,EAAmBE,EAAKtL,UAAxBoL,EAAoCE,EAAKlL,SAAzCgL;AAKF;;AAAA,eAASG,EAAT,CAAyB1qB,CAAzB,EAA6B0E,CAA7B,EAA6BA;AACvBtK,aAAKoiB,GAALpiB,CAAS4F,EAAGsF,GAAHtF,CAAOuf,SAAPvf,GAAmB0E,CAA5BtK,IAAmC,CAAnCA,KACCpH,KAAS23B,GAAoB3qB,CAApB2qB,EAAwB;AAACjO,eAAKhY;AAAN,SAAxBimB,CAAT33B,EACL43B,GAAa5qB,CAAb4qB,EAAiBlmB,CAAjBkmB,EAAiBlmB,CAAK,CAAtBkmB,CADK53B,EAEDA,KAAS23B,GAAoB3qB,CAApB2qB,CAFR33B,EAGL63B,GAAY7qB,CAAZ6qB,EAAgB,GAAhBA,CAJIzwB;AAON;;AAAA,eAASwwB,EAAT,CAAsB5qB,CAAtB,EAA0B0E,CAA1B,EAA+BomB,CAA/B,EAA+BA;AAC7BpmB,YAAMtK,KAAKC,GAALD,CAAS4F,EAAGkL,OAAHlL,CAAW8a,QAAX9a,CAAoB+qB,YAApB/qB,GAAmCA,EAAGkL,OAAHlL,CAAW8a,QAAX9a,CAAoBib,YAAhE7gB,EAA8EsK,CAA9EtK,CAANsK,EAAoFA,CAChF1E,EAAGkL,OAAHlL,CAAW8a,QAAX9a,CAAoBuf,SAApBvf,IAAiC0E,CAAjC1E,IAAyC8qB,CADuCpmB,MAEpF1E,EAAGsF,GAAHtF,CAAOuf,SAAPvf,GAAmB0E,CAAnB1E,EACAA,EAAGkL,OAAHlL,CAAWgrB,UAAXhrB,CAAsB4qB,YAAtB5qB,CAAmC0E,CAAnC1E,CADAA,EAEIA,EAAGkL,OAAHlL,CAAW8a,QAAX9a,CAAoBuf,SAApBvf,IAAiC0E,CAAjC1E,KAAwCA,EAAGkL,OAAHlL,CAAW8a,QAAX9a,CAAoBuf,SAApBvf,GAAgC0E,CAAxE1E,CAJgF0E,CAApFA;AASF;;AAAA,eAASumB,EAAT,CAAuBjrB,CAAvB,EAA2B0E,CAA3B,EAAgCwmB,CAAhC,EAA4CJ,CAA5C,EAA4CA;AAC1CpmB,YAAMtK,KAAKC,GAALD,CAASsK,CAATtK,EAAc4F,EAAGkL,OAAHlL,CAAW8a,QAAX9a,CAAoBmrB,WAApBnrB,GAAkCA,EAAGkL,OAAHlL,CAAW8a,QAAX9a,CAAoB2Z,WAApEvf,CAANsK,EAA0EiV,CACrEuR,IAAaxmB,KAAO1E,EAAGsF,GAAHtF,CAAOmf,UAA3B+L,GAAwC9wB,KAAKoiB,GAALpiB,CAAS4F,EAAGsF,GAAHtF,CAAOmf,UAAPnf,GAAoB0E,CAA7BtK,IAAoC,CADPuf,KACO,CAAOmR,CADdnR,KAE1E3Z,EAAGsF,GAAHtF,CAAOmf,UAAPnf,GAAoB0E,CAApB1E,EACAorB,GAAkBprB,CAAlBorB,CADAprB,EAEIA,EAAGkL,OAAHlL,CAAW8a,QAAX9a,CAAoBmf,UAApBnf,IAAkC0E,CAAlC1E,KAAyCA,EAAGkL,OAAHlL,CAAW8a,QAAX9a,CAAoBmf,UAApBnf,GAAiC0E,CAA1E1E,CAFJA,EAGAA,EAAGkL,OAAHlL,CAAWgrB,UAAXhrB,CAAsBirB,aAAtBjrB,CAAoC0E,CAApC1E,CAL0E2Z,CAA1EjV;AAYF;;AAAA,eAAS2mB,EAAT,CAA8BrrB,CAA9B,EAA8BA;AAC5B,YAAI3U,IAAI2U,EAAGkL,OAAX;AAAA,YAAoBogB,IAAUjgC,EAAEouB,OAAFpuB,CAAU2W,WAAxC;AAAA,YACIupB,IAAOnxB,KAAKkpB,KAALlpB,CAAW4F,EAAGsF,GAAHtF,CAAOkG,MAAPlG,GAAgBma,GAAYna,EAAGkL,OAAfiP,CAA3B/f,CADX;AAEA,eAAO;AACL6gB,wBAAc5vB,EAAEyvB,QAAFzvB,CAAW4vB,YADpB;AAELuQ,sBAAYngC,EAAEquB,OAAFruB,CAAU4vB,YAFjB;AAGLkQ,uBAAa9/B,EAAEyvB,QAAFzvB,CAAW8/B,WAHnB;AAGgCxR,uBAAatuB,EAAEyvB,QAAFzvB,CAAWsuB,WAHxD;AAIL8R,qBAAWpgC,EAAEquB,OAAFruB,CAAUsuB,WAJhB;AAKL+R,mBAAS1rB,EAAG6D,OAAH7D,CAAWuX,WAAXvX,GAAyBsrB,CAAzBtrB,GAAmC,CALvC;AAML2rB,qBAAWJ,CANN;AAOLR,wBAAcQ,IAAO5Q,GAAU3a,CAAV2a,CAAP4Q,GAAuBlgC,EAAE6vB,SAPlC;AAQLN,0BAAgBvvB,EAAEuvB,cARb;AASLzC,uBAAamT;AATR,SAAP;AAaF;;AAAA,UAAIM,KAAmB,UAAShP,CAAT,EAAgBjjB,CAAhB,EAAwBqG,CAAxB,EAAwBA;AAC7CjQ,aAAKiQ,EAALjQ,GAAUiQ,CAAVjQ;AACA,YAAI87B,IAAO97B,KAAK87B,IAAL97B,GAAY+F,EAAI,KAAJA,EAAW,CAACA,EAAI,KAAJA,EAAW,IAAXA,EAAiB,IAAjBA,EAAuB,gBAAvBA,CAAD,CAAXA,EAAuD,uBAAvDA,CAAvB;AAAA,YACIg2B,IAAQ/7B,KAAK+7B,KAAL/7B,GAAa+F,EAAI,KAAJA,EAAW,CAACA,EAAI,KAAJA,EAAW,IAAXA,EAAiB,IAAjBA,EAAuB,+BAAvBA,CAAD,CAAXA,EAAsE,uBAAtEA,CADzB;AAEA+1B,UAAKE,QAALF,GAAgBC,EAAMC,QAAND,GAAMC,CAAY,CAAlCF,EACAjP,EAAMiP,CAANjP,CADAiP,EACajP,EAAMkP,CAANlP,CADbiP,EAGAzsB,GAAGysB,CAAHzsB,EAAS,QAATA,EAAmB;AACbysB,YAAK5Q,YAAL4Q,IAAqBlyB,EAAOkyB,EAAKtM,SAAZ5lB,EAAuB,UAAvBA,CAArBkyB;AAA4C,SADlDzsB,CAHAysB,EAMAzsB,GAAG0sB,CAAH1sB,EAAU,QAAVA,EAAoB;AACd0sB,YAAMnS,WAANmS,IAAqBnyB,EAAOmyB,EAAM3M,UAAbxlB,EAAyB,YAAzBA,CAArBmyB;AAA8C,SADpD1sB,CANAysB,EAUA97B,KAAKi8B,gBAALj8B,GAAKi8B,CAAmB,CAVxBH,EAYIx4B,KAAMC,IAAa,CAAnBD,KAAwBtD,KAAK+7B,KAAL/7B,CAAWiG,KAAXjG,CAAiBk8B,SAAjBl8B,GAA6BA,KAAK87B,IAAL97B,CAAUiG,KAAVjG,CAAgBm8B,QAAhBn8B,GAA2B,MAAhFsD,CAZJw4B;AAYoF,OAhBtF;;AAmBAD,SAAiBh/B,SAAjBg/B,CAA2BO,MAA3BP,GAAoC,UAAU9pB,CAAV,EAAUA;AAC5C,YAAIsqB,IAAStqB,EAAQqpB,WAARrpB,GAAsBA,EAAQ6X,WAAR7X,GAAsB,CAAzD;AAAA,YACIuqB,IAASvqB,EAAQipB,YAARjpB,GAAuBA,EAAQmZ,YAARnZ,GAAuB,CAD3D;AAAA,YAEIwqB,IAASxqB,EAAQ8Y,cAFrB;;AAIA,YAAIyR,CAAJ,EAAY;AACVt8B,eAAK87B,IAAL97B,CAAUiG,KAAVjG,CAAgBmb,OAAhBnb,GAA0B,OAA1BA,EACAA,KAAK87B,IAAL97B,CAAUiG,KAAVjG,CAAgB0sB,MAAhB1sB,GAAyBq8B,IAASE,IAAS,IAAlBF,GAAyB,GADlDr8B;AAEA,cAAIw8B,IAAczqB,EAAQ0pB,UAAR1pB,IAAsBsqB,IAASE,CAATF,GAAkB,CAAxCtqB,CAAlB;AAEA/R,eAAK87B,IAAL97B,CAAU2F,UAAV3F,CAAqBiG,KAArBjG,CAA2BmW,MAA3BnW,GACEqK,KAAKmN,GAALnN,CAAS,CAATA,EAAY0H,EAAQipB,YAARjpB,GAAuBA,EAAQmZ,YAA/BnZ,GAA8CyqB,CAA1DnyB,IAAyE,IAD3ErK;AAC2E,SAN7E,MAQEA,KAAK87B,IAAL97B,CAAUiG,KAAVjG,CAAgBmb,OAAhBnb,GAA0B,EAA1BA,EACAA,KAAK87B,IAAL97B,CAAU2F,UAAV3F,CAAqBiG,KAArBjG,CAA2BmW,MAA3BnW,GAAoC,GADpCA;;AAIF,YAAIq8B,CAAJ,EAAY;AACVr8B,eAAK+7B,KAAL/7B,CAAWiG,KAAXjG,CAAiBmb,OAAjBnb,GAA2B,OAA3BA,EACAA,KAAK+7B,KAAL/7B,CAAWiG,KAAXjG,CAAiBwS,KAAjBxS,GAAyBs8B,IAASC,IAAS,IAAlBD,GAAyB,GADlDt8B,EAEAA,KAAK+7B,KAAL/7B,CAAWiG,KAAXjG,CAAiBuS,IAAjBvS,GAAwB+R,EAAQ4pB,OAAR5pB,GAAkB,IAF1C/R;AAGA,cAAIy8B,IAAa1qB,EAAQ2pB,SAAR3pB,GAAoBA,EAAQ4pB,OAA5B5pB,IAAuCuqB,IAASC,CAATD,GAAkB,CAAzDvqB,CAAjB;AACA/R,eAAK+7B,KAAL/7B,CAAW2F,UAAX3F,CAAsBiG,KAAtBjG,CAA4BkpB,KAA5BlpB,GACEqK,KAAKmN,GAALnN,CAAS,CAATA,EAAY0H,EAAQqpB,WAARrpB,GAAsBA,EAAQ6X,WAA9B7X,GAA4C0qB,CAAxDpyB,IAAsE,IADxErK;AACwE,SAN1E,MAQEA,KAAK+7B,KAAL/7B,CAAWiG,KAAXjG,CAAiBmb,OAAjBnb,GAA2B,EAA3BA,EACAA,KAAK+7B,KAAL/7B,CAAW2F,UAAX3F,CAAsBiG,KAAtBjG,CAA4BkpB,KAA5BlpB,GAAoC,GADpCA;;AASF,gBALKA,KAAKi8B,gBAKV,IAL8BlqB,EAAQmZ,YAARnZ,GAAuB,CAKrD,KAJgB,KAAVwqB,CAAU,IAAKv8B,KAAK08B,aAAL18B,EAAL,EACdA,KAAKi8B,gBAALj8B,GAAKi8B,CAAmB,CAG1B,GAAO;AAACzpB,iBAAO8pB,IAASC,CAATD,GAAkB,CAA1B;AAA6B5P,kBAAQ2P,IAASE,CAATF,GAAkB;AAAvD,SAAP;AAA8D,OAlChER,EAqCAA,GAAiBh/B,SAAjBg/B,CAA2BX,aAA3BW,GAA2C,UAAU3xB,CAAV,EAAUA;AAC/ClK,aAAK+7B,KAAL/7B,CAAWovB,UAAXpvB,IAAyBkK,CAAzBlK,KAAgCA,KAAK+7B,KAAL/7B,CAAWovB,UAAXpvB,GAAwBkK,CAAxDlK,GACAA,KAAK28B,YAAL38B,IAAqBA,KAAK48B,kBAAL58B,CAAwBA,KAAK+7B,KAA7B/7B,EAAoCA,KAAK28B,YAAzC38B,EAAuD,OAAvDA,CADrBA;AAC4E,OAvClF67B,EA0CAA,GAAiBh/B,SAAjBg/B,CAA2BhB,YAA3BgB,GAA0C,UAAU3xB,CAAV,EAAUA;AAC9ClK,aAAK87B,IAAL97B,CAAUwvB,SAAVxvB,IAAuBkK,CAAvBlK,KAA8BA,KAAK87B,IAAL97B,CAAUwvB,SAAVxvB,GAAsBkK,CAApDlK,GACAA,KAAK68B,WAAL78B,IAAoBA,KAAK48B,kBAAL58B,CAAwBA,KAAK87B,IAA7B97B,EAAmCA,KAAK68B,WAAxC78B,EAAqD,MAArDA,CADpBA;AACyE,OA5C/E67B,EA+CAA,GAAiBh/B,SAAjBg/B,CAA2Ba,aAA3Bb,GAA2C;AACzC,YAAI5C,IAAI50B,MAAQL,CAARK,GAA6B,MAA7BA,GAAsC,MAA9C;AACArE,aAAK+7B,KAAL/7B,CAAWiG,KAAXjG,CAAiBmW,MAAjBnW,GAA0BA,KAAK87B,IAAL97B,CAAUiG,KAAVjG,CAAgBkpB,KAAhBlpB,GAAwBi5B,CAAlDj5B,EACAA,KAAK+7B,KAAL/7B,CAAWiG,KAAXjG,CAAiB88B,aAAjB98B,GAAiCA,KAAK87B,IAAL97B,CAAUiG,KAAVjG,CAAgB88B,aAAhB98B,GAAgC,MADjEA,EAEAA,KAAK28B,YAAL38B,GAAoB,IAAIgJ,CAAJ,EAFpBhJ,EAGAA,KAAK68B,WAAL78B,GAAmB,IAAIgJ,CAAJ,EAHnBhJ;AAGuBgJ,OApDzB6yB,EAuDAA,GAAiBh/B,SAAjBg/B,CAA2Be,kBAA3Bf,GAAgD,UAAUkB,CAAV,EAAeC,CAAf,EAAsBtvB,CAAtB,EAAsBA;AACpEqvB,UAAI92B,KAAJ82B,CAAUD,aAAVC,GAA0B,MAA1BA,EAcAC,EAAMzzB,GAANyzB,CAAU,GAAVA,EAbA,SAASC,CAAT,GAASA;AAOP,cAAI1L,IAAMwL,EAAI1qB,qBAAJ0qB,EAAV;AAAc1qB,WACI,UAAR3E,CAAQ,GAASlK,SAAS05B,gBAAT15B,CAA0B+tB,EAAI/e,KAAJ+e,GAAY,CAAtC/tB,EAAsC,CAAI+tB,EAAI5E,GAAJ4E,GAAUA,EAAI7E,MAAlB,IAA4B,CAAlElpB,CAAT,GACZA,SAAS05B,gBAAT15B,CAAS05B,CAAkB3L,EAAI/e,KAAJ+e,GAAYA,EAAIhf,IAAlC2qB,IAA0C,CAAnD15B,EAAsD+tB,EAAI7E,MAAJ6E,GAAa,CAAnE/tB,CAFQ6O,KAGH0qB,CAHG1qB,GAGI0qB,EAAI92B,KAAJ82B,CAAUD,aAAVC,GAA0B,MAH9B1qB,GAIP2qB,EAAMzzB,GAANyzB,CAAU,GAAVA,EAAgBC,CAAhBD,CAJO3qB;AAIS4qB,SAEzBD,CAdAD;AAYyBE,OApE3BpB,EAyEAA,GAAiBh/B,SAAjBg/B,CAA2BsB,KAA3BtB,GAAmC;AACjC,YAAIh2B,IAAS7F,KAAK+7B,KAAL/7B,CAAW0G,UAAxB;AACAb,UAAOH,WAAPG,CAAmB7F,KAAK+7B,KAAxBl2B,GACAA,EAAOH,WAAPG,CAAmB7F,KAAK87B,IAAxBj2B,CADAA;AACwBi2B,OA5E1BD;;AA+EA,UAAIuB,KAAiB,cAArB;;AAOA,eAASC,EAAT,CAA0BptB,CAA1B,EAA8B8B,CAA9B,EAA8BA;AACvBA,cAAWA,IAAUupB,GAAqBrrB,CAArBqrB,CAArBvpB;AACL,YAAIurB,IAAartB,EAAGkL,OAAHlL,CAAW+a,QAA5B;AAAA,YAAsCuS,IAActtB,EAAGkL,OAAHlL,CAAWkb,SAA/D;AACAqS,WAAsBvtB,CAAtButB,EAA0BzrB,CAA1ByrB;;AACA,aAAK,IAAIxiC,IAAI,CAAb,EAAgBA,IAAI,CAAJA,IAASsiC,KAAcrtB,EAAGkL,OAAHlL,CAAW+a,QAAlChwB,IAA8CuiC,KAAettB,EAAGkL,OAAHlL,CAAWkb,SAAxF,EAAmGnwB,GAAnG,EACMsiC,KAAcrtB,EAAGkL,OAAHlL,CAAW+a,QAAzBsS,IAAqCrtB,EAAG6D,OAAH7D,CAAWmc,YAAhDkR,IACA1E,GAAwB3oB,CAAxB2oB,CADA0E,EAEJE,GAAsBvtB,CAAtButB,EAA0BlC,GAAqBrrB,CAArBqrB,CAA1BkC,CAFIF,EAGJA,IAAartB,EAAGkL,OAAHlL,CAAW+a,QAHpBsS,EAG8BC,IAActtB,EAAGkL,OAAHlL,CAAWkb,SAHvDmS;AASR;;AAAA,eAASE,EAAT,CAA+BvtB,CAA/B,EAAmC8B,CAAnC,EAAmCA;AACjC,YAAIzW,IAAI2U,EAAGkL,OAAX;AAAA,YACIsiB,IAAQniC,EAAE2/B,UAAF3/B,CAAa8gC,MAAb9gC,CAAoByW,CAApBzW,CADZ;AAGAA,UAAEyuB,KAAFzuB,CAAQ2K,KAAR3K,CAAcovB,YAAdpvB,GAAcovB,CAAgBpvB,EAAE0vB,QAAF1vB,GAAamiC,EAAMjrB,KAAnCkY,IAA4C,IAA1DpvB,EACAA,EAAEyuB,KAAFzuB,CAAQ2K,KAAR3K,CAAcoiC,aAAdpiC,GAAcoiC,CAAiBpiC,EAAE6vB,SAAF7vB,GAAcmiC,EAAM/Q,MAArCgR,IAA+C,IAD7DpiC,EAEAA,EAAEqiC,YAAFriC,CAAe2K,KAAf3K,CAAqBsiC,YAArBtiC,GAAoCmiC,EAAM/Q,MAAN+Q,GAAe,sBAFnDniC,EAIImiC,EAAMjrB,KAANirB,IAAeA,EAAM/Q,MAArB+Q,IACFniC,EAAEuiC,eAAFviC,CAAkB2K,KAAlB3K,CAAwB6f,OAAxB7f,GAAkC,OAAlCA,EACAA,EAAEuiC,eAAFviC,CAAkB2K,KAAlB3K,CAAwB6a,MAAxB7a,GAAiCmiC,EAAM/Q,MAAN+Q,GAAe,IADhDniC,EAEAA,EAAEuiC,eAAFviC,CAAkB2K,KAAlB3K,CAAwB4tB,KAAxB5tB,GAAgCmiC,EAAMjrB,KAANirB,GAAc,IAH5CA,IAIKniC,EAAEuiC,eAAFviC,CAAkB2K,KAAlB3K,CAAwB6f,OAAxB7f,GAAkC,EAR3CA,EASImiC,EAAM/Q,MAAN+Q,IAAgBxtB,EAAG6D,OAAH7D,CAAW6tB,0BAA3BL,IAAyDxtB,EAAG6D,OAAH7D,CAAWuX,WAApEiW,IACFniC,EAAEyiC,YAAFziC,CAAe2K,KAAf3K,CAAqB6f,OAArB7f,GAA+B,OAA/BA,EACAA,EAAEyiC,YAAFziC,CAAe2K,KAAf3K,CAAqB6a,MAArB7a,GAA8BmiC,EAAM/Q,MAAN+Q,GAAe,IAD7CniC,EAEAA,EAAEyiC,YAAFziC,CAAe2K,KAAf3K,CAAqB4tB,KAArB5tB,GAA6ByW,EAAQqW,WAARrW,GAAsB,IAHjD0rB,IAIKniC,EAAEyiC,YAAFziC,CAAe2K,KAAf3K,CAAqB6f,OAArB7f,GAA+B,EAbxCA;AAvBF8hC;;AAAAA,SAAevgC,SAAfugC,CAAyBhB,MAAzBgB,GAAkC;AAAc,eAAO;AAAC1Q,kBAAQ,CAAT;AAAYla,iBAAO;AAAnB,SAAP;AAA0B,OAA1E4qB,EACAA,GAAevgC,SAAfugC,CAAyBlC,aAAzBkC,GAAyC,cADzCA,EAEAA,GAAevgC,SAAfugC,CAAyBvC,YAAzBuC,GAAwC,cAFxCA,EAGAA,GAAevgC,SAAfugC,CAAyBD,KAAzBC,GAAiC,cAHjCA;AAuCA,UAAIY,KAAiB;AAACC,gBAAUpC,EAAX;AAA6BqC,cAAQd;AAArC,OAArB;;AAEA,eAASe,EAAT,CAAwBluB,CAAxB,EAAwBA;AAClBA,UAAGkL,OAAHlL,CAAWgrB,UAAXhrB,KACFA,EAAGkL,OAAHlL,CAAWgrB,UAAXhrB,CAAsBktB,KAAtBltB,IACIA,EAAGkL,OAAHlL,CAAWgrB,UAAXhrB,CAAsBjJ,QAAtBiJ,IACAhL,EAAQgL,EAAGkL,OAAHlL,CAAW0Z,OAAnB1kB,EAA4BgL,EAAGkL,OAAHlL,CAAWgrB,UAAXhrB,CAAsBjJ,QAAlD/B,CAHFgL,GAMJA,EAAGkL,OAAHlL,CAAWgrB,UAAXhrB,GAAwB,IAAI+tB,GAAe/tB,EAAG6D,OAAH7D,CAAWmuB,cAA1BJ,CAAJ,CAA8C,UAAU5+B,CAAV,EAAUA;AAC9E6Q,YAAGkL,OAAHlL,CAAW0Z,OAAX1Z,CAAmBiX,YAAnBjX,CAAgC7Q,CAAhC6Q,EAAsCA,EAAGkL,OAAHlL,CAAW4tB,eAAjD5tB,GAEAZ,GAAGjQ,CAAHiQ,EAAS,WAATA,EAAsB;AAChBY,cAAGwE,KAAHxE,CAASynB,OAATznB,IAAoB3G,WAAW;AAAc,qBAAO2G,EAAGkL,OAAHlL,CAAWyU,KAAXzU,CAAiBioB,KAAjBjoB,EAAP;AAAwBioB,aAAjD5uB,EAA6D,CAA7DA,CAApB2G;AAAiF,WADvFZ,CAFAY,EAKA7Q,EAAKkH,YAALlH,CAAkB,gBAAlBA,EAAoC,MAApCA,CALA6Q;AAKoC,SANd,EAOrB,UAAU/F,CAAV,EAAem0B,CAAf,EAAeA;AACJ,0BAARA,CAAQ,GAAgBnD,GAAcjrB,CAAdirB,EAAkBhxB,CAAlBgxB,CAAhB,GACLP,GAAgB1qB,CAAhB0qB,EAAoBzwB,CAApBywB,CADK;AACezwB,SATL,EAUrB+F,CAVqB,CANpBA,EAiBAA,EAAGkL,OAAHlL,CAAWgrB,UAAXhrB,CAAsBjJ,QAAtBiJ,IACAjJ,EAASiJ,EAAGkL,OAAHlL,CAAW0Z,OAApB3iB,EAA6BiJ,EAAGkL,OAAHlL,CAAWgrB,UAAXhrB,CAAsBjJ,QAAnDA,CAlBAiJ;AA2BN;;AAAA,UAAIquB,KAAW,CAAf;;AAEA,eAASC,EAAT,CAAwBtuB,CAAxB,EAAwBA;AAntDxB,YAAuBuuB,CAAvB;AAotDEvuB,UAAGQ,KAAHR,GAAW;AACTA,cAAIA,CADK;AAET0jB,wBAAa,CAFJ;AAGT4J,uBAAattB,EAAGsF,GAAHtF,CAAOkG,MAHX;AAITyV,wBAAa,CAJJ;AAKT6S,uBAAa,CALJ;AAMTC,mBAAQ,CANC;AAOTC,sBAAY,IAPH;AAQTjuB,kCAAwB,IARf;AASTkuB,gCAAsB,CATb;AAUTC,6BAAkB,CAVT;AAWTC,0BAAe,CAXN;AAYT1P,sBAAY,IAZH;AAYSI,qBAAW,IAZpB;AAaT6K,uBAAa,IAbJ;AAcTnC,kBAAO,CAdE;AAeTz5B,gBAAM6/B;AAfG,SAAXruB,EAptDqBuuB,IAquDPvuB,EAAGQ,KAjBjBR,EAntDI4V,KACFA,GAAekZ,GAAflZ,CAAmBljB,IAAnBkjB,CAAwB2Y,CAAxB3Y,CADEA,GAGF2Y,EAAGQ,SAAHR,GAAe3Y,KAAiB;AAC9BkZ,eAAK,CAACP,CAAD,CADyB;AAE9BxY,4BAAkB;AAFY,SAgtDlC/V;AAqBF;;AAAA,eAASgvB,EAAT,CAAsBhvB,CAAtB,EAAsBA;AACpB,YAAIuuB,IAAKvuB,EAAGQ,KAAZ;AACI+tB,aAhtDN,UAAyBA,CAAzB,EAA6BU,CAA7B,EAA6BA;AAC3B,cAAIC,IAAQX,EAAGQ,SAAf;AACA,cAAKG,CAAL,EAEA;AAAA,aApBF,UAA6BA,CAA7B,EAA6BA;AAG3B,kBAAIC,IAAYD,EAAMnZ,gBAAtB;AAAA,kBAAwChrB,IAAI,CAA5C;;AACA,iBAAG;AACD,uBAAOA,IAAIokC,EAAU/hC,MAArB,EAA6BrC,GAA7B,EACIokC,EAAUpkC,CAAVokC,EAAajkC,IAAbikC,CAAkB,IAAlBA;;AACJ,qBAAK,IAAIlxB,IAAI,CAAb,EAAgBA,IAAIixB,EAAMJ,GAANI,CAAU9hC,MAA9B,EAAsC6Q,GAAtC,EAA2C;AACzC,sBAAIswB,IAAKW,EAAMJ,GAANI,CAAUjxB,CAAVixB,CAAT;AACA,sBAAIX,EAAG9tB,sBAAP,EACI,OAAO8tB,EAAGI,oBAAHJ,GAA0BA,EAAG9tB,sBAAH8tB,CAA0BnhC,MAA3D,GACEmhC,EAAG9tB,sBAAH8tB,CAA0BA,EAAGI,oBAAHJ,EAA1BA,EAAqDrjC,IAArDqjC,CAA0D,IAA1DA,EAAgEA,EAAGvuB,EAAnEuuB;AAAmEvuB;AAAAA,eAP7E,QASSjV,IAAIokC,EAAU/hC,MATvB;AAgBMgiC,aApBR,CAoB4BF,CApB5B,CAoBE;AACA,WADA,SACA;AACEtZ,iBAAiB,IAAjBA,EACAqZ,EAAMC,CAAND,CADArZ;AACMsZ;AAysDEG,SAhtDZ,CAgtD4Bd,CAhtD5B,EAgtDgC,UAAUW,CAAV,EAAUA;AACtC,eAAK,IAAInkC,IAAI,CAAb,EAAgBA,IAAImkC,EAAMJ,GAANI,CAAU9hC,MAA9B,EAAsCrC,GAAtC,EACImkC,EAAMJ,GAANI,CAAUnkC,CAAVmkC,EAAalvB,EAAbkvB,CAAgB1uB,KAAhB0uB,GAAwB,IAAxBA;;AAAwB,WAOhC,UAAuBA,CAAvB,EAAuBA;AAErB,iBADA,IAAIJ,IAAMI,EAAMJ,GAAhB,EACS/jC,IAAI,CAAb,EAAgBA,IAAI+jC,EAAI1hC,MAAxB,EAAgCrC,GAAhC,EACIukC,GAAgBR,EAAI/jC,CAAJ+jC,CAAhBQ;;AACJ,iBAAK,IAAI/xB,IAAM,CAAf,EAAkBA,IAAMuxB,EAAI1hC,MAA5B,EAAoCmQ,GAApC,EACIgyB,GAAgBT,EAAIvxB,CAAJuxB,CAAhBS;;AACJ,iBAAK,IAAI7xB,IAAM,CAAf,EAAkBA,IAAMoxB,EAAI1hC,MAA5B,EAAoCsQ,GAApC,EACI8xB,GAAgBV,EAAIpxB,CAAJoxB,CAAhBU;;AACJ,iBAAK,IAAI5xB,IAAM,CAAf,EAAkBA,IAAMkxB,EAAI1hC,MAA5B,EAAoCwQ,GAApC,EACI6xB,GAAgBX,EAAIlxB,CAAJkxB,CAAhBW;;AACJ,iBAAK,IAAI1xB,IAAM,CAAf,EAAkBA,IAAM+wB,EAAI1hC,MAA5B,EAAoC2Q,GAApC,EACI2xB,GAAoBZ,EAAI/wB,CAAJ+wB,CAApBY;AAjBFC,WAMJ,CANkBT,CAMlB,CAPgC;AACdA,SAntDlB,CAgtDMX;AAuBN;;AAAA,eAASe,EAAT,CAAyBf,CAAzB,EAAyBA;AACvB,YAAIvuB,IAAKuuB,EAAGvuB,EAAZ;AAAA,YAAgBkL,IAAUlL,EAAGkL,OAA7B;AAA6BA,SAmN/B,UAA6BlL,CAA7B,EAA6BA;AAC3B,cAAIkL,IAAUlL,EAAGkL,OAAjB;AAAiBA,WACZA,EAAQ0kB,iBADI1kB,IACiBA,EAAQ4P,QAAR5P,CAAiBlJ,WADlCkJ,KAEfA,EAAQ0P,cAAR1P,GAAyBA,EAAQ4P,QAAR5P,CAAiBlJ,WAAjBkJ,GAA+BA,EAAQ4P,QAAR5P,CAAiByO,WAAzEzO,EACAA,EAAQwiB,YAARxiB,CAAqBlV,KAArBkV,CAA2BhF,MAA3BgF,GAAoCyP,GAAU3a,CAAV2a,IAAgB,IADpDzP,EAEAA,EAAQ4O,KAAR5O,CAAclV,KAAdkV,CAAoB2kB,YAApB3kB,GAAoB2kB,CAAgB3kB,EAAQ0P,cAAxBiV,GAAyC,IAF7D3kB,EAGAA,EAAQ4O,KAAR5O,CAAclV,KAAdkV,CAAoB4kB,gBAApB5kB,GAAuCyP,GAAU3a,CAAV2a,IAAgB,IAHvDzP,EAIAA,EAAQ0kB,iBAAR1kB,GAAQ0kB,CAAoB,CANb1kB;AAnNjB6kB,SAkNF,CAlNsB/vB,CAkNtB,CAnN+BkL,EAEzBqjB,EAAGM,aAAHN,IAAoBjd,GAAYtR,CAAZsR,CAFKpG,EAI7BqjB,EAAGyB,UAAHzB,GAAgBA,EAAG7K,WAAH6K,IAAkBA,EAAG5S,WAArB4S,IAAoD,QAAhBA,EAAGhP,SAAvCgP,IACdA,EAAGnE,WAAHmE,KAAmBA,EAAGnE,WAAHmE,CAAexyB,IAAfwyB,CAAoBl/B,IAApBk/B,GAA2BrjB,EAAQS,QAAnC4iB,IACAA,EAAGnE,WAAHmE,CAAevyB,EAAfuyB,CAAkBl/B,IAAlBk/B,IAA0BrjB,EAAQU,MADrD2iB,CADcA,IAGdrjB,EAAQuG,cAARvG,IAA0BlL,EAAG6D,OAAH7D,CAAWmc,YAPVjR,EAQ7BqjB,EAAGpC,MAAHoC,GAAYA,EAAGyB,UAAHzB,IACV,IAAI0B,EAAJ,CAAkBjwB,CAAlB,EAAsBuuB,EAAGyB,UAAHzB,IAAiB;AAAC7R,eAAK6R,EAAGhP,SAAT;AAAoB4J,kBAAQoF,EAAGnE;AAA/B,SAAvC,EAAoFmE,EAAG5S,WAAvF,CAT2BzQ;AAY/B;;AAAA,eAASqkB,EAAT,CAAyBhB,CAAzB,EAAyBA;AACvBA,UAAG2B,cAAH3B,GAAoBA,EAAGyB,UAAHzB,IAAiB4B,GAAsB5B,EAAGvuB,EAAzBmwB,EAA6B5B,EAAGpC,MAAhCgE,CAArC5B;AAGF;;AAAA,eAASiB,EAAT,CAAyBjB,CAAzB,EAAyBA;AACvB,YAAIvuB,IAAKuuB,EAAGvuB,EAAZ;AAAA,YAAgBkL,IAAUlL,EAAGkL,OAA7B;AACIqjB,UAAG2B,cAAH3B,IAAqB5F,GAAwB3oB,CAAxB2oB,CAArB4F,EAEJA,EAAG6B,UAAH7B,GAAgBlD,GAAqBrrB,CAArBqrB,CAFZkD,EAOArjB,EAAQuG,cAARvG,IAAQuG,CAAmBzR,EAAG6D,OAAH7D,CAAWmc,YAAtCjR,KACFqjB,EAAG8B,aAAH9B,GAAmBnT,GAAYpb,CAAZob,EAAgBlQ,EAAQqG,OAAxB6J,EAAiClQ,EAAQqG,OAARrG,CAAgBhM,IAAhBgM,CAAqB9d,MAAtDguB,EAA8D9Y,IAA9D8Y,GAAqE,CAAxFmT,EACAvuB,EAAGkL,OAAHlL,CAAW6lB,UAAX7lB,GAAwBuuB,EAAG8B,aAD3B9B,EAEAA,EAAG6B,UAAH7B,CAAcpD,WAAdoD,GACEn0B,KAAKmN,GAALnN,CAAS8Q,EAAQ4P,QAAR5P,CAAiByO,WAA1Bvf,EAAuC8Q,EAAQ4O,KAAR5O,CAAcqX,UAAdrX,GAA2BqjB,EAAG8B,aAA9BnlB,GAA8CyP,GAAU3a,CAAV2a,CAA9CzP,GAA8DlL,EAAGkL,OAAHlL,CAAW+a,QAAhH3gB,CAHFm0B,EAIAA,EAAG+B,aAAH/B,GAAmBn0B,KAAKmN,GAALnN,CAAS,CAATA,EAAY8Q,EAAQ4O,KAAR5O,CAAcqX,UAAdrX,GAA2BqjB,EAAG8B,aAA9BnlB,GAA8C2P,GAAa7a,CAAb6a,CAA1DzgB,CALjB8Q,CAPAqjB,EAYwFvuB,CAGxFuuB,EAAG2B,cAAH3B,IAAqBA,EAAGK,gBAHgE5uB,MAIxFuuB,EAAGgC,iBAAHhC,GAAuBrjB,EAAQuJ,KAARvJ,CAAcsZ,gBAAdtZ,EAJiElL,CAZxFuuB;AAmBN;;AAAA,eAASkB,EAAT,CAAyBlB,CAAzB,EAAyBA;AACvB,YAAIvuB,IAAKuuB,EAAGvuB,EAAZ;AAEwB,gBAApBuuB,EAAG8B,aAAiB,KACtBrwB,EAAGkL,OAAHlL,CAAW8Z,KAAX9Z,CAAiBhK,KAAjBgK,CAAuBksB,QAAvBlsB,GAAkCuuB,EAAG8B,aAAH9B,GAAmB,IAArDvuB,EACIuuB,EAAG+B,aAAH/B,GAAmBvuB,EAAGsF,GAAHtF,CAAOmf,UAA1BoP,IACAtD,GAAcjrB,CAAdirB,EAAkB7wB,KAAKC,GAALD,CAAS4F,EAAGkL,OAAHlL,CAAW8a,QAAX9a,CAAoBmf,UAA7B/kB,EAAyCm0B,EAAG+B,aAA5Cl2B,CAAlB6wB,EAA8DqF,CAAgB,CAA9ErF,CAFJjrB,EAGAA,EAAGkL,OAAHlL,CAAWyR,cAAXzR,GAAWyR,CAAiB,CAJN;AAOxB,YAAI+e,IAAYjC,EAAGtG,KAAHsG,IAAYA,EAAGtG,KAAHsG,IAAY53B,GAAxC;AACI43B,UAAGgC,iBAAHhC,IACAvuB,EAAGkL,OAAHlL,CAAWyU,KAAXzU,CAAiBukB,aAAjBvkB,CAA+BuuB,EAAGgC,iBAAlCvwB,EAAqDwwB,CAArDxwB,CADAuuB,EACqDiC,CACrDjC,EAAG2B,cAAH3B,IAAqBA,EAAGjB,WAAHiB,IAAkBvuB,EAAGsF,GAAHtF,CAAOkG,MADOsqB,KAErDpD,GAAiBptB,CAAjBotB,EAAqBmB,EAAG6B,UAAxBhD,CAHAmB,EAIAA,EAAG2B,cAAH3B,IACAkC,GAAkBzwB,CAAlBywB,EAAsBlC,EAAG6B,UAAzBK,CALAlC,EAOAA,EAAGK,gBAAHL,IAAuB/G,GAAaxnB,CAAbwnB,CAPvB+G,EASAvuB,EAAGwE,KAAHxE,CAASynB,OAATznB,IAAoBuuB,EAAGC,WAAvBxuB,IACAA,EAAGkL,OAAHlL,CAAWyU,KAAXzU,CAAiBwoB,KAAjBxoB,CAAuBuuB,EAAGE,MAA1BzuB,CAVAuuB,EAWAiC,KAAaxI,GAAYuG,EAAGvuB,EAAfgoB,CAXbuG;AAcN;;AAAA,eAASmB,EAAT,CAA6BnB,CAA7B,EAA6BA;AAC3B,YAAIvuB,IAAKuuB,EAAGvuB,EAAZ;AAAA,YAAgBkL,IAAUlL,EAAGkL,OAA7B;AAAA,YAAsC5F,IAAMtF,EAAGsF,GAA/C;AAEIipB,UAAG2B,cAAH3B,IAAqBmC,GAAkB1wB,CAAlB0wB,EAAsBnC,EAAGpC,MAAzBuE,CAArBnC,EAGuB,QAAvBrjB,EAAQylB,WAAe,IAAyB,QAAhBpC,EAAGhP,SAAa,IAAyB,QAAjBgP,EAAGpP,UAAX,IAAWA,CAAsBoP,EAAGnE,WAA7D,KACvBlf,EAAQylB,WAARzlB,GAAsBA,EAAQ0lB,WAAR1lB,GAAsB,IADrB,CAHvBqjB,EAOgB,QAAhBA,EAAGhP,SAAa,IAAQqL,GAAa5qB,CAAb4qB,EAAiB2D,EAAGhP,SAApBqL,EAA+B2D,EAAGzD,WAAlCF,CAPxB2D,EASiB,QAAjBA,EAAGpP,UAAc,IAAQ8L,GAAcjrB,CAAdirB,EAAkBsD,EAAGpP,UAArB8L,EAAqB9L,CAAY,CAAjC8L,EAAiC,CAAM,CAAvCA,CATzBsD,EAWAA,EAAGnE,WAAHmE,IAneN,UAA2BvuB,CAA3B,EAA+B8b,CAA/B,EAA+BA;AAC7B,eAAI/b,GAAeC,CAAfD,EAAmB,sBAAnBA,CAAJ;AAEA,gBAAImL,IAAUlL,EAAGkL,OAAjB;AAAA,gBAA0BoW,IAAMpW,EAAQ4O,KAAR5O,CAAc9I,qBAAd8I,EAAhC;AAAA,gBAAuE2lB,IAAW,IAAlF;;AAGA,gBAFI/U,EAAKY,GAALZ,GAAWwF,EAAI5E,GAAfZ,GAAqB,CAArBA,GAA0B+U,KAAW,CAArC/U,GACKA,EAAKW,MAALX,GAAcwF,EAAI5E,GAAlBZ,IAAyBnxB,OAAOmmC,WAAPnmC,IAAsB4I,SAAS2rB,eAAT3rB,CAAyB0nB,YAAxEa,MAAyF+U,KAAW,CAApG/U,CADLA,EAEY,QAAZ+U,CAAY,IAAZA,CAAqB78B,CAAzB,EAAkC;AAChC,kBAAI+8B,IAAaj7B,EAAI,KAAJA,EAAW,GAAXA,EAAqB,IAArBA,EAA4B,yDAAyDgmB,EAAKY,GAALZ,GAAW5Q,EAAQ0U,UAAnB9D,GAAgC9B,GAAWha,EAAGkL,OAAd8O,CAAzF,IAAmH,wCAAnH,IAA+J8B,EAAKW,MAALX,GAAcA,EAAKY,GAAnBZ,GAAyBnB,GAAU3a,CAAV2a,CAAzBmB,GAAyC5Q,EAAQgQ,SAAhN,IAA6N,sCAA7N,GAAuQY,EAASxZ,IAAhR,GAAoR,aAApR,GAAqSlI,KAAKmN,GAALnN,CAAS,CAATA,EAAY0hB,EAAKvZ,KAALuZ,GAAaA,EAAKxZ,IAA9BlI,CAArS,GAA4U,KAAxWtE,CAAjB;AACAkK,gBAAGkL,OAAHlL,CAAWia,SAAXja,CAAqBnK,WAArBmK,CAAiC+wB,CAAjC/wB,GACA+wB,EAAWC,cAAXD,CAA0BF,CAA1BE,CADA/wB,EAEAA,EAAGkL,OAAHlL,CAAWia,SAAXja,CAAqBvK,WAArBuK,CAAiC+wB,CAAjC/wB,CAFAA;AAEiC+wB;AAAAA;AA4djCE,SAteJ,CAsesBjxB,CAtetB,EAiBA,UAA2BA,CAA3B,EAA+B/F,CAA/B,EAAoCtK,CAApC,EAAyC06B,CAAzC,EAAyCA;AAEvC,cAAIvO,CAAJ;AADc,kBAAVuO,CAAU,KAAQA,IAAS,CAAjB,GAETrqB,EAAG6D,OAAH7D,CAAWmc,YAAXnc,IAA2B/F,KAAOtK,CAAlCqQ,KAKHrQ,IAAoB,aADpBsK,IAAMA,EAAIgB,EAAJhB,GAAS8M,GAAI9M,EAAI5K,IAAR0X,EAA4B,YAAd9M,EAAIuC,MAAU,GAAWvC,EAAIgB,EAAJhB,GAAS,CAApB,GAAwBA,EAAIgB,EAAxD8L,EAA4D,OAA5DA,CAAT9M,GAAgFA,CAClE,EAAVuC,MAAU,GAAWuK,GAAI9M,EAAI5K,IAAR0X,EAAc9M,EAAIgB,EAAJhB,GAAS,CAAvB8M,EAA0B,QAA1BA,CAAX,GAAiD9M,CALlE+F,CAFS;;AASd,eAAK,IAAIkxB,IAAQ,CAAjB,EAAoBA,IAAQ,CAA5B,EAA+BA,GAA/B,EAAwC;AACtC,gBAAIC,KAAU,CAAd;AAAA,gBACInR,IAASI,GAAapgB,CAAbogB,EAAiBnmB,CAAjBmmB,CADb;AAAA,gBAEIgR,IAAazhC,KAAOA,KAAOsK,CAAdtK,GAA6BywB,GAAapgB,CAAbogB,EAAiBzwB,CAAjBywB,CAA7BzwB,GAAoBqwB,CAFrC;AAAA,gBAOIqR,IAAY/H,GAAmBtpB,CAAnBspB,EAJhBxN,IAAO;AAACxZ,oBAAMlI,KAAKC,GAALD,CAAS4lB,EAAO1d,IAAhBlI,EAAsBg3B,EAAU9uB,IAAhClI,CAAP;AACCsiB,mBAAKtiB,KAAKC,GAALD,CAAS4lB,EAAOtD,GAAhBtiB,EAAqBg3B,EAAU1U,GAA/BtiB,IAAsCiwB,CAD5C;AAEC9nB,qBAAOnI,KAAKmN,GAALnN,CAAS4lB,EAAO1d,IAAhBlI,EAAsBg3B,EAAU9uB,IAAhClI,CAFR;AAGCqiB,sBAAQriB,KAAKmN,GAALnN,CAAS4lB,EAAOvD,MAAhBriB,EAAwBg3B,EAAU3U,MAAlCriB,IAA4CiwB;AAHrD,aAISf,CAPhB;AAAA,gBAQIgI,IAAWtxB,EAAGsF,GAAHtF,CAAOuf,SARtB;AAAA,gBAQiCgS,IAAYvxB,EAAGsF,GAAHtF,CAAOmf,UARpD;AAiBA,gBAR2B,QAAvBkS,EAAU9R,SAAa,KACzBmL,GAAgB1qB,CAAhB0qB,EAAoB2G,EAAU9R,SAA9BmL,GACItwB,KAAKoiB,GAALpiB,CAAS4F,EAAGsF,GAAHtF,CAAOuf,SAAPvf,GAAmBsxB,CAA5Bl3B,IAAwC,CAAxCA,KAA6C+2B,KAAU,CAAvD/2B,CAFqB,GAIC,QAAxBi3B,EAAUlS,UAAc,KAC1B8L,GAAcjrB,CAAdirB,EAAkBoG,EAAUlS,UAA5B8L,GACI7wB,KAAKoiB,GAALpiB,CAAS4F,EAAGsF,GAAHtF,CAAOmf,UAAPnf,GAAoBuxB,CAA7Bn3B,IAA0C,CAA1CA,KAA+C+2B,KAAU,CAAzD/2B,CAFsB,CAJD,EAMoC,CAE1D+2B,CAAL,EAAgB;AAElB;;AAAA,iBAAOrV,CAAP;AAqba0V,SAndf,CAmdiCxxB,CAndjC,EAmdqCwH,GAAQlC,CAARkC,EAAa+mB,EAAGnE,WAAHmE,CAAexyB,IAA5ByL,CAndrC,EAodiCA,GAAQlC,CAARkC,EAAa+mB,EAAGnE,WAAHmE,CAAevyB,EAA5BwL,CApdjC,EAodkE+mB,EAAGnE,WAAHmE,CAAelE,MApdjF,CAjBA,CAwdMkE;AAmBJ,YAAI/Y,IAAS+Y,EAAGkD,kBAAhB;AAAA,YAAoCC,IAAWnD,EAAGoD,oBAAlD;AACA,YAAInc,CAAJ,EAAc,KAAK,IAAIzqB,IAAI,CAAb,EAAgBA,IAAIyqB,EAAOpoB,MAA3B,EAA2BA,EAAUrC,CAArC,EACLyqB,EAAOzqB,CAAPyqB,EAAU9P,KAAV8P,CAAgBpoB,MAAhBooB,IAA0B3V,GAAO2V,EAAOzqB,CAAPyqB,CAAP3V,EAAkB,MAAlBA,CAA1B2V;AACT,YAAIkc,CAAJ,EAAgB,KAAK,IAAIn0B,IAAM,CAAf,EAAkBA,IAAMm0B,EAAStkC,MAAjC,EAAiCA,EAAUmQ,CAA3C,EACRm0B,EAASn0B,CAATm0B,EAAchsB,KAAdgsB,CAAoBtkC,MAApBskC,IAA8B7xB,GAAO6xB,EAASn0B,CAATm0B,CAAP7xB,EAAsB,QAAtBA,CAA9B6xB;AAEJxmB,UAAQwO,OAARxO,CAAgBnJ,YAAhBmJ,KACA5F,EAAIia,SAAJja,GAAgBtF,EAAGkL,OAAHlL,CAAW8a,QAAX9a,CAAoBuf,SADpCrU,GAIAqjB,EAAGG,UAAHH,IACA1uB,GAAOG,CAAPH,EAAW,SAAXA,EAAsBG,CAAtBH,EAA0B0uB,EAAGG,UAA7B7uB,CALAqL,EAMAqjB,EAAGpC,MAAHoC,IACAA,EAAGpC,MAAHoC,CAAUqD,MAAVrD,EAPArjB;AAWN;;AAAA,eAAS2mB,EAAT,CAAiB7xB,CAAjB,EAAqBhI,CAArB,EAAqBA;AACnB,YAAIgI,EAAGQ,KAAP,EAAgB,OAAOxI,GAAP;AAChBs2B,WAAetuB,CAAfsuB;;AACA;AAAM,iBAAOt2B,GAAP;AACN,SADA,SACA;AAAUg3B,aAAahvB,CAAbgvB;AAAahvB;AAGzB;;AAAA,eAAS8xB,EAAT,CAAmB9xB,CAAnB,EAAuBhI,CAAvB,EAAuBA;AACrB,eAAO;AACL,cAAIgI,EAAGQ,KAAP,EAAgB,OAAOxI,EAAEE,KAAFF,CAAQgI,CAARhI,EAAYpJ,SAAZoJ,CAAP;AAChBs2B,aAAetuB,CAAfsuB;;AACA;AAAM,mBAAOt2B,EAAEE,KAAFF,CAAQgI,CAARhI,EAAYpJ,SAAZoJ,CAAP;AACN,WADA,SACA;AAAUg3B,eAAahvB,CAAbgvB;AAAahvB;AAAAA,SAJzB;AASF;;AAAA,eAAS+xB,EAAT,CAAkB/5B,CAAlB,EAAkBA;AAChB,eAAO;AACL,cAAIjI,KAAKyQ,KAAT,EAAkB,OAAOxI,EAAEE,KAAFF,CAAQjI,IAARiI,EAAcpJ,SAAdoJ,CAAP;AAClBs2B,aAAev+B,IAAfu+B;;AACA;AAAM,mBAAOt2B,EAAEE,KAAFF,CAAQjI,IAARiI,EAAcpJ,SAAdoJ,CAAP;AACN,WADA,SACA;AAAUg3B,eAAaj/B,IAAbi/B;AAAaj/B;AAAAA,SAJzB;AAOF;;AAAA,eAASiiC,EAAT,CAAqBh6B,CAArB,EAAqBA;AACnB,eAAO;AACL,cAAIgI,IAAKjQ,KAAKiQ,EAAd;AACA,eAAKA,CAAL,IAAWA,EAAGQ,KAAd,EAAuB,OAAOxI,EAAEE,KAAFF,CAAQjI,IAARiI,EAAcpJ,SAAdoJ,CAAP;AACvBs2B,aAAetuB,CAAfsuB;;AACA;AAAM,mBAAOt2B,EAAEE,KAAFF,CAAQjI,IAARiI,EAAcpJ,SAAdoJ,CAAP;AACN,WADA,SACA;AAAUg3B,eAAahvB,CAAbgvB;AAAahvB;AAAAA,SALzB;AAWF;;AAAA,eAAS6qB,EAAT,CAAqB7qB,CAArB,EAAyBhH,CAAzB,EAAyBA;AACnBgH,UAAGsF,GAAHtF,CAAO+K,iBAAP/K,GAA2BA,EAAGkL,OAAHlL,CAAW4L,MAAtC5L,IACAA,EAAGwE,KAAHxE,CAASiyB,SAATjyB,CAAmB1G,GAAnB0G,CAAuBhH,CAAvBgH,EAA6BzT,EAAK2lC,EAAL3lC,EAAsByT,CAAtBzT,CAA7ByT,CADAA;AAIN;;AAAA,eAASkyB,EAAT,CAAyBlyB,CAAzB,EAAyBA;AACvB,YAAIsF,IAAMtF,EAAGsF,GAAb;;AACA,cAAIA,EAAIyF,iBAAJzF,IAAyBtF,EAAGkL,OAAHlL,CAAW4L,MAAxC;AACA,cAAIjc,KAAO,IAAIyJ,IAAJ,EAAPzJ,GAAkBqQ,EAAG6D,OAAH7D,CAAWmyB,QAAjC;AAAA,cACI3oB,IAAUiB,GAAiBzK,CAAjByK,EAAqBnF,EAAIyF,iBAAzBN,CADd;AAAA,cAEI2nB,IAAe,EAFnB;AAIA9sB,YAAIS,IAAJT,CAASkE,EAAQna,IAAjBiW,EAAuBlL,KAAKC,GAALD,CAASkL,EAAIC,KAAJD,GAAYA,EAAIE,IAAzBpL,EAA+B4F,EAAGkL,OAAHlL,CAAW4L,MAAX5L,GAAoB,GAAnD5F,CAAvBkL,EAAgF,UAAUjW,CAAV,EAAUA;AACxF,gBAAIma,EAAQna,IAARma,IAAgBxJ,EAAGkL,OAAHlL,CAAW2L,QAA/B,EAAyC;AACvC,kBAAI0mB,IAAYhjC,EAAK8a,MAArB;AAAA,kBACIO,IAAarb,EAAK6P,IAAL7P,CAAUjC,MAAViC,GAAmB2Q,EAAG6D,OAAH7D,CAAW2K,kBAA9Btb,GAAmDkV,GAAUe,EAAIpZ,IAAdqY,EAAoBiF,EAAQhF,KAA5BD,CAAnDlV,GAAwF,IADzG;AAAA,kBAEIijC,IAAc/oB,GAAcvJ,CAAduJ,EAAkBla,CAAlBka,EAAwBC,CAAxBD,EAAwBC,CAAS,CAAjCD,CAFlB;AAGImB,oBAAclB,EAAQhF,KAARgF,GAAgBkB,CAA9BA,GACJrb,EAAK8a,MAAL9a,GAAcijC,EAAYnoB,MADtBO;AAEJ,kBAAI6nB,IAASljC,EAAKyb,YAAlB;AAAA,kBAAgC0nB,IAASF,EAAYloB,OAArD;AACIooB,kBAAUnjC,EAAKyb,YAALzb,GAAoBmjC,CAA9BA,GACKD,MAAUljC,EAAKyb,YAALzb,GAAoB,IAA9BkjC,CADLC;;AAIJ,mBAFA,IAAIC,KAAYJ,CAAZI,IAAyBJ,EAAUjlC,MAAVilC,IAAoBhjC,EAAK8a,MAAL9a,CAAYjC,MAAzDqlC,IACFF,KAAUC,CAAVD,KAAUC,CAAYD,CAAZC,IAAYD,CAAWC,CAAvBA,IAAiCD,EAAOloB,OAAPkoB,IAAkBC,EAAOnoB,OAA1DmoB,IAAqED,EAAOjoB,SAAPioB,IAAoBC,EAAOloB,SAA1GioB,CADF,EAESxnC,IAAI,CAAb,EAAa,CAAI0nC,CAAJ,IAAgB1nC,IAAIsnC,EAAUjlC,MAA3C,EAA2CA,EAAUrC,CAArD,EAA0D0nC,IAAWJ,EAAUtnC,CAAVsnC,KAAgBhjC,EAAK8a,MAAL9a,CAAYtE,CAAZsE,CAA3BojC;;AACtDA,mBAAYL,EAAa1/B,IAAb0/B,CAAkB5oB,EAAQna,IAA1B+iC,CAAZK,EACJpjC,EAAKub,UAALvb,GAAkBma,EAAQqB,IAARrB,EADdipB,EAEJjpB,EAAQqC,QAARrC,EAFIipB;AAEI5mB,aAdV,MAgBMxc,EAAK6P,IAAL7P,CAAUjC,MAAViC,IAAoB2Q,EAAG6D,OAAH7D,CAAW2K,kBAA/Btb,IACAqc,GAAY1L,CAAZ0L,EAAgBrc,EAAK6P,IAArBwM,EAA2BlC,CAA3BkC,CADArc,EAEJA,EAAKub,UAALvb,GAAkBma,EAAQna,IAARma,GAAe,CAAfA,IAAoB,CAApBA,GAAwBA,EAAQqB,IAARrB,EAAxBA,GAAyC,IAFvDna,EAGJma,EAAQqC,QAARrC,EAHIna;;AAKN,iBAAK,IAAI+J,IAAJ,EAAL,GAAgBzJ,CAAhB,EAEE,OADAk7B,GAAY7qB,CAAZ6qB,EAAgB7qB,EAAG6D,OAAH7D,CAAW0yB,SAA3B7H,GAA2B6H,CACpB,CAAP;AAAO,WAxBXptB,GA2BAA,EAAIyF,iBAAJzF,GAAwBkE,EAAQna,IA3BhCiW,EA4BAA,EAAI0F,YAAJ1F,GAAmBlL,KAAKmN,GAALnN,CAASkL,EAAI0F,YAAb5Q,EAA2BoP,EAAQna,IAAnC+K,CA5BnBkL,EA6BI8sB,EAAahlC,MAAbglC,IAAuBP,GAAQ7xB,CAAR6xB,EAAY;AACrC,iBAAK,IAAI9mC,IAAI,CAAb,EAAgBA,IAAIqnC,EAAahlC,MAAjC,EAAyCrC,GAAzC,EACIk5B,GAAcjkB,CAAdikB,EAAkBmO,EAAarnC,CAAbqnC,CAAlBnO,EAAmC,MAAnCA;AAAmC,WAFd4N,CA7B3BvsB;AA+ByC;AAM3C;;AAAA,UAAI2qB,KAAgB,UAASjwB,CAAT,EAAakpB,CAAb,EAAuByJ,CAAvB,EAAuBA;AACzC,YAAIznB,IAAUlL,EAAGkL,OAAjB;AAEAnb,aAAKm5B,QAALn5B,GAAgBm5B,CAAhBn5B,EAEAA,KAAK6iC,OAAL7iC,GAAek5B,GAAa/d,CAAb+d,EAAsBjpB,EAAGsF,GAAzB2jB,EAA8BC,CAA9BD,CAFfl5B,EAGAA,KAAK8iC,cAAL9iC,GAAK8iC,CAAkB3nB,EAAQwO,OAARxO,CAAgBlJ,WAHvCjS,EAIAA,KAAK+iC,aAAL/iC,GAAqBmb,EAAQwO,OAARxO,CAAgB+P,YAJrClrB,EAKAA,KAAKmpB,YAALnpB,GAAoBmb,EAAQwO,OAARxO,CAAgByO,WALpC5pB,EAMAA,KAAKgjC,eAALhjC,GAAuB8qB,GAAa7a,CAAb6a,CANvB9qB,EAOAA,KAAK4iC,KAAL5iC,GAAa4iC,CAPb5iC,EAQAA,KAAKomB,IAALpmB,GAAY2rB,GAAc1b,CAAd0b,CARZ3rB,EASAA,KAAKijC,MAALjjC,GAAc,EATdA;AASc,OAZhB;;AAoEA,eAASogC,EAAT,CAA+BnwB,CAA/B,EAAmCmsB,CAAnC,EAAmCA;AACjC,YAAIjhB,IAAUlL,EAAGkL,OAAjB;AAAA,YAA0B5F,IAAMtF,EAAGsF,GAAnC;AAEA,YAAI6mB,EAAO0G,cAAX,EAEE,OADAlP,GAAU3jB,CAAV2jB,GAAU3jB,CACH,CAAP;AAIF,aAAKmsB,EAAOwG,KAAZ,IACIxG,EAAOyG,OAAPzG,CAAepwB,IAAfowB,IAAuBjhB,EAAQS,QADnC,IAC+CwgB,EAAOyG,OAAPzG,CAAenwB,EAAfmwB,IAAqBjhB,EAAQU,MAD5E,KAEkC,QAA7BV,EAAQuY,iBAAqB,IAAQvY,EAAQuY,iBAARvY,IAA6BA,EAAQU,MAF/E,KAGIV,EAAQ+nB,YAAR/nB,IAAwBA,EAAQyK,IAHpC,IAGkE,KAAtByO,GAAepkB,CAAfokB,CAH5C,EAII,QAAO,CAAP;AAEA8O,WAA2BlzB,CAA3BkzB,MACFvP,GAAU3jB,CAAV2jB,GACAwI,EAAOhW,IAAPgW,GAAczQ,GAAc1b,CAAd0b,CAFZwX;AAMJ,YAAIvjC,IAAM2V,EAAIC,KAAJD,GAAYA,EAAIE,IAA1B;AAAA,YACIzJ,IAAO3B,KAAKmN,GAALnN,CAAS+xB,EAAOyG,OAAPzG,CAAepwB,IAAfowB,GAAsBnsB,EAAG6D,OAAH7D,CAAWmzB,cAA1C/4B,EAA0DkL,EAAIC,KAA9DnL,CADX;AAAA,YAEI4B,IAAK5B,KAAKC,GAALD,CAASzK,CAATyK,EAAc+xB,EAAOyG,OAAPzG,CAAenwB,EAAfmwB,GAAoBnsB,EAAG6D,OAAH7D,CAAWmzB,cAA7C/4B,CAFT;AAGI8Q,UAAQS,QAART,GAAmBnP,CAAnBmP,IAA2BnP,IAAOmP,EAAQS,QAAf5P,GAA0B,EAArDmP,KAA2DnP,IAAO3B,KAAKmN,GAALnN,CAASkL,EAAIC,KAAbnL,EAAoB8Q,EAAQS,QAA5BvR,CAAlE8Q,GACAA,EAAQU,MAARV,GAAiBlP,CAAjBkP,IAAuBA,EAAQU,MAARV,GAAiBlP,CAAjBkP,GAAsB,EAA7CA,KAAmDlP,IAAK5B,KAAKC,GAALD,CAASzK,CAATyK,EAAc8Q,EAAQU,MAAtBxR,CAAxD8Q,CADAA,EAEAgC,OACFnR,IAAO2U,GAAa1Q,EAAGsF,GAAhBoL,EAAqB3U,CAArB2U,CAAP3U,EACAC,IAAK6U,GAAgB7Q,EAAGsF,GAAnBuL,EAAwB7U,CAAxB6U,CAFH3D,CAFAhC;AAOJ,YAAIkoB,IAAYr3B,KAAQmP,EAAQS,QAAhB5P,IAA4BC,KAAMkP,EAAQU,MAA1C7P,IACdmP,EAAQmoB,cAARnoB,IAA0BihB,EAAO2G,aADnB/2B,IACoCmP,EAAQooB,aAARpoB,IAAyBihB,EAAOjT,YADpF;AACoFA,SAn+BtF,UAAoBlZ,CAApB,EAAwBjE,CAAxB,EAA8BC,CAA9B,EAA8BA;AAC5B,cAAIkP,IAAUlL,EAAGkL,OAAjB;AACmB,eADcA,EAAQyK,IAARzK,CACxB9d,MAAU,IAAK2O,KAAQmP,EAAQU,MAArB,IAA+B5P,KAAMkP,EAAQS,QAA7C,IACjBT,EAAQyK,IAARzK,GAAeuK,GAAezV,CAAfyV,EAAmB1Z,CAAnB0Z,EAAyBzZ,CAAzByZ,CAAfvK,EACAA,EAAQS,QAART,GAAmBnP,CAFF,KAIbmP,EAAQS,QAART,GAAmBnP,CAAnBmP,GACAA,EAAQyK,IAARzK,GAAeuK,GAAezV,CAAfyV,EAAmB1Z,CAAnB0Z,EAAyBvK,EAAQS,QAAjC8J,EAA2CvjB,MAA3CujB,CAAkDvK,EAAQyK,IAA1DF,CADfvK,GAEKA,EAAQS,QAART,GAAmBnP,CAAnBmP,KACLA,EAAQyK,IAARzK,GAAeA,EAAQyK,IAARzK,CAAa9V,KAAb8V,CAAmBuQ,GAAczb,CAAdyb,EAAkB1f,CAAlB0f,CAAnBvQ,CADVA,CAFLA,EAIJA,EAAQS,QAART,GAAmBnP,CAJfmP,EAKAA,EAAQU,MAARV,GAAiBlP,CAAjBkP,GACAA,EAAQyK,IAARzK,GAAeA,EAAQyK,IAARzK,CAAahZ,MAAbgZ,CAAoBuK,GAAezV,CAAfyV,EAAmBvK,EAAQU,MAA3B6J,EAAmCzZ,CAAnCyZ,CAApBvK,CADfA,GAEKA,EAAQU,MAARV,GAAiBlP,CAAjBkP,KACLA,EAAQyK,IAARzK,GAAeA,EAAQyK,IAARzK,CAAa9V,KAAb8V,CAAmB,CAAnBA,EAAsBuQ,GAAczb,CAAdyb,EAAkBzf,CAAlByf,CAAtBvQ,CADVA,CAXQ,GAcnBA,EAAQU,MAARV,GAAiBlP,CAdE;AAk+BnBu3B,SAp+BF,CAo+BavzB,CAp+Bb,EAo+BiBjE,CAp+BjB,EAo+BuBC,CAp+BvB,CAm+BsFkd,EAGpFhO,EAAQ0U,UAAR1U,GAAqBgG,GAAa7L,GAAQrF,EAAGsF,GAAXD,EAAgB6F,EAAQS,QAAxBtG,CAAb6L,CAH+DgI,EAKpFlZ,EAAGkL,OAAHlL,CAAW+Z,KAAX/Z,CAAiBhK,KAAjBgK,CAAuB0c,GAAvB1c,GAA6BkL,EAAQ0U,UAAR1U,GAAqB,IALkCgO;AAOpF,YAAIsa,IAAWpP,GAAepkB,CAAfokB,CAAf;AACA,aAAKgP,CAAL,IAA8B,KAAZI,CAAlB,IAAkBA,CAAkBrH,EAAOwG,KAA3C,IAAoDznB,EAAQ+nB,YAAR/nB,IAAwBA,EAAQyK,IAApF,KACkC,QAA7BzK,EAAQuY,iBAAqB,IAAQvY,EAAQuY,iBAARvY,IAA6BA,EAAQU,MAD/E,GAEI,QAAO,CAAP;;AAIJ,YAAI6nB,IA/EN,UAA2BzzB,CAA3B,EAA2BA;AACzB,cAAIA,EAAG0zB,QAAH1zB,EAAJ,EAAqB,OAAO,IAAP;AACrB,cAAI2zB,IAASh9B,GAAb;AACA,eAAKg9B,CAAL,IAAKA,CAAWr9B,EAAS0J,EAAGkL,OAAHlL,CAAW6oB,OAApBvyB,EAA6Bq9B,CAA7Br9B,CAAhB,EAAwD,OAAO,IAAP;AACxD,cAAImM,IAAS;AAAC9L,uBAAWg9B;AAAZ,WAAb;;AACA,cAAIhpC,OAAOkY,YAAX,EAAyB;AACvB,gBAAIgiB,IAAMl6B,OAAOkY,YAAPlY,EAAV;AACIk6B,cAAI+O,UAAJ/O,IAAkBA,EAAI73B,MAAtB63B,IAAgCvuB,EAAS0J,EAAGkL,OAAHlL,CAAW6oB,OAApBvyB,EAA6BuuB,EAAI+O,UAAjCt9B,CAAhCuuB,KACFpiB,EAAOmxB,UAAPnxB,GAAoBoiB,EAAI+O,UAAxBnxB,EACAA,EAAOoxB,YAAPpxB,GAAsBoiB,EAAIgP,YAD1BpxB,EAEAA,EAAOqxB,SAAPrxB,GAAmBoiB,EAAIiP,SAFvBrxB,EAGAA,EAAOsxB,WAAPtxB,GAAqBoiB,EAAIkP,WAJvBlP;AAON;;AAAA,iBAAOpiB,CAAP;AAiEkBuxB,SA/EpB,CA+EsCh0B,CA/EtC,CA+EE;;AAuBA,eAtBIwzB,IAAW,CAAXA,KAAgBtoB,EAAQ2d,OAAR3d,CAAgBlV,KAAhBkV,CAAsBA,OAAtBA,GAAgC,MAAhDsoB,GAwEN,UAAsBxzB,CAAtB,EAA0Bi0B,CAA1B,EAA6C9d,CAA7C,EAA6CA;AAC3C,cAAIjL,IAAUlL,EAAGkL,OAAjB;AAAA,cAA0B0M,IAAc5X,EAAG6D,OAAH7D,CAAW4X,WAAnD;AAAA,cACIsc,IAAYhpB,EAAQ2d,OADxB;AAAA,cACiCnsB,IAAMw3B,EAAUx+B,UADjD;;AAGA,mBAASy+B,CAAT,CAAYhlC,CAAZ,EAAYA;AACV,gBAAI6Y,IAAO7Y,EAAKmpB,WAAhB;AAMA,mBAJI7kB,KAAUW,CAAVX,IAAiBuM,EAAGkL,OAAHlL,CAAWo0B,kBAAXp0B,IAAiC7Q,CAAlDsE,GACAtE,EAAK6G,KAAL7G,CAAW+b,OAAX/b,GAAqB,MADrBsE,GAGAtE,EAAKsH,UAALtH,CAAgBsG,WAAhBtG,CAA4BA,CAA5BA,CAHAsE,EAIGuU,CAAP;AAMF;;AAAA,eAHA,IAAI2N,IAAOzK,EAAQyK,IAAnB,EAAyBhF,IAAQzF,EAAQS,QAAzC,EAGS5gB,IAAI,CAAb,EAAgBA,IAAI4qB,EAAKvoB,MAAzB,EAAiCrC,GAAjC,EAAsC;AACpC,gBAAImnB,IAAWyD,EAAK5qB,CAAL4qB,CAAf;AACA,gBAAIzD,EAASsD,MAAb,EAAaA,CAAb,KAA4B,IAAKtD,EAAS/iB,IAAT+iB,IAAiBA,EAAS/iB,IAAT+iB,CAAczb,UAAdyb,IAA4BgiB,CAAlD,EAGrB;AACL,qBAAOx3B,KAAOwV,EAAS/iB,IAAvB,GAA+BuN,IAAMy3B,EAAGz3B,CAAHy3B,CAANz3B;;AAC/B,kBAAI23B,IAAezc,KAAoC,QAArBqc,CAAfrc,IACjBqc,KAAqBtjB,CADJiH,IACa1F,EAAShiB,UADzC;AAEIgiB,gBAASkE,OAATlE,KACEjlB,EAAQilB,EAASkE,OAAjBnpB,EAA0B,QAA1BA,IAA0B,CAAa,CAAvCA,KAA4ConC,KAAe,CAA3DpnC,GACJipB,GAAqBlW,CAArBkW,EAAyBhE,CAAzBgE,EAAmCvF,CAAnCuF,EAA0CC,CAA1CD,CAFEhE,GAIAmiB,MACF/+B,EAAe4c,EAAShiB,UAAxBoF,GACA4c,EAAShiB,UAATgiB,CAAoBrc,WAApBqc,CAAgC3e,SAAS4C,cAAT5C,CAAwBoT,GAAc3G,EAAG6D,OAAjB8C,EAA0BgK,CAA1BhK,CAAxBpT,CAAhC2e,CAFEmiB,CAJAniB,EAQJxV,IAAMwV,EAAS/iB,IAAT+iB,CAAcoG,WARhBpG;AAQgBoG,aAfM,MAA6D;AACvF,kBAAInpB,IAAOqpB,GAAiBxY,CAAjBwY,EAAqBtG,CAArBsG,EAA+B7H,CAA/B6H,EAAsCrC,CAAtCqC,CAAX;AACA0b,gBAAUjd,YAAVid,CAAuB/kC,CAAvB+kC,EAA6Bx3B,CAA7Bw3B;AAeFvjB;AAAAA,iBAASuB,EAAS1M,IAAlBmL;AAEF;;AAAA,iBAAOjU,CAAP,GAAcA,IAAMy3B,EAAGz3B,CAAHy3B,CAANz3B;AA7Gd43B,SAuEF,CAvEet0B,CAuEf,EAvEmBkL,EAAQuY,iBAuE3B,EAvE8C0I,EAAOhW,IAuErD,CAxEMqd,EAEAA,IAAW,CAAXA,KAAgBtoB,EAAQ2d,OAAR3d,CAAgBlV,KAAhBkV,CAAsBA,OAAtBA,GAAgC,EAAhDsoB,CAFAA,EAGJtoB,EAAQ+nB,YAAR/nB,GAAuBA,EAAQyK,IAH3B6d,EA/DN,UAA0Be,CAA1B,EAA0BA;AACxB,cAAKA,KAAaA,EAAS59B,SAAtB49B,IAAmCA,EAAS59B,SAAT49B,IAAsB59B,GAAzD49B,KACLA,EAAS59B,SAAT49B,CAAmBtM,KAAnBsM,IACIA,EAASX,UAATW,IAAuBj+B,EAAS/C,SAASsD,IAAlBP,EAAwBi+B,EAASX,UAAjCt9B,CAAvBi+B,IAAuEj+B,EAAS/C,SAASsD,IAAlBP,EAAwBi+B,EAAST,SAAjCx9B,CAFtEi+B,CAAL,EAEwH;AACtH,gBAAI1P,IAAMl6B,OAAOkY,YAAPlY,EAAV;AAAA,gBAAiCoK,IAAQxB,SAAS8D,WAAT9D,EAAzC;AACAwB,cAAMwC,MAANxC,CAAaw/B,EAASX,UAAtB7+B,EAAkCw/B,EAASV,YAA3C9+B,GACAA,EAAM4C,QAAN5C,CAAM4C,CAAS,CAAf5C,CADAA,EAEA8vB,EAAI2P,eAAJ3P,EAFA9vB,EAGA8vB,EAAI4P,QAAJ5P,CAAa9vB,CAAb8vB,CAHA9vB,EAIA8vB,EAAI73B,MAAJ63B,CAAW0P,EAAST,SAApBjP,EAA+B0P,EAASR,WAAxClP,CAJA9vB;AAIwCg/B;AA4D1CW,SArEF,CAqEmBjB,CArEnB,CA+DMD,EAUJl+B,EAAe4V,EAAQ0c,SAAvBtyB,CAVIk+B,EAWJl+B,EAAe4V,EAAQypB,YAAvBr/B,CAXIk+B,EAYJtoB,EAAQuO,OAARvO,CAAgBlV,KAAhBkV,CAAsBhF,MAAtBgF,GAA+BA,EAAQ4O,KAAR5O,CAAclV,KAAdkV,CAAoB+gB,SAApB/gB,GAAgC,CAZ3DsoB,EAcAJ,MACFloB,EAAQmoB,cAARnoB,GAAyBihB,EAAO2G,aAAhC5nB,EACAA,EAAQooB,aAARpoB,GAAwBihB,EAAOjT,YAD/BhO,EAEA2f,GAAY7qB,CAAZ6qB,EAAgB,GAAhBA,CAHEuI,CAdAI,EAoBJtoB,EAAQuY,iBAARvY,GAA4B,IApBxBsoB,EAoBwB,CAErB,CAAP;AAGF;;AAAA,eAAS9C,EAAT,CAA2B1wB,CAA3B,EAA+BmsB,CAA/B,EAA+BA;AAG7B,aAFA,IAAIjD,IAAWiD,EAAOjD,QAAtB,EAES3jB,KAAQ,CAAjB,EAAiB,CACVA,KAAUvF,EAAG6D,OAAH7D,CAAWmc,YAArB5W,IAAqC4mB,EAAO4G,eAAP5G,IAA0BtR,GAAa7a,CAAb6a,CAA/DtV,KAEC2jB,KAA4B,QAAhBA,EAASxM,GAArBwM,KACAA,IAAW;AAACxM,eAAKtiB,KAAKC,GAALD,CAAS4F,EAAGsF,GAAHtF,CAAOkG,MAAPlG,GAAgBma,GAAYna,EAAGkL,OAAfiP,CAAhBna,GAA0Cgb,GAAchb,CAAdgb,CAAnD5gB,EAAsE8uB,EAASxM,GAA/EtiB;AAAN,SADX8uB,GAIJiD,EAAOyG,OAAPzG,GAAiBlD,GAAajpB,EAAGkL,OAAhB+d,EAAyBjpB,EAAGsF,GAA5B2jB,EAAiCC,CAAjCD,CAJbC,EAI8CA,EAC9CiD,EAAOyG,OAAPzG,CAAepwB,IAAfowB,IAAuBnsB,EAAGkL,OAAHlL,CAAW2L,QAAlCwgB,IAA8CA,EAAOyG,OAAPzG,CAAenwB,EAAfmwB,IAAqBnsB,EAAGkL,OAAHlL,CAAW4L,MADhCsd,CAN/C3jB,CADU,KAWV4qB,GAAsBnwB,CAAtBmwB,EAA0BhE,CAA1BgE,CAXP,EAAwB5qB,KAAQ,CAAhC,EAAuC;AAYrCojB,aAAwB3oB,CAAxB2oB;AACA,cAAIyH,IAAa/E,GAAqBrrB,CAArBqrB,CAAjB;AACA/G,aAAgBtkB,CAAhBskB,GACA8I,GAAiBptB,CAAjBotB,EAAqBgD,CAArBhD,CADA9I,EAEAmM,GAAkBzwB,CAAlBywB,EAAsBL,CAAtBK,CAFAnM,EAGA6H,EAAOwG,KAAPxG,GAAOwG,CAAQ,CAHfrO;AAMF6H;;AAAAA,UAAOtsB,MAAPssB,CAAcnsB,CAAdmsB,EAAkB,QAAlBA,EAA4BnsB,CAA5BmsB,GACInsB,EAAGkL,OAAHlL,CAAW2L,QAAX3L,IAAuBA,EAAGkL,OAAHlL,CAAW40B,gBAAlC50B,IAAsDA,EAAGkL,OAAHlL,CAAW4L,MAAX5L,IAAqBA,EAAGkL,OAAHlL,CAAW60B,cAAtF70B,KACFmsB,EAAOtsB,MAAPssB,CAAcnsB,CAAdmsB,EAAkB,gBAAlBA,EAAoCnsB,CAApCmsB,EAAwCnsB,EAAGkL,OAAHlL,CAAW2L,QAAnDwgB,EAA6DnsB,EAAGkL,OAAHlL,CAAW4L,MAAxEugB,GACAnsB,EAAGkL,OAAHlL,CAAW40B,gBAAX50B,GAA8BA,EAAGkL,OAAHlL,CAAW2L,QADzCwgB,EACmDnsB,EAAGkL,OAAHlL,CAAW60B,cAAX70B,GAA4BA,EAAGkL,OAAHlL,CAAW4L,MAFxF5L,CADJmsB;AAOF;;AAAA,eAASxB,EAAT,CAA6B3qB,CAA7B,EAAiCkpB,CAAjC,EAAiCA;AAC/B,YAAIiD,IAAS,IAAI8D,EAAJ,CAAkBjwB,CAAlB,EAAsBkpB,CAAtB,CAAb;;AACA,YAAIiH,GAAsBnwB,CAAtBmwB,EAA0BhE,CAA1BgE,CAAJ,EAAuC;AACrCxH,aAAwB3oB,CAAxB2oB,GACA+H,GAAkB1wB,CAAlB0wB,EAAsBvE,CAAtBuE,CADA/H;AAEA,cAAIyH,IAAa/E,GAAqBrrB,CAArBqrB,CAAjB;AACA/G,aAAgBtkB,CAAhBskB,GACA8I,GAAiBptB,CAAjBotB,EAAqBgD,CAArBhD,CADA9I,EAEAmM,GAAkBzwB,CAAlBywB,EAAsBL,CAAtBK,CAFAnM,EAGA6H,EAAOyF,MAAPzF,EAHA7H;AAGOsN;AAiDX;;AAAA,eAASkD,EAAT,CAA2B5pB,CAA3B,EAA2BA;AACzB,YAAI+N,IAAQ/N,EAAQuO,OAARvO,CAAgBlJ,WAA5B;AACAkJ,UAAQ4O,KAAR5O,CAAclV,KAAdkV,CAAoBoO,UAApBpO,GAAiC+N,IAAQ,IAAzC/N;AAGF;;AAAA,eAASulB,EAAT,CAA2BzwB,CAA3B,EAA+B8B,CAA/B,EAA+BA;AAC7B9B,UAAGkL,OAAHlL,CAAW8Z,KAAX9Z,CAAiBhK,KAAjBgK,CAAuBisB,SAAvBjsB,GAAmC8B,EAAQ6pB,SAAR7pB,GAAoB,IAAvD9B,EACAA,EAAGkL,OAAHlL,CAAW0tB,YAAX1tB,CAAwBhK,KAAxBgK,CAA8B0c,GAA9B1c,GAAoC8B,EAAQ6pB,SAAR7pB,GAAoB,IADxD9B,EAEAA,EAAGkL,OAAHlL,CAAWyZ,OAAXzZ,CAAmBhK,KAAnBgK,CAAyBkG,MAAzBlG,GAAmC8B,EAAQ6pB,SAAR7pB,GAAoB9B,EAAGkL,OAAHlL,CAAWkb,SAA/BpZ,GAA2C6Y,GAAU3a,CAAV2a,CAA3C7Y,GAA4D,IAF/F9B;AAOF;;AAAA,eAASorB,EAAT,CAA2BprB,CAA3B,EAA2BA;AACzB,YAAIkL,IAAUlL,EAAGkL,OAAjB;AAAA,YAA0ByK,IAAOzK,EAAQyK,IAAzC;;AACA,YAAKzK,EAAQ6pB,YAAR7pB,IAA0BA,EAAQuO,OAARvO,CAAgBxV,UAAhBwV,IAA+BlL,EAAG6D,OAAH7D,CAAWuX,WAAzE;AAGA,eAFA,IAAIyd,IAAOxS,GAAqBtX,CAArBsX,IAAgCtX,EAAQ4P,QAAR5P,CAAiBiU,UAAjDqD,GAA8DxiB,EAAGsF,GAAHtF,CAAOmf,UAAhF,EACImM,IAAUpgB,EAAQuO,OAARvO,CAAgBlJ,WAD9B,EAC2CM,IAAO0yB,IAAO,IADzD,EAESjqC,IAAI,CAAb,EAAgBA,IAAI4qB,EAAKvoB,MAAzB,EAAiCrC,GAAjC,EAAwC,KAAK4qB,EAAK5qB,CAAL4qB,EAAQH,MAAb,EAAqB;AACvDxV,cAAG6D,OAAH7D,CAAWuX,WAAXvX,KACE2V,EAAK5qB,CAAL4qB,EAAQyB,MAARzB,KACAA,EAAK5qB,CAAL4qB,EAAQyB,MAARzB,CAAe3f,KAAf2f,CAAqBrT,IAArBqT,GAA4BrT,CAD5BqT,GAEAA,EAAK5qB,CAAL4qB,EAAQ0B,gBAAR1B,KACAA,EAAK5qB,CAAL4qB,EAAQ0B,gBAAR1B,CAAyB3f,KAAzB2f,CAA+BrT,IAA/BqT,GAAsCrT,CADtCqT,CAHF3V;AAMJ,gBAAIi1B,IAAQtf,EAAK5qB,CAAL4qB,EAAQyC,SAApB;AACA,gBAAI6c,CAAJ,EAAa,KAAK,IAAIh3B,IAAI,CAAb,EAAgBA,IAAIg3B,EAAM7nC,MAA1B,EAAkC6Q,GAAlC,EACTg3B,EAAMh3B,CAANg3B,EAASj/B,KAATi/B,CAAe3yB,IAAf2yB,GAAsB3yB,CAAtB2yB;AAEFj1B;;AAAAA,YAAG6D,OAAH7D,CAAWuX,WAAXvX,KACAkL,EAAQuO,OAARvO,CAAgBlV,KAAhBkV,CAAsB5I,IAAtB4I,GAA8B8pB,IAAO1J,CAAP0J,GAAkB,IADhDh1B;AACgD;AAMtD;;AAAA,eAASkzB,EAAT,CAAoClzB,CAApC,EAAoCA;AAClC,aAAKA,EAAG6D,OAAH7D,CAAW4X,WAAhB,EAA+B,QAAO,CAAP;AAC/B,YAAItS,IAAMtF,EAAGsF,GAAb;AAAA,YAAkBmC,IAAOd,GAAc3G,EAAG6D,OAAjB8C,EAA0BrB,EAAIC,KAAJD,GAAYA,EAAIE,IAAhBF,GAAuB,CAAjDqB,CAAzB;AAAA,YAA8EuE,IAAUlL,EAAGkL,OAA3F;;AACA,YAAIzD,EAAKra,MAALqa,IAAeyD,EAAQ6T,YAA3B,EAAyC;AACvC,cAAItxB,IAAOyd,EAAQpJ,OAARoJ,CAAgBrV,WAAhBqV,CAA4BpV,EAAI,KAAJA,EAAW,CAACA,EAAI,KAAJA,EAAW2R,CAAX3R,CAAD,CAAXA,EACI,6CADJA,CAA5BoV,CAAX;AAAA,cAEIgqB,IAASznC,EAAKiI,UAALjI,CAAgBuU,WAF7B;AAAA,cAE0C0jB,IAAUj4B,EAAKuU,WAALvU,GAAmBynC,CAFvE;AASA,iBANAhqB,EAAQiqB,UAARjqB,CAAmBlV,KAAnBkV,CAAyB+N,KAAzB/N,GAAiC,EAAjCA,EACAA,EAAQ8M,iBAAR9M,GAA4B9Q,KAAKmN,GAALnN,CAAS86B,CAAT96B,EAAiB8Q,EAAQiqB,UAARjqB,CAAmBlJ,WAAnBkJ,GAAiCwa,CAAlDtrB,IAA6D,CADzF8Q,EAEAA,EAAQkqB,YAARlqB,GAAuBA,EAAQ8M,iBAAR9M,GAA4Bwa,CAFnDxa,EAGAA,EAAQ6T,YAAR7T,GAAuBA,EAAQ8M,iBAAR9M,GAA4BzD,EAAKra,MAAjC8d,GAAiC9d,CAAU,CAHlE8d,EAIAA,EAAQiqB,UAARjqB,CAAmBlV,KAAnBkV,CAAyB+N,KAAzB/N,GAAiCA,EAAQkqB,YAARlqB,GAAuB,IAJxDA,EAKA4pB,GAAkB90B,EAAGkL,OAArB4pB,CALA5pB,EAKqBA,CACd,CAAP;AAEF;;AAAA,gBAAO,CAAP;AAGF;;AAAA,eAASmqB,EAAT,CAAoB5b,CAApB,EAA6B7B,CAA7B,EAA6BA;AAE3B,aADA,IAAInV,IAAS,EAAb,EAAiB6yB,KAAiB,CAAlC,EACSvqC,IAAI,CAAb,EAAgBA,IAAI0uB,EAAQrsB,MAA5B,EAAoCrC,GAApC,EAAyC;AACvC,cAAIO,IAAOmuB,EAAQ1uB,CAAR0uB,CAAX;AAAA,cAAuBzjB,IAAQ,IAA/B;;AAEA,cADmB,mBAAR1K,CAAQ,KAAY0K,IAAQ1K,EAAK0K,KAAbA,EAAoB1K,IAAOA,EAAK4J,SAA5C,GACP,4BAAR5J,CAAJ,EAAsC;AACpC,iBAAKssB,CAAL,EAAoB;AACb0d,iBAAiB,CAAjBA;AAET7yB;;AAAAA,YAAO/P,IAAP+P,CAAY;AAACvN,uBAAW5J,CAAZ;AAAkB0K,mBAAOA;AAAzB,WAAZyM;AAGF;;AAAA,eADImV,MAAgB0d,CAAhB1d,IAAkCnV,EAAO/P,IAAP+P,CAAY;AAACvN,qBAAW,wBAAZ;AAAsCc,iBAAO;AAA7C,SAAZyM,CAAlCmV,EACGnV,CAAP;AAKF;;AAAA,eAAS8yB,EAAT,CAAuBrqB,CAAvB,EAAuBA;AACrB,YAAIuO,IAAUvO,EAAQuO,OAAtB;AAAA,YAA+B+b,IAAQtqB,EAAQgN,WAA/C;AACA5iB,UAAemkB,CAAfnkB,GACA4V,EAAQiqB,UAARjqB,GAAqB,IADrB5V;;AAEA,aAAK,IAAIvK,IAAI,CAAb,EAAgBA,IAAIyqC,EAAMpoC,MAA1B,EAA0BA,EAAUrC,CAApC,EAAuC;AACrC,cAAIi3B,IAAMwT,EAAMzqC,CAANyqC,CAAV;AAAA,cACItgC,IAAY8sB,EAAI9sB,SADpB;AAAA,cAEIc,IAAQgsB,EAAIhsB,KAFhB;AAAA,cAGIy/B,IAAOhc,EAAQ5jB,WAAR4jB,CAAoB3jB,EAAI,KAAJA,EAAW,IAAXA,EAAiB,uBAAuBZ,CAAxCY,CAApB2jB,CAHX;AAIIzjB,gBAASy/B,EAAKz/B,KAALy/B,CAAWv/B,OAAXu/B,GAAqBz/B,CAA9BA,GACa,4BAAbd,CAAa,KACfgW,EAAQiqB,UAARjqB,GAAqBuqB,CAArBvqB,EACAuqB,EAAKz/B,KAALy/B,CAAWxc,KAAXwc,GAAWxc,CAAS/N,EAAQkqB,YAARlqB,IAAwB,CAAjC+N,IAAsC,IAFlC,CADbjjB;AAMNyjB;;AAAAA,UAAQzjB,KAARyjB,CAAcvO,OAAduO,GAAwB+b,EAAMpoC,MAANooC,GAAe,EAAfA,GAAoB,MAA5C/b,EACAqb,GAAkB5pB,CAAlB4pB,CADArb;AAIF;;AAAA,eAASic,EAAT,CAAuB11B,CAAvB,EAAuBA;AACrBu1B,WAAcv1B,EAAGkL,OAAjBqqB,GACAhS,GAAUvjB,CAAVujB,CADAgS,EAEAnK,GAAkBprB,CAAlBorB,CAFAmK;AASF;;AAAA,eAASI,EAAT,CAAiB/Y,CAAjB,EAAwBtX,CAAxB,EAA6BmP,CAA7B,EAAoC5Q,CAApC,EAAoCA;AAClC,YAAIxY,IAAI0E,IAAR;AACAA,aAAK0kB,KAAL1kB,GAAa0kB,CAAb1kB,EAGA1E,EAAEuiC,eAAFviC,GAAoByK,EAAI,KAAJA,EAAW,IAAXA,EAAiB,6BAAjBA,CAHpB/F,EAIA1E,EAAEuiC,eAAFviC,CAAkBgL,YAAlBhL,CAA+B,gBAA/BA,EAAiD,MAAjDA,CAJA0E,EAOA1E,EAAEyiC,YAAFziC,GAAiByK,EAAI,KAAJA,EAAW,IAAXA,EAAiB,0BAAjBA,CAPjB/F,EAQA1E,EAAEyiC,YAAFziC,CAAegL,YAAfhL,CAA4B,gBAA5BA,EAA8C,MAA9CA,CARA0E,EAUA1E,EAAEw9B,OAAFx9B,GAAY+K,EAAK,KAALA,EAAY,IAAZA,EAAkB,iBAAlBA,CAVZrG,EAYA1E,EAAEspC,YAAFtpC,GAAiByK,EAAI,KAAJA,EAAW,IAAXA,EAAiB,IAAjBA,EAAuB,gCAAvBA,CAZjB/F,EAaA1E,EAAEu8B,SAAFv8B,GAAcyK,EAAI,KAAJA,EAAW,IAAXA,EAAiB,oBAAjBA,CAbd/F,EAeA1E,EAAEyW,OAAFzW,GAAYyK,EAAI,KAAJA,EAAW,IAAXA,EAAiB,oBAAjBA,CAfZ/F,EAiBA1E,EAAEuwB,WAAFvwB,GAAgByK,EAAI,KAAJA,EAAW,IAAXA,EAAiB,oBAAjBA,CAjBhB/F,EAmBA1E,EAAE4uB,SAAF5uB,GAAc+K,EAAK,KAALA,EAAY,CAAC/K,EAAEyW,OAAH,EAAYzW,EAAEuwB,WAAd,EAA2BvwB,EAAEspC,YAA7B,EAA2CtpC,EAAEu8B,SAA7C,EAAwDv8B,EAAEw9B,OAA1D,CAAZzyB,EACI,IADJA,EACU,mCADVA,CAnBdrG;AAqBA,YAAI2V,IAAQtP,EAAK,KAALA,EAAY,CAAC/K,EAAE4uB,SAAH,CAAZ7jB,EAA2B,kBAA3BA,CAAZ;AAEA/K,UAAE0uB,KAAF1uB,GAAUyK,EAAI,KAAJA,EAAW,CAAC4P,CAAD,CAAX5P,EAAoB,IAApBA,EAA0B,oBAA1BA,CAAVzK,EAEAA,EAAEyuB,KAAFzuB,GAAUyK,EAAI,KAAJA,EAAW,CAACzK,EAAE0uB,KAAH,CAAXjkB,EAAsB,kBAAtBA,CAFVzK,EAGAA,EAAEw6B,UAAFx6B,GAAe,IAHfA,EAOAA,EAAEqiC,YAAFriC,GAAiByK,EAAI,KAAJA,EAAW,IAAXA,EAAiB,IAAjBA,EAAuB,+CAAvBA,CAPjBzK,EASAA,EAAEouB,OAAFpuB,GAAYyK,EAAI,KAAJA,EAAW,IAAXA,EAAiB,oBAAjBA,CATZzK,EAUAA,EAAE8pC,UAAF9pC,GAAe,IAVfA,EAYAA,EAAEyvB,QAAFzvB,GAAayK,EAAI,KAAJA,EAAW,CAACzK,EAAEyuB,KAAH,EAAUzuB,EAAEqiC,YAAZ,EAA0BriC,EAAEouB,OAA5B,CAAX3jB,EAAiD,mBAAjDA,CAZbzK,EAaAA,EAAEyvB,QAAFzvB,CAAWgL,YAAXhL,CAAwB,UAAxBA,EAAoC,IAApCA,CAbAA,EAeAA,EAAEquB,OAAFruB,GAAYyK,EAAI,KAAJA,EAAW,CAACzK,EAAEuiC,eAAH,EAAoBviC,EAAEyiC,YAAtB,EAAoCziC,EAAEyvB,QAAtC,CAAXhlB,EAA4D,YAA5DA,CAfZzK,EAkBIgI,KAAMC,IAAa,CAAnBD,KAAwBhI,EAAEouB,OAAFpuB,CAAU2K,KAAV3K,CAAgBsrB,MAAhBtrB,GAAgBsrB,CAAU,CAA1BtrB,EAA6BA,EAAEyvB,QAAFzvB,CAAW2K,KAAX3K,CAAiBovB,YAAjBpvB,GAAgC,CAArFgI,CAlBJhI,EAmBKoI,KAAYT,KAASmB,CAArBV,KAAgCpI,EAAEyvB,QAAFzvB,CAAWuqC,SAAXvqC,GAAWuqC,CAAY,CAAvDniC,CAnBLpI,EAqBIuxB,MACEA,EAAM/mB,WAAN+mB,GAAqBA,EAAM/mB,WAAN+mB,CAAkBvxB,EAAEquB,OAApBkD,CAArBA,GACGA,EAAMvxB,EAAEquB,OAARkD,CAFLA,CArBJvxB,EA2BAA,EAAEsgB,QAAFtgB,GAAaA,EAAEugB,MAAFvgB,GAAWia,EAAIC,KA3B5Bla,EA4BAA,EAAEupC,gBAAFvpC,GAAqBA,EAAEwpC,cAAFxpC,GAAmBia,EAAIC,KA5B5Cla,EA8BAA,EAAEsqB,IAAFtqB,GAAS,EA9BTA,EA+BAA,EAAE4nC,YAAF5nC,GAAiB,IA/BjBA,EAkCAA,EAAEwnB,gBAAFxnB,GAAqB,IAlCrBA,EAoCAA,EAAEu0B,UAAFv0B,GAAe,CApCfA,EAqCAA,EAAEgoC,cAAFhoC,GAAmBA,EAAEioC,aAAFjoC,GAAkB,CArCrCA,EAsCAA,EAAEo4B,iBAAFp4B,GAAsB,IAtCtBA,EAwCAA,EAAEuvB,cAAFvvB,GAAmBA,EAAE6vB,SAAF7vB,GAAcA,EAAE0vB,QAAF1vB,GAAa,CAxC9CA,EAyCAA,EAAEukC,iBAAFvkC,GAAEukC,CAAoB,CAzCtBvkC,EA6CAA,EAAE+pC,YAAF/pC,GAAiBA,EAAE2sB,iBAAF3sB,GAAsBA,EAAE0zB,YAAF1zB,GAAiB,IA7CxDA,EAiDAA,EAAE0pC,YAAF1pC,GAAE0pC,CAAe,CAjDjB1pC,EAmDAA,EAAEwzB,eAAFxzB,GAAoBA,EAAEyzB,gBAAFzzB,GAAqBA,EAAEgvB,cAAFhvB,GAAmB,IAnD5DA,EAuDAA,EAAEkmB,OAAFlmB,GAAY,IAvDZA,EAwDAA,EAAEmmB,aAAFnmB,GAAkB,CAxDlBA,EAyDAA,EAAEomB,cAAFpmB,GAAEomB,CAAiB,CAzDnBpmB,EA4DAA,EAAEwqC,OAAFxqC,GAAYA,EAAEyqC,OAAFzqC,GAAYA,EAAEslC,WAAFtlC,GAAgBA,EAAEulC,WAAFvlC,GAAgB,IA5DxDA,EA+DAA,EAAEq9B,KAAFr9B,GAAEq9B,CAAQ,CA/DVr9B,EAmEAA,EAAEk9B,iBAAFl9B,GAAsB,IAnEtBA,EAqEAA,EAAE0qC,WAAF1qC,GAAgB,IArEhBA,EAuEAA,EAAE6sB,WAAF7sB,GAAgBgqC,GAAWxxB,EAAQ4V,OAAnB4b,EAA4BxxB,EAAQ+T,WAApCyd,CAvEhBhqC,EAwEAkqC,GAAclqC,CAAdkqC,CAxEAlqC,EA0EAopB,EAAMuhB,IAANvhB,CAAWppB,CAAXopB,CA1EAppB;AAlVF4kC;;AAAAA,SAAcrjC,SAAdqjC,CAAwBpwB,MAAxBowB,GAAiC,UAAU5wB,CAAV,EAAmB5B,CAAnB,EAAmBA;AAC9CiD,WAAWrB,CAAXqB,EAAoBjD,CAApBiD,KACA3Q,KAAKijC,MAALjjC,CAAY2C,IAAZ3C,CAAiBnB,SAAjBmB,CADA2Q;AACiB9R,OAFvBqhC,EAIAA,GAAcrjC,SAAdqjC,CAAwB2B,MAAxB3B,GAAiC;AAC/B,aAAK,IAAIllC,IAAI,CAAb,EAAgBA,IAAIgF,KAAKijC,MAALjjC,CAAY3C,MAAhC,EAAwCrC,GAAxC,EACI8U,GAAO3H,KAAP2H,CAAa,IAAbA,EAAmB9P,KAAKijC,MAALjjC,CAAYhF,CAAZgF,CAAnB8P;AAA+B9U,OANrCklC;AA0aA,UAAIgG,KAAe,CAAnB;AAAA,UAAsBC,KAAqB,IAA3C;;AAUA,eAASC,EAAT,CAAyBjlC,CAAzB,EAAyBA;AACvB,YAAIklC,IAAKllC,EAAEmlC,WAAX;AAAA,YAAwBC,IAAKplC,EAAEqlC,WAA/B;AAIA,eAHU,QAANH,CAAM,IAAQllC,EAAEslC,MAAV,IAAoBtlC,EAAEk9B,IAAFl9B,IAAUA,EAAEulC,eAAhC,KAAmDL,IAAKllC,EAAEslC,MAA1D,GACA,QAANF,CAAM,IAAQplC,EAAEslC,MAAV,IAAoBtlC,EAAEk9B,IAAFl9B,IAAUA,EAAEwlC,aAAhC,GAAiDJ,IAAKplC,EAAEslC,MAAxD,GACK,QAANF,CAAM,KAAQA,IAAKplC,EAAEylC,UAAf,CAFL,EAGH;AAACxvB,aAAGivB,CAAJ;AAAQrV,aAAGuV;AAAX,SAAP;AAEF;;AAAA,eAASM,EAAT,CAA0B1lC,CAA1B,EAA0BA;AACxB,YAAI2lC,IAAQV,GAAgBjlC,CAAhBilC,CAAZ;AAGA,eAFAU,EAAM1vB,CAAN0vB,IAAWX,EAAXW,EACAA,EAAM9V,CAAN8V,IAAWX,EADXW,EAEOA,CAAP;AAGF;;AAAA,eAASC,EAAT,CAAuB92B,CAAvB,EAA2B9O,CAA3B,EAA2BA;AACzB,YAAI2lC,IAAQV,GAAgBjlC,CAAhBilC,CAAZ;AAAA,YAAgCC,IAAKS,EAAM1vB,CAA3C;AAAA,YAA8CmvB,IAAKO,EAAM9V,CAAzD;AAAA,YAEI7V,IAAUlL,EAAGkL,OAFjB;AAAA,YAE0BvR,IAASuR,EAAQ4P,QAF3C;AAAA,YAIIic,IAAap9B,EAAOwxB,WAAPxxB,GAAqBA,EAAOggB,WAJ7C;AAAA,YAKIqd,IAAar9B,EAAOoxB,YAAPpxB,GAAsBA,EAAOshB,YAL9C;;AAMA,YAAMmb,KAAMW,CAANX,IAAoBE,KAAMU,CAAhC;AAMA,cAAIV,KAAMliC,CAANkiC,IAAa7iC,CAAjB,EACE+S,GAAO,KAAK,IAAI9J,IAAMxL,EAAER,MAAZ,EAAoBilB,IAAOzK,EAAQyK,IAAxC,EAA8CjZ,KAAO/C,CAArD,EAA6D+C,IAAMA,EAAIjG,UAAvE,EACL,KAAK,IAAI1L,IAAI,CAAb,EAAgBA,IAAI4qB,EAAKvoB,MAAzB,EAAiCrC,GAAjC,EACE,IAAI4qB,EAAK5qB,CAAL4qB,EAAQxmB,IAARwmB,IAAgBjZ,CAApB,EAAyB;AACvBsD,cAAGkL,OAAHlL,CAAWo0B,kBAAXp0B,GAAgCtD,CAAhCsD;AACA,kBAAMwG,CAAN;AAYR;AAAA,cAAI4vB,MAAOpjC,CAAPojC,IAAOpjC,CAAUY,CAAjBwiC,IAAiD,QAAtBF,EAA/B,EAWE,OAVII,KAAMU,CAANV,IACA5L,GAAgB1qB,CAAhB0qB,EAAoBtwB,KAAKmN,GAALnN,CAAS,CAATA,EAAYT,EAAO4lB,SAAP5lB,GAAmB28B,IAAKJ,EAApC97B,CAApBswB,CADA4L,EAEJrL,GAAcjrB,CAAdirB,EAAkB7wB,KAAKmN,GAALnN,CAAS,CAATA,EAAYT,EAAOwlB,UAAPxlB,GAAoBy8B,IAAKF,EAArC97B,CAAlB6wB,CAFIqL,EAEmDJ,EAKlDI,CALkDJ,IAK3CI,KAAMU,CALqCd,KAMnDr1B,GAAiB3P,CAAjB2P,CARAy1B,EAQiBplC,MACrBga,EAAQylB,WAARzlB,GAAsB,IADDha,CAErB;;AAKF,cAAIolC,KAA4B,QAAtBJ,EAAV,EAAsC;AACpC,gBAAIe,IAASX,IAAKJ,EAAlB;AAAA,gBACIxZ,IAAM1c,EAAGsF,GAAHtF,CAAOuf,SADjB;AAAA,gBAC4BtB,IAAMvB,IAAMxR,EAAQwO,OAARxO,CAAgB+P,YADxD;AAEIgc,gBAAS,CAATA,GAAcva,IAAMtiB,KAAKmN,GAALnN,CAAS,CAATA,EAAYsiB,IAAMua,CAANva,GAAe,EAA3BtiB,CAApB68B,GACGhZ,IAAM7jB,KAAKC,GAALD,CAAS4F,EAAGsF,GAAHtF,CAAOkG,MAAhB9L,EAAwB6jB,IAAMgZ,CAANhZ,GAAe,EAAvC7jB,CADT68B,EAEJtM,GAAoB3qB,CAApB2qB,EAAwB;AAACjO,mBAAKA,CAAN;AAAWD,sBAAQwB;AAAnB,aAAxB0M,CAFIsM;AAKFhB;;AAAAA,eAAe,EAAfA,KACyB,QAAvB/qB,EAAQylB,WAAe,IACzBzlB,EAAQylB,WAARzlB,GAAsBvR,EAAOwlB,UAA7BjU,EAAyCA,EAAQ0lB,WAAR1lB,GAAsBvR,EAAO4lB,SAAtErU,EACAA,EAAQ2qB,OAAR3qB,GAAkBkrB,CADlBlrB,EACsBA,EAAQ4qB,OAAR5qB,GAAkBorB,CADxCprB,EAEA7R,WAAW;AACT,gBAA2B,QAAvB6R,EAAQylB,WAAZ;AACA,kBAAIuG,IAASv9B,EAAOwlB,UAAPxlB,GAAoBuR,EAAQylB,WAAzC;AAAA,kBACIwG,IAASx9B,EAAO4lB,SAAP5lB,GAAmBuR,EAAQ0lB,WADxC;AAAA,kBAEIwG,IAAUD,KAAUjsB,EAAQ4qB,OAAlBqB,IAA6BA,IAASjsB,EAAQ4qB,OAA9CqB,IACXD,KAAUhsB,EAAQ2qB,OAAlBqB,IAA6BA,IAAShsB,EAAQ2qB,OAHjD;AAIA3qB,gBAAQylB,WAARzlB,GAAsBA,EAAQ0lB,WAAR1lB,GAAsB,IAA5CA,EACKksB,MACLlB,MAAsBA,KAAqBD,EAArBC,GAAoCkB,CAA1DlB,KAAqED,KAAe,CAApFC,GAAoF,EAClFD,EAFGmB,CADLlsB;AAGE+qB;AAAAA,WATJ58B,EAUG,GAVHA,CAHyB,KAezB6R,EAAQ2qB,OAAR3qB,IAAmBkrB,CAAnBlrB,EAAuBA,EAAQ4qB,OAAR5qB,IAAmBorB,CAfjB,CADzBL;AAgB0CK;AAzF5CjjC;;AAAAA,UAAM6iC,MAAsB,GAA5B7iC,GACKL,IAASkjC,KAAqB,EAA9BljC,GACAW,IAAUuiC,MAAsB,EAAhCviC,GACAE,MAAUqiC,MAAsB,CAAtBA,GAAwB,CAAlCriC,CAHLR;;AAmGJ,UAAIgkC,KAAY,UAASvS,CAAT,EAAiBC,CAAjB,EAAiBA;AAC/Bh1B,aAAK+0B,MAAL/0B,GAAc+0B,CAAd/0B,EACAA,KAAKg1B,SAALh1B,GAAiBg1B,CADjBh1B;AACiBg1B,OAFnB;;AAKAsS,SAAUzqC,SAAVyqC,CAAoB5S,OAApB4S,GAA8B;AAAc,eAAOtnC,KAAK+0B,MAAL/0B,CAAYA,KAAKg1B,SAAjBh1B,CAAP;AAAwBg1B,OAApEsS,EAEAA,GAAUzqC,SAAVyqC,CAAoBC,MAApBD,GAA6B,UAAU5W,CAAV,EAAUA;AACrC,YAAIA,KAAS1wB,IAAb,EAAqB,QAAO,CAAP;AACrB,YAAI0wB,EAAMsE,SAANtE,IAAmB1wB,KAAKg1B,SAAxBtE,IAAqCA,EAAMqE,MAANrE,CAAarzB,MAAbqzB,IAAuB1wB,KAAK+0B,MAAL/0B,CAAY3C,MAA5E,EAAsF,QAAO,CAAP;;AACtF,aAAK,IAAIrC,IAAI,CAAb,EAAgBA,IAAIgF,KAAK+0B,MAAL/0B,CAAY3C,MAAhC,EAAwCrC,GAAxC,EAA6C;AAC3C,cAAIwsC,IAAOxnC,KAAK+0B,MAAL/0B,CAAYhF,CAAZgF,CAAX;AAAA,cAA2BynC,IAAQ/W,EAAMqE,MAANrE,CAAa11B,CAAb01B,CAAnC;AACA,eAAKxZ,GAAeswB,EAAKlV,MAApBpb,EAA4BuwB,EAAMnV,MAAlCpb,CAAL,IAAuCob,CAAYpb,GAAeswB,EAAKpS,IAApBle,EAA0BuwB,EAAMrS,IAAhCle,CAAnD,EAA4F,QAAO,CAAP;AAE9F;;AAAA,gBAAO,CAAP;AAAO,OATTowB,EAYAA,GAAUzqC,SAAVyqC,CAAoBI,QAApBJ,GAA+B;AAE7B,aADA,IAAI38B,IAAM,EAAV,EACS3P,IAAI,CAAb,EAAgBA,IAAIgF,KAAK+0B,MAAL/0B,CAAY3C,MAAhC,EAAwCrC,GAAxC,EACI2P,EAAI3P,CAAJ2P,IAAS,IAAIg9B,EAAJ,CAAUxwB,GAAQnX,KAAK+0B,MAAL/0B,CAAYhF,CAAZgF,EAAesyB,MAAvBnb,CAAV,EAA0CA,GAAQnX,KAAK+0B,MAAL/0B,CAAYhF,CAAZgF,EAAeo1B,IAAvBje,CAA1C,CAATxM;;AACJ,eAAO,IAAI28B,EAAJ,CAAc38B,CAAd,EAAmB3K,KAAKg1B,SAAxB,CAAP;AAA+BA,OAhBjCsS,EAmBAA,GAAUzqC,SAAVyqC,CAAoBM,iBAApBN,GAAwC;AACtC,aAAK,IAAItsC,IAAI,CAAb,EAAgBA,IAAIgF,KAAK+0B,MAAL/0B,CAAY3C,MAAhC,EAAwCrC,GAAxC,EACI,KAAKgF,KAAK+0B,MAAL/0B,CAAYhF,CAAZgF,EAAei1B,KAAfj1B,EAAL,EAA+B,QAAO,CAAP;;AACnC,gBAAO,CAAP;AAAO,OAtBTsnC,EAyBAA,GAAUzqC,SAAVyqC,CAAoB/gC,QAApB+gC,GAA+B,UAAUp9B,CAAV,EAAetK,CAAf,EAAeA;AACvCA,cAAOA,IAAMsK,CAAbtK;;AACL,aAAK,IAAI5E,IAAI,CAAb,EAAgBA,IAAIgF,KAAK+0B,MAAL/0B,CAAY3C,MAAhC,EAAwCrC,GAAxC,EAA6C;AAC3C,cAAIgK,IAAQhF,KAAK+0B,MAAL/0B,CAAYhF,CAAZgF,CAAZ;AACA,cAAIiX,GAAIrX,CAAJqX,EAASjS,EAAMgH,IAANhH,EAATiS,KAA0B,CAA1BA,IAA+BA,GAAI/M,CAAJ+M,EAASjS,EAAMiH,EAANjH,EAATiS,KAAwB,CAA3D,EACI,OAAOjc,CAAP;AAEN;;AAAA,gBAAQ,CAAR;AAAQ,OAhCVssC;;AAmCA,UAAIK,KAAQ,UAASrV,CAAT,EAAiB8C,CAAjB,EAAiBA;AAC3Bp1B,aAAKsyB,MAALtyB,GAAcsyB,CAAdtyB,EAAsBA,KAAKo1B,IAALp1B,GAAYo1B,CAAlCp1B;AAAkCo1B,OADpC;;AAWA,eAASyS,EAAT,CAA4B53B,CAA5B,EAAgC8kB,CAAhC,EAAwCC,CAAxC,EAAwCA;AACtC,YAAI8S,IAAW73B,KAAMA,EAAG6D,OAAH7D,CAAW83B,kBAAhC;AAAA,YACIC,IAAOjT,EAAOC,CAAPD,CADX;AAEAA,UAAOkT,IAAPlT,CAAY,UAAU7tB,CAAV,EAAaC,CAAb,EAAaA;AAAK,iBAAO8P,GAAI/P,EAAE8E,IAAF9E,EAAJ+P,EAAc9P,EAAE6E,IAAF7E,EAAd8P,CAAP;AAAuBjL,SAArD+oB,GACAC,IAAY93B,EAAQ63B,CAAR73B,EAAgB8qC,CAAhB9qC,CADZ63B;;AAEA,aAAK,IAAI/5B,IAAI,CAAb,EAAgBA,IAAI+5B,EAAO13B,MAA3B,EAAmCrC,GAAnC,EAAwC;AACtC,cAAI2R,IAAMooB,EAAO/5B,CAAP+5B,CAAV;AAAA,cAAqBtnB,IAAOsnB,EAAO/5B,IAAI,CAAX+5B,CAA5B;AAAA,cACI3e,IAAOa,GAAIxJ,EAAKxB,EAALwB,EAAJwJ,EAAetK,EAAIX,IAAJW,EAAfsK,CADX;;AAEA,cAAI6wB,MAAan7B,EAAIsoB,KAAJtoB,EAAbm7B,GAA2B1xB,IAAO,CAAlC0xB,GAAsC1xB,KAAQ,CAAlD,EAAqD;AACnD,gBAAIpK,IAAOsL,GAAO7J,EAAKzB,IAALyB,EAAP6J,EAAoB3K,EAAIX,IAAJW,EAApB2K,CAAX;AAAA,gBAA4CrL,IAAKoL,GAAO5J,EAAKxB,EAALwB,EAAP4J,EAAkB1K,EAAIV,EAAJU,EAAlB0K,CAAjD;AAAA,gBACI6wB,IAAMz6B,EAAKwnB,KAALxnB,KAAed,EAAIX,IAAJW,MAAcA,EAAIyoB,IAAjC3nB,GAAwCA,EAAKzB,IAALyB,MAAeA,EAAK2nB,IADtE;AAEIp6B,iBAAKg6B,CAALh6B,IAAKg6B,EAAeA,CAApBh6B,EACJ+5B,EAAOjmB,MAAPimB,CAAOjmB,EAAS9T,CAAhB+5B,EAAmB,CAAnBA,EAAsB,IAAI4S,EAAJ,CAAUO,IAAMj8B,CAANi8B,GAAWl8B,CAArB,EAA2Bk8B,IAAMl8B,CAANk8B,GAAaj8B,CAAxC,CAAtB8oB,CADI/5B;AAC0DiR;AAGlE;;AAAA,eAAO,IAAIq7B,EAAJ,CAAcvS,CAAd,EAAsBC,CAAtB,CAAP;AAGF;;AAAA,eAASmT,EAAT,CAAyB7V,CAAzB,EAAiC8C,CAAjC,EAAiCA;AAC/B,eAAO,IAAIkS,EAAJ,CAAc,CAAC,IAAIK,EAAJ,CAAUrV,CAAV,EAAkB8C,KAAQ9C,CAA1B,CAAD,CAAd,EAAmD,CAAnD,CAAP;AAKF;;AAAA,eAAS8V,EAAT,CAAmBzqB,CAAnB,EAAmBA;AACjB,eAAKA,EAAOxO,IAAPwO,GACE3G,GAAI2G,EAAO3R,IAAP2R,CAAYre,IAAZqe,GAAmBA,EAAOxO,IAAPwO,CAAYtgB,MAA/BsgB,GAAwC,CAA5C3G,EACIvM,EAAIkT,EAAOxO,IAAX1E,EAAiBpN,MAAjBoN,IAAiD,KAAtBkT,EAAOxO,IAAPwO,CAAYtgB,MAAU,GAAIsgB,EAAO3R,IAAP2R,CAAYzS,EAAhB,GAAqB,CAAtET,CADJuM,CADF2G,GAAsBA,EAAO1R,EAAlC;AAOF;;AAAA,eAASo8B,EAAT,CAAyBn+B,CAAzB,EAA8ByT,CAA9B,EAA8BA;AAC5B,YAAI1G,GAAI/M,CAAJ+M,EAAS0G,EAAO3R,IAAhBiL,IAAwB,CAA5B,EAAiC,OAAO/M,CAAP;AACjC,YAAI+M,GAAI/M,CAAJ+M,EAAS0G,EAAO1R,EAAhBgL,KAAuB,CAA3B,EAAgC,OAAOmxB,GAAUzqB,CAAVyqB,CAAP;AAEhC,YAAI9oC,IAAO4K,EAAI5K,IAAJ4K,GAAWyT,EAAOxO,IAAPwO,CAAYtgB,MAAvB6M,IAAiCyT,EAAO1R,EAAP0R,CAAUre,IAAVqe,GAAiBA,EAAO3R,IAAP2R,CAAYre,IAA9D4K,IAAsE,CAAjF;AAAA,YAAoFgB,IAAKhB,EAAIgB,EAA7F;AAEA,eADIhB,EAAI5K,IAAJ4K,IAAYyT,EAAO1R,EAAP0R,CAAUre,IAAtB4K,KAA8BgB,KAAMk9B,GAAUzqB,CAAVyqB,EAAkBl9B,EAAlBk9B,GAAuBzqB,EAAO1R,EAAP0R,CAAUzS,EAArEhB,GACG8M,GAAI1X,CAAJ0X,EAAU9L,CAAV8L,CAAP;AAGF;;AAAA,eAASsxB,EAAT,CAA+B/yB,CAA/B,EAAoCoI,CAApC,EAAoCA;AAElC,aADA,IAAIhT,IAAM,EAAV,EACS3P,IAAI,CAAb,EAAgBA,IAAIua,EAAIuf,GAAJvf,CAAQwf,MAARxf,CAAelY,MAAnC,EAA2CrC,GAA3C,EAAgD;AAC9C,cAAIgK,IAAQuQ,EAAIuf,GAAJvf,CAAQwf,MAARxf,CAAeva,CAAfua,CAAZ;AACA5K,YAAIhI,IAAJgI,CAAS,IAAIg9B,EAAJ,CAAUU,GAAgBrjC,EAAMstB,MAAtB+V,EAA8B1qB,CAA9B0qB,CAAV,EACUA,GAAgBrjC,EAAMowB,IAAtBiT,EAA4B1qB,CAA5B0qB,CADV,CAAT19B;AAGF;;AAAA,eAAOk9B,GAAmBtyB,EAAItF,EAAvB43B,EAA2Bl9B,CAA3Bk9B,EAAgCtyB,EAAIuf,GAAJvf,CAAQyf,SAAxC6S,CAAP;AAGF;;AAAA,eAASU,EAAT,CAAmBr+B,CAAnB,EAAwBiU,CAAxB,EAA6BC,CAA7B,EAA6BA;AAC3B,eAAIlU,EAAI5K,IAAJ4K,IAAYiU,EAAI7e,IAAhB4K,GACO8M,GAAIoH,EAAG9e,IAAP0X,EAAa9M,EAAIgB,EAAJhB,GAASiU,EAAIjT,EAAbhB,GAAkBkU,EAAGlT,EAAlC8L,CADP9M,GAGO8M,GAAIoH,EAAG9e,IAAH8e,IAAWlU,EAAI5K,IAAJ4K,GAAWiU,EAAI7e,IAA1B8e,CAAJpH,EAAqC9M,EAAIgB,EAAzC8L,CAHX;AA6BF;;AAAA,eAASwxB,EAAT,CAAkBv4B,CAAlB,EAAkBA;AAChBA,UAAGsF,GAAHtF,CAAO9T,IAAP8T,GAAc4D,GAAQ5D,EAAG6D,OAAXD,EAAoB5D,EAAGsF,GAAHtF,CAAOw4B,UAA3B50B,CAAd5D,EACAy4B,GAAez4B,CAAfy4B,CADAz4B;AAIF;;AAAA,eAASy4B,EAAT,CAAwBz4B,CAAxB,EAAwBA;AACtBA,UAAGsF,GAAHtF,CAAO+F,IAAP/F,CAAY,UAAU3Q,CAAV,EAAUA;AAChBA,YAAKub,UAALvb,KAAmBA,EAAKub,UAALvb,GAAkB,IAArCA,GACAA,EAAK8a,MAAL9a,KAAeA,EAAK8a,MAAL9a,GAAc,IAA7BA,CADAA;AAC6B,SAFnC2Q,GAIAA,EAAGsF,GAAHtF,CAAOgL,YAAPhL,GAAsBA,EAAGsF,GAAHtF,CAAO+K,iBAAP/K,GAA2BA,EAAGsF,GAAHtF,CAAOuF,KAJxDvF,EAKA6qB,GAAY7qB,CAAZ6qB,EAAgB,GAAhBA,CALA7qB,EAMAA,EAAGwE,KAAHxE,CAAS2J,OAAT3J,EANAA,EAOIA,EAAGQ,KAAHR,IAAYujB,GAAUvjB,CAAVujB,CAPhBvjB;AAeF;;AAAA,eAAS04B,EAAT,CAA2BpzB,CAA3B,EAAgCoI,CAAhC,EAAgCA;AAC9B,eAAyB,KAAlBA,EAAO3R,IAAP2R,CAAYzS,EAAM,IAAqB,KAAhByS,EAAO1R,EAAP0R,CAAUzS,EAAf,IAA8C,MAApBT,EAAIkT,EAAOxO,IAAX1E,CAA1B,KAAqC0E,CAC1DoG,EAAItF,EADsDd,IAChDoG,EAAItF,EAAJsF,CAAOzB,OAAPyB,CAAeqzB,qBADJ,CAAzB;AAKF;;AAAA,eAASC,EAAT,CAAmBtzB,CAAnB,EAAwBoI,CAAxB,EAAgCG,CAAhC,EAA6C8D,CAA7C,EAA6CA;AAC3C,iBAASknB,CAAT,CAAkBrsC,CAAlB,EAAkBA;AAAI,iBAAOqhB,IAAcA,EAAYrhB,CAAZqhB,CAAdA,GAA+B,IAAtC;AACtB;;AAAA,iBAASse,CAAT,CAAgB98B,CAAhB,EAAsB6P,CAAtB,EAA4BoO,CAA5B,EAA4BA;AAAAA,WAn8F9B,UAAoBje,CAApB,EAA0B6P,CAA1B,EAAgC2O,CAAhC,EAA6C8D,CAA7C,EAA6CA;AAC3CtiB,cAAK6P,IAAL7P,GAAY6P,CAAZ7P,EACIA,EAAKub,UAALvb,KAAmBA,EAAKub,UAALvb,GAAkB,IAArCA,CADJA,EAEIA,EAAK8a,MAAL9a,KAAeA,EAAK8a,MAAL9a,GAAc,IAA7BA,CAFJA,EAGkB,QAAdA,EAAKkN,KAAS,KAAQlN,EAAKkN,KAALlN,GAAa,IAArB,CAHlBA,EAIA8f,GAAkB9f,CAAlB8f,CAJA9f,EAKAggB,GAAkBhgB,CAAlBggB,EAAwBxB,CAAxBwB,CALAhgB;AAMA,gBAAIyzB,IAAYnR,IAAiBA,EAAetiB,CAAfsiB,CAAjBA,GAAwC,CAAxD;AACImR,iBAAazzB,EAAK6W,MAAlB4c,IAA4B7c,GAAiB5W,CAAjB4W,EAAuB6c,CAAvB7c,CAA5B6c;AA47FFgW,WAp8FJ,CAo8FezpC,CAp8Ff,EAo8FqB6P,CAp8FrB,EAo8F2BoO,CAp8F3B,EAo8FkCqE,CAp8FlC,CAm8F8BrE,EAE1BwI,GAAYzmB,CAAZymB,EAAkB,QAAlBA,EAA4BzmB,CAA5BymB,EAAkCpI,CAAlCoI,CAF0BxI;AAI5B;;AAAA,iBAASyrB,CAAT,CAAkBrpC,CAAlB,EAAyBC,CAAzB,EAAyBA;AAEvB,eADA,IAAI8S,IAAS,EAAb,EACS1X,IAAI2E,CAAb,EAAoB3E,IAAI4E,CAAxB,EAAwBA,EAAO5E,CAA/B,EACI0X,EAAO/P,IAAP+P,CAAY,IAAIiP,EAAJ,CAASxS,EAAKnU,CAALmU,CAAT,EAAkB25B,EAAS9tC,CAAT8tC,CAAlB,EAA+BlnB,CAA/B,CAAZlP;;AACJ,iBAAOA,CAAP;AAGF;;AAAA,YAAI1G,IAAO2R,EAAO3R,IAAlB;AAAA,YAAwBC,IAAK0R,EAAO1R,EAApC;AAAA,YAAwCkD,IAAOwO,EAAOxO,IAAtD;AAAA,YACI85B,IAAY3zB,GAAQC,CAARD,EAAatJ,EAAK1M,IAAlBgW,CADhB;AAAA,YACyCyL,IAAWzL,GAAQC,CAARD,EAAarJ,EAAG3M,IAAhBgW,CADpD;AAAA,YAEI4zB,IAAWz+B,EAAI0E,CAAJ1E,CAFf;AAAA,YAE0B0+B,IAAYL,EAAS35B,EAAK9R,MAAL8R,GAAc,CAAvB25B,CAFtC;AAAA,YAEiEM,IAASn9B,EAAG3M,IAAH2M,GAAUD,EAAK1M,IAFzF;AAKA,YAAIqe,EAAOC,IAAX,EACErI,EAAI8zB,MAAJ9zB,CAAW,CAAXA,EAAcyzB,EAAS,CAATA,EAAY75B,EAAK9R,MAAjB2rC,CAAdzzB,GACAA,EAAI+zB,MAAJ/zB,CAAWpG,EAAK9R,MAAhBkY,EAAwBA,EAAIE,IAAJF,GAAWpG,EAAK9R,MAAxCkY,CADAA,CADF,KAGO,IAAIozB,GAAkBpzB,CAAlBozB,EAAuBhrB,CAAvBgrB,CAAJ,EAAoC;AAGzC,cAAIY,IAAQP,EAAS,CAATA,EAAY75B,EAAK9R,MAAL8R,GAAc,CAA1B65B,CAAZ;AACA5M,YAAOrb,CAAPqb,EAAiBrb,EAAS5R,IAA1BitB,EAAgC+M,CAAhC/M,GACIgN,KAAU7zB,EAAI+zB,MAAJ/zB,CAAWvJ,EAAK1M,IAAhBiW,EAAsB6zB,CAAtB7zB,CADd6mB,EAEImN,EAAMlsC,MAANksC,IAAgBh0B,EAAI8zB,MAAJ9zB,CAAWvJ,EAAK1M,IAAhBiW,EAAsBg0B,CAAtBh0B,CAFpB6mB;AAE0CmN,SANrC,MAOA,IAAIN,KAAaloB,CAAjB;AACL,cAAmB,KAAf5R,EAAK9R,MAAT,EACE++B,EAAO6M,CAAP7M,EAAkB6M,EAAU95B,IAAV85B,CAAe5jC,KAAf4jC,CAAqB,CAArBA,EAAwBj9B,EAAKd,EAA7B+9B,IAAmCC,CAAnCD,GAA8CA,EAAU95B,IAAV85B,CAAe5jC,KAAf4jC,CAAqBh9B,EAAGf,EAAxB+9B,CAAhE7M,EAA6F+M,CAA7F/M,EADF,KAEO;AACL,gBAAIoN,IAAUR,EAAS,CAATA,EAAY75B,EAAK9R,MAAL8R,GAAc,CAA1B65B,CAAd;AACAQ,cAAQ7mC,IAAR6mC,CAAa,IAAI7nB,EAAJ,CAASunB,IAAWD,EAAU95B,IAAV85B,CAAe5jC,KAAf4jC,CAAqBh9B,EAAGf,EAAxB+9B,CAApB,EAAiDE,CAAjD,EAA4DvnB,CAA5D,CAAb4nB,GACApN,EAAO6M,CAAP7M,EAAkB6M,EAAU95B,IAAV85B,CAAe5jC,KAAf4jC,CAAqB,CAArBA,EAAwBj9B,EAAKd,EAA7B+9B,IAAmC95B,EAAK,CAALA,CAArDitB,EAA8D0M,EAAS,CAATA,CAA9D1M,CADAoN,EAEAj0B,EAAI8zB,MAAJ9zB,CAAWvJ,EAAK1M,IAAL0M,GAAY,CAAvBuJ,EAA0Bi0B,CAA1Bj0B,CAFAi0B;AAE0BA;AAPvB,eASA,IAAmB,KAAfr6B,EAAK9R,MAAT,EACL++B,EAAO6M,CAAP7M,EAAkB6M,EAAU95B,IAAV85B,CAAe5jC,KAAf4jC,CAAqB,CAArBA,EAAwBj9B,EAAKd,EAA7B+9B,IAAmC95B,EAAK,CAALA,CAAnC85B,GAA6CloB,EAAS5R,IAAT4R,CAAc1b,KAAd0b,CAAoB9U,EAAGf,EAAvB6V,CAA/Dqb,EAA2F0M,EAAS,CAATA,CAA3F1M,GACA7mB,EAAI+zB,MAAJ/zB,CAAWvJ,EAAK1M,IAAL0M,GAAY,CAAvBuJ,EAA0B6zB,CAA1B7zB,CADA6mB,CADK,KAGA;AACLA,YAAO6M,CAAP7M,EAAkB6M,EAAU95B,IAAV85B,CAAe5jC,KAAf4jC,CAAqB,CAArBA,EAAwBj9B,EAAKd,EAA7B+9B,IAAmC95B,EAAK,CAALA,CAArDitB,EAA8D0M,EAAS,CAATA,CAA9D1M,GACAA,EAAOrb,CAAPqb,EAAiB8M,IAAWnoB,EAAS5R,IAAT4R,CAAc1b,KAAd0b,CAAoB9U,EAAGf,EAAvB6V,CAA5Bqb,EAAwD+M,CAAxD/M,CADAA;AAEA,cAAIqN,IAAUT,EAAS,CAATA,EAAY75B,EAAK9R,MAAL8R,GAAc,CAA1B65B,CAAd;AACII,cAAS,CAATA,IAAc7zB,EAAI+zB,MAAJ/zB,CAAWvJ,EAAK1M,IAAL0M,GAAY,CAAvBuJ,EAA0B6zB,IAAS,CAAnC7zB,CAAd6zB,EACJ7zB,EAAI8zB,MAAJ9zB,CAAWvJ,EAAK1M,IAAL0M,GAAY,CAAvBuJ,EAA0Bk0B,CAA1Bl0B,CADI6zB;AAINrjB;AAAAA,WAAYxQ,CAAZwQ,EAAiB,QAAjBA,EAA2BxQ,CAA3BwQ,EAAgCpI,CAAhCoI;AAIF;;AAAA,eAAS2jB,EAAT,CAAoBn0B,CAApB,EAAyBtN,CAAzB,EAA4B0hC,CAA5B,EAA4BA;AAAAA,SAC1B,SAASC,CAAT,CAAmBr0B,CAAnB,EAAwBs0B,CAAxB,EAA8BC,CAA9B,EAA8BA;AAC5B,cAAIv0B,EAAIw0B,MAAR,EAAkB,KAAK,IAAI/uC,IAAI,CAAb,EAAgBA,IAAIua,EAAIw0B,MAAJx0B,CAAWlY,MAA/B,EAA+BA,EAAUrC,CAAzC,EAA4C;AAC5D,gBAAIgvC,IAAMz0B,EAAIw0B,MAAJx0B,CAAWva,CAAXua,CAAV;;AACA,gBAAIy0B,EAAIz0B,GAAJy0B,IAAWH,CAAf;AACA,kBAAII,IAASH,KAAcE,EAAIF,UAA/B;AACIH,oBAAmBM,CAAnBN,KACJ1hC,EAAE+hC,EAAIz0B,GAANtN,EAAWgiC,CAAXhiC,GACA2hC,EAAUI,EAAIz0B,GAAdq0B,EAAmBr0B,CAAnBq0B,EAAwBK,CAAxBL,CAFID;AAEoBM;AAAAA;AAG5BL,SAVA,CAUUr0B,CAVV,EAUe,IAVf,EAUe,CAAM,CAVrB,CAD0Bo0B;AAe5B;;AAAA,eAASO,EAAT,CAAmBj6B,CAAnB,EAAuBsF,CAAvB,EAAuBA;AACrB,YAAIA,EAAItF,EAAR,EAAc,MAAM,IAAInQ,KAAJ,CAAU,kCAAV,CAAN;AACdmQ,UAAGsF,GAAHtF,GAASsF,CAATtF,EACAsF,EAAItF,EAAJsF,GAAStF,CADTA,EAEA4iB,GAAoB5iB,CAApB4iB,CAFA5iB,EAGAu4B,GAASv4B,CAATu4B,CAHAv4B,EAIAk6B,GAAkBl6B,CAAlBk6B,CAJAl6B,EAKKA,EAAG6D,OAAH7D,CAAWmc,YAAXnc,IAA2BsR,GAAYtR,CAAZsR,CALhCtR,EAMAA,EAAG6D,OAAH7D,CAAW9T,IAAX8T,GAAkBsF,EAAIkzB,UANtBx4B,EAOAujB,GAAUvjB,CAAVujB,CAPAvjB;AAUF;;AAAA,eAASk6B,EAAT,CAA2Bl6B,CAA3B,EAA2BA;AAAAA,SACN,SAApBA,EAAGsF,GAAHtF,CAAO7C,SAAa,GAAQpG,CAAR,GAAmB/B,CADbgL,EACsBA,EAAGkL,OAAHlL,CAAW6oB,OADjC7oB,EAC0C,gBAD1CA;AAW3B;;AAAA,eAASm6B,EAAT,CAAiBC,CAAjB,EAAiBA;AAIfrqC,aAAKsqC,IAALtqC,GAAY,EAAZA,EAAgBA,KAAKuqC,MAALvqC,GAAc,EAA9BA,EACAA,KAAKwqC,SAALxqC,GAAiBklB,KADjBllB,EAIAA,KAAKyqC,WAALzqC,GAAmBA,KAAK0qC,WAAL1qC,GAAmB,CAJtCA,EAKAA,KAAK2qC,MAAL3qC,GAAcA,KAAK4qC,SAAL5qC,GAAiB,IAL/BA,EAMAA,KAAK6qC,UAAL7qC,GAAkBA,KAAK8qC,aAAL9qC,GAAqB,IANvCA,EAQAA,KAAK+qC,UAAL/qC,GAAkBA,KAAKgrC,aAALhrC,GAAqBqqC,KAAY,CARnDrqC;AAaF;;AAAA,eAASirC,EAAT,CAAiC11B,CAAjC,EAAsCoI,CAAtC,EAAsCA;AACpC,YAAIutB,IAAa;AAACl/B,gBAAMmL,GAAQwG,EAAO3R,IAAfmL,CAAP;AAA6BlL,cAAIm8B,GAAUzqB,CAAVyqB,CAAjC;AAAoDj5B,gBAAM4G,GAAWR,CAAXQ,EAAgB4H,EAAO3R,IAAvB+J,EAA6B4H,EAAO1R,EAApC8J;AAA1D,SAAjB;AAGA,eAFAo1B,GAAiB51B,CAAjB41B,EAAsBD,CAAtBC,EAAkCxtB,EAAO3R,IAAP2R,CAAYre,IAA9C6rC,EAAoDxtB,EAAO1R,EAAP0R,CAAUre,IAAVqe,GAAiB,CAArEwtB,GACAzB,GAAWn0B,CAAXm0B,EAAgB,UAAUn0B,CAAV,EAAUA;AAAO,iBAAO41B,GAAiB51B,CAAjB41B,EAAsBD,CAAtBC,EAAkCxtB,EAAO3R,IAAP2R,CAAYre,IAA9C6rC,EAAoDxtB,EAAO1R,EAAP0R,CAAUre,IAAVqe,GAAiB,CAArEwtB,CAAP;AAA4E,SAA7GzB,EAA6G,CAAO,CAApHA,CADAyB,EAEOD,CAAP;AAKF;;AAAA,eAASE,EAAT,CAA8BjuC,CAA9B,EAA8BA;AAC5B,eAAOA,EAAME,MAANF,IACMsN,EAAItN,CAAJsN,EACFsqB,MAFX,GAEqB53B,EAAMkuC,GAANluC;AAsBvB;;AAAA,eAASmuC,EAAT,CAA4B/1B,CAA5B,EAAiCoI,CAAjC,EAAyC4tB,CAAzC,EAAmDC,CAAnD,EAAmDA;AACjD,YAAIC,IAAOl2B,EAAIm2B,OAAf;AACAD,UAAKlB,MAALkB,CAAYpuC,MAAZouC,GAAqB,CAArBA;AACA,YAAsB9+B,CAAtB;AAAA,YACI+K,CADJ;AAAA,YAAIzO,KAAQ,IAAII,IAAJ,EAAZ;AAGA,aAAKoiC,EAAKd,MAALc,IAAeD,CAAfC,IACAA,EAAKZ,UAALY,IAAmB9tB,EAAO7T,MAA1B2hC,IAAoC9tB,EAAO7T,MAA3C2hC,KAC6B,OAA3B9tB,EAAO7T,MAAP6T,CAAc9R,MAAd8R,CAAqB,CAArBA,CAA2B,IAAO8tB,EAAKhB,WAALgB,GAAmBxiC,KAAQsM,EAAItF,EAAJsF,GAASA,EAAItF,EAAJsF,CAAOzB,OAAPyB,CAAeo2B,iBAAxBp2B,GAA4C,GAApDtM,CAA1B,IACD,OAA3B0U,EAAO7T,MAAP6T,CAAc9R,MAAd8R,CAAqB,CAArBA,CAFD8tB,CADL,MAIK9+B,IAzBP,UAAyB8+B,CAAzB,EAA+B7I,CAA/B,EAA+BA;AAC7B,iBAAIA,KACFwI,GAAqBK,EAAKnB,IAA1Bc,GACO3gC,EAAIghC,EAAKnB,IAAT7/B,CAFLm4B,IAGO6I,EAAKnB,IAALmB,CAAUpuC,MAAVouC,IAAUpuC,CAAWoN,EAAIghC,EAAKnB,IAAT7/B,EAAesqB,MAApC0W,GACFhhC,EAAIghC,EAAKnB,IAAT7/B,CADEghC,GAEAA,EAAKnB,IAALmB,CAAUpuC,MAAVouC,GAAmB,CAAnBA,IAAmB,CAAMA,EAAKnB,IAALmB,CAAUA,EAAKnB,IAALmB,CAAUpuC,MAAVouC,GAAmB,CAA7BA,EAAgC1W,MAAzD0W,IACTA,EAAKnB,IAALmB,CAAUJ,GAAVI,IACOhhC,EAAIghC,EAAKnB,IAAT7/B,CAFEghC,IAEOnB,KAFX,CALP;AAwBWsB,SAzBb,CAyB6BH,CAzB7B,EAyBmCA,EAAKd,MAALc,IAAeD,CAzBlD,CAqBE,GAME9zB,IAAOjN,EAAIkC,EAAI0Z,OAAR5b,CAAPiN,EACmC,KAA/BT,GAAI0G,EAAO3R,IAAXiL,EAAiB0G,EAAO1R,EAAxBgL,CAA+B,IAAkC,KAA7BA,GAAI0G,EAAO3R,IAAXiL,EAAiBS,EAAKzL,EAAtBgL,CAAL,GAGjCS,EAAKzL,EAALyL,GAAU0wB,GAAUzqB,CAAVyqB,CAHuB,GAMjCz7B,EAAI0Z,OAAJ1Z,CAAYhK,IAAZgK,CAAiBs+B,GAAwB11B,CAAxB01B,EAA6BttB,CAA7BstB,CAAjBt+B,CAPF+K,CANF,KAeO;AAEL,cAAIlJ,IAAS/D,EAAIghC,EAAKnB,IAAT7/B,CAAb;;AAMA,eALK+D,KAAWA,EAAOumB,MAAlBvmB,IACDq9B,GAAuBt2B,EAAIuf,GAA3B+W,EAAgCJ,EAAKnB,IAArCuB,CADCr9B,EAEL7B,IAAM;AAAC0Z,qBAAS,CAAC4kB,GAAwB11B,CAAxB01B,EAA6BttB,CAA7BstB,CAAD,CAAV;AACCF,wBAAYU,EAAKV;AADlB,WAFDv8B,EAILi9B,EAAKnB,IAALmB,CAAU9oC,IAAV8oC,CAAe9+B,CAAf8+B,CACA,EAAOA,EAAKnB,IAALmB,CAAUpuC,MAAVouC,GAAmBA,EAAKjB,SAA/B,GACEiB,EAAKnB,IAALmB,CAAU9S,KAAV8S,IACKA,EAAKnB,IAALmB,CAAU,CAAVA,EAAa1W,MAAb0W,IAAuBA,EAAKnB,IAALmB,CAAU9S,KAAV8S,EAD5BA;AAIJA;AAAAA,UAAKnB,IAALmB,CAAU9oC,IAAV8oC,CAAeF,CAAfE,GACAA,EAAKV,UAALU,GAAKV,EAAeU,EAAKT,aADzBS,EAEAA,EAAKhB,WAALgB,GAAmBA,EAAKf,WAALe,GAAmBxiC,CAFtCwiC,EAGAA,EAAKd,MAALc,GAAcA,EAAKb,SAALa,GAAiBD,CAH/BC,EAIAA,EAAKZ,UAALY,GAAkBA,EAAKX,aAALW,GAAqB9tB,EAAO7T,MAJ9C2hC,EAMK/zB,KAAQ5H,GAAOyF,CAAPzF,EAAY,cAAZA,CANb27B;AAsBF;;AAAA,eAASK,EAAT,CAA+Bv2B,CAA/B,EAAoCuf,CAApC,EAAyC0W,CAAzC,EAA+C13B,CAA/C,EAA+CA;AAC7C,YAAI23B,IAAOl2B,EAAIm2B,OAAf;AAAA,YAAwB5hC,IAASgK,KAAWA,EAAQhK,MAApD;AAMI0hC,aAAQC,EAAKb,SAAbY,IACC1hC,KAAU2hC,EAAKX,aAALW,IAAsB3hC,CAAhCA,KACC2hC,EAAKhB,WAALgB,IAAoBA,EAAKf,WAAzBe,IAAwCA,EAAKZ,UAALY,IAAmB3hC,CAA3D2hC,IAtBR,UAAmCl2B,CAAnC,EAAwCzL,CAAxC,EAAgD2D,CAAhD,EAAsDqnB,CAAtD,EAAsDA;AACpD,cAAI5pB,IAAKpB,EAAO+B,MAAP/B,CAAc,CAAdA,CAAT;AACA,iBAAa,OAANoB,CAAM,IACL,OAANA,CAAM,IACNuC,EAAKsnB,MAALtnB,CAAYpQ,MAAZoQ,IAAsBqnB,EAAIC,MAAJD,CAAWz3B,MAD3B,IAENoQ,EAAKm6B,iBAALn6B,MAA4BqnB,EAAI8S,iBAAJ9S,EAFtB,IAGN,IAAIzrB,IAAJ,KAAWkM,EAAIm2B,OAAJn2B,CAAYm1B,WAAvB,KAAuCn1B,EAAItF,EAAJsF,GAASA,EAAItF,EAAJsF,CAAOzB,OAAPyB,CAAeo2B,iBAAxBp2B,GAA4C,GAAnF,CAJF;AAqBMw2B,SAvBR,CAuBkCx2B,CAvBlC,EAuBuCzL,CAvBvC,EAuB+CW,EAAIghC,EAAKnB,IAAT7/B,CAvB/C,EAuB+DqqB,CAvB/D,CAqBOhrB,CADD0hC,GAIAC,EAAKnB,IAALmB,CAAUA,EAAKnB,IAALmB,CAAUpuC,MAAVouC,GAAmB,CAA7BA,IAAkC3W,CAJlC0W,GAMAK,GAAuB/W,CAAvB+W,EAA4BJ,EAAKnB,IAAjCuB,CANAL,EAQJC,EAAKf,WAALe,GAAKf,CAAe,IAAIrhC,IAAJ,EARhBmiC,EASJC,EAAKX,aAALW,GAAqB3hC,CATjB0hC,EAUJC,EAAKb,SAALa,GAAiBD,CAVbA,EAWA13B,MAAiC,CAAjCA,KAAWA,EAAQk4B,SAAnBl4B,IACAs3B,GAAqBK,EAAKlB,MAA1Ba,CAZAI;AAeN;;AAAA,eAASK,EAAT,CAAgC/W,CAAhC,EAAqCmX,CAArC,EAAqCA;AACnC,YAAItf,IAAMliB,EAAIwhC,CAAJxhC,CAAV;AACMkiB,aAAOA,EAAIoI,MAAXpI,IAAqBA,EAAI4a,MAAJ5a,CAAWmI,CAAXnI,CAArBA,IACFsf,EAAKtpC,IAALspC,CAAUnX,CAAVmX,CADEtf;AAKR;;AAAA,eAASwe,EAAT,CAA0B51B,CAA1B,EAA+BoI,CAA/B,EAAuC3R,CAAvC,EAA6CC,CAA7C,EAA6CA;AAC3C,YAAIigC,IAAWvuB,EAAO,WAAWpI,EAAI9W,EAAtBkf,CAAf;AAAA,YAA0ClhB,IAAI,CAA9C;AACA8Y,UAAIS,IAAJT,CAASlL,KAAKmN,GAALnN,CAASkL,EAAIC,KAAbnL,EAAoB2B,CAApB3B,CAATkL,EAAoClL,KAAKC,GAALD,CAASkL,EAAIC,KAAJD,GAAYA,EAAIE,IAAzBpL,EAA+B4B,CAA/B5B,CAApCkL,EAAwE,UAAUjW,CAAV,EAAUA;AAC5EA,YAAKwe,WAALxe,KAAKwe,CACJouB,MAAaA,IAAWvuB,EAAO,WAAWpI,EAAI9W,EAAtBkf,IAA4B,EAApDuuB,CADIpuB,EACqDrhB,CADrDqhB,IAC0Dxe,EAAKwe,WADpExe,GACoEwe,EACtErhB,CAFE6C;AAEF7C,SAHJ8Y;AASF;;AAAA,eAAS42B,EAAT,CAA4B5uB,CAA5B,EAA4BA;AAC1B,aAAKA,CAAL,EAAc,OAAO,IAAP;;AAEd,aADA,IAAI5S,CAAJ,EACS3P,IAAI,CAAb,EAAgBA,IAAIuiB,EAAMlgB,MAA1B,EAA0BA,EAAUrC,CAApC,EACMuiB,EAAMviB,CAANuiB,EAASF,MAATE,CAAgB6uB,iBAAhB7uB,GAA0C5S,MAAOA,IAAM4S,EAAMlY,KAANkY,CAAY,CAAZA,EAAeviB,CAAfuiB,CAAb5S,CAA1C4S,GACK5S,KAAOA,EAAIhI,IAAJgI,CAAS4S,EAAMviB,CAANuiB,CAAT5S,CADZ4S;;AAGN,eAAQ5S,IAAcA,EAAItN,MAAJsN,GAAaA,CAAbA,GAAmB,IAAjCA,GAAM4S,CAAd;AAiBF;;AAAA,eAAS8uB,EAAT,CAAuB92B,CAAvB,EAA4BoI,CAA5B,EAA4BA;AAC1B,YAAIQ,IAdN,UAAqB5I,CAArB,EAA0BoI,CAA1B,EAA0BA;AACxB,cAAIjR,IAAQiR,EAAO,WAAWpI,EAAI9W,EAAtBkf,CAAZ;AACA,eAAKjR,CAAL,EAAc,OAAO,IAAP;;AAEd,eADA,IAAI0R,IAAK,EAAT,EACSpjB,IAAI,CAAb,EAAgBA,IAAI2iB,EAAOxO,IAAPwO,CAAYtgB,MAAhC,EAAgCA,EAAUrC,CAA1C,EACIojB,EAAGzb,IAAHyb,CAAQ+tB,GAAmBz/B,EAAM1R,CAAN0R,CAAnBy/B,CAAR/tB;;AACJ,iBAAOA,CAAP;AAQUkuB,SAdZ,CAcwB/2B,CAdxB,EAc6BoI,CAd7B,CAcE;AAAA,YACI4uB,IAAY7uB,GAAuBnI,CAAvBmI,EAA4BC,CAA5BD,CADhB;;AAEA,aAAKS,CAAL,EAAY,OAAOouB,CAAP;AACZ,aAAKA,CAAL,EAAkB,OAAOpuB,CAAP;;AAElB,aAAK,IAAInjB,IAAI,CAAb,EAAgBA,IAAImjB,EAAI9gB,MAAxB,EAAwBA,EAAUrC,CAAlC,EAAqC;AACnC,cAAIwxC,IAASruB,EAAInjB,CAAJmjB,CAAb;AAAA,cAAqBsuB,IAAaF,EAAUvxC,CAAVuxC,CAAlC;AACA,cAAIC,KAAUC,CAAd,EACElvB,GAAO,KAAK,IAAIrP,IAAI,CAAb,EAAgBA,IAAIu+B,EAAWpvC,MAA/B,EAA+BA,EAAU6Q,CAAzC,EAA4C;AAEjD,iBADA,IAAIsP,IAAOivB,EAAWv+B,CAAXu+B,CAAX,EACSvkB,IAAI,CAAb,EAAgBA,IAAIskB,EAAOnvC,MAA3B,EAA2BA,EAAU6qB,CAArC,EACI,IAAIskB,EAAOtkB,CAAPskB,EAAUnvB,MAAVmvB,IAAoBhvB,EAAKH,MAA7B,EAAuC,SAASE,CAAT;;AAC3CivB,cAAO7pC,IAAP6pC,CAAYhvB,CAAZgvB;AAAYhvB,WALhB,MAOWivB,MACTtuB,EAAInjB,CAAJmjB,IAASsuB,CADAA;AAIb;;AAAA,eAAOtuB,CAAP;AAKF;;AAAA,eAASuuB,EAAT,CAA0BzJ,CAA1B,EAAkC0J,CAAlC,EAA4CC,CAA5C,EAA4CA;AAE1C,aADA,IAAIvwB,IAAO,EAAX,EACSrhB,IAAI,CAAb,EAAgBA,IAAIioC,EAAO5lC,MAA3B,EAA2BA,EAAUrC,CAArC,EAAwC;AACtC,cAAI6xC,IAAQ5J,EAAOjoC,CAAPioC,CAAZ;AACA,cAAI4J,EAAM9X,MAAV,EACE1Y,EAAK1Z,IAAL0Z,CAAUuwB,IAAiBtF,GAAUzqC,SAAVyqC,CAAoBI,QAApBJ,CAA6BnsC,IAA7BmsC,CAAkCuF,CAAlCvF,CAAjBsF,GAA4DC,CAAtExwB,EADF;AAIA,gBAAIgK,IAAUwmB,EAAMxmB,OAApB;AAAA,gBAA6BymB,IAAa,EAA1C;AACAzwB,cAAK1Z,IAAL0Z,CAAU;AAACgK,uBAASymB;AAAV,aAAVzwB;;AACA,iBAAK,IAAInO,IAAI,CAAb,EAAgBA,IAAImY,EAAQhpB,MAA5B,EAA4BA,EAAU6Q,CAAtC,EAAyC;AACvC,kBAAIyP,IAAS0I,EAAQnY,CAARmY,CAAb;AAAA,kBAAyBjrB,SAAI,CAA7B;AAEA,kBADA0xC,EAAWnqC,IAAXmqC,CAAgB;AAAC9gC,sBAAM2R,EAAO3R,IAAd;AAAoBC,oBAAI0R,EAAO1R,EAA/B;AAAmCkD,sBAAMwO,EAAOxO;AAAhD,eAAhB29B,GACIH,CAAJ,EAAgB,KAAK,IAAIrkC,CAAT,IAAiBqV,CAAjB,EAAiBA,CAAcviB,IAAIkN,EAAK7D,KAAL6D,CAAW,eAAXA,CAAlBqV,KAC3BzgB,EAAQyvC,CAARzvC,EAAkBwH,OAAOtJ,EAAE,CAAFA,CAAPsJ,CAAlBxH,IAA2B,CAAQ,CADRygB,KAE7BlT,EAAIqiC,CAAJriC,EAAgBnC,CAAhBmC,IAAwBkT,EAAOrV,CAAPqV,CAAxBlT,EAA+BnC,OACxBqV,EAAOrV,CAAPqV,CAHsBA;AAGfrV;AAAAA;AAKtB;;AAAA,eAAO+T,CAAP;AAWF;;AAAA,eAAS0wB,EAAT,CAAqB/nC,CAArB,EAA4BowB,CAA5B,EAAkC1E,CAAlC,EAAyCzzB,CAAzC,EAAyCA;AACvC,YAAIA,CAAJ,EAAY;AACV,cAAIq1B,IAASttB,EAAMstB,MAAnB;;AACA,cAAI5B,CAAJ,EAAW;AACT,gBAAIsc,IAAY/1B,GAAIme,CAAJne,EAAUqb,CAAVrb,IAAoB,CAApC;AACI+1B,iBAAc/1B,GAAIyZ,CAAJzZ,EAAWqb,CAAXrb,IAAqB,CAAnC+1B,IACF1a,IAAS8C,CAAT9C,EACA8C,IAAO1E,CAFLsc,IAGOA,KAAc/1B,GAAIme,CAAJne,EAAUyZ,CAAVzZ,IAAmB,CAAjC+1B,KACT5X,IAAO1E,CADEsc,CAHPA;AAON;;AAAA,iBAAO,IAAIrF,EAAJ,CAAUrV,CAAV,EAAkB8C,CAAlB,CAAP;AAEA;;AAAA,eAAO,IAAIuS,EAAJ,CAAUjX,KAAS0E,CAAnB,EAAyBA,CAAzB,CAAP;AAKJ;;AAAA,eAAS6X,EAAT,CAAyB13B,CAAzB,EAA8B6f,CAA9B,EAAoC1E,CAApC,EAA2C5c,CAA3C,EAAoD7W,CAApD,EAAoDA;AACpC,gBAAVA,CAAU,KAAQA,IAASsY,EAAItF,EAAJsF,KAAWA,EAAItF,EAAJsF,CAAO4F,OAAP5F,CAAeojB,KAAfpjB,IAAwBA,EAAItY,MAAvCsY,CAAjB,GACd23B,GAAa33B,CAAb23B,EAAkB,IAAI5F,EAAJ,CAAc,CAACyF,GAAYx3B,EAAIuf,GAAJvf,CAAQmf,OAARnf,EAAZw3B,EAA+B3X,CAA/B2X,EAAqCrc,CAArCqc,EAA4C9vC,CAA5C8vC,CAAD,CAAd,EAAqE,CAArE,CAAlBG,EAA2Fp5B,CAA3Fo5B,CADc;AAMhB;;AAAA,eAASC,EAAT,CAA0B53B,CAA1B,EAA+B63B,CAA/B,EAAsCt5B,CAAtC,EAAsCA;AAGpC,aAFA,IAAInJ,IAAM,EAAV,EACI1N,IAASsY,EAAItF,EAAJsF,KAAWA,EAAItF,EAAJsF,CAAO4F,OAAP5F,CAAeojB,KAAfpjB,IAAwBA,EAAItY,MAAvCsY,CADb,EAESva,IAAI,CAAb,EAAgBA,IAAIua,EAAIuf,GAAJvf,CAAQwf,MAARxf,CAAelY,MAAnC,EAA2CrC,GAA3C,EACI2P,EAAI3P,CAAJ2P,IAASoiC,GAAYx3B,EAAIuf,GAAJvf,CAAQwf,MAARxf,CAAeva,CAAfua,CAAZw3B,EAA+BK,EAAMpyC,CAANoyC,CAA/BL,EAAyC,IAAzCA,EAA+C9vC,CAA/C8vC,CAATpiC;;AAEJuiC,WAAa33B,CAAb23B,EADarF,GAAmBtyB,EAAItF,EAAvB43B,EAA2Bl9B,CAA3Bk9B,EAAgCtyB,EAAIuf,GAAJvf,CAAQyf,SAAxC6S,CACbqF,EAA0Bp5B,CAA1Bo5B;AAIF;;AAAA,eAASG,EAAT,CAA6B93B,CAA7B,EAAkCva,CAAlC,EAAqCgK,CAArC,EAA4C8O,CAA5C,EAA4CA;AAC1C,YAAIihB,IAASxf,EAAIuf,GAAJvf,CAAQwf,MAARxf,CAAelQ,KAAfkQ,CAAqB,CAArBA,CAAb;AACAwf,UAAO/5B,CAAP+5B,IAAY/vB,CAAZ+vB,EACAmY,GAAa33B,CAAb23B,EAAkBrF,GAAmBtyB,EAAItF,EAAvB43B,EAA2B9S,CAA3B8S,EAAmCtyB,EAAIuf,GAAJvf,CAAQyf,SAA3C6S,CAAlBqF,EAAyEp5B,CAAzEo5B,CADAnY;AAKF;;AAAA,eAASuY,EAAT,CAA4B/3B,CAA5B,EAAiC+c,CAAjC,EAAyC8C,CAAzC,EAA+CthB,CAA/C,EAA+CA;AAC7Co5B,WAAa33B,CAAb23B,EAAkB/E,GAAgB7V,CAAhB6V,EAAwB/S,CAAxB+S,CAAlB+E,EAAiDp5B,CAAjDo5B;AAsBF;;AAAA,eAASK,EAAT,CAAoCh4B,CAApC,EAAyCuf,CAAzC,EAA8ChhB,CAA9C,EAA8CA;AAC5C,YAAIw2B,IAAO/0B,EAAIm2B,OAAJn2B,CAAY+0B,IAAvB;AAAA,YAA6B5yB,IAAOjN,EAAI6/B,CAAJ7/B,CAApC;AACIiN,aAAQA,EAAKqd,MAAbrd,IACF4yB,EAAKA,EAAKjtC,MAALitC,GAAc,CAAnBA,IAAwBxV,CAAxBwV,EACAkD,GAAmBj4B,CAAnBi4B,EAAwB1Y,CAAxB0Y,EAA6B15B,CAA7B05B,CAFE91B,IAIFw1B,GAAa33B,CAAb23B,EAAkBpY,CAAlBoY,EAAuBp5B,CAAvBo5B,CAJEx1B;AASN;;AAAA,eAASw1B,EAAT,CAAsB33B,CAAtB,EAA2Buf,CAA3B,EAAgChhB,CAAhC,EAAgCA;AAC9B05B,WAAmBj4B,CAAnBi4B,EAAwB1Y,CAAxB0Y,EAA6B15B,CAA7B05B,GACA1B,GAAsBv2B,CAAtBu2B,EAA2Bv2B,EAAIuf,GAA/BgX,EAAoCv2B,EAAItF,EAAJsF,GAASA,EAAItF,EAAJsF,CAAO9E,KAAP8E,CAAa9W,EAAtB8W,GAA2Bk4B,GAA/D3B,EAAoEh4B,CAApEg4B,CADA0B;AAIF;;AAAA,eAASA,EAAT,CAA4Bj4B,CAA5B,EAAiCuf,CAAjC,EAAsChhB,CAAtC,EAAsCA;AAAAA,SAChCnD,GAAW4E,CAAX5E,EAAgB,uBAAhBA,KAA4C4E,EAAItF,EAAJsF,IAAU5E,GAAW4E,EAAItF,EAAfU,EAAmB,uBAAnBA,CADtBmD,MAEhCghB,IAnCN,UAA+Bvf,CAA/B,EAAoCuf,CAApC,EAAyChhB,CAAzC,EAAyCA;AACvC,cAAIlV,IAAM;AACRm2B,oBAAQD,EAAIC,MADJ;AAERqH,oBAAQ,UAASrH,CAAT,EAASA;AACf/0B,mBAAK+0B,MAAL/0B,GAAc,EAAdA;;AACA,mBAAK,IAAIhF,IAAI,CAAb,EAAgBA,IAAI+5B,EAAO13B,MAA3B,EAAmCrC,GAAnC,EACIgF,KAAK+0B,MAAL/0B,CAAYhF,CAAZgF,IAAiB,IAAI2nC,EAAJ,CAAUlwB,GAAQlC,CAARkC,EAAasd,EAAO/5B,CAAP+5B,EAAUzC,MAAvB7a,CAAV,EACQA,GAAQlC,CAARkC,EAAasd,EAAO/5B,CAAP+5B,EAAUK,IAAvB3d,CADR,CAAjBzX;AACgDo1B,aAN9C;AAQRtrB,oBAAQgK,KAAWA,EAAQhK;AARnB,WAAV;AAYA,iBAFAgG,GAAOyF,CAAPzF,EAAY,uBAAZA,EAAqCyF,CAArCzF,EAA0ClR,CAA1CkR,GACIyF,EAAItF,EAAJsF,IAAUzF,GAAOyF,EAAItF,EAAXH,EAAe,uBAAfA,EAAwCyF,EAAItF,EAA5CH,EAAgDlR,CAAhDkR,CADdA,EAEIlR,EAAIm2B,MAAJn2B,IAAck2B,EAAIC,MAAlBn2B,GAAmCipC,GAAmBtyB,EAAItF,EAAvB43B,EAA2BjpC,EAAIm2B,MAA/B8S,EAAuCjpC,EAAIm2B,MAAJn2B,CAAWvB,MAAXuB,GAAoB,CAA3DipC,CAAnCjpC,GACUk2B,CADd;AAsBU4Y,SAnCZ,CAmCkCn4B,CAnClC,EAmCuCuf,CAnCvC,EAmC4ChhB,CAnC5C,CAiCsCA;AAIpC,YAAIwX,IAAOxX,KAAWA,EAAQwX,IAAnBxX,KACRmD,GAAI6d,EAAIJ,OAAJI,GAAcM,IAAlBne,EAAwB1B,EAAIuf,GAAJvf,CAAQmf,OAARnf,GAAkB6f,IAA1Cne,IAAkD,CAAlDA,GAAkD,CAAK,CAAvDA,GAA2D,CADnDnD,CAAX;AAEA65B,WAAkBp4B,CAAlBo4B,EAAuBC,GAAsBr4B,CAAtBq4B,EAA2B9Y,CAA3B8Y,EAAgCtiB,CAAhCsiB,EAAgCtiB,CAAM,CAAtCsiB,CAAvBD,GAEM75B,MAA8B,CAA9BA,KAAWA,EAAQlK,MAAnBkK,IAAmBlK,CAAqB2L,EAAItF,EAA5C6D,IACFqmB,GAAoB5kB,EAAItF,EAAxBkqB,CAHJwT;AAMF;;AAAA,eAASA,EAAT,CAA2Bp4B,CAA3B,EAAgCuf,CAAhC,EAAgCA;AAC1BA,UAAIyS,MAAJzS,CAAWvf,EAAIuf,GAAfA,MAEJvf,EAAIuf,GAAJvf,GAAUuf,CAAVvf,EAEIA,EAAItF,EAAJsF,KACFA,EAAItF,EAAJsF,CAAO9E,KAAP8E,CAAakpB,WAAblpB,GAA2B,CAA3BA,EACAA,EAAItF,EAAJsF,CAAO9E,KAAP8E,CAAaspB,gBAAbtpB,GAAaspB,CAAmB,CADhCtpB,EAEAhF,GAAqBgF,EAAItF,EAAzBM,CAHEgF,CAFJA,EAOAwQ,GAAYxQ,CAAZwQ,EAAiB,gBAAjBA,EAAmCxQ,CAAnCwQ,CATI+O;AAcN;;AAAA,eAAS+Y,EAAT,CAA0Bt4B,CAA1B,EAA0BA;AACxBo4B,WAAkBp4B,CAAlBo4B,EAAuBC,GAAsBr4B,CAAtBq4B,EAA2Br4B,EAAIuf,GAA/B8Y,EAAoC,IAApCA,EAAoC,CAAM,CAA1CA,CAAvBD;AAKF;;AAAA,eAASC,EAAT,CAA+Br4B,CAA/B,EAAoCuf,CAApC,EAAyCxJ,CAAzC,EAA+CwiB,CAA/C,EAA+CA;AAE7C,aADA,IAAInjC,CAAJ,EACS3P,IAAI,CAAb,EAAgBA,IAAI85B,EAAIC,MAAJD,CAAWz3B,MAA/B,EAAuCrC,GAAvC,EAA4C;AAC1C,cAAIgK,IAAQ8vB,EAAIC,MAAJD,CAAW95B,CAAX85B,CAAZ;AAAA,cACI3W,IAAM2W,EAAIC,MAAJD,CAAWz3B,MAAXy3B,IAAqBvf,EAAIuf,GAAJvf,CAAQwf,MAARxf,CAAelY,MAApCy3B,IAA8Cvf,EAAIuf,GAAJvf,CAAQwf,MAARxf,CAAeva,CAAfua,CADxD;AAAA,cAEIw4B,IAAYC,GAAWz4B,CAAXy4B,EAAgBhpC,EAAMstB,MAAtB0b,EAA8B7vB,KAAOA,EAAImU,MAAzC0b,EAAiD1iB,CAAjD0iB,EAAuDF,CAAvDE,CAFhB;AAAA,cAGIC,IAAUD,GAAWz4B,CAAXy4B,EAAgBhpC,EAAMowB,IAAtB4Y,EAA4B7vB,KAAOA,EAAIiX,IAAvC4Y,EAA6C1iB,CAA7C0iB,EAAmDF,CAAnDE,CAHd;AAGiEF,WAC7DnjC,KAAOojC,KAAa/oC,EAAMstB,MAA1B3nB,IAAoCsjC,KAAWjpC,EAAMowB,IADQ0Y,MAE1DnjC,MAAOA,IAAMmqB,EAAIC,MAAJD,CAAWzvB,KAAXyvB,CAAiB,CAAjBA,EAAoB95B,CAApB85B,CAAbnqB,GACLA,EAAI3P,CAAJ2P,IAAS,IAAIg9B,EAAJ,CAAUoG,CAAV,EAAqBE,CAArB,CAHsDH;AAMnE;;AAAA,eAAOnjC,IAAMk9B,GAAmBtyB,EAAItF,EAAvB43B,EAA2Bl9B,CAA3Bk9B,EAAgC/S,EAAIE,SAApC6S,CAANl9B,GAAuDmqB,CAA9D;AAGF;;AAAA,eAASoZ,EAAT,CAAyB34B,CAAzB,EAA8BrL,CAA9B,EAAmCikC,CAAnC,EAA2CviC,CAA3C,EAAgDkiC,CAAhD,EAAgDA;AAC9C,YAAIxuC,IAAOgW,GAAQC,CAARD,EAAapL,EAAI5K,IAAjBgW,CAAX;AACA,YAAIhW,EAAKwe,WAAT,EAAwB,KAAK,IAAI9iB,IAAI,CAAb,EAAgBA,IAAIsE,EAAKwe,WAALxe,CAAiBjC,MAArC,EAAqCA,EAAUrC,CAA/C,EAAkD;AACxE,cAAImlB,IAAK7gB,EAAKwe,WAALxe,CAAiBtE,CAAjBsE,CAAT;AAAA,cAA8BlE,IAAI+kB,EAAG9C,MAArC;AAAA,cAKI+wB,IAAqB,gBAAgBhzC,CAAhB,GAAgBA,CAAMA,EAAEizC,UAAxB,GAAqCjzC,EAAEijB,aALhE;AAAA,cAMIiwB,IAAsB,iBAAiBlzC,CAAjB,GAAiBA,CAAMA,EAAEmzC,WAAzB,GAAuCnzC,EAAEojB,cANnE;;AAQA,eAAgB,QAAX2B,EAAGnU,IAAQ,KAASoiC,IAAoBjuB,EAAGnU,IAAHmU,IAAWjW,EAAIgB,EAAnCkjC,GAAwCjuB,EAAGnU,IAAHmU,GAAUjW,EAAIgB,EAA/D,CAAhB,MACc,QAATiV,EAAGlU,EAAM,KAASqiC,IAAqBnuB,EAAGlU,EAAHkU,IAASjW,EAAIgB,EAAlCojC,GAAuCnuB,EAAGlU,EAAHkU,GAAQjW,EAAIgB,EAA5D,CADd,GACgF;AAC9E,gBAAI4iC,MACFh+B,GAAO1U,CAAP0U,EAAU,mBAAVA,GACI1U,EAAEgxC,iBAFJ0B,CAAJ,EAE2B;AACvB,kBAAKxuC,EAAKwe,WAAV,EACK;AAAA,kBAAG9iB,CAAH;AAAM;AADc;;AAAA;AAI7B;;AAAA,iBAAKI,EAAEozC,MAAP,EAAiB;;AAEjB,gBAAIL,CAAJ,EAAY;AACV,kBAAIM,IAAOrzC,EAAEykB,IAAFzkB,CAAOwQ,IAAM,CAANA,GAAU,CAAVA,GAAU,CAAK,CAAtBxQ,CAAX;AAAA,kBAAqCgb,SAAO,CAA5C;AAGA,mBAFIxK,IAAM,CAANA,GAAU0iC,CAAV1iC,GAA+BwiC,CAEnC,MADIK,IAAOC,GAAQn5B,CAARm5B,EAAaD,CAAbC,EAAaD,CAAO7iC,CAApB8iC,EAAyBD,KAAQA,EAAKnvC,IAALmvC,IAAavkC,EAAI5K,IAAzBmvC,GAAgCnvC,CAAhCmvC,GAAuC,IAAhEC,CACX,GAAID,KAAQA,EAAKnvC,IAALmvC,IAAavkC,EAAI5K,IAAzBmvC,KAAkCr4B,IAAOa,GAAIw3B,CAAJx3B,EAAUk3B,CAAVl3B,CAAzCw3B,MAAgE7iC,IAAM,CAANA,GAAUwK,IAAO,CAAjBxK,GAAqBwK,IAAO,CAA5Fq4B,CAAJ,EACI,OAAOP,GAAgB34B,CAAhB24B,EAAqBO,CAArBP,EAA2BhkC,CAA3BgkC,EAAgCtiC,CAAhCsiC,EAAqCJ,CAArCI,CAAP;AAGN;;AAAA,gBAAIS,IAAMvzC,EAAEykB,IAAFzkB,CAAOwQ,IAAM,CAANA,GAAM,CAAK,CAAXA,GAAe,CAAtBxQ,CAAV;AAGA,oBAFIwQ,IAAM,CAANA,GAAUwiC,CAAVxiC,GAA8B0iC,CAElC,MADIK,IAAMD,GAAQn5B,CAARm5B,EAAaC,CAAbD,EAAkB9iC,CAAlB8iC,EAAuBC,EAAIrvC,IAAJqvC,IAAYzkC,EAAI5K,IAAhBqvC,GAAuBrvC,CAAvBqvC,GAA8B,IAArDD,CACV,GAAOC,IAAMT,GAAgB34B,CAAhB24B,EAAqBS,CAArBT,EAA0BhkC,CAA1BgkC,EAA+BtiC,CAA/BsiC,EAAoCJ,CAApCI,CAANS,GAAsD,IAA7D;AAA6D;AAGjE;AAAA,eAAOzkC,CAAP;AAIF;;AAAA,eAAS8jC,EAAT,CAAoBz4B,CAApB,EAAyBrL,CAAzB,EAA8BikC,CAA9B,EAAsC7iB,CAAtC,EAA4CwiB,CAA5C,EAA4CA;AAC1C,YAAIliC,IAAM0f,KAAQ,CAAlB;AAAA,YACI5e,IAAQwhC,GAAgB34B,CAAhB24B,EAAqBhkC,CAArBgkC,EAA0BC,CAA1BD,EAAkCtiC,CAAlCsiC,EAAuCJ,CAAvCI,KAAuCJ,CAC7CA,CAD6CA,IACjCI,GAAgB34B,CAAhB24B,EAAqBhkC,CAArBgkC,EAA0BC,CAA1BD,EAAkCtiC,CAAlCsiC,EAAkCtiC,CAAK,CAAvCsiC,CADNA,IAERA,GAAgB34B,CAAhB24B,EAAqBhkC,CAArBgkC,EAA0BC,CAA1BD,EAA0BC,CAASviC,CAAnCsiC,EAAwCJ,CAAxCI,CAFQA,IAEgCJ,CACtCA,CADsCA,IAC1BI,GAAgB34B,CAAhB24B,EAAqBhkC,CAArBgkC,EAA0BC,CAA1BD,EAA0BC,CAASviC,CAAnCsiC,EAAmCtiC,CAAK,CAAxCsiC,CAJlB;AAKA,eAAKxhC,MACH6I,EAAIq5B,QAAJr5B,GAAIq5B,CAAW,CAAfr5B,EACOyB,GAAIzB,EAAIC,KAARwB,EAAe,CAAfA,CAFJtK,CAAL;AAOF;;AAAA,eAASgiC,EAAT,CAAiBn5B,CAAjB,EAAsBrL,CAAtB,EAA2B0B,CAA3B,EAAgCtM,CAAhC,EAAgCA;AAC9B,eAAIsM,IAAM,CAANA,IAAqB,KAAV1B,EAAIgB,EAAfU,GACE1B,EAAI5K,IAAJ4K,GAAWqL,EAAIC,KAAftL,GAA+BuN,GAAQlC,CAARkC,EAAaT,GAAI9M,EAAI5K,IAAJ4K,GAAW,CAAf8M,CAAbS,CAA/BvN,GACU,IAFZ0B,GAGOA,IAAM,CAANA,IAAW1B,EAAIgB,EAAJhB,IAAIgB,CAAO5L,KAAQgW,GAAQC,CAARD,EAAapL,EAAI5K,IAAjBgW,CAAfpK,EAAuCiE,IAAvCjE,CAA4C7N,MAA3DuO,GACL1B,EAAI5K,IAAJ4K,GAAWqL,EAAIC,KAAJD,GAAYA,EAAIE,IAAhBF,GAAuB,CAAlCrL,GAA8C8M,GAAI9M,EAAI5K,IAAJ4K,GAAW,CAAf8M,EAAkB,CAAlBA,CAA9C9M,GACU,IAFL0B,GAIF,IAAIoL,EAAJ,CAAQ9M,EAAI5K,IAAZ,EAAkB4K,EAAIgB,EAAJhB,GAAS0B,CAA3B,CAPT;AAWF;;AAAA,eAASijC,EAAT,CAAmB5+B,CAAnB,EAAmBA;AACjBA,UAAGi9B,YAAHj9B,CAAgB+G,GAAI/G,EAAGg5B,SAAHh5B,EAAJ+G,EAAoB,CAApBA,CAAhB/G,EAAwC+G,GAAI/G,EAAG8Q,QAAH9Q,EAAJ+G,CAAxC/G,EAA4DtG,CAA5DsG;AAMF;;AAAA,eAAS6+B,EAAT,CAAsBv5B,CAAtB,EAA2BoI,CAA3B,EAAmCye,CAAnC,EAAmCA;AACjC,YAAIx9B,IAAM;AACRmwC,qBAAU,CADF;AAER/iC,gBAAM2R,EAAO3R,IAFL;AAGRC,cAAI0R,EAAO1R,EAHH;AAIRkD,gBAAMwO,EAAOxO,IAJL;AAKRrF,kBAAQ6T,EAAO7T,MALP;AAMRklC,kBAAQ;AAAc,mBAAOpwC,EAAImwC,QAAJnwC,GAAImwC,CAAW,CAAtB;AAAsB;AANpC,SAAV;AAiBA,eATI3S,MAAUx9B,EAAIw9B,MAAJx9B,GAAa,UAAUoN,CAAV,EAAgBC,CAAhB,EAAoBkD,CAApB,EAA0BrF,CAA1B,EAA0BA;AAC/CkC,gBAAQpN,EAAIoN,IAAJpN,GAAW6Y,GAAQlC,CAARkC,EAAazL,CAAbyL,CAAnBzL,GACAC,MAAMrN,EAAIqN,EAAJrN,GAAS6Y,GAAQlC,CAARkC,EAAaxL,CAAbwL,CAAfxL,CADAD,EAEAmD,MAAQvQ,EAAIuQ,IAAJvQ,GAAWuQ,CAAnBA,CAFAnD,EAEmBmD,KACR5P,CADQ4P,KACnBrF,CADmBqF,KACKvQ,EAAIkL,MAAJlL,GAAakL,CADlBqF,CAFnBnD;AAGqClC,SAJvCsyB,GAMJtsB,GAAOyF,CAAPzF,EAAY,cAAZA,EAA4ByF,CAA5BzF,EAAiClR,CAAjCkR,CANIssB,EAOA7mB,EAAItF,EAAJsF,IAAUzF,GAAOyF,EAAItF,EAAXH,EAAe,cAAfA,EAA+ByF,EAAItF,EAAnCH,EAAuClR,CAAvCkR,CAPVssB,EASAx9B,EAAImwC,QAAJnwC,IACE2W,EAAItF,EAAJsF,KAAUA,EAAItF,EAAJsF,CAAO9E,KAAP8E,CAAakpB,WAAblpB,GAA2B,CAArCA,GACG,IAFL3W,IAIG;AAACoN,gBAAMpN,EAAIoN,IAAX;AAAiBC,cAAIrN,EAAIqN,EAAzB;AAA6BkD,gBAAMvQ,EAAIuQ,IAAvC;AAA6CrF,kBAAQlL,EAAIkL;AAAzD,SAJP;AASF;;AAAA,eAASmlC,EAAT,CAAoB15B,CAApB,EAAyBoI,CAAzB,EAAiCuxB,CAAjC,EAAiCA;AAC/B,YAAI35B,EAAItF,EAAR,EAAY;AACV,eAAKsF,EAAItF,EAAJsF,CAAO9E,KAAZ,EAAqB,OAAOsxB,GAAUxsB,EAAItF,EAAd8xB,EAAkBkN,EAAlBlN,EAA8BxsB,CAA9BwsB,EAAmCpkB,CAAnCokB,EAA2CmN,CAA3CnN,CAAP;AACrB,cAAIxsB,EAAItF,EAAJsF,CAAOd,KAAPc,CAAa45B,aAAjB,EAAkC;AAGpC;;AAAA,cAAIx+B,GAAW4E,CAAX5E,EAAgB,cAAhBA,KAAmC4E,EAAItF,EAAJsF,IAAU5E,GAAW4E,EAAItF,EAAfU,EAAmB,cAAnBA,CAAjD,MACEgN,IAASmxB,GAAav5B,CAAbu5B,EAAkBnxB,CAAlBmxB,EAAkBnxB,CAAQ,CAA1BmxB,CADX;AAOA,cAAIznC,IAAQ6V,OAAqBgyB,CAArBhyB,IAhvHd,UAA8B3H,CAA9B,EAAmCvJ,CAAnC,EAAyCC,CAAzC,EAAyCA;AACvC,gBAAI0b,IAAU,IAAd;AAQA,gBAPApS,EAAIS,IAAJT,CAASvJ,EAAK1M,IAAdiW,EAAoBtJ,EAAG3M,IAAH2M,GAAU,CAA9BsJ,EAAiC,UAAUjW,CAAV,EAAUA;AACzC,kBAAIA,EAAKwe,WAAT,EAAwB,KAAK,IAAI9iB,IAAI,CAAb,EAAgBA,IAAIsE,EAAKwe,WAALxe,CAAiBjC,MAArC,EAAqCA,EAAUrC,CAA/C,EAAkD;AACxE,oBAAIo0C,IAAO9vC,EAAKwe,WAALxe,CAAiBtE,CAAjBsE,EAAoB+d,MAA/B;AAA+BA,iBAC3B+xB,EAAK7W,QADsBlb,IACRsK,MAAsC,CAAtCA,IAAWzqB,EAAQyqB,CAARzqB,EAAiBkyC,CAAjBlyC,CADHmgB,IACoB+xB,CAC9CznB,MAAYA,IAAU,EAAtBA,CAD8CynB,EACnBzsC,IADmBysC,CACdA,CADcA,CADpB/xB;AAEM+xB;AAAAA,aAJzC75B,GAIyC65B,CAGpCznB,CAAL,EAAgB,OAAO,IAAP;;AAEhB,iBADA,IAAI0nB,IAAQ,CAAC;AAACrjC,oBAAMA,CAAP;AAAaC,kBAAIA;AAAjB,aAAD,CAAZ,EACSjR,IAAI,CAAb,EAAgBA,IAAI2sB,EAAQtqB,MAA5B,EAA4BA,EAAUrC,CAAtC,EAEE,KADA,IAAIs0C,IAAK3nB,EAAQ3sB,CAAR2sB,CAAT,EAAqBvsB,IAAIk0C,EAAGzvB,IAAHyvB,CAAQ,CAARA,CAAzB,EACSphC,IAAI,CAAb,EAAgBA,IAAImhC,EAAMhyC,MAA1B,EAA0BA,EAAU6Q,CAApC,EAAuC;AACrC,kBAAInR,IAAIsyC,EAAMnhC,CAANmhC,CAAR;;AACA,oBAAIp4B,GAAIla,EAAEkP,EAANgL,EAAU7b,EAAE4Q,IAAZiL,IAAoB,CAApBA,IAAyBA,GAAIla,EAAEiP,IAANiL,EAAY7b,EAAE6Q,EAAdgL,IAAoB,CAAjD;AACA,oBAAIs4B,IAAW,CAACrhC,CAAD,EAAI,CAAJ,CAAf;AAAA,oBAAuBshC,IAAQv4B,GAAIla,EAAEiP,IAANiL,EAAY7b,EAAE4Q,IAAdiL,CAA/B;AAAA,oBAAoDw4B,IAAMx4B,GAAIla,EAAEkP,EAANgL,EAAU7b,EAAE6Q,EAAZgL,CAA1D;AAAsEhL,iBAClEujC,IAAQ,CAARA,IAAQ,CAAMF,EAAGjxB,aAAT,IAASA,CAAkBmxB,CAD+BvjC,KAElEsjC,EAAS5sC,IAAT4sC,CAAc;AAACvjC,wBAAMjP,EAAEiP,IAAT;AAAeC,sBAAI7Q,EAAE4Q;AAArB,iBAAdujC,CAFkEtjC,EAE/BD,CACnCyjC,IAAM,CAANA,IAAM,CAAMH,EAAG9wB,cAAT,IAASA,CAAmBixB,CADCzjC,KAEnCujC,EAAS5sC,IAAT4sC,CAAc;AAACvjC,wBAAM5Q,EAAE6Q,EAAT;AAAaA,sBAAIlP,EAAEkP;AAAnB,iBAAdsjC,CAJkEtjC,EAKtEojC,EAAMvgC,MAANugC,CAAalnC,KAAbknC,CAAmBA,CAAnBA,EAA0BE,CAA1BF,CALsEpjC,EAMtEiC,KAAKqhC,EAASlyC,MAATkyC,GAAkB,CAN+CtjC;AAM/C;AAG3B;;AAAA,mBAAOojC,CAAP;AAutHmDK,WAhvHrD,CAgvH0En6B,CAhvH1E,EAgvH+EoI,EAAO3R,IAhvHtF,EAgvH4F2R,EAAO1R,EAhvHnG,CAgvHE;;AACA,cAAI5E,CAAJ,EACE,KAAK,IAAIrM,IAAIqM,EAAMhK,MAANgK,GAAe,CAA5B,EAA+BrM,KAAK,CAApC,EAAoC,EAAKA,CAAzC,EACI20C,GAAgBp6B,CAAhBo6B,EAAqB;AAAC3jC,kBAAM3E,EAAMrM,CAANqM,EAAS2E,IAAhB;AAAsBC,gBAAI5E,EAAMrM,CAANqM,EAAS4E,EAAnC;AAAuCkD,kBAAMnU,IAAI,CAAC,EAAD,CAAJA,GAAW2iB,EAAOxO,IAA/D;AAAqErF,oBAAQ6T,EAAO7T;AAApF,WAArB6lC,EAFN,KAIEA,GAAgBp6B,CAAhBo6B,EAAqBhyB,CAArBgyB;AAAqBhyB;AAIzB;;AAAA,eAASgyB,EAAT,CAAyBp6B,CAAzB,EAA8BoI,CAA9B,EAA8BA;AAC5B,YAA0B,KAAtBA,EAAOxO,IAAPwO,CAAYtgB,MAAU,IAAuB,MAAlBsgB,EAAOxO,IAAPwO,CAAY,CAAZA,CAAL,IAA4D,KAA/B1G,GAAI0G,EAAO3R,IAAXiL,EAAiB0G,EAAO1R,EAAxBgL,CAAvD;AACA,cAAIs0B,IAAWjD,GAAsB/yB,CAAtB+yB,EAA2B3qB,CAA3B2qB,CAAf;AACAgD,aAAmB/1B,CAAnB+1B,EAAwB3tB,CAAxB2tB,EAAgCC,CAAhCD,EAA0C/1B,EAAItF,EAAJsF,GAASA,EAAItF,EAAJsF,CAAO9E,KAAP8E,CAAa9W,EAAtB8W,GAA2Bk4B,GAArEnC,GAEAsE,GAAoBr6B,CAApBq6B,EAAyBjyB,CAAzBiyB,EAAiCrE,CAAjCqE,EAA2ClyB,GAAuBnI,CAAvBmI,EAA4BC,CAA5BD,CAA3CkyB,CAFAtE;AAGA,cAAIuE,IAAU,EAAd;AAEAnG,aAAWn0B,CAAXm0B,EAAgB,UAAUn0B,CAAV,EAAeu0B,CAAf,EAAeA;AACxBA,kBAAgD,CAAhDA,IAAc5sC,EAAQ2yC,CAAR3yC,EAAiBqY,EAAIm2B,OAArBxuC,CAAd4sC,KACHgG,GAAWv6B,EAAIm2B,OAAfoE,EAAwBnyB,CAAxBmyB,GACAD,EAAQltC,IAARktC,CAAat6B,EAAIm2B,OAAjBmE,CAFG/F,GAIL8F,GAAoBr6B,CAApBq6B,EAAyBjyB,CAAzBiyB,EAAiC,IAAjCA,EAAuClyB,GAAuBnI,CAAvBmI,EAA4BC,CAA5BD,CAAvCkyB,CAJK9F;AAI8DnsB,WALrE+rB;AAKqE/rB;AAKvE;;AAAA,eAASoyB,EAAT,CAA+Bx6B,CAA/B,EAAoC7H,CAApC,EAA0CsiC,CAA1C,EAA0CA;AACxC,YAAIC,IAAW16B,EAAItF,EAAJsF,IAAUA,EAAItF,EAAJsF,CAAOd,KAAPc,CAAa45B,aAAtC;;AACA,aAAIc,CAAJ,IAAiBD,CAAjB;AAQA,eANA,IAAwBnD,CAAxB,EAAIpB,IAAOl2B,EAAIm2B,OAAf,EAA+BH,IAAWh2B,EAAIuf,GAA9C,EACIxyB,IAAiB,UAARoL,CAAQ,GAAS+9B,EAAKnB,IAAd,GAAqBmB,EAAKlB,MAD/C,EACuD0B,IAAe,UAARv+B,CAAQ,GAAS+9B,EAAKlB,MAAd,GAAuBkB,EAAKnB,IADlG,EAKItvC,IAAI,CACR,EAAOA,IAAIsH,EAAOjF,MAAXrC,KACL6xC,IAAQvqC,EAAOtH,CAAPsH,CAARuqC,EACImD,KAAqBnD,EAAM9X,MAA3Bib,IAAsCnD,EAAMtF,MAANsF,CAAat3B,EAAIuf,GAAjB+X,CAAtCmD,GAA+DnD,EAAM9X,MAFpE/5B,CAAP,EAA0BA,GAA1B,CAA0BA;;AAK1B,cAAIA,KAAKsH,EAAOjF,MAAhB;AAGA,iBAFAouC,EAAKZ,UAALY,GAAkBA,EAAKX,aAALW,GAAqB,IAEvC,IAAS;AAEP,oBADAoB,IAAQvqC,EAAO+oC,GAAP/oC,EACR,EAAUyyB,MAAV,EAOO;AAAA,oBAAIkb,CAAJ,EAEL,YADA3tC,EAAOK,IAAPL,CAAYuqC,CAAZvqC,CACA;AACO;AARP;;AAAA,kBADAupC,GAAuBgB,CAAvBhB,EAA8BI,CAA9BJ,GACImE,MAAuBnD,EAAMtF,MAANsF,CAAat3B,EAAIuf,GAAjB+X,CAA3B,EAEE,YADAK,GAAa33B,CAAb23B,EAAkBL,CAAlBK,EAAyB;AAAClB,4BAAW;AAAZ,eAAzBkB,CACA;AAEF3B,kBAAWsB,CAAXtB;AASJ;;AAAA,gBAAI2E,IAAc,EAAlB;AACArE,eAAuBN,CAAvBM,EAAiCI,CAAjCJ,GACAI,EAAKtpC,IAALspC,CAAU;AAAC5lB,uBAAS6pB,CAAV;AAAuBnF,0BAAYU,EAAKV;AAAxC,aAAVkB,CADAJ,EAEAJ,EAAKV,UAALU,GAAkBoB,EAAM9B,UAAN8B,IAAM9B,EAAgBU,EAAKT,aAF7Ca;;AA+BA,iBA3BA,IAAIsE,IAASx/B,GAAW4E,CAAX5E,EAAgB,cAAhBA,KAAmC4E,EAAItF,EAAJsF,IAAU5E,GAAW4E,EAAItF,EAAfU,EAAmB,cAAnBA,CAA1D,EAEIoJ,IAAO,UAAW/e,CAAX,EAAWA;AACpB,kBAAI2iB,IAASkvB,EAAMxmB,OAANwmB,CAAc7xC,CAAd6xC,CAAb;AAEA,kBADAlvB,EAAO7T,MAAP6T,GAAgBjQ,CAAhBiQ,EACIwyB,MAAWrB,GAAav5B,CAAbu5B,EAAkBnxB,CAAlBmxB,EAAkBnxB,CAAQ,CAA1BmxB,CAAf,EAEE,OADAxsC,EAAOjF,MAAPiF,GAAgB,CAAhBA,EACO,EAAP;AAGF4tC,gBAAYvtC,IAAZutC,CAAiBjF,GAAwB11B,CAAxB01B,EAA6BttB,CAA7BstB,CAAjBiF;AAEA,kBAAI9qC,IAAQpK,IAAIstC,GAAsB/yB,CAAtB+yB,EAA2B3qB,CAA3B2qB,CAAJttC,GAAyCyP,EAAInI,CAAJmI,CAArD;AACAmlC,iBAAoBr6B,CAApBq6B,EAAyBjyB,CAAzBiyB,EAAiCxqC,CAAjCwqC,EAAwCvD,GAAc92B,CAAd82B,EAAmB1uB,CAAnB0uB,CAAxCuD,GAA2DjyB,CACtD3iB,CADsD2iB,IACjDpI,EAAItF,EAD6C0N,IACvCpI,EAAItF,EAAJsF,CAAO0rB,cAAP1rB,CAAsB;AAACvJ,sBAAM2R,EAAO3R,IAAd;AAAoBC,oBAAIm8B,GAAUzqB,CAAVyqB;AAAxB,eAAtB7yB,CADpBq6B;AAEA,kBAAIC,IAAU,EAAd;AAGAnG,iBAAWn0B,CAAXm0B,EAAgB,UAAUn0B,CAAV,EAAeu0B,CAAf,EAAeA;AACxBA,sBAAgD,CAAhDA,IAAc5sC,EAAQ2yC,CAAR3yC,EAAiBqY,EAAIm2B,OAArBxuC,CAAd4sC,KACHgG,GAAWv6B,EAAIm2B,OAAfoE,EAAwBnyB,CAAxBmyB,GACAD,EAAQltC,IAARktC,CAAat6B,EAAIm2B,OAAjBmE,CAFG/F,GAIL8F,GAAoBr6B,CAApBq6B,EAAyBjyB,CAAzBiyB,EAAiC,IAAjCA,EAAuCvD,GAAc92B,CAAd82B,EAAmB1uB,CAAnB0uB,CAAvCuD,CAJK9F;AAIqDnsB,eAL5D+rB;AAK4D/rB,aAvB9D,EA2BSnQ,IAAMq/B,EAAMxmB,OAANwmB,CAAcxvC,MAAdwvC,GAAuB,CAAtC,EAAyCr/B,KAAO,CAAhD,EAAgD,EAAKA,CAArD,EAA0D;AACxD,kBAAI4iC,IAAWr2B,EAAMvM,CAANuM,CAAf;AAEA,kBAAKq2B,CAAL,EAAgB,OAAOA,EAASC,CAAhB;AAAgBA;AAAAA;AAAAA;AAMpC;;AAAA,eAASC,EAAT,CAAkB/6B,CAAlB,EAAuBg7B,CAAvB,EAAuBA;AACrB,YAAgB,KAAZA,CAAY,KAChBh7B,EAAIC,KAAJD,IAAag7B,CAAbh7B,EACAA,EAAIuf,GAAJvf,GAAU,IAAI+xB,EAAJ,CAAchmC,EAAIiU,EAAIuf,GAAJvf,CAAQwf,MAAZzzB,EAAoB,UAAU0D,CAAV,EAAUA;AAAS,iBAAO,IAAI2iC,EAAJ,CACpE3wB,GAAIhS,EAAMstB,MAANttB,CAAa1F,IAAb0F,GAAoBurC,CAAxBv5B,EAAkChS,EAAMstB,MAANttB,CAAakG,EAA/C8L,CADoE,EAEpEA,GAAIhS,EAAMowB,IAANpwB,CAAW1F,IAAX0F,GAAkBurC,CAAtBv5B,EAAgChS,EAAMowB,IAANpwB,CAAWkG,EAA3C8L,CAFoE,CAAP;AAElB9L,SAFrB5J,CAAd,EAGHiU,EAAIuf,GAAJvf,CAAQyf,SAHL,CADVzf,EAKIA,EAAItF,EANQ,CAAhB,EAMY;AACVujB,aAAUje,EAAItF,EAAdujB,EAAkBje,EAAIC,KAAtBge,EAA6Bje,EAAIC,KAAJD,GAAYg7B,CAAzC/c,EAAmD+c,CAAnD/c;;AACA,eAAK,IAAIl4B,IAAIia,EAAItF,EAAJsF,CAAO4F,OAAf,EAAwBlgB,IAAIK,EAAEsgB,QAAnC,EAA6C3gB,IAAIK,EAAEugB,MAAnD,EAA2D5gB,GAA3D,EACIi5B,GAAc3e,EAAItF,EAAlBikB,EAAsBj5B,CAAtBi5B,EAAyB,QAAzBA;AAAyB;AAMjC;;AAAA,eAAS0b,EAAT,CAA6Br6B,CAA7B,EAAkCoI,CAAlC,EAA0C4tB,CAA1C,EAAoDhuB,CAApD,EAAoDA;AAClD,YAAIhI,EAAItF,EAAJsF,IAAItF,CAAOsF,EAAItF,EAAJsF,CAAO9E,KAAtB,EACI,OAAOsxB,GAAUxsB,EAAItF,EAAd8xB,EAAkB6N,EAAlB7N,EAAuCxsB,CAAvCwsB,EAA4CpkB,CAA5CokB,EAAoDwJ,CAApDxJ,EAA8DxkB,CAA9DwkB,CAAP;AAEJ,YAAIpkB,EAAO1R,EAAP0R,CAAUre,IAAVqe,GAAiBpI,EAAIC,KAAzB,EACE86B,GAAS/6B,CAAT+6B,EAAc3yB,EAAOxO,IAAPwO,CAAYtgB,MAAZsgB,GAAqB,CAArBA,IAA0BA,EAAO1R,EAAP0R,CAAUre,IAAVqe,GAAiBA,EAAO3R,IAAP2R,CAAYre,IAAvDqe,CAAd2yB,EADF,KAIA,MAAI3yB,EAAO3R,IAAP2R,CAAYre,IAAZqe,GAAmBpI,EAAIwL,QAAJxL,EAAvB;AAGA,cAAIoI,EAAO3R,IAAP2R,CAAYre,IAAZqe,GAAmBpI,EAAIC,KAA3B,EAAkC;AAChC,gBAAImjB,IAAQhb,EAAOxO,IAAPwO,CAAYtgB,MAAZsgB,GAAqB,CAArBA,IAA0BpI,EAAIC,KAAJD,GAAYoI,EAAO3R,IAAP2R,CAAYre,IAAlDqe,CAAZ;AACA2yB,eAAS/6B,CAAT+6B,EAAc3X,CAAd2X,GACA3yB,IAAS;AAAC3R,oBAAMgL,GAAIzB,EAAIC,KAARwB,EAAe,CAAfA,CAAP;AAA0B/K,kBAAI+K,GAAI2G,EAAO1R,EAAP0R,CAAUre,IAAVqe,GAAiBgb,CAArB3hB,EAA4B2G,EAAO1R,EAAP0R,CAAUzS,EAAtC8L,CAA9B;AACC7H,oBAAM,CAAC1E,EAAIkT,EAAOxO,IAAX1E,CAAD,CADP;AAC2BX,sBAAQ6T,EAAO7T;AAD1C,aADTwmC;AAIF;;AAAA,cAAI54B,IAAOnC,EAAIwL,QAAJxL,EAAX;AACIoI,YAAO1R,EAAP0R,CAAUre,IAAVqe,GAAiBjG,CAAjBiG,KACFA,IAAS;AAAC3R,kBAAM2R,EAAO3R,IAAd;AAAoBC,gBAAI+K,GAAIU,CAAJV,EAAU1B,GAAQC,CAARD,EAAaoC,CAAbpC,EAAmBnG,IAAnBmG,CAAwBjY,MAAlC2Z,CAAxB;AACC7H,kBAAM,CAACwO,EAAOxO,IAAPwO,CAAY,CAAZA,CAAD,CADP;AACyB7T,oBAAQ6T,EAAO7T;AADxC,WADP6T,GAKJA,EAAO6yB,OAAP7yB,GAAiB5H,GAAWR,CAAXQ,EAAgB4H,EAAO3R,IAAvB+J,EAA6B4H,EAAO1R,EAApC8J,CALb4H,EAOC4tB,MAAYA,IAAWjD,GAAsB/yB,CAAtB+yB,EAA2B3qB,CAA3B2qB,CAAvBiD,CAPD5tB,EAQApI,EAAItF,EAAJsF,GAUN,UAAqCtF,CAArC,EAAyC0N,CAAzC,EAAiDJ,CAAjD,EAAiDA;AAC/C,gBAAIhI,IAAMtF,EAAGsF,GAAb;AAAA,gBAAkB4F,IAAUlL,EAAGkL,OAA/B;AAAA,gBAAwCnP,IAAO2R,EAAO3R,IAAtD;AAAA,gBAA4DC,IAAK0R,EAAO1R,EAAxE;AAAA,gBAEIwkC,KAAqB,CAFzB;AAAA,gBAEgCC,IAAkB1kC,EAAK1M,IAFvD;AAGK2Q,cAAG6D,OAAH7D,CAAWmc,YAAXnc,KACHygC,IAAkBr6B,GAAOoK,GAAWnL,GAAQC,CAARD,EAAatJ,EAAK1M,IAAlBgW,CAAXmL,CAAPpK,CAAlBq6B,EACAn7B,EAAIS,IAAJT,CAASm7B,CAATn7B,EAA0BtJ,EAAG3M,IAAH2M,GAAU,CAApCsJ,EAAuC,UAAUjW,CAAV,EAAUA;AAC/C,kBAAIA,KAAQ6b,EAAQqG,OAApB,EAEE,OADAivB,KAAqB,CAArBA,EAAqB,CACd,CAAP;AAAO,aAHXl7B,CAFGtF,GAUDsF,EAAIuf,GAAJvf,CAAQhP,QAARgP,CAAiBoI,EAAO3R,IAAxBuJ,EAA8BoI,EAAO1R,EAArCsJ,IAAqCtJ,CAAO,CAA5CsJ,IACAhF,GAAqBN,CAArBM,CAXCN,EAaL44B,GAAUtzB,CAAVszB,EAAelrB,CAAfkrB,EAAuBtrB,CAAvBsrB,EAA8BjnB,GAAe3R,CAAf2R,CAA9BinB,CAbK54B,EAeAA,EAAG6D,OAAH7D,CAAWmc,YAAXnc,KACHsF,EAAIS,IAAJT,CAASm7B,CAATn7B,EAA0BvJ,EAAK1M,IAAL0M,GAAY2R,EAAOxO,IAAPwO,CAAYtgB,MAAlDkY,EAA0D,UAAUjW,CAAV,EAAUA;AAClE,kBAAIlC,IAAMikB,GAAW/hB,CAAX+hB,CAAV;AACIjkB,kBAAM+d,EAAQsG,aAAdrkB,KACF+d,EAAQqG,OAARrG,GAAkB7b,CAAlB6b,EACAA,EAAQsG,aAARtG,GAAwB/d,CADxB+d,EAEAA,EAAQuG,cAARvG,GAAQuG,CAAiB,CAFzBvG,EAGAs1B,KAAqB,CAJnBrzC;AAImB,aANzBmY,GASIk7B,MAAsBxgC,EAAGQ,KAAHR,CAAS6uB,aAAT7uB,GAAS6uB,CAAgB,CAA/C2R,CAVDxgC,CAfAA,EApjIP,UAAyBsF,CAAzB,EAA8B9Y,CAA9B,EAA8BA;AAE5B,kBADA8Y,EAAI0F,YAAJ1F,GAAmBlL,KAAKC,GAALD,CAASkL,EAAI0F,YAAb5Q,EAA2B5N,CAA3B4N,CAAnBkL,EAA8C9Y,EAC1C8Y,EAAIyF,iBAAJzF,GAAwB9Y,IAAI,EADcA,CAC9C;AAEA,qBADA,IAAIkD,IAAQ4V,EAAIC,KAAhB,EACSlW,IAAO7C,IAAI,CAApB,EAAuB6C,IAAOK,CAA9B,EAAqCL,GAArC,EAA6C;AAC3C,sBAAImc,IAAQnG,GAAQC,CAARD,EAAahW,CAAbgW,EAAmBuF,UAA/B;;AAIA,sBAAIY,QAAYA,aAAiBtC,EAA7BsC,KAA8Cnc,IAAOmc,EAAMzC,SAAb1Z,GAAyB7C,CAAvEgf,CAAJ,EAA+E;AAC7E9b,wBAAQL,IAAO,CAAfK;AACA;AAAA;AAGJ4V;;AAAAA,kBAAIyF,iBAAJzF,GAAwBlL,KAAKC,GAALD,CAASkL,EAAIyF,iBAAb3Q,EAAgC1K,CAAhC0K,CAAxBkL;AAAwD5V;AAkkIxDgxC,aAhlIF,CAglIkBp7B,CAhlIlB,EAglIuBvJ,EAAK1M,IAhlI5B,CAojIO2Q,EA6BL6qB,GAAY7qB,CAAZ6qB,EAAgB,GAAhBA,CA7BK7qB;AA+BL,gBAAIwjB,IAAU9V,EAAOxO,IAAPwO,CAAYtgB,MAAZsgB,IAAsB1R,EAAG3M,IAAH2M,GAAUD,EAAK1M,IAArCqe,IAA6C,CAA3D;AAEIA,cAAOC,IAAPD,GACA6V,GAAUvjB,CAAVujB,CADA7V,GAEK3R,EAAK1M,IAAL0M,IAAaC,EAAG3M,IAAhB0M,IAA8C,KAAtB2R,EAAOxO,IAAPwO,CAAYtgB,MAApC2O,IAAoD28B,GAAkB14B,EAAGsF,GAArBozB,EAA0BhrB,CAA1BgrB,CAApD38B,GAGLwnB,GAAUvjB,CAAVujB,EAAcxnB,EAAK1M,IAAnBk0B,EAAyBvnB,EAAG3M,IAAH2M,GAAU,CAAnCunB,EAAsCC,CAAtCD,CAHKxnB,GACLkoB,GAAcjkB,CAAdikB,EAAkBloB,EAAK1M,IAAvB40B,EAA6B,MAA7BA,CAHAvW;AAOJ,gBAAIizB,IAAiBjgC,GAAWV,CAAXU,EAAe,SAAfA,CAArB;AAAA,gBAAgDkgC,IAAgBlgC,GAAWV,CAAXU,EAAe,QAAfA,CAAhE;;AACA,gBAAIkgC,KAAiBD,CAArB,EAAqC;AACnC,kBAAIhyC,IAAM;AACRoN,sBAAMA,CADE;AACIC,oBAAIA,CADR;AAERkD,sBAAMwO,EAAOxO,IAFL;AAGRqhC,yBAAS7yB,EAAO6yB,OAHR;AAIR1mC,wBAAQ6T,EAAO7T;AAJP,eAAV;AAMI+mC,mBAAiB9qB,GAAY9V,CAAZ8V,EAAgB,QAAhBA,EAA0B9V,CAA1B8V,EAA8BnnB,CAA9BmnB,CAAjB8qB,EACAD,MAAmB3gC,EAAGQ,KAAHR,CAAS0uB,UAAT1uB,KAAwBA,EAAGQ,KAAHR,CAAS0uB,UAAT1uB,GAAsB,EAA9CA,CAAnB2gC,EAAsEjuC,IAAtEiuC,CAA2EhyC,CAA3EgyC,CADAC;AAGN5gC;;AAAAA,cAAGkL,OAAHlL,CAAWuoB,iBAAXvoB,GAA+B,IAA/BA;AAjEc6gC,WAUhB,CAV4Cv7B,EAAItF,EAUhD,EAVoD0N,CAUpD,EAV4DJ,CAU5D,CAVMhI,GACGszB,GAAUtzB,CAAVszB,EAAelrB,CAAfkrB,EAAuBtrB,CAAvBsrB,CATHlrB,EAUJ6vB,GAAmBj4B,CAAnBi4B,EAAwBjC,CAAxBiC,EAAkC7jC,CAAlC6jC,CAVI7vB,EAYApI,EAAIq5B,QAAJr5B,IAAgBy4B,GAAWz4B,CAAXy4B,EAAgBh3B,GAAIzB,EAAI0zB,SAAJ1zB,EAAJyB,EAAqB,CAArBA,CAAhBg3B,CAAhBz4B,KACAA,EAAIq5B,QAAJr5B,GAAIq5B,CAAW,CADfr5B,CAZAoI;AAae;AA+DrB;;AAAA,eAASozB,EAAT,CAAsBx7B,CAAtB,EAA2BjI,CAA3B,EAAiCtB,CAAjC,EAAuCC,CAAvC,EAA2CnC,CAA3C,EAA2CA;AACzC,YAAIknC,CAAJ;AAEK/kC,cAAMA,IAAKD,CAAXC,GACDgL,GAAIhL,CAAJgL,EAAQjL,CAARiL,IAAgB,CAAhBA,KAA2CjL,KAArBglC,IAAS,CAAC/kC,CAAD,EAAKD,CAAL,CAAYA,EAAc,CAAdA,GAAkBC,IAAK+kC,EAAO,CAAPA,CAAlE/5B,CADChL,EAEc,mBAARqB,CAAQ,KAAYA,IAAOiI,EAAI07B,UAAJ17B,CAAejI,CAAfiI,CAAnB,CAFdtJ,EAGLgjC,GAAW15B,CAAX05B,EAAgB;AAACjjC,gBAAMA,CAAP;AAAaC,cAAIA,CAAjB;AAAqBkD,gBAAM7B,CAA3B;AAAiCxD,kBAAQA;AAAzC,SAAhBmlC,CAHKhjC;AAQP;;AAAA,eAASilC,EAAT,CAA6BhnC,CAA7B,EAAkC8B,CAAlC,EAAwCC,CAAxC,EAA4CmK,CAA5C,EAA4CA;AACtCnK,YAAK/B,EAAI5K,IAAT2M,GACF/B,EAAI5K,IAAJ4K,IAAYkM,CADVnK,GAEOD,IAAO9B,EAAI5K,IAAX0M,KACT9B,EAAI5K,IAAJ4K,GAAW8B,CAAX9B,EACAA,EAAIgB,EAAJhB,GAAS,CAFA8B,CAFPC;AAeN;;AAAA,eAASklC,EAAT,CAAyBh0C,CAAzB,EAAgC6O,CAAhC,EAAsCC,CAAtC,EAA0CmK,CAA1C,EAA0CA;AACxC,aAAK,IAAIpb,IAAI,CAAb,EAAgBA,IAAImC,EAAME,MAA1B,EAA0BA,EAAUrC,CAApC,EAAuC;AACrC,cAAIo2C,IAAMj0C,EAAMnC,CAANmC,CAAV;AAAA,cAAoBk0C,KAAK,CAAzB;;AACA,cAAID,EAAIrc,MAAR;AACOqc,cAAIE,MAAJF,KAAIE,CAAUF,IAAMj0C,EAAMnC,CAANmC,IAAWi0C,EAAI1J,QAAJ0J,EAA3BE,EAA+CA,MAA/CA,GAA+CA,CAAS,CAA5DF;;AACL,iBAAK,IAAIljC,IAAI,CAAb,EAAgBA,IAAIkjC,EAAIrc,MAAJqc,CAAW/zC,MAA/B,EAAuC6Q,GAAvC,EACEgjC,GAAoBE,EAAIrc,MAAJqc,CAAWljC,CAAXkjC,EAAc9e,MAAlC4e,EAA0CllC,CAA1CklC,EAAgDjlC,CAAhDilC,EAAoD96B,CAApD86B,GACAA,GAAoBE,EAAIrc,MAAJqc,CAAWljC,CAAXkjC,EAAchc,IAAlC8b,EAAwCllC,CAAxCklC,EAA8CjlC,CAA9CilC,EAAkD96B,CAAlD86B,CADAA;AACkD96B,WAJtD;AAQA,iBAAK,IAAI1H,IAAM,CAAf,EAAkBA,IAAM0iC,EAAI/qB,OAAJ+qB,CAAY/zC,MAApC,EAAoCA,EAAUqR,CAA9C,EAAmD;AACjD,kBAAI/B,IAAMykC,EAAI/qB,OAAJ+qB,CAAY1iC,CAAZ0iC,CAAV;AACA,kBAAInlC,IAAKU,EAAIX,IAAJW,CAASrN,IAAlB,EACEqN,EAAIX,IAAJW,GAAWqK,GAAIrK,EAAIX,IAAJW,CAASrN,IAATqN,GAAgByJ,CAApBY,EAA0BrK,EAAIX,IAAJW,CAASzB,EAAnC8L,CAAXrK,EACAA,EAAIV,EAAJU,GAASqK,GAAIrK,EAAIV,EAAJU,CAAOrN,IAAPqN,GAAcyJ,CAAlBY,EAAwBrK,EAAIV,EAAJU,CAAOzB,EAA/B8L,CADTrK,CADF,KAGO,IAAIX,KAAQW,EAAIV,EAAJU,CAAOrN,IAAnB,EAAyB;AAC9B+xC,qBAAK,CAALA;AACA;AAAA;AAGCA;;AAAAA,kBACHl0C,EAAM2R,MAAN3R,CAAa,CAAbA,EAAgBnC,IAAI,CAApBmC,GACAnC,IAAI,CAFDq2C;AAEC;AAAA;AAKV;;AAAA,eAASvB,EAAT,CAAoBrE,CAApB,EAA0B9tB,CAA1B,EAA0BA;AACxB,YAAI3R,IAAO2R,EAAO3R,IAAP2R,CAAYre,IAAvB;AAAA,YAA6B2M,IAAK0R,EAAO1R,EAAP0R,CAAUre,IAA5C;AAAA,YAAkD8W,IAAOuH,EAAOxO,IAAPwO,CAAYtgB,MAAZsgB,IAAsB1R,IAAKD,CAA3B2R,IAAmC,CAA5F;AACAwzB,WAAgB1F,EAAKnB,IAArB6G,EAA2BnlC,CAA3BmlC,EAAiCllC,CAAjCklC,EAAqC/6B,CAArC+6B,GACAA,GAAgB1F,EAAKlB,MAArB4G,EAA6BnlC,CAA7BmlC,EAAmCllC,CAAnCklC,EAAuC/6B,CAAvC+6B,CADAA;AAOF;;AAAA,eAASI,EAAT,CAAoBh8B,CAApB,EAAyBi8B,CAAzB,EAAiCC,CAAjC,EAA6CjT,CAA7C,EAA6CA;AAC3C,YAAIloB,IAAKk7B,CAAT;AAAA,YAAiBlyC,IAAOkyC,CAAxB;AAGA,eAFqB,mBAAVA,CAAU,GAAYlyC,IAAOgW,GAAQC,CAARD,EAAaiC,GAAShC,CAATgC,EAAci6B,CAAdj6B,CAAbjC,CAAnB,GACdgB,IAAKD,GAAOm7B,CAAPn7B,CADS,EAEX,QAANC,CAAM,GAAe,IAAf,IACNkoB,EAAGl/B,CAAHk/B,EAASloB,CAATkoB,KAAgBjpB,EAAItF,EAApBuuB,IAA0BtK,GAAc3e,EAAItF,EAAlBikB,EAAsB5d,CAAtB4d,EAA0Bud,CAA1Bvd,CAA1BsK,EACGl/B,CAFG,CAAV;AAkBF;;AAAA,eAASoyC,EAAT,CAAmB/7B,CAAnB,EAAmBA;AACjB3V,aAAK2V,KAAL3V,GAAa2V,CAAb3V,EACAA,KAAK6F,MAAL7F,GAAc,IADdA;;AAGA,aADA,IAAImW,IAAS,CAAb,EACSnb,IAAI,CAAb,EAAgBA,IAAI2a,EAAMtY,MAA1B,EAA0BA,EAAUrC,CAApC,EACE2a,EAAM3a,CAAN2a,EAAS9P,MAAT8P,GAAkB3V,IAAlB2V,EACAQ,KAAUR,EAAM3a,CAAN2a,EAASQ,MADnBR;;AAGF3V,aAAKmW,MAALnW,GAAcmW,CAAdnW;AAqCF;;AAAA,eAAS2xC,EAAT,CAAqB/7B,CAArB,EAAqBA;AACnB5V,aAAK4V,QAAL5V,GAAgB4V,CAAhB5V;;AAEA,aADA,IAAIyV,IAAO,CAAX,EAAcU,IAAS,CAAvB,EACSnb,IAAI,CAAb,EAAgBA,IAAI4a,EAASvY,MAA7B,EAA6BA,EAAUrC,CAAvC,EAA0C;AACxC,cAAIkQ,IAAK0K,EAAS5a,CAAT4a,CAAT;AACAH,eAAQvK,EAAG4K,SAAH5K,EAARuK,EAAwBU,KAAUjL,EAAGiL,MAArCV,EACAvK,EAAGrF,MAAHqF,GAAYlL,IADZyV;AAGFzV;;AAAAA,aAAKyV,IAALzV,GAAYyV,CAAZzV,EACAA,KAAKmW,MAALnW,GAAcmW,CADdnW,EAEAA,KAAK6F,MAAL7F,GAAc,IAFdA;AAlgCF2nC;;AAAAA,SAAM9qC,SAAN8qC,CAAgB37B,IAAhB27B,GAAuB;AAAc,eAAOrwB,GAAOtX,KAAKsyB,MAAZhb,EAAoBtX,KAAKo1B,IAAzB9d,CAAP;AAAgC8d,OAArEuS,EACAA,GAAM9qC,SAAN8qC,CAAgB17B,EAAhB07B,GAAqB;AAAc,eAAOtwB,GAAOrX,KAAKsyB,MAAZjb,EAAoBrX,KAAKo1B,IAAzB/d,CAAP;AAAgC+d,OADnEuS,EAEAA,GAAM9qC,SAAN8qC,CAAgB1S,KAAhB0S,GAAwB;AAAc,eAAO3nC,KAAKo1B,IAALp1B,CAAUV,IAAVU,IAAkBA,KAAKsyB,MAALtyB,CAAYV,IAA9BU,IAAsCA,KAAKo1B,IAALp1B,CAAUkL,EAAVlL,IAAgBA,KAAKsyB,MAALtyB,CAAYkL,EAAzE;AAAyEA,OAF/Gy8B,EAw9BA+J,GAAU70C,SAAV60C,GAAsB;AACpB57B,mBAAW;AAAa,iBAAO9V,KAAK2V,KAAL3V,CAAW3C,MAAlB;AAAkBA,SADtB;AAIpBu0C,qBAAa,UAAShjC,CAAT,EAAanS,CAAb,EAAaA;AACxB,eAAK,IAAIzB,IAAI4T,CAAR,EAAYzN,IAAIyN,IAAKnS,CAA1B,EAA6BzB,IAAImG,CAAjC,EAAiCA,EAAKnG,CAAtC,EAAyC;AACvC,gBAAIsE,IAAOU,KAAK2V,KAAL3V,CAAWhF,CAAXgF,CAAX;AACAA,iBAAKmW,MAALnW,IAAeV,EAAK6W,MAApBnW,EACA6hB,GAAYviB,CAAZuiB,CADA7hB,EAEA+lB,GAAYzmB,CAAZymB,EAAkB,QAAlBA,CAFA/lB;AAIFA;;AAAAA,eAAK2V,KAAL3V,CAAW8O,MAAX9O,CAAkB4O,CAAlB5O,EAAsBvD,CAAtBuD;AAAsBvD,SAXJ;AAepBmL,kBAAU,UAAS+N,CAAT,EAASA;AACjBA,YAAMhT,IAANgT,CAAWxN,KAAXwN,CAAiBA,CAAjBA,EAAwB3V,KAAK2V,KAA7BA;AAA6BA,SAhBX;AAqBpBk8B,qBAAa,UAASjjC,CAAT,EAAa+G,CAAb,EAAoBQ,CAApB,EAAoBA;AAC/BnW,eAAKmW,MAALnW,IAAemW,CAAfnW,EACAA,KAAK2V,KAAL3V,GAAaA,KAAK2V,KAAL3V,CAAWqF,KAAXrF,CAAiB,CAAjBA,EAAoB4O,CAApB5O,EAAwBmC,MAAxBnC,CAA+B2V,CAA/B3V,EAAsCmC,MAAtCnC,CAA6CA,KAAK2V,KAAL3V,CAAWqF,KAAXrF,CAAiB4O,CAAjB5O,CAA7CA,CADbA;;AAEA,eAAK,IAAIhF,IAAI,CAAb,EAAgBA,IAAI2a,EAAMtY,MAA1B,EAA0BA,EAAUrC,CAApC,EAAyC2a,EAAM3a,CAAN2a,EAAS9P,MAAT8P,GAAkB3V,IAAlB2V;AAAkB3V,SAxBzC;AA4BpB8xC,eAAO,UAASljC,CAAT,EAAanS,CAAb,EAAgB+hC,CAAhB,EAAgBA;AACrB,eAAK,IAAIr9B,IAAIyN,IAAKnS,CAAlB,EAAqBmS,IAAKzN,CAA1B,EAA0BA,EAAKyN,CAA/B,EACI,IAAI4vB,EAAGx+B,KAAK2V,KAAL3V,CAAW4O,CAAX5O,CAAHw+B,CAAJ,EAA0B,QAAO,CAAP;AAAO;AA9BnB,OAx9BtBmJ,EAugCAgK,GAAY90C,SAAZ80C,GAAwB;AACtB77B,mBAAW;AAAa,iBAAO9V,KAAKyV,IAAZ;AAAYA,SADd;AAGtBm8B,qBAAa,UAAShjC,CAAT,EAAanS,CAAb,EAAaA;AACxBuD,eAAKyV,IAALzV,IAAavD,CAAbuD;;AACA,eAAK,IAAIhF,IAAI,CAAb,EAAgBA,IAAIgF,KAAK4V,QAAL5V,CAAc3C,MAAlC,EAAkCA,EAAUrC,CAA5C,EAA+C;AAC7C,gBAAIwL,IAAQxG,KAAK4V,QAAL5V,CAAchF,CAAdgF,CAAZ;AAAA,gBAA8B6V,IAAKrP,EAAMsP,SAANtP,EAAnC;;AACA,gBAAIoI,IAAKiH,CAAT,EAAa;AACX,kBAAIuuB,IAAK/5B,KAAKC,GAALD,CAAS5N,CAAT4N,EAAYwL,IAAKjH,CAAjBvE,CAAT;AAAA,kBAA+B0nC,IAAYvrC,EAAM2P,MAAjD;AAIA,kBAHA3P,EAAMorC,WAANprC,CAAkBoI,CAAlBpI,EAAsB49B,CAAtB59B,GACAxG,KAAKmW,MAALnW,IAAe+xC,IAAYvrC,EAAM2P,MADjC3P,EAEIqP,KAAMuuB,CAANvuB,KAAY7V,KAAK4V,QAAL5V,CAAc8O,MAAd9O,CAAqBhF,GAArBgF,EAA0B,CAA1BA,GAA8BwG,EAAMX,MAANW,GAAe,IAAzDqP,CAFJrP,EAGiB,MAAZ/J,KAAK2nC,CAAO,CAAjB,EAAsB;AACtBx1B,kBAAK,CAALA;AAAK,aANP,MAOSA,KAAMiH,CAANjH;AAIX;;AAAA,cAAI5O,KAAKyV,IAALzV,GAAYvD,CAAZuD,GAAgB,EAAhBA,KACCA,KAAK4V,QAAL5V,CAAc3C,MAAd2C,GAAuB,CAAvBA,IAAuB,EAAOA,KAAK4V,QAAL5V,CAAc,CAAdA,aAA4B0xC,EAAnC,CADxB1xC,CAAJ,EAC4E;AAC1E,gBAAI2V,IAAQ,EAAZ;AACA3V,iBAAK4H,QAAL5H,CAAc2V,CAAd3V,GACAA,KAAK4V,QAAL5V,GAAgB,CAAC,IAAI0xC,EAAJ,CAAc/7B,CAAd,CAAD,CADhB3V,EAEAA,KAAK4V,QAAL5V,CAAc,CAAdA,EAAiB6F,MAAjB7F,GAA0BA,IAF1BA;AAE0BA;AAAAA,SAvBR;AA2BtB4H,kBAAU,UAAS+N,CAAT,EAASA;AACjB,eAAK,IAAI3a,IAAI,CAAb,EAAgBA,IAAIgF,KAAK4V,QAAL5V,CAAc3C,MAAlC,EAAkCA,EAAUrC,CAA5C,EAAiDgF,KAAK4V,QAAL5V,CAAchF,CAAdgF,EAAiB4H,QAAjB5H,CAA0B2V,CAA1B3V;AAA0B2V,SA5BvD;AA+BtBk8B,qBAAa,UAASjjC,CAAT,EAAa+G,CAAb,EAAoBQ,CAApB,EAAoBA;AAC/BnW,eAAKyV,IAALzV,IAAa2V,EAAMtY,MAAnB2C,EACAA,KAAKmW,MAALnW,IAAemW,CADfnW;;AAEA,eAAK,IAAIhF,IAAI,CAAb,EAAgBA,IAAIgF,KAAK4V,QAAL5V,CAAc3C,MAAlC,EAAkCA,EAAUrC,CAA5C,EAA+C;AAC7C,gBAAIwL,IAAQxG,KAAK4V,QAAL5V,CAAchF,CAAdgF,CAAZ;AAAA,gBAA8B6V,IAAKrP,EAAMsP,SAANtP,EAAnC;;AACA,gBAAIoI,KAAMiH,CAAV,EAAc;AAEZ,kBADArP,EAAMqrC,WAANrrC,CAAkBoI,CAAlBpI,EAAsBmP,CAAtBnP,EAA6B2P,CAA7B3P,GACIA,EAAMmP,KAANnP,IAAeA,EAAMmP,KAANnP,CAAYnJ,MAAZmJ,GAAqB,EAAxC,EAA4C;AAI1C,qBADA,IAAIwrC,IAAYxrC,EAAMmP,KAANnP,CAAYnJ,MAAZmJ,GAAqB,EAArBA,GAA0B,EAA1C,EACS0D,IAAM8nC,CAAf,EAA0B9nC,IAAM1D,EAAMmP,KAANnP,CAAYnJ,MAA5C,GAAqD;AACnD,sBAAI40C,IAAO,IAAIP,EAAJ,CAAclrC,EAAMmP,KAANnP,CAAYnB,KAAZmB,CAAkB0D,CAAlB1D,EAAuB0D,KAAO,EAA9B1D,CAAd,CAAX;AACAA,oBAAM2P,MAAN3P,IAAgByrC,EAAK97B,MAArB3P,EACAxG,KAAK4V,QAAL5V,CAAc8O,MAAd9O,CAAc8O,EAAS9T,CAAvBgF,EAA0B,CAA1BA,EAA6BiyC,CAA7BjyC,CADAwG,EAEAyrC,EAAKpsC,MAALosC,GAAcjyC,IAFdwG;AAIFA;;AAAAA,kBAAMmP,KAANnP,GAAcA,EAAMmP,KAANnP,CAAYnB,KAAZmB,CAAkB,CAAlBA,EAAqBwrC,CAArBxrC,CAAdA,EACAxG,KAAKkyC,UAALlyC,EADAwG;AAGF;;AAAA;AAEFoI;;AAAAA,iBAAMiH,CAANjH;AAAMiH;AAAAA,SArDY;AA0DtBq8B,oBAAY;AACV,gBAAIlyC,KAAK4V,QAAL5V,CAAc3C,MAAd2C,IAAwB,EAA5B;AACA,gBAAImyC,IAAKnyC,IAAT;;AACA,eAAG;AACD,kBACIoyC,IAAU,IAAIT,EAAJ,CADAQ,EAAGv8B,QAAHu8B,CAAYrjC,MAAZqjC,CAAmBA,EAAGv8B,QAAHu8B,CAAY90C,MAAZ80C,GAAqB,CAAxCA,EAA2C,CAA3CA,CACA,CADd;;AAEA,kBAAKA,EAAGtsC,MAAR,EAKM;AACJssC,kBAAG18B,IAAH08B,IAAWC,EAAQ38B,IAAnB08B,EACAA,EAAGh8B,MAAHg8B,IAAaC,EAAQj8B,MADrBg8B;AAEA,oBAAIE,IAAUn1C,EAAQi1C,EAAGtsC,MAAHssC,CAAUv8B,QAAlB1Y,EAA4Bi1C,CAA5Bj1C,CAAd;AACAi1C,kBAAGtsC,MAAHssC,CAAUv8B,QAAVu8B,CAAmBrjC,MAAnBqjC,CAA0BE,IAAU,CAApCF,EAAuC,CAAvCA,EAA0CC,CAA1CD;AAA0CC,eAT5C,MAAgB;AACd,oBAAI/1B,IAAO,IAAIs1B,EAAJ,CAAgBQ,EAAGv8B,QAAnB,CAAX;AACAyG,kBAAKxW,MAALwW,GAAc81B,CAAd91B,EACA81B,EAAGv8B,QAAHu8B,GAAc,CAAC91B,CAAD,EAAO+1B,CAAP,CADd/1B,EAEA81B,IAAK91B,CAFLA;AASF+1B;;AAAAA,gBAAQvsC,MAARusC,GAAiBD,EAAGtsC,MAApBusC;AAAoBvsC,aAdtB,QAeSssC,EAAGv8B,QAAHu8B,CAAY90C,MAAZ80C,GAAqB,EAf9B;;AAgBAA,cAAGtsC,MAAHssC,CAAUD,UAAVC;AAAUD;AAAAA,SA7EU;AAgFtBJ,eAAO,UAASljC,CAAT,EAAanS,CAAb,EAAgB+hC,CAAhB,EAAgBA;AACrB,eAAK,IAAIxjC,IAAI,CAAb,EAAgBA,IAAIgF,KAAK4V,QAAL5V,CAAc3C,MAAlC,EAAkCA,EAAUrC,CAA5C,EAA+C;AAC7C,gBAAIwL,IAAQxG,KAAK4V,QAAL5V,CAAchF,CAAdgF,CAAZ;AAAA,gBAA8B6V,IAAKrP,EAAMsP,SAANtP,EAAnC;;AACA,gBAAIoI,IAAKiH,CAAT,EAAa;AACX,kBAAIy8B,IAAOjoC,KAAKC,GAALD,CAAS5N,CAAT4N,EAAYwL,IAAKjH,CAAjBvE,CAAX;AACA,kBAAI7D,EAAMsrC,KAANtrC,CAAYoI,CAAZpI,EAAgB8rC,CAAhB9rC,EAAsBg4B,CAAtBh4B,CAAJ,EAAiC,QAAO,CAAP;AACjC,kBAAmB,MAAd/J,KAAK61C,CAAS,CAAnB,EAAwB;AACxB1jC,kBAAK,CAALA;AAAK,aAJP,MAKSA,KAAMiH,CAANjH;AAAMiH;AAAAA;AAxFG,OAvgCxB8xB;;AAsmCA,UAAI4K,KAAa,UAASh9B,CAAT,EAAcnW,CAAd,EAAoB0U,CAApB,EAAoBA;AACnC,YAAIA,CAAJ,EAAe,KAAK,IAAI0+B,CAAT,IAAgB1+B,CAAhB,EAA+BA,EAAQhX,cAARgX,CAAuB0+B,CAAvB1+B,MAC1C9T,KAAKwyC,CAALxyC,IAAY8T,EAAQ0+B,CAAR1+B,CAD8BA;AAE9C9T,aAAKuV,GAALvV,GAAWuV,CAAXvV,EACAA,KAAKZ,IAALY,GAAYZ,CADZY;AACYZ,OAJd;;AAyCA,eAASqzC,EAAT,CAAsCxiC,CAAtC,EAA0C3Q,CAA1C,EAAgD8W,CAAhD,EAAgDA;AAC1C+K,WAAa7hB,CAAb6hB,KAAuBlR,EAAGQ,KAAHR,IAAYA,EAAGQ,KAAHR,CAASuf,SAArBvf,IAAmCA,EAAGsF,GAAHtF,CAAOuf,SAAjErO,KACA8Y,GAAehqB,CAAfgqB,EAAmB7jB,CAAnB6jB,CADA9Y;AAnCNoxB;;AAAAA,SAAW11C,SAAX01C,CAAqBpV,KAArBoV,GAA6B;AAC3B,YAAItiC,IAAKjQ,KAAKuV,GAALvV,CAASiQ,EAAlB;AAAA,YAAsB4Y,IAAK7oB,KAAKV,IAALU,CAAU4oB,OAArC;AAAA,YAA8CtpB,IAAOU,KAAKV,IAA1D;AAAA,YAAgEgX,IAAKD,GAAO/W,CAAP+W,CAArE;;AACA,YAAU,QAANC,CAAM,IAASuS,CAAnB;AACA,eAAK,IAAI7tB,IAAI,CAAb,EAAgBA,IAAI6tB,EAAGxrB,MAAvB,EAAuBA,EAAUrC,CAAjC,EAA0C6tB,EAAG7tB,CAAH6tB,KAAS7oB,IAAT6oB,IAAiBA,EAAG/Z,MAAH+Z,CAAU7tB,GAAV6tB,EAAe,CAAfA,CAAjBA;;AACrCA,YAAGxrB,MAAHwrB,KAAavpB,EAAKspB,OAALtpB,GAAe,IAA5BupB;AACL,cAAI1S,IAASqT,GAAaxpB,IAAbwpB,CAAb;AACAtT,aAAiB5W,CAAjB4W,EAAuB7L,KAAKmN,GAALnN,CAAS,CAATA,EAAY/K,EAAK6W,MAAL7W,GAAc6W,CAA1B9L,CAAvB6L,GACIjG,MACF6xB,GAAQ7xB,CAAR6xB,EAAY;AACV2Q,eAA6BxiC,CAA7BwiC,EAAiCnzC,CAAjCmzC,EAAiCnzC,CAAO6W,CAAxCs8B,GACAve,GAAcjkB,CAAdikB,EAAkB5d,CAAlB4d,EAAsB,QAAtBA,CADAue;AACsB,WAFxB3Q,GAIA/b,GAAY9V,CAAZ8V,EAAgB,mBAAhBA,EAAqC9V,CAArC8V,EAAyC/lB,IAAzC+lB,EAA+CzP,CAA/CyP,CALE9V,CADJiG;AAMiDI;AAAAA,OAZnDi8B,EAgBAA,GAAW11C,SAAX01C,CAAqBnR,OAArBmR,GAA+B;AAC3B,YAAIG,IAAS1yC,IAAb;AAAA,YAEE2yC,IAAO3yC,KAAKmW,MAFd;AAAA,YAEsBlG,IAAKjQ,KAAKuV,GAALvV,CAASiQ,EAFpC;AAAA,YAEwC3Q,IAAOU,KAAKV,IAFpD;AAGFU,aAAKmW,MAALnW,GAAc,IAAdA;AACA,YAAIoW,IAAOoT,GAAaxpB,IAAbwpB,IAAqBmpB,CAAhC;AACKv8B,cACA4K,GAAahhB,KAAKuV,GAAlByL,EAAuB1hB,CAAvB0hB,KAAgC9K,GAAiB5W,CAAjB4W,EAAuB5W,EAAK6W,MAAL7W,GAAc8W,CAArCF,CAAhC8K,EACD/Q,KACF6xB,GAAQ7xB,CAAR6xB,EAAY;AACV7xB,YAAGQ,KAAHR,CAAS2b,WAAT3b,GAAS2b,CAAc,CAAvB3b,EACAwiC,GAA6BxiC,CAA7BwiC,EAAiCnzC,CAAjCmzC,EAAuCr8B,CAAvCq8B,CADAxiC,EAEA8V,GAAY9V,CAAZ8V,EAAgB,mBAAhBA,EAAqC9V,CAArC8V,EAAyC2sB,CAAzC3sB,EAAiD1P,GAAO/W,CAAP+W,CAAjD0P,CAFA9V;AAEwD3Q,SAH1DwiC,CAHG1rB;AAMuD9W,OA5B9DizC,EAgCA3hC,GAAW2hC,EAAX3hC,CAhCA2hC;;AA2EA,UAAIK,KAAe,CAAnB;AAAA,UAEIC,KAAa,UAASt9B,CAAT,EAAc7H,CAAd,EAAcA;AAC7B1N,aAAK2V,KAAL3V,GAAa,EAAbA,EACAA,KAAK0N,IAAL1N,GAAY0N,CADZ1N,EAEAA,KAAKuV,GAALvV,GAAWuV,CAFXvV,EAGAA,KAAKvB,EAALuB,GAAKvB,EAAOm0C,EAHZ5yC;AAGY4yC,OANd;;AAwHA,eAASE,EAAT,CAAkBv9B,CAAlB,EAAuBvJ,CAAvB,EAA6BC,CAA7B,EAAiC6H,CAAjC,EAA0CpG,CAA1C,EAA0CA;AAIxC,YAAIoG,KAAWA,EAAQm2B,MAAvB,EAAiC,OA2FnC,UAAwB10B,CAAxB,EAA6BvJ,CAA7B,EAAmCC,CAAnC,EAAuC6H,CAAvC,EAAgDpG,CAAhD,EAAgDA;AAAAA,WAC9CoG,IAAU1L,EAAQ0L,CAAR1L,CADoCsF,EAEtCu8B,MAFsCv8B,GAEtCu8B,CAAS,CAF6Bv8B;AAG9C,cAAIia,IAAU,CAACmrB,GAASv9B,CAATu9B,EAAc9mC,CAAd8mC,EAAoB7mC,CAApB6mC,EAAwBh/B,CAAxBg/B,EAAiCplC,CAAjColC,CAAD,CAAd;AAAA,cAAwDpe,IAAU/M,EAAQ,CAARA,CAAlE;AAAA,cACIlD,IAAS3Q,EAAQmN,UADrB;AASA,iBAPAyoB,GAAWn0B,CAAXm0B,EAAgB,UAAUn0B,CAAV,EAAUA;AACpBkP,kBAAU3Q,EAAQmN,UAARnN,GAAqB2Q,EAAOsuB,SAAPtuB,CAAOsuB,CAAU,CAAjBtuB,CAA/BA,GACJkD,EAAQhlB,IAARglB,CAAamrB,GAASv9B,CAATu9B,EAAcr7B,GAAQlC,CAARkC,EAAazL,CAAbyL,CAAdq7B,EAAkCr7B,GAAQlC,CAARkC,EAAaxL,CAAbwL,CAAlCq7B,EAAoDh/B,CAApDg/B,EAA6DplC,CAA7DolC,CAAbnrB,CADIlD;;AAEJ,iBAAK,IAAIzpB,IAAI,CAAb,EAAgBA,IAAIua,EAAIw0B,MAAJx0B,CAAWlY,MAA/B,EAA+BA,EAAUrC,CAAzC,EACI,IAAIua,EAAIw0B,MAAJx0B,CAAWva,CAAXua,EAAcy9B,QAAlB,EAA8B;;AAClCte,gBAAUjqB,EAAIkd,CAAJld,CAAViqB;AAAc/M,WALhB+hB,GAOO,IAAIuJ,EAAJ,CAAqBtrB,CAArB,EAA8B+M,CAA9B,CAAP;AAvGwCwe,SA2F1C,CA3FyD39B,CA2FzD,EA3F8DvJ,CA2F9D,EA3FoEC,CA2FpE,EA3FwE6H,CA2FxE,EA3FiFpG,CA2FjF,CA3FmC;AAEjC,YAAI6H,EAAItF,EAAJsF,IAAItF,CAAOsF,EAAItF,EAAJsF,CAAO9E,KAAtB,EAA+B,OAAOsxB,GAAUxsB,EAAItF,EAAd8xB,EAAkB+Q,EAAlB/Q,EAA4BxsB,CAA5BwsB,EAAiC/1B,CAAjC+1B,EAAuC91B,CAAvC81B,EAA2CjuB,CAA3CiuB,EAAoDr0B,CAApDq0B,CAAP;AAE/B,YAAI1kB,IAAS,IAAIw1B,EAAJ,CAAet9B,CAAf,EAAoB7H,CAApB,CAAb;AAAA,YAAwC0I,IAAOa,GAAIjL,CAAJiL,EAAUhL,CAAVgL,CAA/C;AAGA,YAFInD,KAAW1L,EAAQ0L,CAAR1L,EAAiBiV,CAAjBjV,EAAiBiV,CAAQ,CAAzBjV,CAAX0L,EAEAsC,IAAO,CAAPA,IAAoB,KAARA,CAAQ,IAARA,CAAuC,CAAvCA,KAAaiH,EAAO8B,cAApC,EACI,OAAO9B,CAAP;;AAQJ,YAPIA,EAAO81B,YAAP91B,KAEFA,EAAO+C,SAAP/C,GAAO+C,CAAY,CAAnB/C,EACAA,EAAO4D,UAAP5D,GAAoBhX,EAAK,MAALA,EAAa,CAACgX,EAAO81B,YAAR,CAAb9sC,EAAoC,mBAApCA,CADpBgX,EAEKvJ,EAAQgV,iBAARhV,IAA6BuJ,EAAO4D,UAAP5D,CAAkB/W,YAAlB+W,CAA+B,kBAA/BA,EAAmD,MAAnDA,CAFlCA,EAGIvJ,EAAQwK,UAARxK,KAAsBuJ,EAAO4D,UAAP5D,CAAkBiB,UAAlBjB,GAAkBiB,CAAa,CAArDxK,CALFuJ,GAOAA,EAAO+C,SAAX,EAAsB;AACpB,cAAII,GAA0BjL,CAA1BiL,EAA+BxU,EAAK1M,IAApCkhB,EAA0CxU,CAA1CwU,EAAgDvU,CAAhDuU,EAAoDnD,CAApDmD,KACAxU,EAAK1M,IAAL0M,IAAaC,EAAG3M,IAAhB0M,IAAwBwU,GAA0BjL,CAA1BiL,EAA+BvU,EAAG3M,IAAlCkhB,EAAwCxU,CAAxCwU,EAA8CvU,CAA9CuU,EAAkDnD,CAAlDmD,CAD5B,EAEI,MAAM,IAAI1gB,KAAJ,CAAU,kEAAV,CAAN;AAjiJNqd,gBAAoB,CAApBA;AAqiJIE;;AAAAA,UAAO+1B,YAAP/1B,IACAiuB,GAAmB/1B,CAAnB+1B,EAAwB;AAACt/B,gBAAMA,CAAP;AAAaC,cAAIA,CAAjB;AAAqBnC,kBAAQ;AAA7B,SAAxBwhC,EAAkE/1B,EAAIuf,GAAtEwW,EAA2EmC,GAA3EnC,CADAjuB;AAGJ,YAAsCyhB,CAAtC;AAAA,YAAIuU,IAAUrnC,EAAK1M,IAAnB;AAAA,YAAyB2Q,IAAKsF,EAAItF,EAAlC;;AA0BA,YAzBAsF,EAAIS,IAAJT,CAAS89B,CAAT99B,EAAkBtJ,EAAG3M,IAAH2M,GAAU,CAA5BsJ,EAA+B,UAAUjW,CAAV,EAAUA;AACnC2Q,eAAMoN,EAAO+C,SAAbnQ,IAAamQ,CAAcnQ,EAAG6D,OAAH7D,CAAWmc,YAAtCnc,IAAsDwQ,GAAWnhB,CAAXmhB,KAAoBxQ,EAAGkL,OAAHlL,CAAWuR,OAArFvR,KACA6uB,KAAgB,CADhB7uB,GAEAoN,EAAO+C,SAAP/C,IAAoBg2B,KAAWrnC,EAAK1M,IAApC+d,IAA4CnH,GAAiB5W,CAAjB4W,EAAuB,CAAvBA,CAF5CjG,EAhhJR,UAAuB3Q,CAAvB,EAA6Bke,CAA7B,EAA6BA;AAC3Ble,cAAKwe,WAALxe,GAAmBA,EAAKwe,WAALxe,GAAmBA,EAAKwe,WAALxe,CAAiB6C,MAAjB7C,CAAwB,CAACke,CAAD,CAAxBle,CAAnBA,GAAqD,CAACke,CAAD,CAAxEle,EACAke,EAAKH,MAALG,CAAY+B,UAAZ/B,CAAuBle,CAAvBke,CADAle;AAkhJEg0C,WAnhJJ,CAmhJkBh0C,CAnhJlB,EAmhJwB,IAAI8d,EAAJ,CAAeC,CAAf,EACeg2B,KAAWrnC,EAAK1M,IAAhB+zC,GAAuBrnC,EAAKd,EAA5BmoC,GAAiC,IADhD,EAEeA,KAAWpnC,EAAG3M,IAAd+zC,GAAqBpnC,EAAGf,EAAxBmoC,GAA6B,IAF5C,CAnhJxB,CAghJQpjC,EAK4D,EAC9DojC,CANEpjC;AAMFojC,SAPJ99B,GAUI8H,EAAO+C,SAAP/C,IAAoB9H,EAAIS,IAAJT,CAASvJ,EAAK1M,IAAdiW,EAAoBtJ,EAAG3M,IAAH2M,GAAU,CAA9BsJ,EAAiC,UAAUjW,CAAV,EAAUA;AAC7D0hB,aAAazL,CAAbyL,EAAkB1hB,CAAlB0hB,KAA2B9K,GAAiB5W,CAAjB4W,EAAuB,CAAvBA,CAA3B8K;AAAkD,SADhCzL,CAVxBA,EAcI8H,EAAOk2B,YAAPl2B,IAAuBhO,GAAGgO,CAAHhO,EAAW,mBAAXA,EAAgC;AAAc,iBAAOgO,EAAO8f,KAAP9f,EAAP;AAAc8f,SAA5D9tB,CAd3BkG,EAgBI8H,EAAOkb,QAAPlb,KA7jJJH,MAAmB,CAAnBA,EAAmB,CA+jJb3H,EAAIm2B,OAAJn2B,CAAY+0B,IAAZ/0B,CAAiBlY,MAAjBkY,IAA2BA,EAAIm2B,OAAJn2B,CAAYg1B,MAAZh1B,CAAmBlY,MA/jJjC,KAgkJbkY,EAAIi+B,YAAJj+B,EAHF8H,CAhBJ9H,EAqBI8H,EAAO+C,SAAP/C,KACFA,EAAO5e,EAAP4e,GAAO5e,EAAOm0C,EAAdv1B,EACAA,EAAOmxB,MAAPnxB,GAAOmxB,CAAS,CAFdnxB,CArBJ9H,EAyBItF,CAAJ,EAAQ;AAGN,cADI6uB,MAAiB7uB,EAAGQ,KAAHR,CAAS6uB,aAAT7uB,GAAS6uB,CAAgB,CAA1CA,GACAzhB,EAAO+C,SAAX,EACIoT,GAAUvjB,CAAVujB,EAAcxnB,EAAK1M,IAAnBk0B,EAAyBvnB,EAAG3M,IAAH2M,GAAU,CAAnCunB,EADJ,KAEK,IAAInW,EAAOlY,SAAPkY,IAAoBA,EAAOgG,UAA3BhG,IAAyCA,EAAOiG,QAAhDjG,IAA4DA,EAAOkG,GAAnElG,IACAA,EAAOmG,UADPnG,IACqBA,EAAO+F,KADhC,EAED,KAAK,IAAIpoB,IAAIgR,EAAK1M,IAAlB,EAAwBtE,KAAKiR,EAAG3M,IAAhC,EAAsCtE,GAAtC,EAA6Ck5B,GAAcjkB,CAAdikB,EAAkBl5B,CAAlBk5B,EAAqB,MAArBA;AAC7C7W,YAAOmxB,MAAPnxB,IAAiBwwB,GAAiB59B,EAAGsF,GAApBs4B,CAAjBxwB,EACJ0I,GAAY9V,CAAZ8V,EAAgB,aAAhBA,EAA+B9V,CAA/B8V,EAAmC1I,CAAnC0I,CADI1I;AAGN;;AAAA,eAAOA,CAAP;AAjLFw1B;;AAAAA,SAAWh2C,SAAXg2C,CAAqB1V,KAArB0V,GAA6B;AAC3B,aAAI7yC,KAAKosC,iBAAT;AACA,cAAIn8B,IAAKjQ,KAAKuV,GAALvV,CAASiQ,EAAlB;AAAA,cAAsBwjC,IAASxjC,MAAOA,EAAGQ,KAAzC;;AAEA,cADIgjC,KAAUlV,GAAetuB,CAAfsuB,CAAVkV,EACA9iC,GAAW3Q,IAAX2Q,EAAiB,OAAjBA,CAAJ,EAA+B;AAC7B,gBAAIjE,IAAQ1M,KAAK6f,IAAL7f,EAAZ;AACI0M,iBAASqZ,GAAY/lB,IAAZ+lB,EAAkB,OAAlBA,EAA2BrZ,EAAMV,IAAjC+Z,EAAuCrZ,EAAMT,EAA7C8Z,CAATrZ;AAGN;;AAAA,eADA,IAAIpC,IAAM,IAAV,EAAgBkN,IAAM,IAAtB,EACSxc,IAAI,CAAb,EAAgBA,IAAIgF,KAAK2V,KAAL3V,CAAW3C,MAA/B,EAA+BA,EAAUrC,CAAzC,EAA4C;AAC1C,gBAAIsE,IAAOU,KAAK2V,KAAL3V,CAAWhF,CAAXgF,CAAX;AAAA,gBACIwd,IAAOF,GAAiBhe,EAAKwe,WAAtBR,EAAmCtd,IAAnCsd,CADX;AAEIrN,kBAAOjQ,KAAKogB,SAAZnQ,GAAyBikB,GAAcjkB,CAAdikB,EAAkB7d,GAAO/W,CAAP+W,CAAlB6d,EAAgC,MAAhCA,CAAzBjkB,GACKA,MACQ,QAAXuN,EAAKvR,EAAM,KAAQuL,IAAMnB,GAAO/W,CAAP+W,CAAd,GACE,QAAbmH,EAAKxR,IAAQ,KAAQ1B,IAAM+L,GAAO/W,CAAP+W,CAAd,CAFVpG,CADLA,EAKJ3Q,EAAKwe,WAALxe,GAAmBme,GAAiBne,EAAKwe,WAAtBL,EAAmCD,CAAnCC,CALfxN,EAMa,QAAbuN,EAAKxR,IAAQ,IAAQhM,KAAKogB,SAAb,IAAaA,CAAcY,GAAahhB,KAAKuV,GAAlByL,EAAuB1hB,CAAvB0hB,CAA3B,IAA2D/Q,CAA3D,IACbiG,GAAiB5W,CAAjB4W,EAAuBmc,GAAWpiB,EAAGkL,OAAdkX,CAAvBnc,CAPAjG;AASN;;AAAA,cAAIA,KAAMjQ,KAAKogB,SAAXnQ,IAAWmQ,CAAcnQ,EAAG6D,OAAH7D,CAAWmc,YAAxC,EAAwD,KAAK,IAAI5e,IAAM,CAAf,EAAkBA,IAAMxN,KAAK2V,KAAL3V,CAAW3C,MAAnC,EAAmCA,EAAUmQ,CAA7C,EAAkD;AACxG,gBAAIkmC,IAASjzB,GAAWzgB,KAAK2V,KAAL3V,CAAWwN,CAAXxN,CAAXygB,CAAb;AAAA,gBAA0CrjB,IAAMikB,GAAWqyB,CAAXryB,CAAhD;AACIjkB,gBAAM6S,EAAGkL,OAAHlL,CAAWwR,aAAjBrkB,KACF6S,EAAGkL,OAAHlL,CAAWuR,OAAXvR,GAAqByjC,CAArBzjC,EACAA,EAAGkL,OAAHlL,CAAWwR,aAAXxR,GAA2B7S,CAD3B6S,EAEAA,EAAGkL,OAAHlL,CAAWyR,cAAXzR,GAAWyR,CAAiB,CAH1BtkB;AAOK;AAAA,kBAAPkN,CAAO,IAAQ2F,CAAR,IAAcjQ,KAAKogB,SAAnB,IAAgCoT,GAAUvjB,CAAVujB,EAAclpB,CAAdkpB,EAAmBhc,IAAM,CAAzBgc,CAAhC,EACXxzB,KAAK2V,KAAL3V,CAAW3C,MAAX2C,GAAoB,CADT,EAEXA,KAAKosC,iBAALpsC,GAAKosC,CAAoB,CAFd,EAGPpsC,KAAKwuC,MAALxuC,IAAeA,KAAKuV,GAALvV,CAAS4uC,QAAxB5uC,KACFA,KAAKuV,GAALvV,CAAS4uC,QAAT5uC,GAAS4uC,CAAW,CAApB5uC,EACIiQ,KAAM49B,GAAiB59B,EAAGsF,GAApBs4B,CAFR7tC,CAHO,EAOPiQ,KAAM8V,GAAY9V,CAAZ8V,EAAgB,eAAhBA,EAAiC9V,CAAjC8V,EAAqC/lB,IAArC+lB,EAA2Czb,CAA3Cyb,EAAgDvO,CAAhDuO,CAPC,EAQP0tB,KAAUxU,GAAahvB,CAAbgvB,CARH,EASPj/B,KAAK6F,MAAL7F,IAAeA,KAAK6F,MAAL7F,CAAYm9B,KAAZn9B,EATR;AASoBm9B;AAAAA,OAvCjC0V,EA+CAA,GAAWh2C,SAAXg2C,CAAqBhzB,IAArBgzB,GAA4B,UAAUvc,CAAV,EAAgBlV,CAAhB,EAAgBA;AAE1C,YAAIpV,CAAJ,EAAUC,CAAV;AADY,gBAARqqB,CAAQ,IAAqB,cAAbt2B,KAAK0N,IAAb,KAAmC4oB,IAAO,CAA1C;;AAEZ,aAAK,IAAIt7B,IAAI,CAAb,EAAgBA,IAAIgF,KAAK2V,KAAL3V,CAAW3C,MAA/B,EAA+BA,EAAUrC,CAAzC,EAA4C;AAC1C,cAAIsE,IAAOU,KAAK2V,KAAL3V,CAAWhF,CAAXgF,CAAX;AAAA,cACIwd,IAAOF,GAAiBhe,EAAKwe,WAAtBR,EAAmCtd,IAAnCsd,CADX;AAEA,cAAiB,QAAbE,EAAKxR,IAAQ,KACfA,IAAOgL,GAAIoK,IAAU9hB,CAAV8hB,GAAiB/K,GAAO/W,CAAP+W,CAArBW,EAAmCwG,EAAKxR,IAAxCgL,CAAPhL,EAA+CA,CAClC,CADkCA,IAC3CsqB,CAFW,CAAjB,EAEoB,OAAOtqB,CAAP;AAEpB,cAAe,QAAXwR,EAAKvR,EAAM,KACbA,IAAK+K,GAAIoK,IAAU9hB,CAAV8hB,GAAiB/K,GAAO/W,CAAP+W,CAArBW,EAAmCwG,EAAKvR,EAAxC+K,CAAL/K,EACY,KAARqqB,CAFS,CAAf,EAEmB,OAAOrqB,CAAP;AAGrB;;AAAA,eAAOD,KAAQ;AAACA,gBAAMA,CAAP;AAAaC,cAAIA;AAAjB,SAAf;AAAgCA,OA9DlC4mC,EAmEAA,GAAWh2C,SAAXg2C,CAAqBzR,OAArByR,GAA+B;AAC3B,YAAIH,IAAS1yC,IAAb;AAAA,YAEEkK,IAAMlK,KAAK6f,IAAL7f,CAAK6f,CAAM,CAAX7f,EAAW,CAAG,CAAdA,CAFR;AAAA,YAE6BykB,IAASzkB,IAFtC;AAAA,YAE4CiQ,IAAKjQ,KAAKuV,GAALvV,CAASiQ,EAF1D;AAGG/F,aAAQ+F,CAAR/F,IACL43B,GAAQ7xB,CAAR6xB,EAAY;AACV,cAAIxiC,IAAO4K,EAAI5K,IAAf;AAAA,cAAqBshB,IAAQvK,GAAOnM,EAAI5K,IAAX+W,CAA7B;AAAA,cACIuP,IAAO6F,GAAgBxb,CAAhBwb,EAAoB7K,CAApB6K,CADX;;AAOA,cALI7F,MACF8I,GAA6B9I,CAA7B8I,GACAze,EAAGQ,KAAHR,CAAS4uB,gBAAT5uB,GAA4BA,EAAGQ,KAAHR,CAAS2b,WAAT3b,GAAS2b,CAAc,CAFjDhG,GAIJ3V,EAAGQ,KAAHR,CAAS6uB,aAAT7uB,GAAS6uB,CAAgB,CAJrBlZ,EAIqB,CACpB5E,GAAayD,EAAOlP,GAApByL,EAAyB1hB,CAAzB0hB,CADoB,IAC+B,QAAjByD,EAAOtO,MAA9C,EAA8D;AAC5D,gBAAI47B,IAAYttB,EAAOtO,MAAvB;AACAsO,cAAOtO,MAAPsO,GAAgB,IAAhBA;AACA,gBAAIkvB,IAAUnqB,GAAa/E,CAAb+E,IAAuBuoB,CAArC;AACI4B,iBACAz9B,GAAiB5W,CAAjB4W,EAAuB5W,EAAK6W,MAAL7W,GAAcq0C,CAArCz9B,CADAy9B;AAGN5tB;;AAAAA,aAAY9V,CAAZ8V,EAAgB,eAAhBA,EAAiC9V,CAAjC8V,EAAqC2sB,CAArC3sB;AAAqC2sB,SAfvC5Q,CADK53B;AAgBkCwoC,OAvFzCG,EA2FAA,GAAWh2C,SAAXg2C,CAAqBtzB,UAArBszB,GAAkC,UAAUvzC,CAAV,EAAUA;AAC1C,aAAKU,KAAK2V,KAAL3V,CAAW3C,MAAhB,IAA0B2C,KAAKuV,GAALvV,CAASiQ,EAAnC,EAAuC;AACrC,cAAIuuB,IAAKx+B,KAAKuV,GAALvV,CAASiQ,EAATjQ,CAAYyQ,KAArB;AACK+tB,YAAGkD,kBAAHlD,IAAGkD,CAA+D,CAA/DA,IAAsBxkC,EAAQshC,EAAGkD,kBAAXxkC,EAA+B8C,IAA/B9C,CAAzBshC,IAAwDx+B,CACxDw+B,EAAGoD,oBAAHpD,KAA4BA,EAAGoD,oBAAHpD,GAA0B,EAAtDA,CADwDx+B,EACG2C,IADH3C,CACQA,IADRA,CAAxDw+B;AAGPx+B;;AAAAA,aAAK2V,KAAL3V,CAAW2C,IAAX3C,CAAgBV,CAAhBU;AAAgBV,OAjGlBuzC,EAoGAA,GAAWh2C,SAAXg2C,CAAqBxzB,UAArBwzB,GAAkC,UAAUvzC,CAAV,EAAUA;AAE1C,YADAU,KAAK2V,KAAL3V,CAAW8O,MAAX9O,CAAkB9C,EAAQ8C,KAAK2V,KAAbzY,EAAoBoC,CAApBpC,CAAlB8C,EAA6C,CAA7CA,GAA6C,CACxCA,KAAK2V,KAAL3V,CAAW3C,MAD6B,IACnB2C,KAAKuV,GAALvV,CAASiQ,EAAnC,EAAuC;AACrC,cAAIuuB,IAAKx+B,KAAKuV,GAALvV,CAASiQ,EAATjQ,CAAYyQ,KAArB;AAAqBA,WACnB+tB,EAAGkD,kBAAHlD,KAA0BA,EAAGkD,kBAAHlD,GAAwB,EAAlDA,CADmB/tB,EACoC9N,IADpC8N,CACyCzQ,IADzCyQ;AACyCzQ;AAAAA,OAxGlE6yC,EA2GAjiC,GAAWiiC,EAAXjiC,CA3GAiiC;;AAyLA,UAAII,KAAmB,UAAStrB,CAAT,EAAkB+M,CAAlB,EAAkBA;AACvC10B,aAAK2nB,OAAL3nB,GAAe2nB,CAAf3nB,EACAA,KAAK00B,OAAL10B,GAAe00B,CADf10B;;AAEA,aAAK,IAAIhF,IAAI,CAAb,EAAgBA,IAAI2sB,EAAQtqB,MAA5B,EAA4BA,EAAUrC,CAAtC,EACI2sB,EAAQ3sB,CAAR2sB,EAAW9hB,MAAX8hB,GAAoB3nB,IAApB2nB;AAAoB3nB,OAJ1B;;AAmCA,eAAS4zC,EAAT,CAA2Br+B,CAA3B,EAA2BA;AACzB,eAAOA,EAAIs+B,SAAJt+B,CAAcyB,GAAIzB,EAAIC,KAARwB,EAAe,CAAfA,CAAdzB,EAAiCA,EAAIkC,OAAJlC,CAAYyB,GAAIzB,EAAIwL,QAAJxL,EAAJyB,CAAZzB,CAAjCA,EAAmE,UAAUna,CAAV,EAAUA;AAAK,iBAAOA,EAAEyK,MAAT;AAASA,SAA3F0P,CAAP;AAeF;;AAAA,eAASu+B,EAAT,CAA6BnsB,CAA7B,EAA6BA;AAa3B,aAZA,IAAI5N,IAAO,UAAW/e,CAAX,EAAWA;AACpB,cAAIqiB,IAASsK,EAAQ3sB,CAAR2sB,CAAb;AAAA,cAAyBoiB,IAAS,CAAC1sB,EAAOqX,OAAPrX,CAAe9H,GAAhB,CAAlC;AACAm0B,aAAWrsB,EAAOqX,OAAPrX,CAAe9H,GAA1Bm0B,EAA+B,UAAUpuC,CAAV,EAAUA;AAAK,mBAAOyuC,EAAOpnC,IAAPonC,CAAYzuC,CAAZyuC,CAAP;AAAmBzuC,WAAjEouC;;AACA,eAAK,IAAIx7B,IAAI,CAAb,EAAgBA,IAAImP,EAAOsK,OAAPtK,CAAehgB,MAAnC,EAA2C6Q,GAA3C,EAAgD;AAC9C,gBAAI6lC,IAAY12B,EAAOsK,OAAPtK,CAAenP,CAAfmP,CAAhB;AAA+BnP,aACQ,CADRA,IAC3BhR,EAAQ6sC,CAAR7sC,EAAgB62C,EAAUx+B,GAA1BrY,CAD2BgR,KAE7B6lC,EAAUluC,MAAVkuC,GAAmB,IAAnBA,EACA12B,EAAOsK,OAAPtK,CAAevO,MAAfuO,CAAsBnP,GAAtBmP,EAA2B,CAA3BA,CAH6BnP;AAGF;AAAA,SAPjC,EAYSlT,IAAI,CAAb,EAAgBA,IAAI2sB,EAAQtqB,MAA5B,EAAoCrC,GAApC,EAAyC+e,EAAM/e,CAAN+e;AAzD3Ck5B;;AAAAA,SAAiBp2C,SAAjBo2C,CAA2B9V,KAA3B8V,GAAmC;AACjC,aAAIjzC,KAAKosC,iBAAT;AACApsC,eAAKosC,iBAALpsC,GAAKosC,CAAoB,CAAzBpsC;;AACA,eAAK,IAAIhF,IAAI,CAAb,EAAgBA,IAAIgF,KAAK2nB,OAAL3nB,CAAa3C,MAAjC,EAAiCA,EAAUrC,CAA3C,EACIgF,KAAK2nB,OAAL3nB,CAAahF,CAAbgF,EAAgBm9B,KAAhBn9B;;AACJ+lB,aAAY/lB,IAAZ+lB,EAAkB,OAAlBA;AAAkB;AAAA,OALpBktB,EAQAA,GAAiBp2C,SAAjBo2C,CAA2BpzB,IAA3BozB,GAAkC,UAAU3c,CAAV,EAAgBlV,CAAhB,EAAgBA;AAChD,eAAOphB,KAAK00B,OAAL10B,CAAa6f,IAAb7f,CAAkBs2B,CAAlBt2B,EAAwBohB,CAAxBphB,CAAP;AAA+BohB,OATjC6xB,EAWAriC,GAAWqiC,EAAXriC,CAXAqiC;;AA4DA,UAAIe,KAAY,CAAhB;AAAA,UACIC,KAAM,UAAS9kC,CAAT,EAAehT,CAAf,EAAqB8sC,CAArB,EAAgCiL,CAAhC,EAAyC9mC,CAAzC,EAAyCA;AACjD,cAAMpN,gBAAgBi0C,EAAtB,GAA8B,OAAO,IAAIA,EAAJ,CAAQ9kC,CAAR,EAAchT,CAAd,EAAoB8sC,CAApB,EAA+BiL,CAA/B,EAAwC9mC,CAAxC,CAAP;AACb,gBAAb67B,CAAa,KAAQA,IAAY,CAApB,GAEjB0I,GAAYx2C,IAAZw2C,CAAiB3xC,IAAjB2xC,EAAuB,CAAC,IAAID,EAAJ,CAAc,CAAC,IAAI/vB,EAAJ,CAAS,EAAT,EAAa,IAAb,CAAD,CAAd,CAAD,CAAvBgwB,CAFiB,EAGjB3xC,KAAKwV,KAALxV,GAAaipC,CAHI,EAIjBjpC,KAAKwvB,SAALxvB,GAAiBA,KAAKovB,UAALpvB,GAAkB,CAJlB,EAKjBA,KAAK4uC,QAAL5uC,GAAK4uC,CAAW,CALC,EAMjB5uC,KAAKm0C,eAALn0C,GAAuB,CANN,EAOjBA,KAAKib,YAALjb,GAAoBA,KAAKgb,iBAALhb,GAAyBipC,CAP5B;AAQjB,YAAItpC,IAAQqX,GAAIiyB,CAAJjyB,EAAe,CAAfA,CAAZ;AACAhX,aAAK80B,GAAL90B,GAAWmoC,GAAgBxoC,CAAhBwoC,CAAXnoC,EACAA,KAAK0rC,OAAL1rC,GAAe,IAAIoqC,EAAJ,CAAY,IAAZ,CADfpqC,EAEAA,KAAKvB,EAALuB,GAAKvB,EAAOu1C,EAFZh0C,EAGAA,KAAKyoC,UAALzoC,GAAkB7D,CAHlB6D,EAIAA,KAAKk0C,OAALl0C,GAAek0C,CAJfl0C,EAKAA,KAAKoN,SAALpN,GAA+B,SAAboN,CAAa,GAAS,KAAT,GAAiB,KALhDpN,EAMAA,KAAK/C,MAAL+C,GAAK/C,CAAS,CANd+C,EAQmB,mBAARmP,CAAQ,KAAYA,IAAOnP,KAAKixC,UAALjxC,CAAgBmP,CAAhBnP,CAAnB,CARnBA,EASA6oC,GAAU7oC,IAAV6oC,EAAgB;AAAC78B,gBAAMrM,CAAP;AAAcsM,cAAItM,CAAlB;AAAyBwP,gBAAMA;AAA/B,SAAhB05B,CATA7oC,EAUAktC,GAAaltC,IAAbktC,EAAmB/E,GAAgBxoC,CAAhBwoC,CAAnB+E,EAA2CvjC,CAA3CujC,CAVAltC;AAU2C2J,OAtB7C;;AAyBAsqC,SAAIp3C,SAAJo3C,GAAgBppC,EAAU8mC,GAAY90C,SAAtBgO,EAAiC;AAC/C9K,qBAAak0C,EADkC;AAM/Cj+B,cAAM,UAAShK,CAAT,EAAeC,CAAf,EAAmBuyB,CAAnB,EAAmBA;AACnBA,cAAMx+B,KAAK8xC,KAAL9xC,CAAWgM,IAAOhM,KAAKwV,KAAvBxV,EAA8BiM,IAAKD,CAAnChM,EAAyCw+B,CAAzCx+B,CAANw+B,GACGx+B,KAAK8xC,KAAL9xC,CAAWA,KAAKwV,KAAhBxV,EAAuBA,KAAKwV,KAALxV,GAAaA,KAAKyV,IAAzCzV,EAA+CgM,CAA/ChM,CADHw+B;AACkDxyB,SART;AAY/Cq9B,gBAAQ,UAASz6B,CAAT,EAAa+G,CAAb,EAAaA;AAEnB,eADA,IAAIQ,IAAS,CAAb,EACSnb,IAAI,CAAb,EAAgBA,IAAI2a,EAAMtY,MAA1B,EAA0BA,EAAUrC,CAApC,EAAyCmb,KAAUR,EAAM3a,CAAN2a,EAASQ,MAAnBA;;AACzCnW,eAAK6xC,WAAL7xC,CAAiB4O,IAAK5O,KAAKwV,KAA3BxV,EAAkC2V,CAAlC3V,EAAyCmW,CAAzCnW;AAAyCmW,SAfI;AAiB/CmzB,gBAAQ,UAAS16B,CAAT,EAAanS,CAAb,EAAaA;AAAKuD,eAAK4xC,WAAL5xC,CAAiB4O,IAAK5O,KAAKwV,KAA3BxV,EAAkCvD,CAAlCuD;AAAkCvD,SAjBb;AAsB/C23C,kBAAU,UAASF,CAAT,EAASA;AACjB,cAAIv+B,IAAQM,GAASjW,IAATiW,EAAejW,KAAKwV,KAApBS,EAA2BjW,KAAKwV,KAALxV,GAAaA,KAAKyV,IAA7CQ,CAAZ;AACA,kBAAgB,CAAhB,KAAIi+B,CAAJ,GAAgCv+B,CAAhC,GACOA,EAAMnT,IAANmT,CAAWu+B,KAAWl0C,KAAKq0C,aAALr0C,EAAtB2V,CADP;AACkC0+B,SAzBW;AA2B/CC,kBAAUrS,GAAY,UAAS30B,CAAT,EAASA;AAC7B,cAAIqf,IAAM3V,GAAIhX,KAAKwV,KAATwB,EAAgB,CAAhBA,CAAV;AAAA,cAA8BU,IAAO1X,KAAKwV,KAALxV,GAAaA,KAAKyV,IAAlBzV,GAAyB,CAA9D;AACAivC,aAAWjvC,IAAXivC,EAAiB;AAACjjC,kBAAM2gB,CAAP;AAAY1gB,gBAAI+K,GAAIU,CAAJV,EAAU1B,GAAQtV,IAARsV,EAAcoC,CAAdpC,EAAoBnG,IAApBmG,CAAyBjY,MAAnC2Z,CAAhB;AACC7H,kBAAMnP,KAAKixC,UAALjxC,CAAgBsN,CAAhBtN,CADP;AAC8B8J,oBAAQ,UADtC;AACkD8T,mBAAM;AADxD,WAAjBqxB,EACyE,CAAO,CADhFA,GAEIjvC,KAAKiQ,EAALjQ,IAAWw6B,GAAex6B,KAAKiQ,EAApBuqB,EAAwB,CAAxBA,EAA2B,CAA3BA,CAFfyU,EAGA/B,GAAaltC,IAAbktC,EAAmB/E,GAAgBxb,CAAhBwb,CAAnB+E,EAAyCvjC,CAAzCujC,CAHA+B;AAGyCtlC,SALjCs4B,CA3BqC;AAkC/C8O,sBAAc,UAASzjC,CAAT,EAAetB,CAAf,EAAqBC,CAArB,EAAyBnC,CAAzB,EAAyBA;AAGrCinC,aAAa/wC,IAAb+wC,EAAmBzjC,CAAnByjC,EAFA/kC,IAAOyL,GAAQzX,IAARyX,EAAczL,CAAdyL,CAEPs5B,EADA9kC,IAAKA,IAAKwL,GAAQzX,IAARyX,EAAcxL,CAAdwL,CAALxL,GAAyBD,CAC9B+kC,EAAmCjnC,CAAnCinC;AAAmCjnC,SArCU;AAuC/CyqC,kBAAU,UAASvoC,CAAT,EAAeC,CAAf,EAAmBioC,CAAnB,EAAmBA;AAC3B,cAAIv+B,IAAQI,GAAW/V,IAAX+V,EAAiB0B,GAAQzX,IAARyX,EAAczL,CAAdyL,CAAjB1B,EAAsC0B,GAAQzX,IAARyX,EAAcxL,CAAdwL,CAAtC1B,CAAZ;AACA,kBAAgB,CAAhB,KAAIm+B,CAAJ,GAAgCv+B,CAAhC,GACOA,EAAMnT,IAANmT,CAAWu+B,KAAWl0C,KAAKq0C,aAALr0C,EAAtB2V,CADP;AACkC0+B,SA1CW;AA6C/C/+B,iBAAS,UAAShW,CAAT,EAASA;AAAO,cAAIrE,IAAI+E,KAAKw0C,aAALx0C,CAAmBV,CAAnBU,CAAR;AAAkC,iBAAO/E,KAAKA,EAAEkU,IAAd;AAAcA,SA7C1B;AA+C/CqlC,uBAAe,UAASl1C,CAAT,EAASA;AAAO,cAAIqX,GAAO3W,IAAP2W,EAAarX,CAAbqX,CAAJ,EAA0B,OAAOrB,GAAQtV,IAARsV,EAAchW,CAAdgW,CAAP;AAAqBhW,SA/C/B;AAgD/Cm1C,uBAAe,UAASn1C,CAAT,EAASA;AAAO,iBAAO+W,GAAO/W,CAAP+W,CAAP;AAAc/W,SAhDE;AAkD/Co1C,kCAA0B,UAASp1C,CAAT,EAASA;AAEjC,iBADmB,mBAARA,CAAQ,KAAYA,IAAOgW,GAAQtV,IAARsV,EAAchW,CAAdgW,CAAnB,GACZmL,GAAWnhB,CAAXmhB,CAAP;AAAkBnhB,SApD2B;AAuD/Cq1C,mBAAW;AAAY,iBAAO30C,KAAKyV,IAAZ;AAAYA,SAvDY;AAwD/CwzB,mBAAW;AAAY,iBAAOjpC,KAAKwV,KAAZ;AAAYA,SAxDY;AAyD/CuL,kBAAU;AAAY,iBAAO/gB,KAAKwV,KAALxV,GAAaA,KAAKyV,IAAlBzV,GAAyB,CAAhC;AAAgC,SAzDP;AA2D/CyX,iBAAS,UAASvN,CAAT,EAASA;AAAM,iBAAOuN,GAAQzX,IAARyX,EAAcvN,CAAduN,CAAP;AAAqBvN,SA3DE;AA6D/CkwB,mBAAW,UAASz6B,CAAT,EAASA;AAClB,cAAIqF,IAAQhF,KAAK80B,GAAL90B,CAAS00B,OAAT10B,EAAZ;AAKA,iBAJa,QAATL,CAAS,IAAiB,UAATA,CAAR,GAAiCqF,EAAMowB,IAAvC,GACK,YAATz1B,CAAS,GAAkBqF,EAAMstB,MAAxB,GACA,SAAT3yB,CAAS,IAAkB,QAATA,CAAT,IAASA,CAA2B,CAA3BA,KAAiBA,CAA1B,GAAmDqF,EAAMiH,EAANjH,EAAnD,GACLA,EAAMgH,IAANhH,EACb;AADmBgH,SAlE0B;AAqE/C4oC,wBAAgB;AAAa,iBAAO50C,KAAK80B,GAAL90B,CAAS+0B,MAAhB;AAAgBA,SArEE;AAsE/C6S,2BAAmB;AAAY,iBAAO5nC,KAAK80B,GAAL90B,CAAS4nC,iBAAT5nC,EAAP;AAAgB4nC,SAtEA;AAwE/CiN,mBAAW5S,GAAY,UAAS3iC,CAAT,EAAe4L,CAAf,EAAmB4I,CAAnB,EAAmBA;AACxCw5B,aAAmBttC,IAAnBstC,EAAyB71B,GAAQzX,IAARyX,EAA6B,mBAARnY,CAAQ,GAAW0X,GAAI1X,CAAJ0X,EAAU9L,KAAM,CAAhB8L,CAAX,GAAgC1X,CAA7DmY,CAAzB61B,EAA6F,IAA7FA,EAAmGx5B,CAAnGw5B;AAAmGx5B,SAD1FmuB,CAxEoC;AA2E/CiL,sBAAcjL,GAAY,UAAS3P,CAAT,EAAiB8C,CAAjB,EAAuBthB,CAAvB,EAAuBA;AAC/Cw5B,aAAmBttC,IAAnBstC,EAAyB71B,GAAQzX,IAARyX,EAAc6a,CAAd7a,CAAzB61B,EAAgD71B,GAAQzX,IAARyX,EAAc2d,KAAQ9C,CAAtB7a,CAAhD61B,EAA+Ex5B,CAA/Ew5B;AAA+Ex5B,SADnEmuB,CA3EiC;AA8E/CgL,yBAAiBhL,GAAY,UAAS7M,CAAT,EAAe1E,CAAf,EAAsB5c,CAAtB,EAAsBA;AACjDm5B,aAAgBjtC,IAAhBitC,EAAsBx1B,GAAQzX,IAARyX,EAAc2d,CAAd3d,CAAtBw1B,EAA2Cvc,KAASjZ,GAAQzX,IAARyX,EAAciZ,CAAdjZ,CAApDw1B,EAA0En5B,CAA1Em5B;AAA0En5B,SAD3DmuB,CA9E8B;AAiF/CkL,0BAAkBlL,GAAY,UAASmL,CAAT,EAAgBt5B,CAAhB,EAAgBA;AAC5Cq5B,aAAiBntC,IAAjBmtC,EAAuBt1B,GAAa7X,IAAb6X,EAAmBu1B,CAAnBv1B,CAAvBs1B,EAAkDr5B,CAAlDq5B;AAAkDr5B,SADlCmuB,CAjF6B;AAoF/C6S,4BAAoB7S,GAAY,UAASh6B,CAAT,EAAY6L,CAAZ,EAAYA;AAE1Cq5B,aAAiBntC,IAAjBmtC,EAAuBt1B,GAAa7X,IAAb6X,EADXvW,EAAItB,KAAK80B,GAAL90B,CAAS+0B,MAAbzzB,EAAqB2G,CAArB3G,CACWuW,CAAvBs1B,EAAkDr5B,CAAlDq5B;AAAkDr5B,SAFhCmuB,CApF2B;AAwF/C8S,uBAAe9S,GAAY,UAASlN,CAAT,EAAiBL,CAAjB,EAA0B5gB,CAA1B,EAA0BA;AACnD,cAAKihB,EAAO13B,MAAZ;AAEA,iBADA,IAAIsN,IAAM,EAAV,EACS3P,IAAI,CAAb,EAAgBA,IAAI+5B,EAAO13B,MAA3B,EAAmCrC,GAAnC,EACI2P,EAAI3P,CAAJ2P,IAAS,IAAIg9B,EAAJ,CAAUlwB,GAAQzX,IAARyX,EAAcsd,EAAO/5B,CAAP+5B,EAAUzC,MAAxB7a,CAAV,EACQA,GAAQzX,IAARyX,EAAcsd,EAAO/5B,CAAP+5B,EAAUK,IAAxB3d,CADR,CAAT9M;;AAEW,oBAAX+pB,CAAW,KAAQA,IAAUrqB,KAAKC,GAALD,CAAS0qB,EAAO13B,MAAP03B,GAAgB,CAAzB1qB,EAA4BrK,KAAK80B,GAAL90B,CAASg1B,SAArC3qB,CAAlB,GACf6iC,GAAaltC,IAAbktC,EAAmBrF,GAAmB7nC,KAAKiQ,EAAxB43B,EAA4Bl9B,CAA5Bk9B,EAAiCnT,CAAjCmT,CAAnBqF,EAA8Dp5B,CAA9Do5B,CADe;AAC+Cp5B;AAAAA,SAPjDmuB,CAxFgC;AAiG/C+S,sBAAc/S,GAAY,UAAS3P,CAAT,EAAiB8C,CAAjB,EAAuBthB,CAAvB,EAAuBA;AAC/C,cAAIihB,IAAS/0B,KAAK80B,GAAL90B,CAAS+0B,MAAT/0B,CAAgBqF,KAAhBrF,CAAsB,CAAtBA,CAAb;AACA+0B,YAAOpyB,IAAPoyB,CAAY,IAAI4S,EAAJ,CAAUlwB,GAAQzX,IAARyX,EAAc6a,CAAd7a,CAAV,EAAiCA,GAAQzX,IAARyX,EAAc2d,KAAQ9C,CAAtB7a,CAAjC,CAAZsd,GACAmY,GAAaltC,IAAbktC,EAAmBrF,GAAmB7nC,KAAKiQ,EAAxB43B,EAA4B9S,CAA5B8S,EAAoC9S,EAAO13B,MAAP03B,GAAgB,CAApD8S,CAAnBqF,EAA2Ep5B,CAA3Eo5B,CADAnY;AAC2EjhB,SAH/DmuB,CAjGiC;AAuG/CnvB,sBAAc,UAASohC,CAAT,EAASA;AAErB,eADA,IAA8Bv+B,CAA9B,EAAIof,IAAS/0B,KAAK80B,GAAL90B,CAAS+0B,MAAtB,EACS/5B,IAAI,CAAb,EAAgBA,IAAI+5B,EAAO13B,MAA3B,EAAmCrC,GAAnC,EAAwC;AACtC,gBAAI85B,IAAM/e,GAAW/V,IAAX+V,EAAiBgf,EAAO/5B,CAAP+5B,EAAU/oB,IAAV+oB,EAAjBhf,EAAmCgf,EAAO/5B,CAAP+5B,EAAU9oB,EAAV8oB,EAAnChf,CAAV;AACAJ,gBAAQA,IAAQA,EAAMxT,MAANwT,CAAamf,CAAbnf,CAARA,GAA4Bmf,CAApCnf;AAEF;;AAAA,kBAAgB,CAAhB,KAAIu+B,CAAJ,GAAgCv+B,CAAhC,GACcA,EAAMnT,IAANmT,CAAWu+B,KAAWl0C,KAAKq0C,aAALr0C,EAAtB2V,CADd;AACyC0+B,SA9GI;AAgH/CY,uBAAe,UAASf,CAAT,EAASA;AAEtB,eADA,IAAI7E,IAAQ,EAAZ,EAAgBta,IAAS/0B,KAAK80B,GAAL90B,CAAS+0B,MAAlC,EACS/5B,IAAI,CAAb,EAAgBA,IAAI+5B,EAAO13B,MAA3B,EAAmCrC,GAAnC,EAAwC;AACtC,gBAAI85B,IAAM/e,GAAW/V,IAAX+V,EAAiBgf,EAAO/5B,CAAP+5B,EAAU/oB,IAAV+oB,EAAjBhf,EAAmCgf,EAAO/5B,CAAP+5B,EAAU9oB,EAAV8oB,EAAnChf,CAAV;AAAuD9J,aACvC,CADuCA,KACnDioC,CADmDjoC,KAC9B6oB,IAAMA,EAAItyB,IAAJsyB,CAASof,KAAWl0C,KAAKq0C,aAALr0C,EAApB80B,CADwB7oB,GAEvDojC,EAAMr0C,CAANq0C,IAAWva,CAF4C7oB;AAIzD;;AAAA,iBAAOojC,CAAP;AAAOA,SAvHsC;AAyH/C6F,0BAAkB,UAAS5nC,CAAT,EAAe1F,CAAf,EAAyBkC,CAAzB,EAAyBA;AAEzC,eADA,IAAIqrC,IAAM,EAAV,EACSn6C,IAAI,CAAb,EAAgBA,IAAIgF,KAAK80B,GAAL90B,CAAS+0B,MAAT/0B,CAAgB3C,MAApC,EAA4CrC,GAA5C,EACIm6C,EAAIn6C,CAAJm6C,IAAS7nC,CAAT6nC;;AACJn1C,eAAKo1C,iBAALp1C,CAAuBm1C,CAAvBn1C,EAA4B4H,CAA5B5H,EAAsC8J,KAAU,QAAhD9J;AAAgD,SA7HH;AA+H/Co1C,2BAAmBnT,GAAY,UAAS30B,CAAT,EAAe1F,CAAf,EAAyBkC,CAAzB,EAAyBA;AAEtD,eADA,IAAIuc,IAAU,EAAd,EAAkByO,IAAM90B,KAAK80B,GAA7B,EACS95B,IAAI,CAAb,EAAgBA,IAAI85B,EAAIC,MAAJD,CAAWz3B,MAA/B,EAAuCrC,GAAvC,EAA4C;AAC1C,gBAAIgK,IAAQ8vB,EAAIC,MAAJD,CAAW95B,CAAX85B,CAAZ;AACAzO,cAAQrrB,CAARqrB,IAAa;AAACra,oBAAMhH,EAAMgH,IAANhH,EAAP;AAAqBiH,kBAAIjH,EAAMiH,EAANjH,EAAzB;AAAqCmK,oBAAMnP,KAAKixC,UAALjxC,CAAgBsN,EAAKtS,CAALsS,CAAhBtN,CAA3C;AAAqE8J,sBAAQA;AAA7E,aAAbuc;AAGF;;AAAA,eADA,IAAIgvB,IAASztC,KAAwB,SAAZA,CAAZA,IAzhDjB,UAA4B2N,CAA5B,EAAiC8Q,CAAjC,EAA0CivB,CAA1C,EAA0CA;AAGxC,iBAFA,IAAI3qC,IAAM,EAAV,EACI4qC,IAAUv+B,GAAIzB,EAAIC,KAARwB,EAAe,CAAfA,CADd,EACiCw+B,IAAUD,CAD3C,EAESv6C,IAAI,CAAb,EAAgBA,IAAIqrB,EAAQhpB,MAA5B,EAAoCrC,GAApC,EAAyC;AACvC,kBAAI2iB,IAAS0I,EAAQrrB,CAARqrB,CAAb;AAAA,kBACIra,IAAOu8B,GAAU5qB,EAAO3R,IAAjBu8B,EAAuBgN,CAAvBhN,EAAgCiN,CAAhCjN,CADX;AAAA,kBAEIt8B,IAAKs8B,GAAUH,GAAUzqB,CAAVyqB,CAAVG,EAA6BgN,CAA7BhN,EAAsCiN,CAAtCjN,CAFT;;AAKA,kBAFAgN,IAAU53B,EAAO1R,EAAjBspC,EACAC,IAAUvpC,CADVspC,EAEY,YAARD,CAAJ,EAAsB;AACpB,oBAAItwC,IAAQuQ,EAAIuf,GAAJvf,CAAQwf,MAARxf,CAAeva,CAAfua,CAAZ;AAAA,oBAA+B2yB,IAAMjxB,GAAIjS,EAAMowB,IAAVne,EAAgBjS,EAAMstB,MAAtBrb,IAAgC,CAArE;AACAtM,kBAAI3P,CAAJ2P,IAAS,IAAIg9B,EAAJ,CAAUO,IAAMj8B,CAANi8B,GAAWl8B,CAArB,EAA2Bk8B,IAAMl8B,CAANk8B,GAAaj8B,CAAxC,CAATtB;AAAiDsB,eAFnD,MAIEtB,EAAI3P,CAAJ2P,IAAS,IAAIg9B,EAAJ,CAAU37B,CAAV,EAAgBA,CAAhB,CAATrB;AAGJ;;AAAA,mBAAO,IAAI28B,EAAJ,CAAc38B,CAAd,EAAmB4K,EAAIuf,GAAJvf,CAAQyf,SAA3B,CAAP;AAygDgDygB,WAzhDlD,CAyhDqEz1C,IAzhDrE,EAyhD2EqmB,CAzhD3E,EAyhDoFze,CAzhDpF,CAyhDI,EACS4F,IAAM6Y,EAAQhpB,MAARgpB,GAAiB,CAAhC,EAAmC7Y,KAAO,CAA1C,EAA6CA,GAA7C,EACIyhC,GAAWjvC,IAAXivC,EAAiB5oB,EAAQ7Y,CAAR6Y,CAAjB4oB;;AACAoG,cAAU9H,GAA2BvtC,IAA3ButC,EAAiC8H,CAAjC9H,CAAV8H,GACKr1C,KAAKiQ,EAALjQ,IAAWm6B,GAAoBn6B,KAAKiQ,EAAzBkqB,CADhBkb;AACyCplC,SAV5BgyB,CA/H4B;AA2I/CyT,cAAMzT,GAAY;AAAY8N,aAAsB/vC,IAAtB+vC,EAA4B,MAA5BA;AAA4B,SAApD9N,CA3IyC;AA4I/C0T,cAAM1T,GAAY;AAAY8N,aAAsB/vC,IAAtB+vC,EAA4B,MAA5BA;AAA4B,SAApD9N,CA5IyC;AA6I/C2T,uBAAe3T,GAAY;AAAY8N,aAAsB/vC,IAAtB+vC,EAA4B,MAA5BA,EAA4B,CAAQ,CAApCA;AAAoC,SAA5D9N,CA7IgC;AA8I/C4T,uBAAe5T,GAAY;AAAY8N,aAAsB/vC,IAAtB+vC,EAA4B,MAA5BA,EAA4B,CAAQ,CAApCA;AAAoC,SAA5D9N,CA9IgC;AAgJ/C6T,sBAAc,UAASnhC,CAAT,EAASA;AAAM3U,eAAK/C,MAAL+C,GAAc2U,CAAd3U;AAAc2U,SAhJI;AAiJ/CohC,sBAAc;AAAY,iBAAO/1C,KAAK/C,MAAZ;AAAYA,SAjJS;AAmJ/C+4C,qBAAa;AAEX,eADA,IAAIvK,IAAOzrC,KAAK0rC,OAAhB,EAAyBpB,IAAO,CAAhC,EAAmCC,IAAS,CAA5C,EACSvvC,IAAI,CAAb,EAAgBA,IAAIywC,EAAKnB,IAALmB,CAAUpuC,MAA9B,EAAsCrC,GAAtC,EAAkDywC,EAAKnB,IAALmB,CAAUzwC,CAAVywC,EAAa1W,MAAb0W,IAAa1W,EAAYuV,CAAzBmB;;AAClD,eAAK,IAAIj+B,IAAM,CAAf,EAAkBA,IAAMi+B,EAAKlB,MAALkB,CAAYpuC,MAApC,EAA4CmQ,GAA5C,EAA0Di+B,EAAKlB,MAALkB,CAAYj+B,CAAZi+B,EAAiB1W,MAAjB0W,IAAiB1W,EAAYwV,CAA7BkB;;AAC1D,iBAAO;AAACiK,kBAAMpL,CAAP;AAAaqL,kBAAMpL;AAAnB,WAAP;AAA0BA,SAvJmB;AAyJ/CiJ,sBAAc;AAAYxzC,eAAK0rC,OAAL1rC,GAAe,IAAIoqC,EAAJ,CAAYpqC,KAAK0rC,OAAL1rC,CAAagrC,aAAzB,CAAfhrC;AAAwCgrC,SAzJnB;AA2J/CiL,mBAAW;AACTj2C,eAAKm0C,eAALn0C,GAAuBA,KAAKk2C,gBAALl2C,CAAKk2C,CAAiB,CAAtBl2C,CAAvBA;AAA6C,SA5JA;AA8J/Ck2C,0BAAkB,UAASC,CAAT,EAASA;AAGzB,iBAFIA,MACAn2C,KAAK0rC,OAAL1rC,CAAa2qC,MAAb3qC,GAAsBA,KAAK0rC,OAAL1rC,CAAa4qC,SAAb5qC,GAAyBA,KAAK0rC,OAAL1rC,CAAa6qC,UAAb7qC,GAA0B,IADzEm2C,GAEGn2C,KAAK0rC,OAAL1rC,CAAa+qC,UAApB;AAAoBA,SAjKyB;AAmK/CqL,iBAAS,UAAUC,CAAV,EAAUA;AACjB,iBAAOr2C,KAAK0rC,OAAL1rC,CAAa+qC,UAAb/qC,KAA4Bq2C,KAAOr2C,KAAKm0C,eAAxCn0C,CAAP;AAA+Cm0C,SApKF;AAuK/CmC,oBAAY;AACV,iBAAO;AAAChM,kBAAMoC,GAAiB1sC,KAAK0rC,OAAL1rC,CAAasqC,IAA9BoC,CAAP;AACCnC,oBAAQmC,GAAiB1sC,KAAK0rC,OAAL1rC,CAAauqC,MAA9BmC;AADT,WAAP;AAC8CnC,SAzKD;AA2K/CgM,oBAAY,UAASC,CAAT,EAASA;AACnB,cAAI/K,IAAOzrC,KAAK0rC,OAAL1rC,GAAe,IAAIoqC,EAAJ,CAAYpqC,KAAK0rC,OAAL1rC,CAAagrC,aAAzB,CAA1B;AACAS,YAAKnB,IAALmB,GAAYiB,GAAiB8J,EAASlM,IAATkM,CAAcnxC,KAAdmxC,CAAoB,CAApBA,CAAjB9J,EAAyC,IAAzCA,EAAyC,CAAM,CAA/CA,CAAZjB,EACAA,EAAKlB,MAALkB,GAAciB,GAAiB8J,EAASjM,MAATiM,CAAgBnxC,KAAhBmxC,CAAsB,CAAtBA,CAAjB9J,EAA2C,IAA3CA,EAA2C,CAAM,CAAjDA,CADdjB;AAC+D,SA9KlB;AAiL/CgL,yBAAiBxU,GAAY,UAAS3iC,CAAT,EAAeo3C,CAAf,EAAyBz6C,CAAzB,EAAyBA;AACpD,iBAAOs1C,GAAWvxC,IAAXuxC,EAAiBjyC,CAAjBiyC,EAAuB,QAAvBA,EAAiC,UAAUjyC,CAAV,EAAUA;AAChD,gBAAIqoB,IAAUroB,EAAKsoB,aAALtoB,KAAuBA,EAAKsoB,aAALtoB,GAAqB,EAA5CA,CAAd;AAGA,mBAFAqoB,EAAQ+uB,CAAR/uB,IAAoB1rB,CAApB0rB,EAAoB1rB,CACfA,CADeA,IACN6B,GAAQ6pB,CAAR7pB,CADM7B,KACcqD,EAAKsoB,aAALtoB,GAAqB,IADnCrD,CAApB0rB,EACuD,CAChD,CAAP;AAAO,WAJF4pB,CAAP;AAIS,SALMtP,CAjL8B;AA0L/C0U,qBAAa1U,GAAY,UAASyU,CAAT,EAASA;AAChC,cAAIhE,IAAS1yC,IAAb;AAEAA,eAAKgW,IAALhW,CAAU,UAAUV,CAAV,EAAUA;AACdA,cAAKsoB,aAALtoB,IAAsBA,EAAKsoB,aAALtoB,CAAmBo3C,CAAnBp3C,CAAtBA,IACFiyC,GAAWmB,CAAXnB,EAAmBjyC,CAAnBiyC,EAAyB,QAAzBA,EAAmC;AAGjC,qBAFAjyC,EAAKsoB,aAALtoB,CAAmBo3C,CAAnBp3C,IAA+B,IAA/BA,EACIxB,GAAQwB,EAAKsoB,aAAb9pB,MAA+BwB,EAAKsoB,aAALtoB,GAAqB,IAApDxB,CADJwB,EACwD,CACjD,CAAP;AAAO,aAHTiyC,CADEjyC;AAIO,WALbU;AAKa,SARFiiC,CA1LkC;AAwM/C2U,kBAAU,UAASt3C,CAAT,EAASA;AACjB,cAAI7C,CAAJ;;AACA,cAAmB,mBAAR6C,CAAX,EAA6B;AAC3B,iBAAKqX,GAAO3W,IAAP2W,EAAarX,CAAbqX,CAAL,EAA2B,OAAO,IAAP;AAG3B,gBAFAla,IAAI6C,CAAJ7C,EAAI6C,EACJA,IAAOgW,GAAQtV,IAARsV,EAAchW,CAAdgW,CADHhW,CAEJ,EAAa,OAAO,IAAP;AAAO,WAJtB,MAOE,IAAS,SADT7C,IAAI4Z,GAAO/W,CAAP+W,CACK,CAAT,EAAiB,OAAO,IAAP;;AAEnB,iBAAO;AAAC/W,kBAAM7C,CAAP;AAAU+0C,oBAAQlyC,CAAlB;AAAwB6P,kBAAM7P,EAAK6P,IAAnC;AAAyCyY,2BAAetoB,EAAKsoB,aAA7D;AACCrN,uBAAWjb,EAAKib,SADjB;AAC4BD,qBAAShb,EAAKgb,OAD1C;AACmD8M,uBAAW9nB,EAAK8nB,SADnE;AAECwB,qBAAStpB,EAAKspB;AAFf,WAAP;AAEsBA,SArNuB;AAwN/CiuB,sBAAc5U,GAAY,UAASuP,CAAT,EAAiBsF,CAAjB,EAAwBhyC,CAAxB,EAAwBA;AAChD,iBAAOysC,GAAWvxC,IAAXuxC,EAAiBC,CAAjBD,EAAkC,YAATuF,CAAS,GAAW,QAAX,GAAsB,OAAxDvF,EAAiE,UAAUjyC,CAAV,EAAUA;AAChF,gBAAIgJ,IAAgB,UAATwuC,CAAS,GAAS,WAAT,GACA,gBAATA,CAAS,GAAe,SAAf,GACA,YAATA,CAAS,GAAW,aAAX,GAA2B,WAF/C;;AAGA,gBAAKx3C,EAAKgJ,CAALhJ,CAAL,EACK;AAAA,kBAAIuF,EAAUC,CAAVD,EAAenH,IAAfmH,CAAoBvF,EAAKgJ,CAALhJ,CAApBuF,CAAJ,EAAuC,QAAO,CAAP;AACrCvF,gBAAKgJ,CAALhJ,KAAc,MAAMwF,CAApBxF;AAAoBwF,aAF3B,MAAmBxF,EAAKgJ,CAALhJ,IAAawF,CAAbxF;;AAGnB,oBAAO,CAAP;AAAO,WAPFiyC,CAAP;AAOS,SARGtP,CAxNiC;AAmO/C8U,yBAAiB9U,GAAY,UAASuP,CAAT,EAAiBsF,CAAjB,EAAwBhyC,CAAxB,EAAwBA;AACnD,iBAAOysC,GAAWvxC,IAAXuxC,EAAiBC,CAAjBD,EAAkC,YAATuF,CAAS,GAAW,QAAX,GAAsB,OAAxDvF,EAAiE,UAAUjyC,CAAV,EAAUA;AAChF,gBAAIgJ,IAAgB,UAATwuC,CAAS,GAAS,WAAT,GACA,gBAATA,CAAS,GAAe,SAAf,GACA,YAATA,CAAS,GAAW,aAAX,GAA2B,WAF/C;AAAA,gBAGInqC,IAAMrN,EAAKgJ,CAALhJ,CAHV;AAIA,iBAAKqN,CAAL,EAAY,QAAO,CAAP;AACP,gBAAW,QAAP7H,CAAJ,EAAmBxF,EAAKgJ,CAALhJ,IAAa,IAAbA,CAAnB,KACA;AACH,kBAAIoN,IAAQC,EAAIlI,KAAJkI,CAAU9H,EAAUC,CAAVD,CAAV8H,CAAZ;AACA,mBAAKD,CAAL,EAAc,QAAO,CAAP;AACd,kBAAI9M,IAAM8M,EAAMpH,KAANoH,GAAcA,EAAM,CAANA,EAASrP,MAAjC;AACAiC,gBAAKgJ,CAALhJ,IAAaqN,EAAItH,KAAJsH,CAAU,CAAVA,EAAaD,EAAMpH,KAAnBqH,KAA8BD,EAAMpH,KAANoH,IAAe9M,KAAO+M,EAAItP,MAA1BqP,GAAwC,GAAxCA,GAAmC,EAAjEC,IAA6EA,EAAItH,KAAJsH,CAAU/M,CAAV+M,CAA7EA,IAA+F,IAA5GrN;AAEF;AAAA,oBAAO,CAAP;AAAO,WAbFiyC,CAAP;AAaS,SAdMtP,CAnO8B;AAqP/C+U,uBAAe/U,GAAY,UAASuP,CAAT,EAAiBpyC,CAAjB,EAAuB0U,CAAvB,EAAuBA;AAChD,iBAzjBJ,UAAuByB,CAAvB,EAA4Bi8B,CAA5B,EAAoCpyC,CAApC,EAA0C0U,CAA1C,EAA0CA;AACxC,gBAAI2Q,IAAS,IAAI8tB,EAAJ,CAAeh9B,CAAf,EAAoBnW,CAApB,EAA0B0U,CAA1B,CAAb;AAAA,gBACI7D,IAAKsF,EAAItF,EADb;AAiBA,mBAfIA,KAAMwU,EAAOwE,SAAbhZ,KAA0BA,EAAGkL,OAAHlL,CAAW+0B,YAAX/0B,GAAW+0B,CAAe,CAApD/0B,GACJshC,GAAWh8B,CAAXg8B,EAAgBC,CAAhBD,EAAwB,QAAxBA,EAAkC,UAAUjyC,CAAV,EAAUA;AAC1C,kBAAIspB,IAAUtpB,EAAKspB,OAALtpB,KAAiBA,EAAKspB,OAALtpB,GAAe,EAAhCA,CAAd;;AAIA,kBAHuB,QAAnBmlB,EAAOwyB,QAAY,GAAQruB,EAAQjmB,IAARimB,CAAanE,CAAbmE,CAAR,GAChBA,EAAQ9Z,MAAR8Z,CAAeve,KAAKC,GAALD,CAASue,EAAQvrB,MAARurB,GAAiB,CAA1Bve,EAA6BA,KAAKmN,GAALnN,CAAS,CAATA,EAAYoa,EAAOwyB,QAAnB5sC,CAA7BA,CAAfue,EAA2E,CAA3EA,EAA8EnE,CAA9EmE,CADgB,EAEvBnE,EAAOnlB,IAAPmlB,GAAcnlB,CAFS,EAGnB2Q,MAAO+Q,GAAazL,CAAbyL,EAAkB1hB,CAAlB0hB,CAAX,EAAoC;AAClC,oBAAIk2B,IAAe/1B,GAAa7hB,CAAb6hB,IAAqB5L,EAAIia,SAA5C;AACAtZ,mBAAiB5W,CAAjB4W,EAAuB5W,EAAK6W,MAAL7W,GAAckqB,GAAa/E,CAAb+E,CAArCtT,GACIghC,KAAgBjd,GAAehqB,CAAfgqB,EAAmBxV,EAAOtO,MAA1B8jB,CADpB/jB,EAEAjG,EAAGQ,KAAHR,CAAS2b,WAAT3b,GAAS2b,CAAc,CAFvB1V;AAIF;;AAAA,sBAAO,CAAP;AAAO,aAXTq7B,CADIthC,EAcAA,KAAM8V,GAAY9V,CAAZ8V,EAAgB,iBAAhBA,EAAmC9V,CAAnC8V,EAAuCtB,CAAvCsB,EAAgE,mBAAVyrB,CAAU,GAAWA,CAAX,GAAoBn7B,GAAOm7B,CAAPn7B,CAApF0P,CAdN9V,EAeGwU,CAAP;AAuiBSuyB,WAzjBX,CAyjByBh3C,IAzjBzB,EAyjB+BwxC,CAzjB/B,EAyjBuCpyC,CAzjBvC,EAyjB6C0U,CAzjB7C,CAyjBI;AAAyCA,SAD5BmuB,CArPgC;AAwP/CkV,0BAAkB,UAAS1yB,CAAT,EAASA;AAAUA,YAAO0Y,KAAP1Y;AAAO0Y,SAxPG;AA0P/C2V,kBAAU,UAAS9mC,CAAT,EAAeC,CAAf,EAAmB6H,CAAnB,EAAmBA;AAC3B,iBAAOg/B,GAAS9yC,IAAT8yC,EAAer7B,GAAQzX,IAARyX,EAAczL,CAAdyL,CAAfq7B,EAAoCr7B,GAAQzX,IAARyX,EAAcxL,CAAdwL,CAApCq7B,EAAuDh/B,CAAvDg/B,EAAgEh/B,KAAWA,EAAQpG,IAAnBoG,IAA2B,OAA3Fg/B,CAAP;AAAkG,SA3PrD;AA6P/CsE,qBAAa,UAASltC,CAAT,EAAc4J,CAAd,EAAcA;AACzB,cAAIujC,IAAW;AAAClE,0BAAcr/B,MAAgC,QAApBA,EAAQrN,QAAY,GAAOqN,EAAQ2Q,MAAf,GAAwB3Q,CAAxDA,CAAf;AACCwK,wBAAYxK,KAAWA,EAAQwK,UADhC;AAECa,6BAAgB,CAFjB;AAEwB8qB,oBAAQn2B,KAAWA,EAAQm2B,MAFnD;AAGCnhB,+BAAmBhV,KAAWA,EAAQgV;AAHvC,WAAf;AAKA,iBAAOgqB,GAAS9yC,IAAT8yC,EADP5oC,IAAMuN,GAAQzX,IAARyX,EAAcvN,CAAduN,CACCq7B,EAAoB5oC,CAApB4oC,EAAyBuE,CAAzBvE,EAAmC,UAAnCA,CAAP;AAA0C,SAnQG;AAqQ/CwE,qBAAa,UAASptC,CAAT,EAASA;AAEpB,cAAIyd,IAAU,EAAd;AAAA,cAAkBpK,IAAQjI,GAAQtV,IAARsV,EAAQtV,CADlCkK,IAAMuN,GAAQzX,IAARyX,EAAcvN,CAAduN,CAC4BzX,EAAUV,IAAlBgW,EAAwBwI,WAAlD;AACA,cAAIP,CAAJ,EAAa,KAAK,IAAIviB,IAAI,CAAb,EAAgBA,IAAIuiB,EAAMlgB,MAA1B,EAA0BA,EAAUrC,CAApC,EAAuC;AAClD,gBAAIwiB,IAAOD,EAAMviB,CAANuiB,CAAX;AAAiBviB,aACC,QAAbwiB,EAAKxR,IAAQ,IAAQwR,EAAKxR,IAALwR,IAAatT,EAAIgB,EAD1BlQ,MAED,QAAXwiB,EAAKvR,EAAM,IAAQuR,EAAKvR,EAALuR,IAAWtT,EAAIgB,EAFtBlQ,KAGb2sB,EAAQhlB,IAARglB,CAAanK,EAAKH,MAALG,CAAY3X,MAAZ2X,IAAsBA,EAAKH,MAAxCsK,CAHa3sB;AAKnB;AAAA,iBAAO2sB,CAAP;AAAOA,SA9QsC;AAgR/CksB,mBAAW,UAAS7nC,CAAT,EAAeC,CAAf,EAAmBkkC,CAAnB,EAAmBA;AAC5BnkC,cAAOyL,GAAQzX,IAARyX,EAAczL,CAAdyL,CAAPzL,EAA4BC,IAAKwL,GAAQzX,IAARyX,EAAcxL,CAAdwL,CAAjCzL;AACA,cAAIU,IAAQ,EAAZ;AAAA,cAAgB2J,IAASrK,EAAK1M,IAA9B;AAaA,iBAZAU,KAAKgW,IAALhW,CAAUgM,EAAK1M,IAAfU,EAAqBiM,EAAG3M,IAAH2M,GAAU,CAA/BjM,EAAkC,UAAUV,CAAV,EAAUA;AAC1C,gBAAIie,IAAQje,EAAKwe,WAAjB;AACA,gBAAIP,CAAJ,EAAa,KAAK,IAAIviB,IAAI,CAAb,EAAgBA,IAAIuiB,EAAMlgB,MAA1B,EAAkCrC,GAAlC,EAAuC;AAClD,kBAAIwiB,IAAOD,EAAMviB,CAANuiB,CAAX;AACiB,sBAAXC,EAAKvR,EAAM,IAAQoK,KAAUrK,EAAK1M,IAAvB,IAA+B0M,EAAKd,EAALc,IAAWwR,EAAKvR,EAA/C,IACE,QAAbuR,EAAKxR,IAAQ,IAAQqK,KAAUrK,EAAK1M,IADzB,IAEE,QAAbke,EAAKxR,IAAQ,IAAQqK,KAAUpK,EAAG3M,IAArB,IAA6Bke,EAAKxR,IAALwR,IAAavR,EAAGf,EAF/C,IAGXilC,MAAUA,EAAO3yB,EAAKH,MAAZ8yB,CAHC,IAIbzjC,EAAM/J,IAAN+J,CAAW8Q,EAAKH,MAALG,CAAY3X,MAAZ2X,IAAsBA,EAAKH,MAAtC3Q,CAJa;AAIyB2Q;AAAAA,cAE1ChH,CAF0CgH;AAE1ChH,WAVJrW,GAYO0M,CAAP;AAAOA,SA/RsC;AAiS/C6qC,qBAAa;AACX,cAAI5vB,IAAU,EAAd;AAMA,iBALA3nB,KAAKgW,IAALhW,CAAU,UAAUV,CAAV,EAAUA;AAClB,gBAAI4gB,IAAM5gB,EAAKwe,WAAf;AACA,gBAAIoC,CAAJ,EAAW,KAAK,IAAIllB,IAAI,CAAb,EAAgBA,IAAIklB,EAAI7iB,MAAxB,EAAwBA,EAAUrC,CAAlC,EACY,QAAfklB,EAAIllB,CAAJklB,EAAOlU,IAAQ,IAAQ2b,EAAQhlB,IAARglB,CAAazH,EAAIllB,CAAJklB,EAAO7C,MAApBsK,CAAR;AAA4BtK,WAHrDrd,GAKO2nB,CAAP;AAAOA,SAxSsC;AA2S/C6vB,sBAAc,UAAS7nC,CAAT,EAASA;AACrB,cAAIzE,CAAJ;AAAA,cAAQmL,IAASrW,KAAKwV,KAAtB;AAAA,cAA6BiiC,IAAUz3C,KAAKq0C,aAALr0C,GAAqB3C,MAA5D;AAOA,iBANA2C,KAAKgW,IAALhW,CAAU,UAAUV,CAAV,EAAUA;AAClB,gBAAIuW,IAAKvW,EAAK6P,IAAL7P,CAAUjC,MAAViC,GAAmBm4C,CAA5B;AACA,gBAAI5hC,IAAKlG,CAAT,EAA0B,OAAVzE,IAAKyE,CAALzE,EAAKyE,CAAY,CAAP;AAC1BA,iBAAOkG,CAAPlG,EAAOkG,EACLQ,CADF1G;AACE0G,WAJJrW,GAMOyX,GAAQzX,IAARyX,EAAcT,GAAIX,CAAJW,EAAY9L,CAAZ8L,CAAdS,CAAP;AAAiCvM,SAnTY;AAqT/CwsC,sBAAc,UAAUznB,CAAV,EAAUA;AAEtB,cAAI3qB,KADJ2qB,IAASxY,GAAQzX,IAARyX,EAAcwY,CAAdxY,CACLnS,EAAe4F,EAAnB;AACA,cAAI+kB,EAAO3wB,IAAP2wB,GAAcjwB,KAAKwV,KAAnBya,IAA4BA,EAAO/kB,EAAP+kB,GAAY,CAA5C,EAAiD,OAAO,CAAP;AACjD,cAAIwnB,IAAUz3C,KAAKq0C,aAALr0C,GAAqB3C,MAAnC;AAIA,iBAHA2C,KAAKgW,IAALhW,CAAUA,KAAKwV,KAAfxV,EAAsBiwB,EAAO3wB,IAA7BU,EAAmC,UAAUV,CAAV,EAAUA;AAC3CgG,iBAAShG,EAAK6P,IAAL7P,CAAUjC,MAAViC,GAAmBm4C,CAA5BnyC;AAA4BmyC,WAD9Bz3C,GAGOsF,CAAP;AAAOA,SA7TsC;AAgU/C+W,cAAM,UAASs7B,CAAT,EAASA;AACb,cAAIpiC,IAAM,IAAI0+B,EAAJ,CAAQh+B,GAASjW,IAATiW,EAAejW,KAAKwV,KAApBS,EAA2BjW,KAAKwV,KAALxV,GAAaA,KAAKyV,IAA7CQ,CAAR,EACQjW,KAAKyoC,UADb,EACyBzoC,KAAKwV,KAD9B,EACqCxV,KAAKk0C,OAD1C,EACmDl0C,KAAKoN,SADxD,CAAV;AASA,iBAPAmI,EAAIia,SAAJja,GAAgBvV,KAAKwvB,SAArBja,EAAgCA,EAAI6Z,UAAJ7Z,GAAiBvV,KAAKovB,UAAtD7Z,EACAA,EAAIuf,GAAJvf,GAAUvV,KAAK80B,GADfvf,EAEAA,EAAItY,MAAJsY,GAAItY,CAAS,CAFbsY,EAGIoiC,MACFpiC,EAAIm2B,OAAJn2B,CAAYi1B,SAAZj1B,GAAwBvV,KAAK0rC,OAAL1rC,CAAawqC,SAArCj1B,EACAA,EAAIghC,UAAJhhC,CAAevV,KAAKs2C,UAALt2C,EAAfuV,CAFEoiC,CAHJpiC,EAOOA,CAAP;AAAOA,SA1UsC;AA6U/CqiC,mBAAW,UAAS9jC,CAAT,EAASA;AACbA,gBAAWA,IAAU,EAArBA;AACL,cAAI9H,IAAOhM,KAAKwV,KAAhB;AAAA,cAAuBvJ,IAAKjM,KAAKwV,KAALxV,GAAaA,KAAKyV,IAA9C;AACoB,kBAAhB3B,EAAQ9H,IAAQ,IAAQ8H,EAAQ9H,IAAR8H,GAAe9H,CAAvB,KAA+BA,IAAO8H,EAAQ9H,IAA9C,GACF,QAAd8H,EAAQ7H,EAAM,IAAQ6H,EAAQ7H,EAAR6H,GAAa7H,CAArB,KAA2BA,IAAK6H,EAAQ7H,EAAxC,CADE;AAEpB,cAAIoQ,IAAO,IAAI43B,EAAJ,CAAQh+B,GAASjW,IAATiW,EAAejK,CAAfiK,EAAqBhK,CAArBgK,CAAR,EAAkCnC,EAAQ3X,IAAR2X,IAAgB9T,KAAKyoC,UAAvD,EAAmEz8B,CAAnE,EAAyEhM,KAAKk0C,OAA9E,EAAuFl0C,KAAKoN,SAA5F,CAAX;AAKA,iBAJI0G,EAAQg2B,UAARh2B,KAAsBuI,EAAKqvB,OAALrvB,GAAerc,KAAK0rC,OAA1C53B,GAA0C43B,CAC1C1rC,KAAK+pC,MAAL/pC,KAAgBA,KAAK+pC,MAAL/pC,GAAc,EAA9BA,CAD0C0rC,EACP/oC,IADO+oC,CACF;AAACn2B,iBAAK8G,CAAN;AAAYytB,wBAAYh2B,EAAQg2B;AAAhC,WADE4B,CAA1C53B,EAEJuI,EAAK0tB,MAAL1tB,GAAc,CAAC;AAAC9G,iBAAKvV,IAAN;AAAYgzC,uBAAU,CAAtB;AAA4BlJ,wBAAYh2B,EAAQg2B;AAAhD,WAAD,CAFVh2B,EAxYR,UAA2ByB,CAA3B,EAAgCoS,CAAhC,EAAgCA;AAC9B,iBAAK,IAAI3sB,IAAI,CAAb,EAAgBA,IAAI2sB,EAAQtqB,MAA5B,EAAoCrC,GAApC,EAAyC;AACvC,kBAAIqiB,IAASsK,EAAQ3sB,CAAR2sB,CAAb;AAAA,kBAAyBzd,IAAMmT,EAAOwC,IAAPxC,EAA/B;AAAA,kBACIw6B,IAAQtiC,EAAIkC,OAAJlC,CAAYrL,EAAI8B,IAAhBuJ,CADZ;AAAA,kBACmCuiC,IAAMviC,EAAIkC,OAAJlC,CAAYrL,EAAI+B,EAAhBsJ,CADzC;;AAEA,kBAAI0B,GAAI4gC,CAAJ5gC,EAAW6gC,CAAX7gC,CAAJ,EAAqB;AACnB,oBAAI8gC,IAAUjF,GAASv9B,CAATu9B,EAAc+E,CAAd/E,EAAqBgF,CAArBhF,EAA0Bz1B,EAAOqX,OAAjCoe,EAA0Cz1B,EAAOqX,OAAPrX,CAAe3P,IAAzDolC,CAAd;AACAz1B,kBAAOsK,OAAPtK,CAAe1a,IAAf0a,CAAoB06B,CAApB16B,GACA06B,EAAQlyC,MAARkyC,GAAiB16B,CADjBA;AACiBA;AAAAA;AAoYnB26B,WA3YJ,CA2YsB37B,CA3YtB,EA2Y4Bu3B,GAAkB5zC,IAAlB4zC,CA3Y5B,CAwYQ9/B,EAIGuI,CAAP;AAAOA,SAvVsC;AAyV/C47B,mBAAW,UAASvnB,CAAT,EAASA;AAElB,cADIA,aAAiBwnB,EAAjBxnB,KAA+BA,IAAQA,EAAMnb,GAA7Cmb,GACA1wB,KAAK+pC,MAAT,EAAmB,KAAK,IAAI/uC,IAAI,CAAb,EAAgBA,IAAIgF,KAAK+pC,MAAL/pC,CAAY3C,MAAhC,EAAgCA,EAAUrC,CAA1C,EAEjB,IADWgF,KAAK+pC,MAAL/pC,CAAYhF,CAAZgF,EACFuV,GADEvV,IACK0wB,CAAhB;AACA1wB,iBAAK+pC,MAAL/pC,CAAY8O,MAAZ9O,CAAmBhF,CAAnBgF,EAAsB,CAAtBA,GACA0wB,EAAMunB,SAANvnB,CAAgB1wB,IAAhB0wB,CADA1wB,EAEA8zC,GAAoBF,GAAkB5zC,IAAlB4zC,CAApBE,CAFA9zC;AAGA;AAGF;;AAAA,cAAI0wB,EAAMgb,OAANhb,IAAiB1wB,KAAK0rC,OAA1B,EAAmC;AACjC,gBAAIyM,IAAW,CAACznB,EAAMjyB,EAAP,CAAf;AACAirC,eAAWhZ,CAAXgZ,EAAkB,UAAUn0B,CAAV,EAAUA;AAAO,qBAAO4iC,EAASx1C,IAATw1C,CAAc5iC,EAAI9W,EAAlB05C,CAAP;AAAyB15C,aAA5DirC,EAA4DjrC,CAAQ,CAApEirC,GACAhZ,EAAMgb,OAANhb,GAAgB,IAAI0Z,EAAJ,CAAY,IAAZ,CADhBV,EAEAhZ,EAAMgb,OAANhb,CAAc4Z,IAAd5Z,GAAqBgc,GAAiB1sC,KAAK0rC,OAAL1rC,CAAasqC,IAA9BoC,EAAoCyL,CAApCzL,CAFrBhD,EAGAhZ,EAAMgb,OAANhb,CAAc6Z,MAAd7Z,GAAuBgc,GAAiB1sC,KAAK0rC,OAAL1rC,CAAauqC,MAA9BmC,EAAsCyL,CAAtCzL,CAHvBhD;AAG6DyO;AAAAA,SAzWlB;AA4W/CC,wBAAgB,UAASnwC,CAAT,EAASA;AAAIyhC,aAAW1pC,IAAX0pC,EAAiBzhC,CAAjByhC;AAAiBzhC,SA5WC;AA8W/C4L,iBAAS;AAAY,iBAAO7T,KAAK7D,IAAZ;AAAYA,SA9Wc;AA+W/Ck8C,mBAAW;AAAY,iBAAOr4C,KAAKiQ,EAAZ;AAAYA,SA/WY;AAiX/CghC,oBAAY,UAAStlC,CAAT,EAASA;AACnB,iBAAI3L,KAAKk0C,OAALl0C,GAAuB2L,EAAItE,KAAJsE,CAAU3L,KAAKk0C,OAAfvoC,CAAvB3L,GACGyS,GAAe9G,CAAf8G,CADP;AACsB9G,SAnXuB;AAqX/C0oC,uBAAe;AAAa,iBAAOr0C,KAAKk0C,OAALl0C,IAAgB,IAAvB;AAAuB,SArXJ;AAuX/Cs4C,sBAAcrW,GAAY,UAAUr2B,CAAV,EAAUA;AAxoDtC,cAA0BqE,CAA1B;AAyoDe,mBAAPrE,CAAO,KAASA,IAAM,KAAf,GACPA,KAAO5L,KAAKoN,SAAZxB,KACJ5L,KAAKoN,SAALpN,GAAiB4L,CAAjB5L,EACAA,KAAKgW,IAALhW,CAAU,UAAUV,CAAV,EAAUA;AAAQ,mBAAOA,EAAKkN,KAALlN,GAAa,IAApB;AAAoB,WAAhDU,CADAA,EAEIA,KAAKiQ,EAALjQ,IA5oDN8hC,GADwB7xB,IA6oDUjQ,KAAKiQ,EA5oDvC6xB,EAAY;AACVqI,eAAkBl6B,CAAlBk6B,GACA3W,GAAUvjB,CAAVujB,CADA2W;AACUl6B,WAFZ6xB,CAyoDMl2B,CADO;AAtoDDqE,SAqoDEgyB;AAvXiC,OAAjCp3B,CAAhBopC,EAiYAA,GAAIp3C,SAAJo3C,CAAcsE,QAAdtE,GAAyBA,GAAIp3C,SAAJo3C,CAAcj+B,IAjYvCi+B;AAqYA,UAAIuE,KAAW,CAAf;;AAEA,eAASC,EAAT,CAAgBt3C,CAAhB,EAAgBA;AACd,YAAI8O,IAAKjQ,IAAT;;AAEA,YADA04C,GAAgBzoC,CAAhByoC,GAAgBzoC,CACZD,GAAeC,CAAfD,EAAmB7O,CAAnB6O,CADYC,IACO9O,CAAM0oB,GAAc5Z,EAAGkL,OAAjB0O,EAA0B1oB,CAA1B0oB,CAA7B;AAEA/Y,aAAiB3P,CAAjB2P,GACIxN,MAAMk1C,MAAY,IAAInvC,IAAJ,EAAlB/F,CADJwN;AAEA,cAAI5G,IAAM8oB,GAAa/iB,CAAb+iB,EAAiB7xB,CAAjB6xB,EAAiB7xB,CAAG,CAApB6xB,CAAV;AAAA,cAAqC2lB,IAAQx3C,EAAEy3C,YAAFz3C,CAAew3C,KAA5D;AACA,cAAKzuC,MAAO+F,EAAG4oC,UAAH5oC,EAAZ,EAGA,IAAI0oC,KAASA,EAAMt7C,MAAfs7C,IAAyB/9C,OAAOk+C,UAAhCH,IAA8C/9C,OAAOm+C,IAAzD,EAuBE,KAtBA,IAAIt8C,IAAIk8C,EAAMt7C,MAAd,EAAsB8R,IAAOnQ,MAAMvC,CAANuC,CAA7B,EAAuCg6C,IAAO,CAA9C,EACIC,IAAW,UAAUC,CAAV,EAAgBl+C,CAAhB,EAAgBA;AAC7B,iBAAIiV,EAAG6D,OAAH7D,CAAWkpC,kBAAf,IAAeA,CAC2C,CAD3CA,IACXj8C,EAAQ+S,EAAG6D,OAAH7D,CAAWkpC,kBAAnBj8C,EAAuCg8C,EAAKxrC,IAA5CxQ,CADJ;AAIA,kBAAIk8C,IAAS,IAAIN,UAAJ,EAAb;AACAM,gBAAOC,MAAPD,GAAgBrX,GAAU9xB,CAAV8xB,EAAc;AAC5B,oBAAIvgC,IAAU43C,EAAO1mC,MAArB;;AAGA,oBAFI,0BAA0BhV,IAA1B,CAA+B8D,CAA/B,MAA2CA,IAAU,EAArD,GACJ2N,EAAKnU,CAALmU,IAAU3N,CADN,EACMA,EACJw3C,CADIx3C,IACI/E,CAAd,EAAiB;AAEf,sBAAIkhB,IAAS;AAAC3R,0BADd9B,IAAMuN,GAAQxH,EAAGsF,GAAXkC,EAAgBvN,CAAhBuN,CACO;AAAYxL,wBAAI/B,CAAhB;AACCiF,0BAAMc,EAAGsF,GAAHtF,CAAOghC,UAAPhhC,CAAkBd,EAAK3M,IAAL2M,CAAUc,EAAGsF,GAAHtF,CAAOokC,aAAPpkC,EAAVd,CAAlBc,CADP;AAECnG,4BAAQ;AAFT,mBAAb;AAGAmlC,qBAAWh/B,EAAGsF,GAAd05B,EAAmBtxB,CAAnBsxB,GACA1B,GAA2Bt9B,EAAGsF,GAA9Bg4B,EAAmCpF,GAAgBj+B,CAAhBi+B,EAAqBC,GAAUzqB,CAAVyqB,CAArBD,CAAnCoF,CADA0B;AACkEtxB;AAAAA,eAVtDokB,CAAhBqX,EAaAA,EAAOE,UAAPF,CAAkBF,CAAlBE,CAbAA;AAakBF;AAAAA,WApBpB,EAsBSl+C,IAAI,CAAb,EAAgBA,IAAIyB,CAApB,EAAoBA,EAAKzB,CAAzB,EAA8Bi+C,EAASN,EAAM39C,CAAN29C,CAATM,EAAmBj+C,CAAnBi+C,EAvBhC,KAwBO;AAEL,gBAAIhpC,EAAGwE,KAAHxE,CAASspC,YAATtpC,IAAyBA,EAAGsF,GAAHtF,CAAO6kB,GAAP7kB,CAAW1J,QAAX0J,CAAoB/F,CAApB+F,IAAoB/F,CAAQ,CAAzD,EAIE,OAHA+F,EAAGwE,KAAHxE,CAASspC,YAATtpC,CAAsB9O,CAAtB8O,GAAsB9O,KAEtBmI,WAAW;AAAc,qBAAO2G,EAAGkL,OAAHlL,CAAWyU,KAAXzU,CAAiBioB,KAAjBjoB,EAAP;AAAwBioB,aAAjD5uB,EAA6D,EAA7DA,CACA;;AAEF;AACE,kBAAIkwC,IAASr4C,EAAEy3C,YAAFz3C,CAAes4C,OAAft4C,CAAuB,MAAvBA,CAAb;;AACA,kBAAIq4C,CAAJ,EAAY;AACV,oBAAIE,CAAJ;AAIA,oBAHIzpC,EAAGwE,KAAHxE,CAASspC,YAATtpC,IAASspC,CAAiBtpC,EAAGwE,KAAHxE,CAASspC,YAATtpC,CAAsBoM,IAAhDpM,KACAypC,IAAWzpC,EAAG2kC,cAAH3kC,EADXA,GAEJu9B,GAAmBv9B,EAAGsF,GAAtBi4B,EAA2BrF,GAAgBj+B,CAAhBi+B,EAAqBj+B,CAArBi+B,CAA3BqF,CAFIv9B,EAGAypC,CAAJ,EAAgB,KAAK,IAAIlsC,IAAM,CAAf,EAAkBA,IAAMksC,EAASr8C,MAAjC,EAAiCA,EAAUmQ,CAA3C,EACZujC,GAAa9gC,EAAGsF,GAAhBw7B,EAAqB,EAArBA,EAAyB2I,EAASlsC,CAATksC,EAAcpnB,MAAvCye,EAA+C2I,EAASlsC,CAATksC,EAActkB,IAA7D2b,EAAmE,MAAnEA;AACJ9gC,kBAAGilC,gBAAHjlC,CAAoBupC,CAApBvpC,EAA4B,QAA5BA,EAAsC,OAAtCA,GACAA,EAAGkL,OAAHlL,CAAWyU,KAAXzU,CAAiBioB,KAAjBjoB,EADAA;AACiBioB;AAGrB,aAbA,CAaA,OAAM/2B,CAAN,EAAMA;AAAAA;AAAAA;AAuCV;;AAAA,eAASu3C,EAAT,CAAyBzoC,CAAzB,EAAyBA;AACnBA,UAAGkL,OAAHlL,CAAW0pC,UAAX1pC,KACFA,EAAGkL,OAAHlL,CAAWia,SAAXja,CAAqBvK,WAArBuK,CAAiCA,EAAGkL,OAAHlL,CAAW0pC,UAA5C1pC,GACAA,EAAGkL,OAAHlL,CAAW0pC,UAAX1pC,GAAwB,IAFtBA;AAUN;;AAAA,eAAS2pC,EAAT,CAA2B3xC,CAA3B,EAA2BA;AACzB,YAAKzE,SAASq2C,sBAAd;AAEA,eADA,IAAIC,IAAUt2C,SAASq2C,sBAATr2C,CAAgC,YAAhCA,CAAd,EAA6Du2C,IAAU,EAAvE,EACS/+C,IAAI,CAAb,EAAgBA,IAAI8+C,EAAQz8C,MAA5B,EAAoCrC,GAApC,EAAyC;AACvC,gBAAIiV,IAAK6pC,EAAQ9+C,CAAR8+C,EAAW5B,UAApB;AACIjoC,iBAAM8pC,EAAQp3C,IAARo3C,CAAa9pC,CAAb8pC,CAAN9pC;AAEF8pC;;AAAAA,YAAQ18C,MAAR08C,IAAkBA,EAAQ,CAARA,EAAWhY,SAAXgY,CAAqB;AACzC,iBAAK,IAAI/+C,IAAI,CAAb,EAAgBA,IAAI++C,EAAQ18C,MAA5B,EAAoCrC,GAApC,EAA2CiN,EAAE8xC,EAAQ/+C,CAAR++C,CAAF9xC;AAAUjN,WADjC++C,CAAlBA;AACmD/+C;AAIzD;;AAAA,UAAIg/C,MAAoB,CAAxB;;AACA,eAASC,EAAT,GAASA;AAKT,YAEMC,CAFN;AAJMF,eAOJ3qC,GAAGzU,MAAHyU,EAAW,QAAXA,EAAqB;AACA,kBAAf6qC,CAAe,KAAQA,IAAc5wC,WAAW;AAClD4wC,gBAAc,IAAdA,EACAN,GAAkBO,EAAlBP,CADAM;AACkBC,WAFqB7wC,EAGtC,GAHsCA,CAAtB;AAGhB,SAJL+F,GAOAA,GAAGzU,MAAHyU,EAAW,MAAXA,EAAmB;AAAc,iBAAOuqC,GAAkBthB,EAAlBshB,CAAP;AAAyBthB,SAA1DjpB,CAPAA,EALA2qC,MAAoB,CAFhBA;AAiBN;;AAAA,eAASG,EAAT,CAAkBlqC,CAAlB,EAAkBA;AAChB,YAAI3U,IAAI2U,EAAGkL,OAAX;AAEA7f,UAAEwzB,eAAFxzB,GAAoBA,EAAEyzB,gBAAFzzB,GAAqBA,EAAEgvB,cAAFhvB,GAAmB,IAA5DA,EACAA,EAAEukC,iBAAFvkC,GAAEukC,CAAoB,CADtBvkC,EAEA2U,EAAGmqC,OAAHnqC,EAFA3U;AAiBF;;AAAA,WAZA,IAAI++C,KAAW;AACbC,WAAG,OADU;AACDC,WAAG,WADF;AACeC,WAAG,KADlB;AACyBC,YAAI,OAD7B;AACsCC,YAAI,OAD1C;AACmDC,YAAI,MADvD;AAC+DC,YAAI,KADnE;AAEbC,YAAI,OAFS;AAEAC,YAAI,UAFJ;AAEgBC,YAAI,KAFpB;AAE2BC,YAAI,OAF/B;AAEwCC,YAAI,QAF5C;AAEsDC,YAAI,UAF1D;AAEsEC,YAAI,KAF1E;AAGbC,YAAI,MAHS;AAGDC,YAAI,MAHH;AAGWC,YAAI,IAHf;AAGqBC,YAAI,OAHzB;AAGkCC,YAAI,MAHtC;AAG8CC,YAAI,WAHlD;AAG+DC,YAAI,QAHnE;AAIbC,YAAI,QAJS;AAICC,YAAI,GAJL;AAIUC,YAAI,GAJd;AAImBC,YAAI,KAJvB;AAI8BC,YAAI,KAJlC;AAIyCC,YAAI,KAJ7C;AAKbC,aAAK,GALQ;AAKHC,aAAK,GALF;AAKOC,aAAK,GALZ;AAKiBC,aAAK,GALtB;AAK2BC,aAAK,GALhC;AAKqCC,aAAK,YAL1C;AAMbC,aAAK,GANQ;AAMHC,aAAK,GANF;AAMOC,aAAK,GANZ;AAMiBC,aAAK,GANtB;AAM2BC,aAAK,GANhC;AAMqCC,aAAK,GAN1C;AAM+CC,aAAK,GANpD;AAMyDC,aAAK,GAN9D;AAMmEC,aAAK,GANxE;AAM6EC,aAAK,IANlF;AAObC,aAAK,GAPQ;AAOHC,aAAK,GAPF;AAOOC,eAAO,IAPd;AAOoBC,eAAO,MAP3B;AAOmCC,eAAO,MAP1C;AAOkDC,eAAO,OAPzD;AAOkEC,eAAO,QAPzE;AAQbC,eAAO,MARM;AAQEC,eAAO,KART;AAQgBC,eAAO,QARvB;AAQiCC,eAAO,UARxC;AAQoDC,eAAO;AAR3D,OAAf,EAYS5iD,KAAI,CAAb,EAAgBA,KAAI,EAApB,EAAwBA,IAAxB,EAA+Bq/C,GAASr/C,KAAI,EAAbq/C,IAAmBA,GAASr/C,KAAI,EAAbq/C,IAAmBxjC,OAAO7b,EAAP6b,CAAtCwjC;;AAE/B,WAAK,IAAI7sC,KAAM,EAAf,EAAmBA,MAAO,EAA1B,EAA8BA,IAA9B,EAAuC6sC,GAAS7sC,EAAT6sC,IAAgBxjC,OAAOgnC,YAAPhnC,CAAoBrJ,EAApBqJ,CAAhBwjC;;AAEvC,WAAK,IAAI1sC,KAAM,CAAf,EAAkBA,MAAO,EAAzB,EAA6BA,IAA7B,EAAsC0sC,GAAS1sC,KAAM,GAAf0sC,IAAsBA,GAAS1sC,KAAM,KAAf0sC,IAAwB,MAAM1sC,EAApD0sC;;AAEtC,UAAIyD,KAAS,EAAb;;AA6CA,eAASC,EAAT,CAA0BxiD,CAA1B,EAA0BA;AACxB,YAEIyiD,CAFJ;AAAA,YAESC,CAFT;AAAA,YAEetlB,CAFf;AAAA,YAEsBulB,CAFtB;AAAA,YAAI7O,IAAQ9zC,EAAK8L,KAAL9L,CAAW,QAAXA,CAAZ;AACAA,YAAO8zC,EAAMA,EAAMhyC,MAANgyC,GAAe,CAArBA,CAAP9zC;;AAEA,aAAK,IAAIP,IAAI,CAAb,EAAgBA,IAAIq0C,EAAMhyC,MAANgyC,GAAe,CAAnC,EAAsCr0C,GAAtC,EAA2C;AACzC,cAAImjD,IAAM9O,EAAMr0C,CAANq0C,CAAV;AACA,cAAI,kBAAkB3xC,IAAlB,CAAuBygD,CAAvB,CAAJ,EAAmCD,KAAM,CAANA,CAAnC,KACK,IAAI,YAAYxgD,IAAZ,CAAiBygD,CAAjB,CAAJ,EAA6BH,KAAM,CAANA,CAA7B,KACA,IAAI,sBAAsBtgD,IAAtB,CAA2BygD,CAA3B,CAAJ,EAAuCF,KAAO,CAAPA,CAAvC,KACA;AAAA,iBAAI,cAAcvgD,IAAd,CAAmBygD,CAAnB,CAAJ,EACE,MAAM,IAAIr+C,KAAJ,CAAU,iCAAiCq+C,CAA3C,CAAN;AAD6BxlB,iBAAQ,CAARA;AAAQ;AAO9C;;AAAA,eAJIqlB,MAAOziD,IAAO,SAASA,CAAvByiD,GACAC,MAAQ1iD,IAAO,UAAUA,CAAzB0iD,CADAD,EAEAE,MAAO3iD,IAAO,SAASA,CAAvB2iD,CAFAF,EAGArlB,MAASp9B,IAAO,WAAWA,CAA3Bo9B,CAHAqlB,EAIGziD,CAAP;AAQF;;AAAA,eAAS6iD,EAAT,CAAyBC,CAAzB,EAAyBA;AACvB,YAAIhiC,IAAO,EAAX;;AACA,aAAK,IAAIiiC,CAAT,IAAoBD,CAApB,EAA8B,IAAIA,EAAOvhD,cAAPuhD,CAAsBC,CAAtBD,CAAJ,EAAoC;AAChE,cAAIpiD,IAAQoiD,EAAOC,CAAPD,CAAZ;AACA,cAAI,mCAAmC3gD,IAAnC,CAAwC4gD,CAAxC,CAAJ,EAAwD;;AACxD,cAAa,SAATriD,CAAJ,EAAoB;AAAA,mBAASoiD,EAAOC,CAAPD,CAAT;AAA0B;AAG9C;;AAAA,eADA,IAAIE,IAAOj9C,EAAIg9C,EAAQj3C,KAARi3C,CAAc,GAAdA,CAAJh9C,EAAwBy8C,EAAxBz8C,CAAX,EACStG,IAAI,CAAb,EAAgBA,IAAIujD,EAAKlhD,MAAzB,EAAiCrC,GAAjC,EAAsC;AACpC,gBAAI2Z,SAAM,CAAV;AAAA,gBAAoBpZ,SAAO,CAA3B;AACIP,iBAAKujD,EAAKlhD,MAALkhD,GAAc,CAAnBvjD,IACFO,IAAOgjD,EAAK/7C,IAAL+7C,CAAU,GAAVA,CAAPhjD,EACAoZ,IAAM1Y,CAFJjB,KAIFO,IAAOgjD,EAAKl5C,KAALk5C,CAAW,CAAXA,EAAcvjD,IAAI,CAAlBujD,EAAqB/7C,IAArB+7C,CAA0B,GAA1BA,CAAPhjD,EACAoZ,IAAM,KALJ3Z;AAOJ,gBAAIyS,IAAO4O,EAAK9gB,CAAL8gB,CAAX;;AACA,gBAAK5O,CAAL,EAAKA;AACA,kBAAIA,KAAQkH,CAAZ,EAAmB,MAAM,IAAI7U,KAAJ,CAAU,+BAA+BvE,CAAzC,CAAN;AAA+CA,aADvE,MAAa8gB,EAAK9gB,CAAL8gB,IAAa1H,CAAb0H;AAAa1H;;AAAAA,iBAGrB0pC,EAAOC,CAAPD,CAHqB1pC;AAK9B;;AAAA,aAAK,IAAIrM,CAAT,IAAiB+T,CAAjB,EAAyBgiC,EAAO/1C,CAAP+1C,IAAehiC,EAAK/T,CAAL+T,CAAfgiC;;AACzB,eAAOA,CAAP;AAGF;;AAAA,eAASG,EAAT,CAAmBjiD,CAAnB,EAAwB+E,CAAxB,EAA6BkwC,CAA7B,EAAqC/3B,CAArC,EAAqCA;AAEnC,YAAI/M,KADJpL,IAAMm9C,GAAUn9C,CAAVm9C,CACF/xC,EAAYvR,IAAZuR,GAAmBpL,EAAInG,IAAJmG,CAAS/E,CAAT+E,EAAcmY,CAAdnY,CAAnBoL,GAA4CpL,EAAI/E,CAAJ+E,CAAhD;AACA,aAAc,CAAd,KAAIoL,CAAJ,EAAuB,OAAO,SAAP;AACvB,YAAc,UAAVA,CAAJ,EAAuB,OAAO,OAAP;AACvB,YAAa,QAATA,CAAS,IAAQ8kC,EAAO9kC,CAAP8kC,CAArB,EAAsC,OAAO,SAAP;;AAEtC,YAAIlwC,EAAIo9C,WAAR,EAAqB;AACnB,cAAuD,oBAAnDhjD,OAAOmB,SAAPnB,CAAiBoD,QAAjBpD,CAA0BP,IAA1BO,CAA+B4F,EAAIo9C,WAAnChjD,CAAJ,EACI,OAAO8iD,GAAUjiD,CAAViiD,EAAel9C,EAAIo9C,WAAnBF,EAAgChN,CAAhCgN,EAAwC/kC,CAAxC+kC,CAAP;;AACJ,eAAK,IAAIxjD,IAAI,CAAb,EAAgBA,IAAIsG,EAAIo9C,WAAJp9C,CAAgBjE,MAApC,EAA4CrC,GAA5C,EAAiD;AAC/C,gBAAI0X,IAAS8rC,GAAUjiD,CAAViiD,EAAel9C,EAAIo9C,WAAJp9C,CAAgBtG,CAAhBsG,CAAfk9C,EAAmChN,CAAnCgN,EAA2C/kC,CAA3C+kC,CAAb;AACA,gBAAI9rC,CAAJ,EAAc,OAAOA,CAAP;AAAOA;AAAAA;AAO3B;;AAAA,eAASisC,EAAT,CAAuB1iD,CAAvB,EAAuBA;AACrB,YAAIV,IAAuB,mBAATU,CAAS,GAAWA,CAAX,GAAmBo+C,GAASp+C,EAAM2iD,OAAfvE,CAA9C;AACA,eAAe,UAAR9+C,CAAQ,IAAkB,SAARA,CAAV,IAAmC,WAARA,CAA3B,IAAsD,SAARA,CAA7D;AAGF;;AAAA,eAASsjD,EAAT,CAA0BtjD,CAA1B,EAAgCsxC,CAAhC,EAAuCiS,CAAvC,EAAuCA;AACrC,YAAIh+C,IAAOvF,CAAX;AAKA,eAJIsxC,EAAMkS,MAANlS,IAAwB,SAAR/rC,CAAhB+rC,KAAiCtxC,IAAO,SAASA,CAAjDsxC,GAAiDtxC,CAChDoJ,IAAckoC,EAAMmS,OAApBr6C,GAA8BkoC,EAAMp7B,OADYlW,KACQ,UAARuF,CADAvF,KACkBA,IAAO,UAAUA,CADnCA,CAAjDsxC,EACoFtxC,CACnFoJ,IAAckoC,EAAMp7B,OAApB9M,GAA8BkoC,EAAMmS,OAD+CzjD,KAC3B,SAARuF,CADmCvF,KAClBA,IAAO,SAASA,CADEA,CADpFsxC,EAEkFtxC,CACjFujD,CADiFvjD,IACtEsxC,EAAMoS,QADgE1jD,IAC5C,WAARuF,CADoDvF,KACjCA,IAAO,WAAWA,CADeA,CAFlFsxC,EAIGtxC,CAAP;AAIF;;AAAA,eAAS2jD,EAAT,CAAiBrS,CAAjB,EAAwBiS,CAAxB,EAAwBA;AACtB,YAAIj7C,KAA2B,MAAjBgpC,EAAM+R,OAAhB/6C,IAAiCgpC,EAAYsS,IAAjD,EAAsD,QAAO,CAAP;AACtD,YAAI5jD,IAAO8+C,GAASxN,EAAM+R,OAAfvE,CAAX;AACA,eAAY,QAAR9+C,CAAQ,IAARA,CAAgBsxC,EAAMuS,WAAd,KAGS,KAAjBvS,EAAM+R,OAAW,IAAK/R,EAAMv/B,IAAX,KAAmB/R,IAAOsxC,EAAMv/B,IAAhC,GACduxC,GAAiBtjD,CAAjBsjD,EAAuBhS,CAAvBgS,EAA8BC,CAA9BD,CAJK,CAAZ;AAOF;;AAAA,eAASJ,EAAT,CAAmB9pC,CAAnB,EAAmBA;AACjB,eAAqB,mBAAPA,CAAO,GAAWmpC,GAAOnpC,CAAPmpC,CAAX,GAAyBnpC,CAA9C;AAKF;;AAAA,eAAS0qC,EAAT,CAA6BpvC,CAA7B,EAAiCqvC,CAAjC,EAAiCA;AAI/B,aAHA,IAAIvqB,IAAS9kB,EAAGsF,GAAHtF,CAAO6kB,GAAP7kB,CAAW8kB,MAAxB,EAAgCwqB,IAAO,EAAvC,EAGSvkD,IAAI,CAAb,EAAgBA,IAAI+5B,EAAO13B,MAA3B,EAAmCrC,GAAnC,EAAwC;AAEtC,eADA,IAAIwkD,IAASF,EAAQvqB,EAAO/5B,CAAP+5B,CAARuqB,CACb,EAAOC,EAAKliD,MAALkiD,IAAetoC,GAAIuoC,EAAOxzC,IAAXiL,EAAiBxM,EAAI80C,CAAJ90C,EAAUwB,EAA3BgL,KAAkC,CAAxD,GAA2D;AACzD,gBAAIwoC,IAAWF,EAAKlU,GAALkU,EAAf;;AACA,gBAAItoC,GAAIwoC,EAASzzC,IAAbiL,EAAmBuoC,EAAOxzC,IAA1BiL,IAAkC,CAAtC,EAAyC;AACvCuoC,gBAAOxzC,IAAPwzC,GAAcC,EAASzzC,IAAvBwzC;AACA;AAAA;AAGJD;;AAAAA,YAAK58C,IAAL48C,CAAUC,CAAVD;AAGFzd;;AAAAA,WAAQ7xB,CAAR6xB,EAAY;AACV,eAAK,IAAI9mC,IAAIukD,EAAKliD,MAALkiD,GAAc,CAA3B,EAA8BvkD,KAAK,CAAnC,EAAsCA,GAAtC,EACI+1C,GAAa9gC,EAAGsF,GAAhBw7B,EAAqB,EAArBA,EAAyBwO,EAAKvkD,CAALukD,EAAQvzC,IAAjC+kC,EAAuCwO,EAAKvkD,CAALukD,EAAQtzC,EAA/C8kC,EAAmD,SAAnDA;;AACJ5W,aAAoBlqB,CAApBkqB;AAAoBlqB,SAHtB6xB;AAOF;;AAAA,eAAS4d,EAAT,CAA2BpgD,CAA3B,EAAiC4L,CAAjC,EAAqCU,CAArC,EAAqCA;AACnC,YAAIjL,IAAS+K,GAAmBpM,EAAK6P,IAAxBzD,EAA8BR,IAAKU,CAAnCF,EAAwCE,CAAxCF,CAAb;AACA,eAAO/K,IAAS,CAATA,IAAcA,IAASrB,EAAK6P,IAAL7P,CAAUjC,MAAjCsD,GAA0C,IAA1CA,GAAiDA,CAAxD;AAGF;;AAAA,eAASg/C,EAAT,CAAuBrgD,CAAvB,EAA6BK,CAA7B,EAAoCiM,CAApC,EAAoCA;AAClC,YAAIV,IAAKw0C,GAAkBpgD,CAAlBogD,EAAwB//C,EAAMuL,EAA9Bw0C,EAAkC9zC,CAAlC8zC,CAAT;AACA,eAAa,QAANx0C,CAAM,GAAO,IAAP,GAAc,IAAI8L,EAAJ,CAAQrX,EAAML,IAAd,EAAoB4L,CAApB,EAAwBU,IAAM,CAANA,GAAU,OAAVA,GAAoB,QAA5C,CAA3B;AAGF;;AAAA,eAASg0C,EAAT,CAAmBC,CAAnB,EAA6B5vC,CAA7B,EAAiCmR,CAAjC,EAA0C/K,CAA1C,EAAkDzK,CAAlD,EAAkDA;AAChD,YAAIi0C,CAAJ,EAAc;AACZ,cAAIrzC,IAAQ0C,GAASkS,CAATlS,EAAkBe,EAAGsF,GAAHtF,CAAO7C,SAAzB8B,CAAZ;;AACA,cAAI1C,CAAJ,EAAW;AACT,gBAGItB,CAHJ;AAAA,gBAAIoZ,IAAO1Y,IAAM,CAANA,GAAUnB,EAAI+B,CAAJ/B,CAAVmB,GAAuBY,EAAM,CAANA,CAAlC;AAAA,gBAEIC,IADsBb,IAAM,CAANA,KAA2B,KAAd0Y,EAAKnX,KAAlBvB,IACQ,OADRA,GACkB,QAF5C;;AAUA,gBAAI0Y,EAAKnX,KAALmX,GAAa,CAAbA,IAAsC,SAApBrU,EAAGsF,GAAHtF,CAAO7C,SAA7B,EAAiD;AAC/C,kBAAI0yC,IAAOt0B,GAAsBvb,CAAtBub,EAA0BpK,CAA1BoK,CAAX;AACAtgB,kBAAKU,IAAM,CAANA,GAAUwV,EAAQjS,IAARiS,CAAa/jB,MAAb+jB,GAAsB,CAAhCxV,GAAoC,CAAzCV;AACA,kBAAI60C,IAAYx0B,GAAoBtb,CAApBsb,EAAwBu0B,CAAxBv0B,EAA8BrgB,CAA9BqgB,EAAkCoB,GAAlD;AACAzhB,kBAAKY,GAAU,UAAUZ,CAAV,EAAUA;AAAM,uBAAOqgB,GAAoBtb,CAApBsb,EAAwBu0B,CAAxBv0B,EAA8BrgB,CAA9BqgB,EAAkCoB,GAAlCpB,IAAyCw0B,CAAhD;AAAgDA,eAA1Ej0C,EAAyFF,IAAM,CAANA,KAA2B,KAAd0Y,EAAKnX,KAAlBvB,IAAgC0Y,EAAKtY,IAArCJ,GAA4C0Y,EAAKrY,EAALqY,GAAU,CAA/IxY,EAAkJZ,CAAlJY,CAALZ,EACc,YAAVuB,CAAU,KAAYvB,IAAKw0C,GAAkBt+B,CAAlBs+B,EAA2Bx0C,CAA3Bw0C,EAA+B,CAA/BA,CAAjB,CADdx0C;AAC8D,aALhE,MAMSA,IAAKU,IAAM,CAANA,GAAU0Y,EAAKrY,EAAfL,GAAoB0Y,EAAKtY,IAA9Bd;;AACT,mBAAO,IAAI8L,EAAJ,CAAQX,CAAR,EAAgBnL,CAAhB,EAAoBuB,CAApB,CAAP;AAA2BA;AAG/B;;AAAA,eAAO,IAAIuK,EAAJ,CAAQX,CAAR,EAAgBzK,IAAM,CAANA,GAAUwV,EAAQjS,IAARiS,CAAa/jB,MAAvBuO,GAAgC,CAAhD,EAAmDA,IAAM,CAANA,GAAU,QAAVA,GAAqB,OAAxE,CAAP;AAzMFkyC;;AAAAA,SAAOkC,KAAPlC,GAAe;AACbmC,cAAQ,YADK;AACSC,eAAS,aADlB;AACiCC,YAAM,UADvC;AACmDC,cAAQ,YAD3D;AAEbC,aAAO,WAFM;AAEOC,cAAQ,kBAFf;AAEmCC,gBAAU,UAF7C;AAEyDC,kBAAY,YAFrE;AAGbC,gBAAU,cAHG;AAGaC,mBAAa,eAH1B;AAG2C,2BAAmB,eAH9D;AAIbC,aAAO,YAJM;AAIQ,qBAAa,YAJrB;AAKbC,eAAS,kBALI;AAKgBC,gBAAU,iBAL1B;AAMbC,aAAO;AANM,OAAfhD,EAWAA,GAAOiD,SAAPjD,GAAmB;AACjB,kBAAU,WADO;AACM,kBAAU,YADhB;AAC8B,kBAAU,MADxC;AACgD,wBAAgB,MADhE;AACwE,kBAAU,MADlF;AAEjB,qBAAa,YAFI;AAEU,oBAAY,UAFtB;AAEkC,mBAAW,UAF7C;AAEyD,qBAAa,YAFtE;AAGjB,qBAAa,aAHI;AAGW,sBAAc,cAHzB;AAGyC,oBAAY,aAHrD;AAGoE,qBAAa,WAHjF;AAIjB,0BAAkB,gBAJD;AAImB,uBAAe,eAJlC;AAImD,kBAAU,MAJ7D;AAIqE,kBAAU,MAJ/E;AAKjB,kBAAU,UALO;AAKK,wBAAgB,UALrB;AAKiC,wBAAgB,SALjD;AAK4D,wBAAgB,YAL5E;AAMjB,kBAAU,YANO;AAMO,kBAAU,YANjB;AAOjB,kBAAU,eAPO;AAOU,wBAAgB,eAP1B;AAO2C,iBAAS,eAPpD;AAQjBY,qBAAe;AARE,OAXnBZ,EAsBAA,GAAOkD,MAAPlD,GAAgB;AACd,kBAAU,aADI;AACW,kBAAU,YADrB;AACmC,kBAAU,UAD7C;AACyD,kBAAU,YADnE;AAEd,iBAAS,aAFK;AAEU,iBAAS,YAFnB;AAEiC,kBAAU,aAF3C;AAE0D,kBAAU,WAFpE;AAGd,kBAAU,YAHI;AAGU,wBAAgB,UAH1B;AAGsC,kBAAU,cAHhD;AAGgE,kBAAU,eAH1E;AAId,iBAAS,cAJK;AAIW,yBAAiB,eAJ5B;AAI6C,kBAAU,UAJvD;AAImE,kBAAU,gBAJ7E;AAKd,kBAAU;AALI,OAtBhBA,EA6BAA,GAAOmD,UAAPnD,GAAoB;AAClB,iBAAS,WADS;AACI,iBAAS,YADb;AAC2B,iBAAS,MADpC;AAC4C,uBAAe,MAD3D;AACmE,iBAAS,MAD5E;AAElB,oBAAY,YAFM;AAEQ,kBAAU,YAFlB;AAEgC,mBAAW,UAF3C;AAEuD,oBAAY,UAFnE;AAE+E,oBAAY,aAF3F;AAGlB,qBAAa,cAHK;AAGW,oBAAY,YAHvB;AAGqC,qBAAa,aAHlD;AAGiE,yBAAiB,gBAHlF;AAIlB,8BAAsB,eAJJ;AAIqB,sBAAc,eAJnC;AAIoD,iBAAS,MAJ7D;AAIqE,iBAAS,MAJ9E;AAKlB,iBAAS,UALS;AAKG,uBAAe,UALlB;AAK8B,qBAAa,SAL3C;AAKsD,2BAAmB,YALzE;AAMlB,iBAAS,YANS;AAMK,iBAAS,YANd;AAM4B,yBAAiB,oBAN7C;AAMmE,sBAAc,qBANjF;AAOlB,iBAAS,eAPS;AAOQ,uBAAe,eAPvB;AAOwC,mBAAW,YAPnD;AAOiE,qBAAa,UAP9E;AAQlBY,qBAAe,CAAC,OAAD,EAAU,QAAV;AARG,OA7BpBZ,EAuCAA,GAAgBphD,OAAhBohD,GAAoBz5C,IAAMy5C,GAAOmD,UAAb58C,GAA0By5C,GAAOiD,SAvCrDjD;AAmRA,UAAIoD,KAAW;AACbrS,mBAAWA,EADE;AAEbsS,yBAAiB,UAAUlxC,CAAV,EAAUA;AAAM,iBAAOA,EAAGi9B,YAAHj9B,CAAgBA,EAAGmqB,SAAHnqB,CAAa,QAAbA,CAAhBA,EAAwCA,EAAGmqB,SAAHnqB,CAAa,MAAbA,CAAxCA,EAA8DtG,CAA9DsG,CAAP;AAAqEtG,SAFzF;AAGby3C,kBAAU,UAAUnxC,CAAV,EAAUA;AAAM,iBAAOovC,GAAoBpvC,CAApBovC,EAAwB,UAAUr6C,CAAV,EAAUA;AACjE,gBAAIA,EAAMiwB,KAANjwB,EAAJ,EAAmB;AACjB,kBAAI5H,IAAMkY,GAAQrF,EAAGsF,GAAXD,EAAgBtQ,EAAMowB,IAANpwB,CAAW1F,IAA3BgW,EAAiCnG,IAAjCmG,CAAsCjY,MAAhD;AACA,qBAAI2H,EAAMowB,IAANpwB,CAAWkG,EAAXlG,IAAiB5H,CAAjB4H,IAAwBA,EAAMowB,IAANpwB,CAAW1F,IAAX0F,GAAkBiL,EAAG8Q,QAAH9Q,EAA1CjL,GACO;AAACgH,sBAAMhH,EAAMowB,IAAb;AAAmBnpB,oBAAI+K,GAAIhS,EAAMowB,IAANpwB,CAAW1F,IAAX0F,GAAkB,CAAtBgS,EAAyB,CAAzBA;AAAvB,eADPhS,GAGO;AAACgH,sBAAMhH,EAAMowB,IAAb;AAAmBnpB,oBAAI+K,GAAIhS,EAAMowB,IAANpwB,CAAW1F,IAAf0X,EAAqB5Z,CAArB4Z;AAAvB,eAHX;AAKA;;AAAA,mBAAO;AAAChL,oBAAMhH,EAAMgH,IAANhH,EAAP;AAAqBiH,kBAAIjH,EAAMiH,EAANjH;AAAzB,aAAP;AAAsCiH,WARTozC,CAAP;AAQgBpzC,SAX7B;AAcbo1C,oBAAY,UAAUpxC,CAAV,EAAUA;AAAM,iBAAOovC,GAAoBpvC,CAApBovC,EAAwB,UAAUr6C,CAAV,EAAUA;AAAS,mBAAO;AACnFgH,oBAAMgL,GAAIhS,EAAMgH,IAANhH,GAAa1F,IAAjB0X,EAAuB,CAAvBA,CAD6E;AAEnF/K,kBAAIwL,GAAQxH,EAAGsF,GAAXkC,EAAgBT,GAAIhS,EAAMiH,EAANjH,GAAW1F,IAAX0F,GAAkB,CAAtBgS,EAAyB,CAAzBA,CAAhBS;AAF+E,aAAP;AAE/B,WAFZ4nC,CAAP;AAEmB,SAhBlC;AAkBbiC,qBAAa,UAAUrxC,CAAV,EAAUA;AAAM,iBAAOovC,GAAoBpvC,CAApBovC,EAAwB,UAAUr6C,CAAV,EAAUA;AAAS,mBAAO;AACpFgH,oBAAMgL,GAAIhS,EAAMgH,IAANhH,GAAa1F,IAAjB0X,EAAuB,CAAvBA,CAD8E;AACnD/K,kBAAIjH,EAAMgH,IAANhH;AAD+C,aAAP;AAClCgH,WADTqzC,CAAP;AACgBrzC,SAnBhC;AAqBbu1C,4BAAoB,UAAUtxC,CAAV,EAAUA;AAAM,iBAAOovC,GAAoBpvC,CAApBovC,EAAwB,UAAUr6C,CAAV,EAAUA;AAC3E,gBAAI2nB,IAAM1c,EAAGmgB,UAAHngB,CAAcjL,EAAMowB,IAApBnlB,EAA0B,KAA1BA,EAAiC0c,GAAjC1c,GAAuC,CAAjD;AAEA,mBAAO;AAACjE,oBADMiE,EAAG8gB,UAAH9gB,CAAc;AAACsC,sBAAM,CAAP;AAAUoa,qBAAKA;AAAf,eAAd1c,EAAmC,KAAnCA,CACP;AAAgBhE,kBAAIjH,EAAMgH,IAANhH;AAApB,aAAP;AAAiCgH,WAHQqzC,CAAP;AAGDrzC,SAxBtB;AA0Bbw1C,6BAAqB,UAAUvxC,CAAV,EAAUA;AAAM,iBAAOovC,GAAoBpvC,CAApBovC,EAAwB,UAAUr6C,CAAV,EAAUA;AAC5E,gBAAI2nB,IAAM1c,EAAGmgB,UAAHngB,CAAcjL,EAAMowB,IAApBnlB,EAA0B,KAA1BA,EAAiC0c,GAAjC1c,GAAuC,CAAjD;AAAA,gBACIwxC,IAAWxxC,EAAG8gB,UAAH9gB,CAAc;AAACsC,oBAAMtC,EAAGkL,OAAHlL,CAAW6oB,OAAX7oB,CAAmBgC,WAAnBhC,GAAiC,GAAxC;AAA6C0c,mBAAKA;AAAlD,aAAd1c,EAAsE,KAAtEA,CADf;AAEA,mBAAO;AAACjE,oBAAMhH,EAAMgH,IAANhH,EAAP;AAAqBiH,kBAAIw1C;AAAzB,aAAP;AAAgCA,WAHUpC,CAAP;AAGHoC,SA7BrB;AA+Bb/L,cAAM,UAAUzlC,CAAV,EAAUA;AAAM,iBAAOA,EAAGylC,IAAHzlC,EAAP;AAAUylC,SA/BnB;AAgCbC,cAAM,UAAU1lC,CAAV,EAAUA;AAAM,iBAAOA,EAAG0lC,IAAH1lC,EAAP;AAAU0lC,SAhCnB;AAiCbC,uBAAe,UAAU3lC,CAAV,EAAUA;AAAM,iBAAOA,EAAG2lC,aAAH3lC,EAAP;AAAU2lC,SAjC5B;AAkCbC,uBAAe,UAAU5lC,CAAV,EAAUA;AAAM,iBAAOA,EAAG4lC,aAAH5lC,EAAP;AAAU4lC,SAlC5B;AAmCb6L,oBAAY,UAAUzxC,CAAV,EAAUA;AAAM,iBAAOA,EAAGg9B,eAAHh9B,CAAmB+G,GAAI/G,EAAGg5B,SAAHh5B,EAAJ+G,EAAoB,CAApBA,CAAnB/G,CAAP;AAA8C,SAnC7D;AAoCb0xC,kBAAU,UAAU1xC,CAAV,EAAUA;AAAM,iBAAOA,EAAGg9B,eAAHh9B,CAAmB+G,GAAI/G,EAAG8Q,QAAH9Q,EAAJ+G,CAAnB/G,CAAP;AAAiC8Q,SApC9C;AAqCb6gC,qBAAa,UAAU3xC,CAAV,EAAUA;AAAM,iBAAOA,EAAG6kC,kBAAH7kC,CAAsB,UAAUjL,CAAV,EAAUA;AAAS,mBAAOqQ,GAAUpF,CAAVoF,EAAcrQ,EAAMowB,IAANpwB,CAAW1F,IAAzB+V,CAAP;AAAgC/V,WAAzE2Q,EAClC;AAACnG,oBAAQ,OAAT;AAAkBwhB,kBAAM;AAAxB,WADkCrb,CAAP;AACH,SAtCb;AAwCb4xC,0BAAkB,UAAU5xC,CAAV,EAAUA;AAAM,iBAAOA,EAAG6kC,kBAAH7kC,CAAsB,UAAUjL,CAAV,EAAUA;AAAS,mBAAO88C,GAAe7xC,CAAf6xC,EAAmB98C,EAAMowB,IAAzB0sB,CAAP;AAAgC1sB,WAAzEnlB,EACvC;AAACnG,oBAAQ,OAAT;AAAkBwhB,kBAAM;AAAxB,WADuCrb,CAAP;AACR,SAzCb;AA2Cb8xC,mBAAW,UAAU9xC,CAAV,EAAUA;AAAM,iBAAOA,EAAG6kC,kBAAH7kC,CAAsB,UAAUjL,CAAV,EAAUA;AAAS,mBAwG7E,UAAiBiL,CAAjB,EAAqB2Q,CAArB,EAAqBA;AACnB,kBAAIthB,IAAOgW,GAAQrF,EAAGsF,GAAXD,EAAgBsL,CAAhBtL,CAAX;AAAA,kBACIo+B,IAp4KN,UAAuBp0C,CAAvB,EAAuBA;AAErB,qBADA,IAAIohB,CACJ,EAAOA,IAASJ,GAAmBhhB,CAAnBghB,CAAhB,GACIhhB,IAAOohB,EAAOb,IAAPa,CAAY,CAAZA,EAAY,CAAG,CAAfA,EAAqBphB,IAA5BA;;AACJ,uBAAOA,CAAP;AAg4Ka0iD,eAp4Kf,CAo4K6B1iD,CAp4K7B,CAm4KE;;AAGA,qBADIo0C,KAAUp0C,CAAVo0C,KAAkB9yB,IAAQvK,GAAOq9B,CAAPr9B,CAA1Bq9B,GACGkM,IAAU,CAAVA,EAAgB3vC,CAAhB2vC,EAAoBtgD,CAApBsgD,EAA0Bh/B,CAA1Bg/B,EAA0Bh/B,CAAQ,CAAlCg/B,CAAP;AA5GkFqC,aAwGpF,CAxG4FhyC,CAwG5F,EAxGgGjL,EAAMowB,IAANpwB,CAAW1F,IAwG3G,CAxG6E;AAA8BA,WAAvE2Q,EAChC;AAACnG,oBAAQ,OAAT;AAAkBwhB,mBAAO;AAAzB,WADgCrb,CAAP;AACA,SA5Cd;AA8CbiyC,qBAAa,UAAUjyC,CAAV,EAAUA;AAAM,iBAAOA,EAAG6kC,kBAAH7kC,CAAsB,UAAUjL,CAAV,EAAUA;AAClE,gBAAI2nB,IAAM1c,EAAGogB,YAAHpgB,CAAgBjL,EAAMowB,IAAtBnlB,EAA4B,KAA5BA,EAAmC0c,GAAnC1c,GAAyC,CAAnD;AACA,mBAAOA,EAAG8gB,UAAH9gB,CAAc;AAACsC,oBAAMtC,EAAGkL,OAAHlL,CAAW6oB,OAAX7oB,CAAmBgC,WAAnBhC,GAAiC,GAAxC;AAA6C0c,mBAAKA;AAAlD,aAAd1c,EAAsE,KAAtEA,CAAP;AAA6E,WAF3CA,EAGjClG,CAHiCkG,CAAP;AAG1BlG,SAjDU;AAkDbo4C,oBAAY,UAAUlyC,CAAV,EAAUA;AAAM,iBAAOA,EAAG6kC,kBAAH7kC,CAAsB,UAAUjL,CAAV,EAAUA;AACjE,gBAAI2nB,IAAM1c,EAAGogB,YAAHpgB,CAAgBjL,EAAMowB,IAAtBnlB,EAA4B,KAA5BA,EAAmC0c,GAAnC1c,GAAyC,CAAnD;AACA,mBAAOA,EAAG8gB,UAAH9gB,CAAc;AAACsC,oBAAM,CAAP;AAAUoa,mBAAKA;AAAf,aAAd1c,EAAmC,KAAnCA,CAAP;AAA0C,WAFTA,EAGhClG,CAHgCkG,CAAP;AAGzBlG,SArDU;AAsDbq4C,yBAAiB,UAAUnyC,CAAV,EAAUA;AAAM,iBAAOA,EAAG6kC,kBAAH7kC,CAAsB,UAAUjL,CAAV,EAAUA;AACtE,gBAAI2nB,IAAM1c,EAAGogB,YAAHpgB,CAAgBjL,EAAMowB,IAAtBnlB,EAA4B,KAA5BA,EAAmC0c,GAAnC1c,GAAyC,CAAnD;AAAA,gBACI/F,IAAM+F,EAAG8gB,UAAH9gB,CAAc;AAACsC,oBAAM,CAAP;AAAUoa,mBAAKA;AAAf,aAAd1c,EAAmC,KAAnCA,CADV;AAEA,mBAAI/F,EAAIgB,EAAJhB,GAAS+F,EAAGqF,OAAHrF,CAAW/F,EAAI5K,IAAf2Q,EAAqBtH,MAArBsH,CAA4B,IAA5BA,CAAT/F,GAAqD43C,GAAe7xC,CAAf6xC,EAAmB98C,EAAMowB,IAAzB0sB,CAArD53C,GACGA,CADP;AACOA,WAJ+B+F,EAKrClG,CALqCkG,CAAP;AAK9BlG,SA3DU;AA4Dbs4C,kBAAU,UAAUpyC,CAAV,EAAUA;AAAM,iBAAOA,EAAGqyC,KAAHryC,CAAGqyC,CAAO,CAAVryC,EAAa,MAAbA,CAAP;AAAoB,SA5DjC;AA6DbsyC,oBAAY,UAAUtyC,CAAV,EAAUA;AAAM,iBAAOA,EAAGqyC,KAAHryC,CAAS,CAATA,EAAY,MAAZA,CAAP;AAAmB,SA7DlC;AA8DbuyC,kBAAU,UAAUvyC,CAAV,EAAUA;AAAM,iBAAOA,EAAGqyC,KAAHryC,CAAGqyC,CAAO,CAAVryC,EAAa,MAAbA,CAAP;AAAoB,SA9DjC;AA+DbwyC,oBAAY,UAAUxyC,CAAV,EAAUA;AAAM,iBAAOA,EAAGqyC,KAAHryC,CAAS,CAATA,EAAY,MAAZA,CAAP;AAAmB,SA/DlC;AAgEbyyC,oBAAY,UAAUzyC,CAAV,EAAUA;AAAM,iBAAOA,EAAG0yC,KAAH1yC,CAAG0yC,CAAO,CAAV1yC,EAAa,MAAbA,CAAP;AAAoB,SAhEnC;AAiEb2yC,qBAAa,UAAU3yC,CAAV,EAAUA;AAAM,iBAAOA,EAAG0yC,KAAH1yC,CAAS,CAATA,EAAY,MAAZA,CAAP;AAAmB,SAjEnC;AAkEb4yC,sBAAc,UAAU5yC,CAAV,EAAUA;AAAM,iBAAOA,EAAG0yC,KAAH1yC,CAAG0yC,CAAO,CAAV1yC,EAAa,QAAbA,CAAP;AAAoB,SAlErC;AAmEb6yC,uBAAe,UAAU7yC,CAAV,EAAUA;AAAM,iBAAOA,EAAG0yC,KAAH1yC,CAAS,CAATA,EAAY,QAAZA,CAAP;AAAmB,SAnErC;AAoEb8yC,oBAAY,UAAU9yC,CAAV,EAAUA;AAAM,iBAAOA,EAAG0yC,KAAH1yC,CAAG0yC,CAAO,CAAV1yC,EAAa,MAAbA,CAAP;AAAoB,SApEnC;AAqEb+yC,sBAAc,UAAU/yC,CAAV,EAAUA;AAAM,iBAAOA,EAAG0yC,KAAH1yC,CAAS,CAATA,EAAY,OAAZA,CAAP;AAAmB,SArEpC;AAsEbgzC,qBAAa,UAAUhzC,CAAV,EAAUA;AAAM,iBAAOA,EAAG0yC,KAAH1yC,CAAG0yC,CAAO,CAAV1yC,EAAa,OAAbA,CAAP;AAAoB,SAtEpC;AAuEbizC,qBAAa,UAAUjzC,CAAV,EAAUA;AAAM,iBAAOA,EAAG0yC,KAAH1yC,CAAS,CAATA,EAAY,MAAZA,CAAP;AAAmB,SAvEnC;AAwEbkzC,uBAAe,UAAUlzC,CAAV,EAAUA;AAAM,iBAAOA,EAAGmzC,OAAHnzC,CAAGmzC,CAAS,CAAZnzC,EAAe,MAAfA,CAAP;AAAsB,SAxExC;AAyEbozC,sBAAc,UAAUpzC,CAAV,EAAUA;AAAM,iBAAOA,EAAGmzC,OAAHnzC,CAAW,CAAXA,EAAc,MAAdA,CAAP;AAAqB,SAzEtC;AA0EbqzC,uBAAe,UAAUrzC,CAAV,EAAUA;AAAM,iBAAOA,EAAGmzC,OAAHnzC,CAAGmzC,CAAS,CAAZnzC,EAAe,MAAfA,CAAP;AAAsB,SA1ExC;AA2EbszC,sBAAc,UAAUtzC,CAAV,EAAUA;AAAM,iBAAOA,EAAGmzC,OAAHnzC,CAAW,CAAXA,EAAc,MAAdA,CAAP;AAAqB,SA3EtC;AA4EbuzC,wBAAgB,UAAUvzC,CAAV,EAAUA;AAAM,iBAAOA,EAAGmzC,OAAHnzC,CAAGmzC,CAAS,CAAZnzC,EAAe,OAAfA,CAAP;AAAsB,SA5EzC;AA6EbwzC,uBAAe,UAAUxzC,CAAV,EAAUA;AAAM,iBAAOA,EAAGmzC,OAAHnzC,CAAW,CAAXA,EAAc,OAAdA,CAAP;AAAqB,SA7EvC;AA8EbyzC,oBAAY,UAAUzzC,CAAV,EAAUA;AAAM,iBAAOA,EAAG0zC,eAAH1zC,CAAmB,OAAnBA,CAAP;AAA0B,SA9EzC;AA+Eb2zC,oBAAY,UAAU3zC,CAAV,EAAUA;AAAM,iBAAOA,EAAG0zC,eAAH1zC,CAAmB,KAAnBA,CAAP;AAA0B,SA/EzC;AAgFb4zC,oBAAY,UAAU5zC,CAAV,EAAUA;AAAM,iBAAOA,EAAG0zC,eAAH1zC,CAAmB,UAAnBA,CAAP;AAA0B,SAhFzC;AAiFb6zC,mBAAW,UAAU7zC,CAAV,EAAUA;AAAM,iBAAOA,EAAGilC,gBAAHjlC,CAAoB,IAApBA,CAAP;AAA2B,SAjFzC;AAkFb8zC,uBAAe,UAAU9zC,CAAV,EAAUA;AAEvB,eADA,IAAI+zC,IAAS,EAAb,EAAiBjvB,IAAS9kB,EAAG2kC,cAAH3kC,EAA1B,EAA+CzH,IAAUyH,EAAG6D,OAAH7D,CAAWzH,OAApE,EACSxN,IAAI,CAAb,EAAgBA,IAAI+5B,EAAO13B,MAA3B,EAAmCrC,GAAnC,EAAwC;AACtC,gBAAIkP,IAAM6qB,EAAO/5B,CAAP+5B,EAAU/oB,IAAV+oB,EAAV;AAAA,gBACI5qB,IAAM5B,EAAY0H,EAAGqF,OAAHrF,CAAW/F,EAAI5K,IAAf2Q,CAAZ1H,EAAkC2B,EAAIgB,EAAtC3C,EAA0CC,CAA1CD,CADV;AAEAy7C,cAAOrhD,IAAPqhD,CAAYx5C,EAAShC,IAAU2B,IAAM3B,CAAzBgC,CAAZw5C;AAEF/zC;;AAAAA,YAAGmlC,iBAAHnlC,CAAqB+zC,CAArB/zC;AAAqB+zC,SAzFV;AA2FbC,oBAAY,UAAUh0C,CAAV,EAAUA;AAChBA,YAAG23B,iBAAH33B,KAA0BA,EAAG0zC,eAAH1zC,CAAmB,KAAnBA,CAA1BA,GACGA,EAAGi0C,WAAHj0C,CAAe,WAAfA,CADHA;AACkB,SA7FX;AAsGbk0C,wBAAgB,UAAUl0C,CAAV,EAAUA;AAAM,iBAAO6xB,GAAQ7xB,CAAR6xB,EAAY;AAEjD,iBADA,IAAI/M,IAAS9kB,EAAG2kC,cAAH3kC,EAAb,EAAkColC,IAAS,EAA3C,EACSr6C,IAAI,CAAb,EAAgBA,IAAI+5B,EAAO13B,MAA3B,EAAmCrC,GAAnC,EACE,IAAK+5B,EAAO/5B,CAAP+5B,EAAUE,KAAVF,EAAL;AACA,kBAAIpoB,IAAMooB,EAAO/5B,CAAP+5B,EAAUK,IAApB;AAAA,kBAA0B91B,IAAOgW,GAAQrF,EAAGsF,GAAXD,EAAgB3I,EAAIrN,IAApBgW,EAA0BnG,IAA3D;AACA,kBAAI7P,CAAJ,EAEE,IADIqN,EAAIzB,EAAJyB,IAAUrN,EAAKjC,MAAfsP,KAAyBA,IAAM,IAAIqK,EAAJ,CAAQrK,EAAIrN,IAAZ,EAAkBqN,EAAIzB,EAAJyB,GAAS,CAA3B,CAA/BA,GACAA,EAAIzB,EAAJyB,GAAS,CAAb,EACEA,IAAM,IAAIqK,EAAJ,CAAQrK,EAAIrN,IAAZ,EAAkBqN,EAAIzB,EAAJyB,GAAS,CAA3B,CAANA,EACAsD,EAAG8gC,YAAH9gC,CAAgB3Q,EAAKuM,MAALvM,CAAYqN,EAAIzB,EAAJyB,GAAS,CAArBrN,IAA0BA,EAAKuM,MAALvM,CAAYqN,EAAIzB,EAAJyB,GAAS,CAArBrN,CAA1C2Q,EACgB+G,GAAIrK,EAAIrN,IAAR0X,EAAcrK,EAAIzB,EAAJyB,GAAS,CAAvBqK,CADhB/G,EAC2CtD,CAD3CsD,EACgD,YADhDA,CADAtD,CADF,KAIO,IAAIA,EAAIrN,IAAJqN,GAAWsD,EAAGsF,GAAHtF,CAAOuF,KAAtB,EAA6B;AAClC,oBAAI/H,IAAO6H,GAAQrF,EAAGsF,GAAXD,EAAgB3I,EAAIrN,IAAJqN,GAAW,CAA3B2I,EAA8BnG,IAAzC;AACI1B,sBACFd,IAAM,IAAIqK,EAAJ,CAAQrK,EAAIrN,IAAZ,EAAkB,CAAlB,CAANqN,EACAsD,EAAG8gC,YAAH9gC,CAAgB3Q,EAAKuM,MAALvM,CAAY,CAAZA,IAAiB2Q,EAAGsF,GAAHtF,CAAOokC,aAAPpkC,EAAjB3Q,GACAmO,EAAK5B,MAAL4B,CAAYA,EAAKpQ,MAALoQ,GAAc,CAA1BA,CADhBwC,EAEgB+G,GAAIrK,EAAIrN,IAAJqN,GAAW,CAAfqK,EAAkBvJ,EAAKpQ,MAALoQ,GAAc,CAAhCuJ,CAFhB/G,EAEoDtD,CAFpDsD,EAEyD,YAFzDA,CAFExC;AAQR4nC;AAAAA,gBAAO1yC,IAAP0yC,CAAY,IAAI1N,EAAJ,CAAUh7B,CAAV,EAAeA,CAAf,CAAZ0oC;AAEFplC;;AAAAA,cAAG8kC,aAAH9kC,CAAiBolC,CAAjBplC;AAAiBolC,WAvBoBvT,CAAP;AAuBbuT,SA7HN;AA+Hb+O,0BAAkB,UAAUn0C,CAAV,EAAUA;AAAM,iBAAO6xB,GAAQ7xB,CAAR6xB,EAAY;AAEnD,iBADA,IAAIuiB,IAAOp0C,EAAG2kC,cAAH3kC,EAAX,EACSjV,IAAIqpD,EAAKhnD,MAALgnD,GAAc,CAA3B,EAA8BrpD,KAAK,CAAnC,EAAsCA,GAAtC,EACIiV,EAAG8gC,YAAH9gC,CAAgBA,EAAGsF,GAAHtF,CAAOokC,aAAPpkC,EAAhBA,EAAwCo0C,EAAKrpD,CAALqpD,EAAQ/xB,MAAhDriB,EAAwDo0C,EAAKrpD,CAALqpD,EAAQjvB,IAAhEnlB,EAAsE,QAAtEA;;AACJo0C,gBAAOp0C,EAAG2kC,cAAH3kC,EAAPo0C;;AACA,iBAAK,IAAI72C,IAAM,CAAf,EAAkBA,IAAM62C,EAAKhnD,MAA7B,EAAqCmQ,GAArC,EACIyC,EAAGq0C,UAAHr0C,CAAco0C,EAAK72C,CAAL62C,EAAUr4C,IAAVq4C,GAAiB/kD,IAA/B2Q,EAAqC,IAArCA,EAAqC,CAAM,CAA3CA;;AACJkqB,eAAoBlqB,CAApBkqB;AAAoBlqB,WAPmB6xB,CAAP;AAOZ7xB,SAtIT;AAwIbs0C,kBAAU,UAAUt0C,CAAV,EAAUA;AAAM,iBAAOA,EAAGilC,gBAAHjlC,CAAoB,IAApBA,EAA0B,OAA1BA,CAAP;AAAiC,SAxI9C;AAyIbu0C,yBAAiB,UAAUv0C,CAAV,EAAUA;AAAM,iBAAOA,EAAGu0C,eAAHv0C,EAAP;AAAUu0C;AAzI9B,OAAf;;AA6IA,eAASnvC,EAAT,CAAmBpF,CAAnB,EAAuB2Q,CAAvB,EAAuBA;AACrB,YAAIthB,IAAOgW,GAAQrF,EAAGsF,GAAXD,EAAgBsL,CAAhBtL,CAAX;AAAA,YACIo+B,IAASjzB,GAAWnhB,CAAXmhB,CADb;AAGA,eADIizB,KAAUp0C,CAAVo0C,KAAkB9yB,IAAQvK,GAAOq9B,CAAPr9B,CAA1Bq9B,GACGkM,IAAU,CAAVA,EAAgB3vC,CAAhB2vC,EAAoBlM,CAApBkM,EAA4Bh/B,CAA5Bg/B,EAAmC,CAAnCA,CAAP;AAQF;;AAAA,eAASkC,EAAT,CAAwB7xC,CAAxB,EAA4B/F,CAA5B,EAA4BA;AAC1B,YAAIvK,IAAQ0V,GAAUpF,CAAVoF,EAAcnL,EAAI5K,IAAlB+V,CAAZ;AAAA,YACI/V,IAAOgW,GAAQrF,EAAGsF,GAAXD,EAAgB3V,EAAML,IAAtBgW,CADX;AAAA,YAEI9I,IAAQ0C,GAAS5P,CAAT4P,EAAee,EAAGsF,GAAHtF,CAAO7C,SAAtB8B,CAFZ;;AAGA,aAAK1C,CAAL,IAAgC,KAAlBA,EAAM,CAANA,EAASW,KAAvB,EAAmC;AACjC,cAAIs3C,IAAap6C,KAAKmN,GAALnN,CAAS,CAATA,EAAY/K,EAAK6P,IAAL7P,CAAUqJ,MAAVrJ,CAAiB,IAAjBA,CAAZ+K,CAAjB;AAAA,cACIq6C,IAAOx6C,EAAI5K,IAAJ4K,IAAYvK,EAAML,IAAlB4K,IAA0BA,EAAIgB,EAAJhB,IAAUu6C,CAApCv6C,IAAkDA,EAAIgB,EADjE;AAEA,iBAAO8L,GAAIrX,EAAML,IAAV0X,EAAgB0tC,IAAO,CAAPA,GAAWD,CAA3BztC,EAAuCrX,EAAM8M,MAA7CuK,CAAP;AAEF;;AAAA,eAAOrX,CAAP;AAIF;;AAAA,eAASglD,EAAT,CAAyB10C,CAAzB,EAA6B20C,CAA7B,EAAoCC,CAApC,EAAoCA;AAClC,YAAoB,mBAATD,CAAS,IAATA,EACTA,IAAQ1D,GAAS0D,CAAT1D,CADC0D,CAAX,EAEgB,QAAO,CAAP;AAIhB30C,UAAGkL,OAAHlL,CAAWyU,KAAXzU,CAAiB60C,YAAjB70C;AACA,YAAI80C,IAAY90C,EAAGkL,OAAHlL,CAAW0oB,KAA3B;AAAA,YAAkC2R,KAAO,CAAzC;;AACA;AACMr6B,YAAG4oC,UAAH5oC,OAAmBA,EAAGwE,KAAHxE,CAASk/B,aAATl/B,GAASk/B,CAAgB,CAA5Cl/B,GACA40C,MAAa50C,EAAGkL,OAAHlL,CAAW0oB,KAAX1oB,GAAW0oB,CAAQ,CAAhCksB,CADA50C,EAEJq6B,IAAOsa,EAAM30C,CAAN20C,KAAal7C,CAFhBuG;AAGJ,SAJF,SAIE;AACAA,YAAGkL,OAAHlL,CAAW0oB,KAAX1oB,GAAmB80C,CAAnB90C,EACAA,EAAGwE,KAAHxE,CAASk/B,aAATl/B,GAASk/B,CAAgB,CADzBl/B;AAGF;;AAAA,eAAOq6B,CAAP;AAeF;;AAAA,UAAI0a,KAAU,IAAIh8C,CAAJ,EAAd;;AAEA,eAASi8C,EAAT,CAAqBh1C,CAArB,EAAyB1U,CAAzB,EAA+B4F,CAA/B,EAAkCqwC,CAAlC,EAAkCA;AAChC,YAAI0T,IAAMj1C,EAAGwE,KAAHxE,CAASk1C,MAAnB;;AACA,YAAID,CAAJ,EAAS;AACP,cAAIvG,GAAcpjD,CAAdojD,CAAJ,EAA2B,OAAO,SAAP;AAU3B,cATI,MAAMjhD,IAAN,CAAWnC,CAAX,IACA0U,EAAGwE,KAAHxE,CAASk1C,MAATl1C,GAAkB,IADlB,GAGA+0C,GAAQz7C,GAARy7C,CAAY,EAAZA,EAAgB;AACZ/0C,cAAGwE,KAAHxE,CAASk1C,MAATl1C,IAAmBi1C,CAAnBj1C,KACFA,EAAGwE,KAAHxE,CAASk1C,MAATl1C,GAAkB,IAAlBA,EACAA,EAAGkL,OAAHlL,CAAWyU,KAAXzU,CAAiBwoB,KAAjBxoB,EAFEA;AAEewoB,WAHnBusB,CAHA,EASAI,GAAiBn1C,CAAjBm1C,EAAqBF,IAAM,GAANA,GAAY3pD,CAAjC6pD,EAAuCjkD,CAAvCikD,EAA0C5T,CAA1C4T,CAAJ,EAAyD,QAAO,CAAP;AAE3D;;AAAA,eAAOA,GAAiBn1C,CAAjBm1C,EAAqB7pD,CAArB6pD,EAA2BjkD,CAA3BikD,EAA8B5T,CAA9B4T,CAAP;AAGF;;AAAA,eAASA,EAAT,CAA0Bn1C,CAA1B,EAA8B1U,CAA9B,EAAoC4F,CAApC,EAAuCqwC,CAAvC,EAAuCA;AACrC,YAAI9+B,IAjCN,UAA4BzC,CAA5B,EAAgC1U,CAAhC,EAAsCi2C,CAAtC,EAAsCA;AACpC,eAAK,IAAIx2C,IAAI,CAAb,EAAgBA,IAAIiV,EAAGwE,KAAHxE,CAASo1C,OAATp1C,CAAiB5S,MAArC,EAA6CrC,GAA7C,EAAkD;AAChD,gBAAI0X,IAAS8rC,GAAUjjD,CAAVijD,EAAgBvuC,EAAGwE,KAAHxE,CAASo1C,OAATp1C,CAAiBjV,CAAjBiV,CAAhBuuC,EAAqChN,CAArCgN,EAA6CvuC,CAA7CuuC,CAAb;AACA,gBAAI9rC,CAAJ,EAAc,OAAOA,CAAP;AAEhB;;AAAA,iBAAQzC,EAAG6D,OAAH7D,CAAWq1C,SAAXr1C,IAAwBuuC,GAAUjjD,CAAVijD,EAAgBvuC,EAAG6D,OAAH7D,CAAWq1C,SAA3B9G,EAAsChN,CAAtCgN,EAA8CvuC,CAA9CuuC,CAAxBvuC,IACHuuC,GAAUjjD,CAAVijD,EAAgBvuC,EAAG6D,OAAH7D,CAAW6tC,MAA3BU,EAAmChN,CAAnCgN,EAA2CvuC,CAA3CuuC,CADL;AA4Ba+G,SAjCf,CAiCkCt1C,CAjClC,EAiCsC1U,CAjCtC,EAiC4Ci2C,CAjC5C,CAiCE;;AAYA,eAVc,WAAV9+B,CAAU,KACVzC,EAAGwE,KAAHxE,CAASk1C,MAATl1C,GAAkB1U,CADR,GAEA,aAAVmX,CAAU,IACVqT,GAAY9V,CAAZ8V,EAAgB,YAAhBA,EAA8B9V,CAA9B8V,EAAkCxqB,CAAlCwqB,EAAwC5kB,CAAxC4kB,CAHU,EAKA,aAAVrT,CAAU,IAAuB,WAAVA,CAAb,KACZ5B,GAAiB3P,CAAjB2P,GACA2mB,GAAaxnB,CAAbwnB,CAFY,CALA,EAOCxnB,EAGNyC,CAAT;AAIF;;AAAA,eAAS8yC,EAAT,CAA0Bv1C,CAA1B,EAA8B9O,CAA9B,EAA8BA;AAC5B,YAAI5F,IAAO2jD,GAAQ/9C,CAAR+9C,EAAQ/9C,CAAG,CAAX+9C,CAAX;AACA,iBAAK3jD,CAAL,KAEI4F,EAAE89C,QAAF99C,IAAE89C,CAAahvC,EAAGwE,KAAHxE,CAASk1C,MAAxBhkD,GAIK8jD,GAAYh1C,CAAZg1C,EAAgB,WAAW1pD,CAA3B0pD,EAAiC9jD,CAAjC8jD,EAAoC,UAAU99C,CAAV,EAAUA;AAAK,iBAAOw9C,GAAgB10C,CAAhB00C,EAAoBx9C,CAApBw9C,EAAoBx9C,CAAG,CAAvBw9C,CAAP;AAA8B,SAAjFM,KACAA,GAAYh1C,CAAZg1C,EAAgB1pD,CAAhB0pD,EAAsB9jD,CAAtB8jD,EAAyB,UAAU99C,CAAV,EAAUA;AACjC,cAAgB,mBAALA,CAAK,GAAW,WAAWzJ,IAAX,CAAgByJ,CAAhB,CAAX,GAAgCA,EAAEs+C,MAAlD,EACI,OAAOd,GAAgB10C,CAAhB00C,EAAoBx9C,CAApBw9C,CAAP;AAA2Bx9C,SAFjC89C,CALL9jD,GAUK8jD,GAAYh1C,CAAZg1C,EAAgB1pD,CAAhB0pD,EAAsB9jD,CAAtB8jD,EAAyB,UAAU99C,CAAV,EAAUA;AAAK,iBAAOw9C,GAAgB10C,CAAhB00C,EAAoBx9C,CAApBw9C,CAAP;AAA2Bx9C,SAAnE89C,CAZT;AAqBF;;AAAA,UAAIS,KAAiB,IAArB;;AACA,eAASC,EAAT,CAAmBxkD,CAAnB,EAAmBA;AACjB,YAAI8O,IAAKjQ,IAAT;;AAEA,YADAiQ,EAAGQ,KAAHR,CAASioB,KAATjoB,GAAiBrJ,GAAjBqJ,EAAiBrJ,CACboJ,GAAeC,CAAfD,EAAmB7O,CAAnB6O,CAAJ;AAEI1M,eAAMC,IAAa,EAAnBD,IAAsC,MAAbnC,EAAEy9C,OAA3Bt7C,KAA4CnC,EAAE4P,WAAF5P,GAAE4P,CAAc,CAA5DzN;AACJ,cAAIgK,IAAOnM,EAAEy9C,OAAb;AACA3uC,YAAGkL,OAAHlL,CAAW0oB,KAAX1oB,GAA2B,MAAR3C,CAAQ,IAAMnM,EAAE89C,QAAnChvC;AACA,cAAI21C,IAAUJ,GAAiBv1C,CAAjBu1C,EAAqBrkD,CAArBqkD,CAAd;AACI3hD,gBACF6hD,KAAiBE,IAAUt4C,CAAVs4C,GAAiB,IAAlCF,EAAkC,CAE7BE,CAF6B,IAEV,MAARt4C,CAFkB,IAElBA,CAAe8F,EAFG,KAEc/O,IAAMlD,EAAE69C,OAAR36C,GAAkBlD,EAAEsQ,OAFlC,KAG9BxB,EAAGilC,gBAAHjlC,CAAoB,EAApBA,EAAwB,IAAxBA,EAA8B,KAA9BA,CAJFpM,GAMAZ,MAAUoB,CAAVpB,IAAUoB,CAAQuhD,CAAlB3iD,IAAqC,MAARqK,CAA7BrK,IAA2C9B,EAAE89C,QAA7Ch8C,IAA6Cg8C,CAAa99C,EAAEsQ,OAA5DxO,IAAuEO,SAAS0gD,WAAhFjhD,IACAO,SAAS0gD,WAAT1gD,CAAqB,KAArBA,CAPAK,EAUQ,MAARyJ,CAAQ,IAAO,2BAA2B5P,IAA3B,CAAgCuS,EAAGkL,OAAHlL,CAAW6oB,OAAX7oB,CAAmB9K,SAAnD,CAAP,IAId,UAAuB8K,CAAvB,EAAuBA;AACrB,gBAAI6oB,IAAU7oB,EAAGkL,OAAHlL,CAAW6oB,OAAzB;;AAGA,qBAAS+sB,CAAT,CAAY1kD,CAAZ,EAAYA;AACO,oBAAbA,EAAEy9C,OAAW,IAAOz9C,EAAE49C,MAAT,KACf95C,EAAQ6zB,CAAR7zB,EAAiB,sBAAjBA,GACA0K,GAAInM,QAAJmM,EAAc,OAAdA,EAAuBk2C,CAAvBl2C,CADA1K,EAEA0K,GAAInM,QAAJmM,EAAc,WAAdA,EAA2Bk2C,CAA3Bl2C,CAHe;AAHnB3I;;AAAAA,cAAS8xB,CAAT9xB,EAAkB,sBAAlBA,GASAqI,GAAG7L,QAAH6L,EAAa,OAAbA,EAAsBw2C,CAAtBx2C,CATArI,EAUAqI,GAAG7L,QAAH6L,EAAa,WAAbA,EAA0Bw2C,CAA1Bx2C,CAVArI;AALI8+C,WAGN,CAHoB71C,CAGpB,CAdMpM;AAWcoM;AAkBpB;;AAAA,eAAS81C,EAAT,CAAiB5kD,CAAjB,EAAiBA;AACE,cAAbA,EAAEy9C,OAAW,KAAM5+C,KAAKuV,GAALvV,CAAS80B,GAAT90B,CAAa24B,KAAb34B,GAAa24B,CAAQ,CAA3B,GACjB3oB,GAAehQ,IAAfgQ,EAAqB7O,CAArB6O,CADiB;AAInB;;AAAA,eAASg2C,EAAT,CAAoB7kD,CAApB,EAAoBA;AAClB,YAAI8O,IAAKjQ,IAAT;;AACA,cAAI6pB,GAAc5Z,EAAGkL,OAAjB0O,EAA0B1oB,CAA1B0oB,KAAgC7Z,GAAeC,CAAfD,EAAmB7O,CAAnB6O,CAAhC6Z,IAAyD1oB,EAAEsQ,OAAFtQ,IAAEsQ,CAAYtQ,EAAE49C,MAAzEl1B,IAAmFxlB,KAAOlD,EAAE69C,OAAhG;AACA,cAAIJ,IAAUz9C,EAAEy9C,OAAhB;AAAA,cAAyBqH,IAAW9kD,EAAE8kD,QAAtC;AACA,cAAIpiD,KAAU+6C,KAAW8G,EAAzB,EAAsF,OAA5CA,KAAiB,IAAjBA,EAAiB,KAAM50C,GAAiB3P,CAAjB2P,CAAqB;;AACtF,eAAKjN,CAAL,IAAiB1C,EAAEoQ,KAAFpQ,IAAEoQ,EAASpQ,EAAEoQ,KAAFpQ,GAAU,EAAnBoQ,CAAnB,IAAsC,CAAQi0C,GAAiBv1C,CAAjBu1C,EAAqBrkD,CAArBqkD,CAA9C;AACA,gBAAIt6C,IAAK2L,OAAOgnC,YAAPhnC,CAAgC,QAAZovC,CAAY,GAAOrH,CAAP,GAAiBqH,CAAjDpvC,CAAT;AAEU,oBAAN3L,CAAM,KAxDZ,UAA2B+E,CAA3B,EAA+B9O,CAA/B,EAAkC+J,CAAlC,EAAkCA;AAChC,qBAAO+5C,GAAYh1C,CAAZg1C,EAAgB,MAAM/5C,CAAN,GAAW,GAA3B+5C,EAAgC9jD,CAAhC8jD,EAAmC,UAAU99C,CAAV,EAAUA;AAAK,uBAAOw9C,GAAgB10C,CAAhB00C,EAAoBx9C,CAApBw9C,EAAoBx9C,CAAG,CAAvBw9C,CAAP;AAA8B,eAAhFM,CAAP;AAwDIiB,aAzDN,CAyDwBj2C,CAzDxB,EAyD4B9O,CAzD5B,EAyD+B+J,CAzD/B,KA0DE+E,EAAGkL,OAAHlL,CAAWyU,KAAXzU,CAAiB+1C,UAAjB/1C,CAA4B9O,CAA5B8O,CAFU;AAEkB9O;AAAAA;AAG9B;;AAAA,UAaIglD,EAbJ;AAAA,UAaeC,EAbf;AAAA,UAEIC,KAAY,UAASp9C,CAAT,EAAeiB,CAAf,EAAoBsH,CAApB,EAAoBA;AAClCxR,aAAKiJ,IAALjJ,GAAYiJ,CAAZjJ,EACAA,KAAKkK,GAALlK,GAAWkK,CADXlK,EAEAA,KAAKwR,MAALxR,GAAcwR,CAFdxR;AAEcwR,OALhB;;AAmCA,eAAS80C,EAAT,CAAqBnlD,CAArB,EAAqBA;AACnB,YAAI8O,IAAKjQ,IAAT;AAAA,YAAemb,IAAUlL,EAAGkL,OAA5B;AACA,cAAInL,GAAeC,CAAfD,EAAmB7O,CAAnB6O,KAAyBmL,EAAQ6qB,WAAR7qB,IAAuBA,EAAQuJ,KAARvJ,CAAcorC,aAAdprC,EAApD,GAIA,IAHAA,EAAQuJ,KAARvJ,CAAc2pC,YAAd3pC,IACAA,EAAQwd,KAARxd,GAAgBha,EAAE89C,QADlB9jC,EAGI0O,GAAc1O,CAAd0O,EAAuB1oB,CAAvB0oB,CAAJ,EACOnmB,MAGHyX,EAAQ4P,QAAR5P,CAAiB0qB,SAAjB1qB,GAAiB0qB,CAAY,CAA7B1qB,EACA7R,WAAW;AAAc,iBAAO6R,EAAQ4P,QAAR5P,CAAiB0qB,SAAjB1qB,GAAiB0qB,CAAY,CAApC;AAAoC,SAA7Dv8B,EAAsE,GAAtEA,CAJG5F,EADP,KASA,KAAI8iD,GAAcv2C,CAAdu2C,EAAkBrlD,CAAlBqlD,CAAJ;AACA,cAAIt8C,IAAM8oB,GAAa/iB,CAAb+iB,EAAiB7xB,CAAjB6xB,CAAV;AAAA,cAA+BxhB,IAASF,GAASnQ,CAATmQ,CAAxC;AAAA,cAAqDm1C,IAASv8C,IArChE,UAAqBA,CAArB,EAA0BsH,CAA1B,EAA0BA;AACxB,gBAAIk1C,KAAO,IAAIr9C,IAAJ,EAAX;AACA,mBAAI+8C,MAAmBA,GAAgBO,OAAhBP,CAAwBM,CAAxBN,EAA6Bl8C,CAA7Bk8C,EAAkC50C,CAAlC40C,CAAnBA,IACFD,KAAYC,KAAkB,IAA9BD,EACO,QAFLC,IAGOD,MAAaA,GAAUQ,OAAVR,CAAkBO,CAAlBP,EAAuBj8C,CAAvBi8C,EAA4B30C,CAA5B20C,CAAbA,IACTC,KAAkB,IAAIC,EAAJ,CAAcK,CAAd,EAAmBx8C,CAAnB,EAAwBsH,CAAxB,CAAlB40C,EACAD,KAAY,IADZC,EAEO,QAHED,KAKTA,KAAY,IAAIE,EAAJ,CAAcK,CAAd,EAAmBx8C,CAAnB,EAAwBsH,CAAxB,CAAZ20C,EACAC,KAAkB,IADlBD,EAEO,QAPEA,CAHX;AAmCoES,WArCtE,CAqCkF18C,CArClF,EAqCuFsH,CArCvF,CAqCgEtH,GAAiC,QAA/F;AACAtP,iBAAOs9B,KAAPt9B,IAGc,KAAV4W,CAAU,IAAKvB,EAAGwE,KAAHxE,CAAS42C,aAAd,IACV52C,EAAGwE,KAAHxE,CAAS42C,aAAT52C,CAAuB9O,CAAvB8O,CAJJrV,EAMIsP,KAcN,UAA4B+F,CAA5B,EAAgCuB,CAAhC,EAAwCtH,CAAxC,EAA6Cu8C,CAA7C,EAAqD5Z,CAArD,EAAqDA;AACnD,gBAAItxC,IAAO,OAAX;AAKA,mBAJc,YAAVkrD,CAAU,GAAYlrD,IAAO,WAAWA,CAA9B,GACK,YAAVkrD,CAAU,KAAYlrD,IAAO,WAAWA,CAA9B,CADL,EAIP0pD,GAAYh1C,CAAZg1C,EAAiBpG,GAFxBtjD,KAAkB,KAAViW,CAAU,GAAI,MAAJ,GAAuB,KAAVA,CAAU,GAAI,QAAJ,GAAe,OAAxDjW,IAAmEA,CAE3CsjD,EAAuBhS,CAAvBgS,CAAjBoG,EAAgDpY,CAAhDoY,EAAuD,UAAUL,CAAV,EAAUA;AAEtE,kBADoB,mBAATA,CAAS,KAAYA,IAAQ1D,GAAS0D,CAAT1D,CAApB,GAA6B0D,CAC5CA,CAAL,EAAc,QAAO,CAAP;AACd,kBAAIta,KAAO,CAAX;;AACA;AACMr6B,kBAAG4oC,UAAH5oC,OAAmBA,EAAGwE,KAAHxE,CAASk/B,aAATl/B,GAASk/B,CAAgB,CAA5Cl/B,GACJq6B,IAAOsa,EAAM30C,CAAN20C,EAAU16C,CAAV06C,KAAkBl7C,CADrBuG;AAEJ,eAHF,SAGE;AACAA,kBAAGwE,KAAHxE,CAASk/B,aAATl/B,GAASk/B,CAAgB,CAAzBl/B;AAEF;;AAAA,qBAAOq6B,CAAP;AAAOA,aAVF2a,CAAP;AApBW6B,WAcb,CAdgC72C,CAchC,EAdoCuB,CAcpC,EAd4CtH,CAc5C,EAdiDu8C,CAcjD,EAdyDtlD,CAczD,CAdM+I,KAEU,KAAVsH,CAAU,GACRtH,IA4CR,UAAwB+F,CAAxB,EAA4B/F,CAA5B,EAAiCu8C,CAAjC,EAAyC5Z,CAAzC,EAAyCA;AACnCvpC,gBAAMgG,WAAW9M,EAAKy7B,EAALz7B,EAAkByT,CAAlBzT,CAAX8M,EAAkC,CAAlCA,CAANhG,GACG2M,EAAGQ,KAAHR,CAASioB,KAATjoB,GAAiBrJ,GADpBtD;;AAGJ,gBAEsByjD,CAFtB;AAAA,gBAAIC,IAjBN,UAAwB/2C,CAAxB,EAA4Bw2C,CAA5B,EAAoC5Z,CAApC,EAAoCA;AAClC,kBAAIoa,IAASh3C,EAAGuS,SAAHvS,CAAa,gBAAbA,CAAb;AAAA,kBACIhU,IAAQgrD,IAASA,EAAOh3C,CAAPg3C,EAAWR,CAAXQ,EAAmBpa,CAAnBoa,CAATA,GAAqC,EADjD;;AAEA,kBAAkB,QAAdhrD,EAAMirD,IAAV,EAAwB;AACtB,oBAAIn7B,IAAOznB,IAAWuoC,EAAMoS,QAANpS,IAAkBA,EAAMmS,OAAnC16C,GAA6CuoC,EAAMkS,MAA9D;AACA9iD,kBAAMirD,IAANjrD,GAAa8vB,IAAO,WAAPA,GAA+B,YAAV06B,CAAU,GAAW,MAAX,GAA8B,YAAVA,CAAU,GAAW,MAAX,GAAoB,MAA9FxqD;AAKF;;AAAA,sBAHoB,QAAhBA,EAAMgB,MAAU,IAAQgT,EAAGsF,GAAHtF,CAAOhT,MAGnC,MAH6ChB,EAAMgB,MAANhB,GAAegU,EAAGsF,GAAHtF,CAAOhT,MAAPgT,IAAiB48B,EAAMoS,QAGnF,GAFoB,QAAhBhjD,EAAMkrD,MAAU,KAAQlrD,EAAMkrD,MAANlrD,GAAeoI,IAAMwoC,EAAMmS,OAAZ36C,GAAsBwoC,EAAMp7B,OAAnD,CAEpB,EADwB,QAApBxV,EAAMmrD,UAAc,KAAQnrD,EAAMmrD,UAANnrD,GAAMmrD,EAAe/iD,IAAMwoC,EAAMkS,MAAZ16C,GAAqBwoC,EAAMp7B,OAA1C21C,CAAd,CACxB,EAAOnrD,CAAP;AAOeorD,aAjBjB,CAiBgCp3C,CAjBhC,EAiBoCw2C,CAjBpC,EAiB4C5Z,CAjB5C,CAiBE;AAAA,gBAEI/X,IAAM7kB,EAAGsF,GAAHtF,CAAO6kB,GAFjB;;AAGI7kB,cAAG6D,OAAH7D,CAAWq3C,QAAXr3C,IAAuB2B,EAAvB3B,IAAuB2B,CAAgB3B,EAAG4oC,UAAH5oC,EAAvCA,IACU,YAAVw2C,CADAx2C,IACAw2C,CAAuBM,IAAYjyB,EAAIvuB,QAAJuuB,CAAa5qB,CAAb4qB,CAAnC2xB,IAAgDv8C,CAAS,CADzD+F,KAECgH,IAAK8vC,IAAYjyB,EAAIC,MAAJD,CAAWiyB,CAAXjyB,CAAjB7d,EAAwCjL,IAAxCiL,IAAgD/M,CAAhD+M,IAAuD,CAAvDA,IAA4D/M,EAAI4mB,IAAJ5mB,GAAW,CAFxE+F,MAGCgH,GAAI8vC,EAAU96C,EAAV86C,EAAJ9vC,EAAoB/M,CAApB+M,IAA2B,CAA3BA,IAAgC/M,EAAI4mB,IAAJ5mB,GAAW,CAH5C+F,IAWN,UAA6BA,CAA7B,EAAiC48B,CAAjC,EAAwC3iC,CAAxC,EAA6C88C,CAA7C,EAA6CA;AAC3C,kBAAI7rC,IAAUlL,EAAGkL,OAAjB;AAAA,kBAA0BosC,KAAQ,CAAlC;AAAA,kBACIC,IAAUzlB,GAAU9xB,CAAV8xB,EAAc,UAAU5gC,CAAV,EAAUA;AAChCuC,sBAAUyX,EAAQ4P,QAAR5P,CAAiB0qB,SAAjB1qB,GAAiB0qB,CAAY,CAAvCniC,GACJuM,EAAGwE,KAAHxE,CAASspC,YAATtpC,GAASspC,CAAe,CADpB71C,EAEJiM,GAAIwL,EAAQwO,OAARxO,CAAgBnI,aAApBrD,EAAmC,SAAnCA,EAA8C63C,CAA9C73C,CAFIjM,EAGJiM,GAAIwL,EAAQwO,OAARxO,CAAgBnI,aAApBrD,EAAmC,WAAnCA,EAAgD83C,CAAhD93C,CAHIjM,EAIJiM,GAAIwL,EAAQ4P,QAAZpb,EAAsB,WAAtBA,EAAmC+3C,CAAnC/3C,CAJIjM,EAKJiM,GAAIwL,EAAQ4P,QAAZpb,EAAsB,MAAtBA,EAA8B63C,CAA9B73C,CALIjM,EAMC6jD,MACHz2C,GAAiB3P,CAAjB2P,GACKk2C,EAASG,MAATH,IACD/Z,GAAgBh9B,EAAGsF,GAAnB03B,EAAwB/iC,CAAxB+iC,EAA6B,IAA7BA,EAAmC,IAAnCA,EAAyC+Z,EAAS/pD,MAAlDgwC,CAFJn8B,EAIIpN,KAAUJ,KAAoB,KAAdC,CAAhBG,GACA4F,WAAW;AAAa6R,oBAAQwO,OAARxO,CAAgBnI,aAAhBmI,CAA8BrU,IAA9BqU,CAAmC+c,KAAnC/c,IAA4CA,EAAQuJ,KAARvJ,CAAc+c,KAAd/c,EAA5CA;AAA0D+c,iBAAlF5uB,EAA6F,EAA7FA,CADA5F,GAGAyX,EAAQuJ,KAARvJ,CAAc+c,KAAd/c,EARDosC,CAND7jD;AAcgBw0B,eAfR6J,CADd;AAAA,kBAmBI0lB,IAAY,UAASE,CAAT,EAASA;AACvBJ,oBAAQA,KAASl9C,KAAKoiB,GAALpiB,CAASwiC,EAAMzZ,OAANyZ,GAAgB8a,EAAGv0B,OAA5B/oB,IAAuCA,KAAKoiB,GAALpiB,CAASwiC,EAAMxZ,OAANwZ,GAAgB8a,EAAGt0B,OAA5BhpB,CAAvCA,IAA+E,EAAhGk9C;AAAgG,eApBlG;AAAA,kBAsBIG,IAAY;AAAc,uBAAOH,KAAQ,CAAf;AAAe,eAtB7C;;AAwBI7jD,oBAAUyX,EAAQ4P,QAAR5P,CAAiB0qB,SAAjB1qB,GAAiB0qB,CAAY,CAAvCniC,GACJuM,EAAGwE,KAAHxE,CAASspC,YAATtpC,GAAwBu3C,CADpB9jD,EAEJ8jD,EAAQnrC,IAARmrC,GAAQnrC,CAAQ2qC,EAASI,UAFrB1jD,EAIAyX,EAAQ4P,QAAR5P,CAAiBmsC,QAAjBnsC,IAA6BA,EAAQ4P,QAAR5P,CAAiBmsC,QAAjBnsC,EAJ7BzX,EAKJ2L,GAAG8L,EAAQwO,OAARxO,CAAgBnI,aAAnB3D,EAAkC,SAAlCA,EAA6Cm4C,CAA7Cn4C,CALI3L,EAMJ2L,GAAG8L,EAAQwO,OAARxO,CAAgBnI,aAAnB3D,EAAkC,WAAlCA,EAA+Co4C,CAA/Cp4C,CANI3L,EAOJ2L,GAAG8L,EAAQ4P,QAAX1b,EAAqB,WAArBA,EAAkCq4C,CAAlCr4C,CAPI3L,EAQJ2L,GAAG8L,EAAQ4P,QAAX1b,EAAqB,MAArBA,EAA6Bm4C,CAA7Bn4C,CARI3L,EAUJ00B,GAAenoB,CAAfmoB,CAVI10B,EAWJ4F,WAAW;AAAc,uBAAO6R,EAAQuJ,KAARvJ,CAAc+c,KAAd/c,EAAP;AAAqB+c,eAA9C5uB,EAA0D,EAA1DA,CAXI5F;AAhCAkkD,aAON,CAP0B33C,CAO1B,EAP8B48B,CAO9B,EAPqC3iC,CAOrC,EAP0C88C,CAO1C,CAXM/2C,GA2DN,UAA0BA,CAA1B,EAA8B48B,CAA9B,EAAqCltC,CAArC,EAA4CqnD,CAA5C,EAA4CA;AAC1C,kBAAI7rC,IAAUlL,EAAGkL,OAAjB;AAAA,kBAA0B5F,IAAMtF,EAAGsF,GAAnC;AACAzE,iBAAiB+7B,CAAjB/7B;AAEA,kBAAI+2C,CAAJ;AAAA,kBAAcC,CAAd;AAAA,kBAAwBC,IAAWxyC,EAAIuf,GAAvC;AAAA,kBAA4CC,IAASgzB,EAAShzB,MAA9D;AAYA,kBAXIiyB,EAASG,MAATH,IAASG,CAAWH,EAAS/pD,MAA7B+pD,IACFc,IAAWvyC,EAAIuf,GAAJvf,CAAQhP,QAARgP,CAAiB5V,CAAjB4V,CAAXuyC,EAEID,IADAC,KAAY,CAAZA,GACW/yB,EAAO+yB,CAAP/yB,CADX+yB,GAGW,IAAIngB,EAAJ,CAAUhoC,CAAV,EAAiBA,CAAjB,CALbqnD,KAOFa,IAAWtyC,EAAIuf,GAAJvf,CAAQmf,OAARnf,EAAXsyC,EACAC,IAAWvyC,EAAIuf,GAAJvf,CAAQyf,SARjBgyB,GAWiB,eAAjBA,EAASE,IAAb,EACOF,EAASG,MAATH,KAAmBa,IAAW,IAAIlgB,EAAJ,CAAUhoC,CAAV,EAAiBA,CAAjB,CAA9BqnD,GACLrnD,IAAQqzB,GAAa/iB,CAAb+iB,EAAiB6Z,CAAjB7Z,EAAiB6Z,CAAO,CAAxB7Z,EAAwB,CAAM,CAA9BA,CADHg0B,EAELc,KAAY,CAFPd,CADP,KAIO;AACL,oBAAIhiD,IAAQgjD,GAAa/3C,CAAb+3C,EAAiBroD,CAAjBqoD,EAAwBhB,EAASE,IAAjCc,CAAZ;AAEIH,oBADAb,EAAS/pD,MAAT+pD,GACWja,GAAY8a,CAAZ9a,EAAsB/nC,EAAMstB,MAA5Bya,EAAoC/nC,EAAMowB,IAA1C2X,EAAgDia,EAAS/pD,MAAzD8vC,CADXia,GAGWhiD,CAFX6iD;AAKDb;AAAAA,gBAASG,MAATH,GAASG,CAIU,CAJVA,IAIHW,CAJGX,IAKZW,IAAW/yB,EAAO13B,MAAlByqD,EACA5a,GAAa33B,CAAb23B,EAAkBrF,GAAmB53B,CAAnB43B,EAAuB9S,EAAO5yB,MAAP4yB,CAAc,CAAC8yB,CAAD,CAAd9yB,CAAvB8S,EAAkDigB,CAAlDjgB,CAAlBqF,EACa;AAACtjC,yBAAQ,CAAT;AAAgBE,wBAAQ;AAAxB,eADbojC,CANYia,IAQHpyB,EAAO13B,MAAP03B,GAAgB,CAAhBA,IAAqBA,EAAO+yB,CAAP/yB,EAAiBE,KAAjBF,EAArBA,IAAkE,UAAjBiyB,EAASE,IAA1DnyB,IAA0DmyB,CAAmBF,EAAS/pD,MAAtF83B,IACTmY,GAAa33B,CAAb23B,EAAkBrF,GAAmB53B,CAAnB43B,EAAuB9S,EAAO1vB,KAAP0vB,CAAa,CAAbA,EAAgB+yB,CAAhB/yB,EAA0B5yB,MAA1B4yB,CAAiCA,EAAO1vB,KAAP0vB,CAAa+yB,IAAW,CAAxB/yB,CAAjCA,CAAvB8S,EAAqF,CAArFA,CAAlBqF,EACa;AAACtjC,yBAAQ,CAAT;AAAgBE,wBAAQ;AAAxB,eADbojC,GAEA6a,IAAWxyC,EAAIuf,GAHNC,IAKTsY,GAAoB93B,CAApB83B,EAAyBya,CAAzBza,EAAmCwa,CAAnCxa,EAA6CxjC,CAA7CwjC,CAbG2Z,IACHc,IAAW,CAAXA,EACA5a,GAAa33B,CAAb23B,EAAkB,IAAI5F,EAAJ,CAAc,CAACugB,CAAD,CAAd,EAA0B,CAA1B,CAAlB3a,EAAgDrjC,CAAhDqjC,CADA4a,EAEAC,IAAWxyC,EAAIuf,GAHZkyB;AAgBL,kBAAIiB,IAAUtoD,CAAd;;AACA,uBAASuoD,CAAT,CAAkBh+C,CAAlB,EAAkBA;AAChB,oBAAyB,KAArB+M,GAAIgxC,CAAJhxC,EAAa/M,CAAb+M,CAAJ,EAGA,IAFAgxC,IAAU/9C,CAAV+9C,EAEqB,eAAjBjB,EAASE,IAAb,EAAkC;AAKhC,uBAJA,IAAInyB,IAAS,EAAb,EAAiBvsB,IAAUyH,EAAG6D,OAAH7D,CAAWzH,OAAtC,EACI2/C,IAAW5/C,EAAY+M,GAAQC,CAARD,EAAa3V,EAAML,IAAnBgW,EAAyBnG,IAArC5G,EAA2C5I,EAAMuL,EAAjD3C,EAAqDC,CAArDD,CADf,EAEI6/C,IAAS7/C,EAAY+M,GAAQC,CAARD,EAAapL,EAAI5K,IAAjBgW,EAAuBnG,IAAnC5G,EAAyC2B,EAAIgB,EAA7C3C,EAAiDC,CAAjDD,CAFb,EAGIgK,IAAOlI,KAAKC,GAALD,CAAS89C,CAAT99C,EAAmB+9C,CAAnB/9C,CAHX,EAGuCmI,IAAQnI,KAAKmN,GAALnN,CAAS89C,CAAT99C,EAAmB+9C,CAAnB/9C,CAH/C,EAIS/K,IAAO+K,KAAKC,GAALD,CAAS1K,EAAML,IAAf+K,EAAqBH,EAAI5K,IAAzB+K,CAJhB,EAIgDzK,IAAMyK,KAAKC,GAALD,CAAS4F,EAAG8Q,QAAH9Q,EAAT5F,EAAwBA,KAAKmN,GAALnN,CAAS1K,EAAML,IAAf+K,EAAqBH,EAAI5K,IAAzB+K,CAAxBA,CAAtD,EACK/K,KAAQM,CADb,EACkBN,GADlB,EAC0B;AACxB,wBAAI6P,IAAOmG,GAAQC,CAARD,EAAahW,CAAbgW,EAAmBnG,IAA9B;AAAA,wBAAoCk5C,IAAUr+C,EAAWmF,CAAXnF,EAAiBuI,CAAjBvI,EAAuBxB,CAAvBwB,CAA9C;AACIuI,yBAAQC,CAARD,GACAwiB,EAAOpyB,IAAPoyB,CAAY,IAAI4S,EAAJ,CAAU3wB,GAAI1X,CAAJ0X,EAAUqxC,CAAVrxC,CAAV,EAA8BA,GAAI1X,CAAJ0X,EAAUqxC,CAAVrxC,CAA9B,CAAZ+d,CADAxiB,GAEKpD,EAAK9R,MAAL8R,GAAck5C,CAAdl5C,IACL4lB,EAAOpyB,IAAPoyB,CAAY,IAAI4S,EAAJ,CAAU3wB,GAAI1X,CAAJ0X,EAAUqxC,CAAVrxC,CAAV,EAA8BA,GAAI1X,CAAJ0X,EAAUhN,EAAWmF,CAAXnF,EAAiBwI,CAAjBxI,EAAwBxB,CAAxBwB,CAAVgN,CAA9B,CAAZ+d,CAHAxiB;AAKDwiB;;AAAAA,oBAAO13B,MAAP03B,IAAiBA,EAAOpyB,IAAPoyB,CAAY,IAAI4S,EAAJ,CAAUhoC,CAAV,EAAiBA,CAAjB,CAAZo1B,CAAjBA,EACLmY,GAAa33B,CAAb23B,EAAkBrF,GAAmB53B,CAAnB43B,EAAuBkgB,EAAShzB,MAATgzB,CAAgB1iD,KAAhB0iD,CAAsB,CAAtBA,EAAyBD,CAAzBC,EAAmC5lD,MAAnC4lD,CAA0ChzB,CAA1CgzB,CAAvBlgB,EAA0EigB,CAA1EjgB,CAAlBqF,EACa;AAACpjC,4BAAQ,QAAT;AAAmBF,6BAAQ;AAA3B,mBADbsjC,CADKnY,EAGL9kB,EAAGgxB,cAAHhxB,CAAkB/F,CAAlB+F,CAHK8kB;AAGa7qB,iBAhBpB,MAiBO;AACL,sBAE8BkrB,CAF9B;AAAA,sBAAIkzB,IAAWT,CAAf;AAAA,sBACI7iD,IAAQgjD,GAAa/3C,CAAb+3C,EAAiB99C,CAAjB89C,EAAsBhB,EAASE,IAA/Bc,CADZ;AAAA,sBAEI11B,IAASg2B,EAASh2B,MAFtB;AAGIrb,qBAAIjS,EAAMstB,MAAVrb,EAAkBqb,CAAlBrb,IAA4B,CAA5BA,IACFme,IAAOpwB,EAAMowB,IAAbA,EACA9C,IAAShb,GAAOgxC,EAASt8C,IAATs8C,EAAPhxC,EAAwBtS,EAAMstB,MAA9Bhb,CAFPL,KAIFme,IAAOpwB,EAAMstB,MAAb8C,EACA9C,IAASjb,GAAOixC,EAASr8C,EAATq8C,EAAPjxC,EAAsBrS,EAAMowB,IAA5B/d,CALPJ;AAOJ,sBAAIsxC,IAAWR,EAAShzB,MAATgzB,CAAgB1iD,KAAhB0iD,CAAsB,CAAtBA,CAAf;AACAQ,oBAAST,CAATS,IA2DN,UAAsBt4C,CAAtB,EAA0BjL,CAA1B,EAA0BA;AACxB,wBAAIstB,IAASttB,EAAMstB,MAAnB;AAAA,wBACI8C,IAAOpwB,EAAMowB,IADjB;AAAA,wBAEIozB,IAAalzC,GAAQrF,EAAGsF,GAAXD,EAAgBgd,EAAOhzB,IAAvBgW,CAFjB;AAGA,wBAAyB,KAArB2B,GAAIqb,CAAJrb,EAAYme,CAAZne,CAAqB,IAAKqb,EAAO7lB,MAAP6lB,IAAiB8C,EAAK3oB,MAApD,EAA8D,OAAOzH,CAAP;AAC9D,wBAAIwH,IAAQ0C,GAASs5C,CAATt5C,CAAZ;AACA,yBAAK1C,CAAL,EAAc,OAAOxH,CAAP;AACd,wBAAIM,IAAQiH,GAAcC,CAAdD,EAAqB+lB,EAAOpnB,EAA5BqB,EAAgC+lB,EAAO7lB,MAAvCF,CAAZ;AAAA,wBAA4D+X,IAAO9X,EAAMlH,CAANkH,CAAnE;AACA,wBAAI8X,EAAKtY,IAALsY,IAAagO,EAAOpnB,EAApBoZ,IAA0BA,EAAKrY,EAALqY,IAAWgO,EAAOpnB,EAAhD,EAAsD,OAAOlG,CAAP;AACtD,wBAKI4wB,CALJ;AAAA,wBAAI6yB,IAAWnjD,KAAUgf,EAAKtY,IAALsY,IAAagO,EAAOpnB,EAApBoZ,KAA0C,KAAdA,EAAKnX,KAAjCmX,IAA+C,CAA/CA,GAAmD,CAA7Dhf,CAAf;AACA,wBAAgB,KAAZmjD,CAAY,IAAKA,KAAYj8C,EAAMnP,MAAvC,EAAiD,OAAO2H,CAAP;AAKjD,wBAAIowB,EAAK91B,IAAL81B,IAAa9C,EAAOhzB,IAAxB,EACEs2B,KAAYR,EAAK91B,IAAL81B,GAAY9C,EAAOhzB,IAA/Bs2B,KAA4D,SAApB3lB,EAAGsF,GAAHtF,CAAO7C,SAAa,GAAQ,CAAR,GAAQ,CAAK,CAAzEwoB,IAA8E,CAA9EA,CADF,KAEO;AACL,0BAAI8yB,IAAYn8C,GAAcC,CAAdD,EAAqB6oB,EAAKlqB,EAA1BqB,EAA8B6oB,EAAK3oB,MAAnCF,CAAhB;AAAA,0BACIX,IAAM88C,IAAYpjD,CAAZojD,IAAYpjD,CAAU8vB,EAAKlqB,EAALkqB,GAAU9C,EAAOpnB,EAA3B5F,KAAgD,KAAdgf,EAAKnX,KAAS,GAATA,CAAc,CAAL,GAAS,CAAzD7H,CADtB;AAGIswB,0BADA8yB,KAAaD,IAAW,CAAxBC,IAA6BA,KAAaD,CAA1CC,GACW98C,IAAM,CADjB88C,GAGW98C,IAAM,CAFjBgqB;AAKN;AAAA,wBAAI+yB,IAAUn8C,EAAMi8C,KAAY7yB,KAAY,CAAZA,GAAgB,CAA5B6yB,CAANj8C,CAAd;AAAA,wBACIR,IAAO4pB,MAA8B,KAAjB+yB,EAAQx7C,KAArByoB,CADX;AAAA,wBAEI1qB,IAAKc,IAAO28C,EAAQ38C,IAAfA,GAAsB28C,EAAQ18C,EAFvC;AAAA,wBAE2CQ,IAAST,IAAO,OAAPA,GAAiB,QAFrE;AAGA,2BAAOsmB,EAAOpnB,EAAPonB,IAAapnB,CAAbonB,IAAmBA,EAAO7lB,MAAP6lB,IAAiB7lB,CAApC6lB,GAA6CttB,CAA7CstB,GAAqD,IAAIqV,EAAJ,CAAU,IAAI3wB,EAAJ,CAAQsb,EAAOhzB,IAAf,EAAqB4L,CAArB,EAAyBuB,CAAzB,CAAV,EAA4C2oB,CAA5C,CAA5D;AAxFyBwzB,mBA2D3B,CA3DwC34C,CA2DxC,EA3D4C,IAAI03B,EAAJ,CAAUlwB,GAAQlC,CAARkC,EAAa6a,CAAb7a,CAAV,EAAgC2d,CAAhC,CA2D5C,CA3DMmzB,EACArb,GAAa33B,CAAb23B,EAAkBrF,GAAmB53B,CAAnB43B,EAAuB0gB,CAAvB1gB,EAAiCigB,CAAjCjgB,CAAlBqF,EAA8DrjC,CAA9DqjC,CADAqb;AAC8D1+C;AAIlE;;AAAA,kBAAIg/C,IAAa1tC,EAAQwO,OAARxO,CAAgB9I,qBAAhB8I,EAAjB;AAAA,kBAKI2tC,IAAU,CALd;;AA2BA,uBAASxe,CAAT,CAAcnpC,CAAd,EAAcA;AACZ8O,kBAAGwE,KAAHxE,CAAS42C,aAAT52C,GAAS42C,CAAgB,CAAzB52C,EACA64C,IAAU5jC,KADVjV,EAKI9O,MACF2P,GAAiB3P,CAAjB2P,GACAqK,EAAQuJ,KAARvJ,CAAc+c,KAAd/c,EAFEha,CALJ8O,EASAN,GAAIwL,EAAQwO,OAARxO,CAAgBnI,aAApBrD,EAAmC,WAAnCA,EAAgDo5C,CAAhDp5C,CATAM,EAUAN,GAAIwL,EAAQwO,OAARxO,CAAgBnI,aAApBrD,EAAmC,SAAnCA,EAA8Ck2C,CAA9Cl2C,CAVAM,EAWAsF,EAAIm2B,OAAJn2B,CAAYu1B,aAAZv1B,GAA4B,IAX5BtF;AAcF;;AAAA,kBAAI84C,IAAOhnB,GAAU9xB,CAAV8xB,EAAc,UAAU5gC,CAAV,EAAUA;AACf,sBAAdA,EAAE6nD,OAAY,IAAM13C,GAASnQ,CAATmQ,CAAN,GApCpB,SAASrU,CAAT,CAAgBkE,CAAhB,EAAgBA;AACd,sBAAI8nD,MAAaH,CAAjB;AAAA,sBACIn8C,IAAMqmB,GAAa/iB,CAAb+iB,EAAiB7xB,CAAjB6xB,EAAiB7xB,CAAG,CAApB6xB,EAA2C,eAAjBg0B,EAASE,IAAnCl0B,CADV;AAEA,sBAAKrmB,CAAL,EACA,IAAyB,KAArBsK,GAAItK,CAAJsK,EAASgxC,CAAThxC,CAAJ,EAA4B;AAC1BhH,sBAAGQ,KAAHR,CAASioB,KAATjoB,GAAiBrJ,GAAjBqJ,EACAi4C,EAASv7C,CAATu7C,CADAj4C;AAEA,wBAAI4yB,IAAU3J,GAAa/d,CAAb+d,EAAsB3jB,CAAtB2jB,CAAd;AAAoC3jB,qBAChC5I,EAAIrN,IAAJqN,IAAYk2B,EAAQ52B,EAApBU,IAA0BA,EAAIrN,IAAJqN,GAAWk2B,EAAQ72B,IADbuJ,KAEhCjM,WAAWy4B,GAAU9xB,CAAV8xB,EAAc;AAAiB+mB,2BAAWG,CAAXH,IAAuB7rD,EAAOkE,CAAPlE,CAAvB6rD;AAA8B3nD,qBAA7D4gC,CAAXz4B,EAAiF,GAAjFA,CAFgCiM;AAEiD,mBALvF,MAMO;AACL,wBAAIsb,IAAU1vB,EAAEkyB,OAAFlyB,GAAY0nD,EAAWl8B,GAAvBxrB,GAAuBwrB,CAAO,EAA9BxrB,GAAmCA,EAAEkyB,OAAFlyB,GAAY0nD,EAAWn8B,MAAvBvrB,GAAgC,EAAhCA,GAAqC,CAAtF;AACI0vB,yBAAWvnB,WAAWy4B,GAAU9xB,CAAV8xB,EAAc;AAClC+mB,2BAAWG,CAAXH,KACJ3tC,EAAQ4P,QAAR5P,CAAiBqU,SAAjBrU,IAA8B0V,CAA9B1V,EACAle,EAAOkE,CAAPlE,CAFI6rD;AAEG3nD,qBAHiB4gC,CAAXz4B,EAIX,EAJWA,CAAXunB;AAIA;AAqBC5zB,iBArCT,CAqCgBkE,CArChB,CAoCoB,GAAqBmpC,EAAKnpC,CAALmpC,CAArB;AAA0BnpC,eADnC4gC,CAAX;AAAA,kBAII8jB,IAAK9jB,GAAU9xB,CAAV8xB,EAAcuI,CAAdvI,CAJT;AAKA9xB,gBAAGwE,KAAHxE,CAAS42C,aAAT52C,GAAyB41C,CAAzB51C,EACAZ,GAAG8L,EAAQwO,OAARxO,CAAgBnI,aAAnB3D,EAAkC,WAAlCA,EAA+C05C,CAA/C15C,CADAY,EAEAZ,GAAG8L,EAAQwO,OAARxO,CAAgBnI,aAAnB3D,EAAkC,SAAlCA,EAA6Cw2C,CAA7Cx2C,CAFAY;AAvLIi5C,aAqDN,CArDuBj5C,CAqDvB,EArD2B48B,CAqD3B,EArDkC3iC,CAqDlC,EArDuC88C,CAqDvC,CA3DM/2C;AAnDSk5C,WA4Cf,CA5C8Bl5C,CA4C9B,EA5CkC/F,CA4ClC,EA5CuCu8C,CA4CvC,EA5C+CtlD,CA4C/C,CA5CQ+I,GACKkH,GAASjQ,CAATiQ,KAAe+J,EAAQ4P,QAAvB3Z,IAAmCN,GAAiB3P,CAAjB2P,CAFhC,GAGO,KAAVU,CAAU,IACftH,KAAO+iC,GAAgBh9B,EAAGsF,GAAnB03B,EAAwB/iC,CAAxB+iC,CAAP/iC,EACJZ,WAAW;AAAc,mBAAO6R,EAAQuJ,KAARvJ,CAAc+c,KAAd/c,EAAP;AAAqB+c,WAA9C5uB,EAA0D,EAA1DA,CAFmB,IAGA,KAAVkI,CAAU,KACf5M,IAAqBqL,EAAGkL,OAAHlL,CAAWyU,KAAXzU,CAAiBm5C,aAAjBn5C,CAA+B9O,CAA/B8O,CAArBrL,GACGwzB,GAAenoB,CAAfmoB,CAFY,CARjBluB,CANJtP;AAgBwBqV;AA8F1B;;AAAA,eAAS+3C,EAAT,CAAsB/3C,CAAtB,EAA0B/F,CAA1B,EAA+Bg9C,CAA/B,EAA+BA;AAC7B,YAAY,UAARA,CAAJ,EAAsB,OAAO,IAAIvf,EAAJ,CAAUz9B,CAAV,EAAeA,CAAf,CAAP;AACtB,YAAY,UAARg9C,CAAJ,EAAsB,OAAOj3C,EAAGo5C,UAAHp5C,CAAc/F,CAAd+F,CAAP;AACtB,YAAY,UAARi3C,CAAJ,EAAsB,OAAO,IAAIvf,EAAJ,CAAU3wB,GAAI9M,EAAI5K,IAAR0X,EAAc,CAAdA,CAAV,EAA4BS,GAAQxH,EAAGsF,GAAXkC,EAAgBT,GAAI9M,EAAI5K,IAAJ4K,GAAW,CAAf8M,EAAkB,CAAlBA,CAAhBS,CAA5B,CAAP;AACtB,YAAI/E,IAASw0C,EAAKj3C,CAALi3C,EAASh9C,CAATg9C,CAAb;AACA,eAAO,IAAIvf,EAAJ,CAAUj1B,EAAO1G,IAAjB,EAAuB0G,EAAOzG,EAA9B,CAAP;AAgLF;;AAAA,eAASq9C,EAAT,CAAqBr5C,CAArB,EAAyB9O,CAAzB,EAA4BuM,CAA5B,EAAkC67C,CAAlC,EAAkCA;AAChC,YAAIC,CAAJ,EAAQC,CAAR;AACA,YAAItoD,EAAEuoD,OAAN,EACEF,IAAKroD,EAAEuoD,OAAFvoD,CAAU,CAAVA,EAAaiyB,OAAlBo2B,EACAC,IAAKtoD,EAAEuoD,OAAFvoD,CAAU,CAAVA,EAAakyB,OADlBm2B,CADF,KAIE;AAAMA,cAAKroD,EAAEiyB,OAAPo2B,EAAgBC,IAAKtoD,EAAEkyB,OAAvBm2B;AACN,SADA,CACA,OAAMroD,CAAN,EAAMA;AAAK,kBAAO,CAAP;AAEb;AAAA,YAAIqoD,KAAMn/C,KAAKgC,KAALhC,CAAW4F,EAAGkL,OAAHlL,CAAWyZ,OAAXzZ,CAAmBoC,qBAAnBpC,GAA2CuC,KAAtDnI,CAAV,EAA0E,QAAO,CAAP;AACtEk/C,aAAWz4C,GAAiB3P,CAAjB2P,CAAXy4C;AAEJ,YAAIpuC,IAAUlL,EAAGkL,OAAjB;AAAA,YACIwuC,IAAUxuC,EAAQ2d,OAAR3d,CAAgB9I,qBAAhB8I,EADd;AAGA,YAAIsuC,IAAKE,EAAQj9B,MAAb+8B,IAAa/8B,CAAW/b,GAAWV,CAAXU,EAAejD,CAAfiD,CAA5B,EAAoD,OAAON,GAAmBlP,CAAnBkP,CAAP;AACpDo5C,aAAME,EAAQh9B,GAARg9B,GAAcxuC,EAAQ0U,UAA5B45B;;AAEA,aAAK,IAAIzuD,IAAI,CAAb,EAAgBA,IAAIiV,EAAGkL,OAAHlL,CAAWkY,WAAXlY,CAAuB5S,MAA3C,EAA2CA,EAAUrC,CAArD,EAAwD;AACtD,cAAIiG,IAAIka,EAAQuO,OAARvO,CAAgB1V,UAAhB0V,CAA2BngB,CAA3BmgB,CAAR;AACA,cAAIla,KAAKA,EAAEoR,qBAAFpR,GAA0BuR,KAA1BvR,IAAmCuoD,CAA5C,EAIE,OADA15C,GAAOG,CAAPH,EAAWpC,CAAXoC,EAAiBG,CAAjBH,EAFWyG,GAAatG,EAAGsF,GAAhBgB,EAAqBkzC,CAArBlzC,CAEXzG,EADaG,EAAGkL,OAAHlL,CAAWkY,WAAXlY,CAAuBjV,CAAvBiV,EACqB9K,SAAlC2K,EAA6C3O,CAA7C2O,GACOO,GAAmBlP,CAAnBkP,CAAP;AAA0BlP;AAKhC;;AAAA,eAASqlD,EAAT,CAAuBv2C,CAAvB,EAA2B9O,CAA3B,EAA2BA;AACzB,eAAOmoD,GAAYr5C,CAAZq5C,EAAgBnoD,CAAhBmoD,EAAmB,aAAnBA,EAAmB,CAAe,CAAlCA,CAAP;AAQF;;AAAA,eAASF,EAAT,CAAuBn5C,CAAvB,EAA2B9O,CAA3B,EAA2BA;AACrB0oB,WAAc5Z,EAAGkL,OAAjB0O,EAA0B1oB,CAA1B0oB,KAKN,UAA6B5Z,CAA7B,EAAiC9O,CAAjC,EAAiCA;AAC/B,mBAAKwP,GAAWV,CAAXU,EAAe,mBAAfA,CAAL,IACO24C,GAAYr5C,CAAZq5C,EAAgBnoD,CAAhBmoD,EAAmB,mBAAnBA,EAAmB,CAAqB,CAAxCA,CADP;AANoCM,SAKtC,CAL0D35C,CAK1D,EAL8D9O,CAK9D,CALM0oB,IACA7Z,GAAeC,CAAfD,EAAmB7O,CAAnB6O,EAAsB,aAAtBA,CADA6Z,IAECjlB,CAFDilB,IAEsB5Z,EAAGkL,OAAHlL,CAAWyU,KAAXzU,CAAiBm5C,aAAjBn5C,CAA+B9O,CAA/B8O,CAFtB4Z;AAUN;;AAAA,eAASggC,EAAT,CAAsB55C,CAAtB,EAAsBA;AACpBA,UAAGkL,OAAHlL,CAAW0Z,OAAX1Z,CAAmB9K,SAAnB8K,GAA+BA,EAAGkL,OAAHlL,CAAW0Z,OAAX1Z,CAAmB9K,SAAnB8K,CAA6BtS,OAA7BsS,CAAqC,cAArCA,EAAqD,EAArDA,IAC7BA,EAAG6D,OAAH7D,CAAW65C,KAAX75C,CAAiBtS,OAAjBsS,CAAyB,YAAzBA,EAAuC,QAAvCA,CADFA,EAEA4e,GAAY5e,CAAZ4e,CAFA5e;AAjYFo2C;;AAAAA,SAAUxpD,SAAVwpD,CAAoBM,OAApBN,GAA8B,UAAUp9C,CAAV,EAAgBiB,CAAhB,EAAqBsH,CAArB,EAAqBA;AACjD,eAAOxR,KAAKiJ,IAALjJ,GATe,GASfA,GAAgCiJ,CAAhCjJ,IACiB,KAAtBiX,GAAI/M,CAAJ+M,EAASjX,KAAKkK,GAAd+M,CADKjX,IACsBwR,KAAUxR,KAAKwR,MAD5C;AAC4CA,OAF9C60C;;AAsYA,UAAI0D,KAAO;AAACjrD,kBAAU;AAAW,iBAAO,iBAAP;AAAO;AAA7B,OAAX;AAAA,UAEIkrD,KAAW,EAFf;AAAA,UAGIC,KAAiB,EAHrB;;AA+IA,eAASC,EAAT,CAAyBj6C,CAAzB,EAA6BhU,CAA7B,EAAoCkiB,CAApC,EAAoCA;AAElC,aAAKliB,CAAL,IAAKA,EADOkiB,KAAOA,KAAO4rC,EACrB9tD,CAAL,EAAsB;AACpB,cAAIkuD,IAAQl6C,EAAGkL,OAAHlL,CAAWm6C,aAAvB;AAAA,cACIC,IAASpuD,IAAQoT,EAARpT,GAAa0T,EAD1B;AAEA06C,YAAOp6C,EAAGkL,OAAHlL,CAAW8a,QAAlBs/B,EAA4B,WAA5BA,EAAyCF,EAAMxqD,KAA/C0qD,GACAA,EAAOp6C,EAAGkL,OAAHlL,CAAW8a,QAAlBs/B,EAA4B,WAA5BA,EAAyCF,EAAMG,KAA/CD,CADAA,EAEAA,EAAOp6C,EAAGkL,OAAHlL,CAAW8a,QAAlBs/B,EAA4B,UAA5BA,EAAwCF,EAAMI,IAA9CF,CAFAA,EAGAA,EAAOp6C,EAAGkL,OAAHlL,CAAW8a,QAAlBs/B,EAA4B,WAA5BA,EAAyCF,EAAMK,KAA/CH,CAHAA,EAIAA,EAAOp6C,EAAGkL,OAAHlL,CAAW8a,QAAlBs/B,EAA4B,MAA5BA,EAAoCF,EAAMM,IAA1CJ,CAJAA;AAI0CI;AAI9C;;AAAA,eAASC,EAAT,CAAyBz6C,CAAzB,EAAyBA;AACnBA,UAAG6D,OAAH7D,CAAWmc,YAAXnc,IACFjJ,EAASiJ,EAAGkL,OAAHlL,CAAW0Z,OAApB3iB,EAA6B,iBAA7BA,GACAiJ,EAAGkL,OAAHlL,CAAW8Z,KAAX9Z,CAAiBhK,KAAjBgK,CAAuBksB,QAAvBlsB,GAAkC,EADlCjJ,EAEAiJ,EAAGkL,OAAHlL,CAAW6lB,UAAX7lB,GAAwB,IAHtBA,KAKFhL,EAAQgL,EAAGkL,OAAHlL,CAAW0Z,OAAnB1kB,EAA4B,iBAA5BA,GACAsc,GAAYtR,CAAZsR,CANEtR,GAQJ4iB,GAAoB5iB,CAApB4iB,CARI5iB,EASJujB,GAAUvjB,CAAVujB,CATIvjB,EAUJ4e,GAAY5e,CAAZ4e,CAVI5e,EAWJ3G,WAAW;AAAc,iBAAO+zB,GAAiBptB,CAAjBotB,CAAP;AAAwBptB,SAAjD3G,EAAyD,GAAzDA,CAXI2G;AAiBN;;AAAA,eAASioC,EAAT,CAAoBrrB,CAApB,EAA2B/Y,CAA3B,EAA2BA;AACzB,YAAI4+B,IAAS1yC,IAAb;AAEA,cAAMA,gBAAgBk4C,EAAtB,GAAqC,OAAO,IAAIA,EAAJ,CAAerrB,CAAf,EAAsB/Y,CAAtB,CAAP;AAErC9T,aAAK8T,OAAL9T,GAAe8T,IAAUA,IAAU1L,EAAQ0L,CAAR1L,CAAV0L,GAA6B,EAAtD9T,EAEAoI,EAAQ4hD,EAAR5hD,EAAkB0L,CAAlB1L,EAAkB0L,CAAS,CAA3B1L,CAFApI;AAIA,YAAIuV,IAAMzB,EAAQ7X,KAAlB;AACkB,2BAAPsZ,CAAO,GAAYA,IAAM,IAAI0+B,EAAJ,CAAQ1+B,CAAR,EAAazB,EAAQ3X,IAArB,EAA2B,IAA3B,EAAiC2X,EAAQugC,aAAzC,EAAwDvgC,EAAQ1G,SAAhE,CAAlB,GACT0G,EAAQ3X,IAAR2X,KAAgByB,EAAIkzB,UAAJlzB,GAAiBzB,EAAQ3X,IAAzC2X,CADS,EAElB9T,KAAKuV,GAALvV,GAAWuV,CAFO;AAIlB,YAAImP,IAAQ,IAAIwzB,GAAWyS,WAAXzS,CAAuBpkC,EAAQ82C,UAA/B1S,CAAJ,CAA+Cl4C,IAA/C,CAAZ;AAAA,YACImb,IAAUnb,KAAKmb,OAALnb,GAAe,IAAI4lC,EAAJ,CAAY/Y,CAAZ,EAAmBtX,CAAnB,EAAwBmP,CAAxB,EAA+B5Q,CAA/B,CAD7B;;AA0CA,aAAK,IAAI0+B,CAAT,IAxCAr3B,EAAQwO,OAARxO,CAAgB+8B,UAAhB/8B,GAA6Bnb,IAA7Bmb,EACA0uC,GAAa7pD,IAAb6pD,CADA1uC,EAEIrH,EAAQsY,YAARtY,KACA9T,KAAKmb,OAALnb,CAAa2pB,OAAb3pB,CAAqBmF,SAArBnF,IAAkC,kBADlC8T,CAFJqH,EAIAgjB,GAAen+B,IAAfm+B,CAJAhjB,EAMAnb,KAAKyU,KAALzU,GAAa;AACXqlD,mBAAS,EADE;AAEXprC,oBAAU,EAFC;AAGXL,mBAAS,CAHE;AAIXvR,sBAAW,CAJA;AAKXgwB,8BAAmB,CALR;AAMXX,oBAAS,CANE;AAOXyX,0BAAe,CAPJ;AAQX0b,0BAAgB,CARL;AAQQC,wBAAc,CARtB;AASXjE,0BAAe,CATJ;AAUXtN,yBAAc,CAVH;AAWXrX,qBAAW,IAAIl5B,CAAJ,EAXA;AAYXm8C,kBAAQ,IAZG;AAaXthC,wBAAc;AAbH,SANb1I,EAsBIrH,EAAQi3C,SAARj3C,IAAQi3C,CAAc3mD,CAAtB0P,IAAgCqH,EAAQuJ,KAARvJ,CAAc+c,KAAd/c,EAtBpCA,EA0BI7X,KAAMC,IAAa,EAAnBD,IAAyBgG,WAAW;AAAc,iBAAOopC,EAAOv3B,OAAPu3B,CAAehuB,KAAfguB,CAAqBja,KAArBia,CAAqBja,CAAM,CAA3Bia,CAAP;AAAkC,SAA3DppC,EAAqE,EAArEA,CA1B7B6R,EA2DF,UAA+BlL,CAA/B,EAA+BA;AAC7B,cAAI3U,IAAI2U,EAAGkL,OAAX;AACA9L,aAAG/T,EAAEyvB,QAAL1b,EAAe,WAAfA,EAA4B0yB,GAAU9xB,CAAV8xB,EAAcukB,EAAdvkB,CAA5B1yB,GAGIA,GAAG/T,EAAEyvB,QAAL1b,EAAe,UAAfA,EADA/L,KAAMC,IAAa,EAAnBD,GAC2By+B,GAAU9xB,CAAV8xB,EAAc,UAAU5gC,CAAV,EAAUA;AACnD,iBAAI6O,GAAeC,CAAfD,EAAmB7O,CAAnB6O,CAAJ;AACA,kBAAI9F,IAAM8oB,GAAa/iB,CAAb+iB,EAAiB7xB,CAAjB6xB,CAAV;;AACA,kBAAK9oB,MAAOs8C,GAAcv2C,CAAdu2C,EAAkBrlD,CAAlBqlD,CAAPt8C,IAAyB/I,CAAM0oB,GAAc5Z,EAAGkL,OAAjB0O,EAA0B1oB,CAA1B0oB,CAApC;AACA/Y,mBAAiB3P,CAAjB2P;AACA,oBAAIk6C,IAAO/6C,EAAGo5C,UAAHp5C,CAAc/F,CAAd+F,CAAX;AACAg9B,mBAAgBh9B,EAAGsF,GAAnB03B,EAAwB+d,EAAK14B,MAA7B2a,EAAqC+d,EAAK51B,IAA1C6X;AAA0C7X;AAAAA;AAAAA,WANf2M,CAD3Bz+B,GAU2B,UAAUnC,CAAV,EAAUA;AAAK,mBAAO6O,GAAeC,CAAfD,EAAmB7O,CAAnB6O,KAAyBc,GAAiB3P,CAAjB2P,CAAhC;AAAiD3P,WAT3FkO,CAHJA,EAgBAA,GAAG/T,EAAEyvB,QAAL1b,EAAe,aAAfA,EAA8B,UAAUlO,CAAV,EAAUA;AAAK,mBAAOioD,GAAcn5C,CAAdm5C,EAAkBjoD,CAAlBioD,CAAP;AAAyBjoD,WAAtEkO,CAhBAA;AAmBA,cAAI47C,CAAJ;AAAA,cAAmBC,IAAY;AAACtrD,iBAAK;AAAN,WAA/B;;AACA,mBAASurD,CAAT,GAASA;AACH7vD,cAAE0qC,WAAF1qC,KACF2vD,IAAgB3hD,WAAW;AAAc,qBAAOhO,EAAE0qC,WAAF1qC,GAAgB,IAAvB;AAAuB,aAAhDgO,EAAyD,GAAzDA,CAAhB2hD,EAAyE,CACzEC,IAAY5vD,EAAE0qC,WAD2D,EAE/DpmC,GAF+D,GAE/DA,CAAO,IAAIyJ,IAAJ,EAHf/N;AAWN;;AAAA,mBAAS8vD,CAAT,CAAiBC,CAAjB,EAAwB36B,CAAxB,EAAwBA;AACtB,gBAAkB,QAAdA,EAAMne,IAAV,EAA0B,QAAO,CAAP;AAC1B,gBAAI8zB,IAAK3V,EAAMne,IAANme,GAAa26B,EAAM94C,IAA5B;AAAA,gBAAkCg0B,IAAK7V,EAAM/D,GAAN+D,GAAY26B,EAAM1+B,GAAzD;AACA,mBAAO0Z,IAAKA,CAALA,GAAUE,IAAKA,CAAfF,GAAoB,GAA3B;AAEFh3B;;AAAAA,aAAG/T,EAAEyvB,QAAL1b,EAAe,YAAfA,EAA6B,UAAUlO,CAAV,EAAUA;AACrC,iBAAK6O,GAAeC,CAAfD,EAAmB7O,CAAnB6O,CAAL,IAAwB7O,CAX1B,UAA+BA,CAA/B,EAA+BA;AAC7B,kBAAwB,KAApBA,EAAEuoD,OAAFvoD,CAAU9D,MAAd,EAA6B,QAAO,CAAP;AAC7B,kBAAIguD,IAAQlqD,EAAEuoD,OAAFvoD,CAAU,CAAVA,CAAZ;AACA,qBAAOkqD,EAAMC,OAAND,IAAiB,CAAjBA,IAAsBA,EAAME,OAANF,IAAiB,CAA9C;AAQ+BG,aAXjC,CAWuDrqD,CAXvD,CAWE,IAAqDA,CAAOqlD,GAAcv2C,CAAdu2C,EAAkBrlD,CAAlBqlD,CAA5D,EAAkF;AAChFlrD,gBAAEopB,KAAFppB,CAAQwpD,YAARxpD,IACAmO,aAAawhD,CAAbxhD,CADAnO;AAEA,kBAAIorD,KAAO,IAAIr9C,IAAJ,EAAX;AACA/N,gBAAE0qC,WAAF1qC,GAAgB;AAACqE,uBAAO+mD,CAAR;AAAaa,wBAAO,CAApB;AACC95C,sBAAMi5C,IAAMwE,EAAUtrD,GAAhB8mD,IAAuB,GAAvBA,GAA6BwE,CAA7BxE,GAAyC;AADhD,eAAhBprD,EAEwB,KAApB6F,EAAEuoD,OAAFvoD,CAAU9D,MAAU,KACtB/B,EAAE0qC,WAAF1qC,CAAciX,IAAdjX,GAAqB6F,EAAEuoD,OAAFvoD,CAAU,CAAVA,EAAasqD,KAAlCnwD,EACAA,EAAE0qC,WAAF1qC,CAAcqxB,GAAdrxB,GAAoB6F,EAAEuoD,OAAFvoD,CAAU,CAAVA,EAAauqD,KAFX,CAFxBpwD;AAImCowD;AAAAA,WATvCr8C,GAaAA,GAAG/T,EAAEyvB,QAAL1b,EAAe,WAAfA,EAA4B;AACtB/T,cAAE0qC,WAAF1qC,KAAiBA,EAAE0qC,WAAF1qC,CAAcisD,KAAdjsD,GAAcisD,CAAQ,CAAvCjsD;AAAuC,WAD7C+T,CAbAA,EAgBAA,GAAG/T,EAAEyvB,QAAL1b,EAAe,UAAfA,EAA2B,UAAUlO,CAAV,EAAUA;AACnC,gBAAIkqD,IAAQ/vD,EAAE0qC,WAAd;;AACA,gBAAIqlB,MAAUxhC,GAAcvuB,CAAduuB,EAAiB1oB,CAAjB0oB,CAAVwhC,IAA+C,QAAdA,EAAM94C,IAAvC84C,IAAuC94C,CACtC84C,EAAM9D,KADP8D,IACgB,IAAIhiD,IAAJ,KAAWgiD,EAAM1rD,KAAjB,GAAyB,GAD7C,EACkD;AAChD,kBAAgDqF,CAAhD;AAAA,kBAAIkF,IAAM+F,EAAG8gB,UAAH9gB,CAAc3U,EAAE0qC,WAAhB/1B,EAA6B,MAA7BA,CAAV;AAEIjL,mBADCqmD,EAAM59C,IACPzI,IADeomD,EAAQC,CAARD,EAAeC,EAAM59C,IAArB29C,CACfpmD,GAAQ,IAAI2iC,EAAJ,CAAUz9B,CAAV,EAAeA,CAAf,CAARlF,GAAuBkF,CACjBmhD,EAAM59C,IAAN49C,CAAW59C,IADMvD,IACEkhD,EAAQC,CAARD,EAAeC,EAAM59C,IAAN49C,CAAW59C,IAA1B29C,CADFlhD,GAEf+F,EAAGo5C,UAAHp5C,CAAc/F,CAAd+F,CAFe/F,GAIf,IAAIy9B,EAAJ,CAAU3wB,GAAI9M,EAAI5K,IAAR0X,EAAc,CAAdA,CAAV,EAA4BS,GAAQxH,EAAGsF,GAAXkC,EAAgBT,GAAI9M,EAAI5K,IAAJ4K,GAAW,CAAf8M,EAAkB,CAAlBA,CAAhBS,CAA5B,CAJRzS,EAKJiL,EAAGi9B,YAAHj9B,CAAgBjL,EAAMstB,MAAtBriB,EAA8BjL,EAAMowB,IAApCnlB,CALIjL,EAMJiL,EAAGioB,KAAHjoB,EANIjL,EAOJ8L,GAAiB3P,CAAjB2P,CAPI9L;AASNmmD;;AAAAA;AAAAA,WAfF97C,CAhBAA,EAiCAA,GAAG/T,EAAEyvB,QAAL1b,EAAe,aAAfA,EAA8B87C,CAA9B97C,CAjCAA,EAqCAA,GAAG/T,EAAEyvB,QAAL1b,EAAe,QAAfA,EAAyB;AACnB/T,cAAEyvB,QAAFzvB,CAAW4vB,YAAX5vB,KACFq/B,GAAgB1qB,CAAhB0qB,EAAoBr/B,EAAEyvB,QAAFzvB,CAAWk0B,SAA/BmL,GACAO,GAAcjrB,CAAdirB,EAAkB5/B,EAAEyvB,QAAFzvB,CAAW8zB,UAA7B8L,EAA6B9L,CAAY,CAAzC8L,CADAP,EAEA7qB,GAAOG,CAAPH,EAAW,QAAXA,EAAqBG,CAArBH,CAHExU;AAGmB2U,WAJzBZ,CArCAA,EA8CAA,GAAG/T,EAAEyvB,QAAL1b,EAAe,YAAfA,EAA6B,UAAUlO,CAAV,EAAUA;AAAK,mBAAO4lC,GAAc92B,CAAd82B,EAAkB5lC,CAAlB4lC,CAAP;AAAyB5lC,WAArEkO,CA9CAA,EA+CAA,GAAG/T,EAAEyvB,QAAL1b,EAAe,gBAAfA,EAAiC,UAAUlO,CAAV,EAAUA;AAAK,mBAAO4lC,GAAc92B,CAAd82B,EAAkB5lC,CAAlB4lC,CAAP;AAAyB5lC,WAAzEkO,CA/CAA,EAkDAA,GAAG/T,EAAEquB,OAALta,EAAc,QAAdA,EAAwB;AAAc,mBAAO/T,EAAEquB,OAAFruB,CAAUk0B,SAAVl0B,GAAsBA,EAAEquB,OAAFruB,CAAU8zB,UAAV9zB,GAAuB,CAApD;AAAoD,WAA1F+T,CAlDAA,EAoDA/T,EAAE8uD,aAAF9uD,GAAkB;AAChBgvD,mBAAO,UAAUnpD,CAAV,EAAUA;AAAS6O,iBAAeC,CAAfD,EAAmB7O,CAAnB6O,KAAyBmB,GAAOhQ,CAAPgQ,CAAzBnB;AAAgC7O,aAD1C;AAEhBopD,kBAAM,UAAUppD,CAAV,EAAUA;AAAS6O,iBAAeC,CAAfD,EAAmB7O,CAAnB6O,MAp4C7B,UAAoBC,CAApB,EAAwB9O,CAAxB,EAAwBA;AACtB,oBAAI+I,IAAM8oB,GAAa/iB,CAAb+iB,EAAiB7xB,CAAjB6xB,CAAV;;AACA,oBAAK9oB,CAAL;AACA,sBAAIyhD,IAAOnoD,SAASugB,sBAATvgB,EAAX;AACA2xB,qBAAoBllB,CAApBklB,EAAwBjrB,CAAxBirB,EAA6Bw2B,CAA7Bx2B,GACKllB,EAAGkL,OAAHlL,CAAW0pC,UAAX1pC,KACHA,EAAGkL,OAAHlL,CAAW0pC,UAAX1pC,GAAwBlK,EAAI,KAAJA,EAAW,IAAXA,EAAiB,2CAAjBA,CAAxBkK,EACAA,EAAGkL,OAAHlL,CAAWia,SAAXja,CAAqBiX,YAArBjX,CAAkCA,EAAGkL,OAAHlL,CAAW0pC,UAA7C1pC,EAAyDA,EAAGkL,OAAHlL,CAAW4nB,SAApE5nB,CAFGA,CADLklB,EAKAvvB,EAAqBqK,EAAGkL,OAAHlL,CAAW0pC,UAAhC/zC,EAA4C+lD,CAA5C/lD,CALAuvB;AAK4Cw2B;AA23CQC,eAp4CtD,CAo4CiE37C,CAp4CjE,EAo4CqE9O,CAp4CrE,GAo4CyEgQ,GAAOhQ,CAAPgQ,CAA5CnB;AAAmD7O,aAF5D;AAGhBxB,mBAAO,UAAUwB,CAAV,EAAUA;AAAK,qBA55C1B,UAAqB8O,CAArB,EAAyB9O,CAAzB,EAAyBA;AACvB,oBAAImC,OAAQ2M,EAAGwE,KAAHxE,CAASspC,YAAjBj2C,IAAiBi2C,CAAiB,IAAIlwC,IAAJ,EAAjBkwC,GAA4Bf,EAA5Be,GAAuC,GAAxDj2C,CAAJ,EAAoE6N,GAAOhQ,CAAPgQ,EAApE,KACA,KAAInB,GAAeC,CAAfD,EAAmB7O,CAAnB6O,CAAJ,IAAuB7O,CAAM0oB,GAAc5Z,EAAGkL,OAAjB0O,EAA0B1oB,CAA1B0oB,CAA7B,KAEA1oB,EAAEy3C,YAAFz3C,CAAe0qD,OAAf1qD,CAAuB,MAAvBA,EAA+B8O,EAAG6C,YAAH7C,EAA/B9O,GACAA,EAAEy3C,YAAFz3C,CAAe2qD,aAAf3qD,GAA+B,UAD/BA,EAKIA,EAAEy3C,YAAFz3C,CAAe4qD,YAAf5qD,IAAe4qD,CAAiBjoD,CAPpC,GAO4C;AAC1C,sBAAIkoD,IAAMjmD,EAAI,KAAJA,EAAW,IAAXA,EAAiB,IAAjBA,EAAuB,mCAAvBA,CAAV;AACAimD,oBAAIC,GAAJD,GAAU,4EAAVA,EACInoD,MACFmoD,EAAI9iC,KAAJ8iC,GAAYA,EAAI71C,MAAJ61C,GAAa,CAAzBA,EACA/7C,EAAGkL,OAAHlL,CAAW0Z,OAAX1Z,CAAmBnK,WAAnBmK,CAA+B+7C,CAA/B/7C,CADA+7C,EAGAA,EAAIE,IAAJF,GAAWA,EAAI7hC,SAJbtmB,CADJmoD,EAOA7qD,EAAEy3C,YAAFz3C,CAAe4qD,YAAf5qD,CAA4B6qD,CAA5B7qD,EAAiC,CAAjCA,EAAoC,CAApCA,CAPA6qD,EAQInoD,KAAUmoD,EAAItlD,UAAJslD,CAAetmD,WAAfsmD,CAA2BA,CAA3BA,CARdA;AAQyCA;AAy4CZG,eA55CjC,CA45C6Cl8C,CA55C7C,EA45CiD9O,CA55CjD,CA45C0B;AAAuBA,aAH7B;AAIhBspD,kBAAM1oB,GAAU9xB,CAAV8xB,EAAc0W,EAAd1W,CAJU;AAKhByoB,mBAAO,UAAUrpD,CAAV,EAAUA;AAAS6O,iBAAeC,CAAfD,EAAmB7O,CAAnB6O,KAAyB0oC,GAAgBzoC,CAAhByoC,CAAzB1oC;AAAyCC;AALnD,WApDlBZ;AA4DA,cAAI+8C,IAAM9wD,EAAEopB,KAAFppB,CAAQ+wD,QAAR/wD,EAAV;AACA+T,aAAG+8C,CAAH/8C,EAAQ,OAARA,EAAiB,UAAUlO,CAAV,EAAUA;AAAK,mBAAO4kD,GAAQ5qD,IAAR4qD,CAAa91C,CAAb81C,EAAiB5kD,CAAjB4kD,CAAP;AAAwB5kD,WAAxDkO,GACAA,GAAG+8C,CAAH/8C,EAAQ,SAARA,EAAmB0yB,GAAU9xB,CAAV8xB,EAAc4jB,EAAd5jB,CAAnB1yB,CADAA,EAEAA,GAAG+8C,CAAH/8C,EAAQ,UAARA,EAAoB0yB,GAAU9xB,CAAV8xB,EAAcikB,EAAdjkB,CAApB1yB,CAFAA,EAGAA,GAAG+8C,CAAH/8C,EAAQ,OAARA,EAAiB,UAAUlO,CAAV,EAAUA;AAAK,mBAAOg3B,GAAQloB,CAARkoB,EAAYh3B,CAAZg3B,CAAP;AAAmBh3B,WAAnDkO,CAHAA,EAIAA,GAAG+8C,CAAH/8C,EAAQ,MAARA,EAAgB,UAAUlO,CAAV,EAAUA;AAAK,mBAAOm3B,GAAOroB,CAAPqoB,EAAWn3B,CAAXm3B,CAAP;AAAkBn3B,WAAjDkO,CAJAA;AAnIAi9C,SA+BF,CA/BwBtsD,IA+BxB,CA3DEmb,EA6BA8+B,IA7BA9+B,EA+BAojB,GAAev+B,IAAfu+B,CA/BApjB,EAgCAnb,KAAKyQ,KAALzQ,CAAW4rB,WAAX5rB,GAAW4rB,CAAc,CAhCzBzQ,EAiCA+uB,GAAUlqC,IAAVkqC,EAAgB30B,CAAhB20B,CAjCA/uB,EAmCKrH,EAAQi3C,SAARj3C,IAAQi3C,CAAc3mD,CAAtB0P,IAAiC9T,KAAK2jC,QAAL3jC,EAAjC8T,GACDxK,WAAW9M,EAAK27B,EAAL37B,EAAcwD,IAAdxD,CAAX8M,EAAgC,EAAhCA,CADCwK,GAGDwkB,GAAOt4B,IAAPs4B,CAtCJnd,EAwCgB8uC,EAAhB,EAAsCA,GAAentD,cAAfmtD,CAA8BzX,CAA9ByX,KAClCA,GAAezX,CAAfyX,EAAoBjqD,IAApBiqD,EAA0Bn2C,EAAQ0+B,CAAR1+B,CAA1Bm2C,EAAwCF,EAAxCE,CADkCA;;AAEtC9mB,WAA2BnjC,IAA3BmjC,GACIrvB,EAAQy4C,UAARz4C,IAAsBA,EAAQy4C,UAARz4C,CAAmB9T,IAAnB8T,CAD1BqvB;;AAEA,aAAK,IAAInoC,IAAI,CAAb,EAAgBA,IAAIwxD,GAAUnvD,MAA9B,EAA8BA,EAAUrC,CAAxC,EAA6CwxD,GAAUxxD,CAAVwxD,EAAaxsD,IAAbwsD;;AAC7CvtB,WAAaj/B,IAAbi/B,GAGIv7B,KAAUoQ,EAAQsY,YAAlB1oB,IACmD,wBAAnD6mB,iBAAiBpP,EAAQ2d,OAAzBvO,EAAkCkiC,aADlC/oD,KAEAyX,EAAQ2d,OAAR3d,CAAgBlV,KAAhBkV,CAAsBsxC,aAAtBtxC,GAAsC,MAFtCzX,CAHJu7B;AASFiZ;;AAAAA,SAAW8R,QAAX9R,GAAsB8R,EAAtB9R,EAEAA,GAAW+R,cAAX/R,GAA4B+R,EAF5B/R;AAgHA,UAAIsU,KAAY,EAAhB;;AAQA,eAASlI,EAAT,CAAoBr0C,CAApB,EAAwBxT,CAAxB,EAA2BiwD,CAA3B,EAAgCC,CAAhC,EAAgCA;AAC9B,YAAkBl4C,CAAlB;AAAA,YAAIc,IAAMtF,EAAGsF,GAAb;AACW,gBAAPm3C,CAAO,KAAQA,IAAM,KAAd,GACA,WAAPA,CAAO,KAGJn3C,EAAIpZ,IAAJoZ,CAASq3C,MAATr3C,GACEd,IAAQiG,GAAiBzK,CAAjByK,EAAqBje,CAArBie,EAAwBjG,KADlCc,GAAmBm3C,IAAM,MAHrB,CADA;AAQX,YAAIlkD,IAAUyH,EAAG6D,OAAH7D,CAAWzH,OAAzB;AAAA,YACIlJ,IAAOgW,GAAQC,CAARD,EAAa7Y,CAAb6Y,CADX;AAAA,YAC4Bu3C,IAAWtkD,EAAYjJ,EAAK6P,IAAjB5G,EAAuB,IAAvBA,EAA6BC,CAA7BD,CADvC;AAEIjJ,UAAKub,UAALvb,KAAmBA,EAAKub,UAALvb,GAAkB,IAArCA;AACJ,YAAiDkZ,CAAjD;AAAA,YAAIs0C,IAAiBxtD,EAAK6P,IAAL7P,CAAUmF,KAAVnF,CAAgB,MAAhBA,EAAwB,CAAxBA,CAArB;;AACA,YAAKqtD,KAAe,KAAKjvD,IAAL,CAAU4B,EAAK6P,IAAf,CAApB,EAAmCA;AAG5B,cAAW,WAAPu9C,CAAO,KAAPA,CACTl0C,IAAcjD,EAAIpZ,IAAJoZ,CAASq3C,MAATr3C,CAAgBd,CAAhBc,EAAuBjW,EAAK6P,IAAL7P,CAAU+F,KAAV/F,CAAgBwtD,EAAezvD,MAA/BiC,CAAvBiW,EAA+DjW,EAAK6P,IAApEoG,CADLm3C,KAEUhjD,CAFVgjD,IAEkBl0C,IAAc,GAFzB,CAAX,EAEyC;AAC5C,iBAAKm0C,CAAL,EAAmB;AACnBD,gBAAM,MAANA;AAAM;AAAA,SAPV,MACEl0C,IAAc,CAAdA,EACAk0C,IAAM,KADNl0C;;AASS,kBAAPk0C,CAAO,GACYl0C,IAAjB/b,IAAI8Y,EAAIC,KAAR/Y,GAA+B8L,EAAY+M,GAAQC,CAARD,EAAa7Y,IAAE,CAAf6Y,EAAkBnG,IAA9B5G,EAAoC,IAApCA,EAA0CC,CAA1CD,CAA/B9L,GACiB,CAFZ,GAGO,SAAPiwD,CAAO,GAChBl0C,IAAcq0C,IAAW58C,EAAG6D,OAAH7D,CAAW88C,UADpB,GAEA,cAAPL,CAAO,GAChBl0C,IAAcq0C,IAAW58C,EAAG6D,OAAH7D,CAAW88C,UADpB,GAEO,mBAAPL,CAAO,KACvBl0C,IAAcq0C,IAAWH,CADF,CAPd,EAUXl0C,IAAcnO,KAAKmN,GAALnN,CAAS,CAATA,EAAYmO,CAAZnO,CAVH;AAYX,YAAI2iD,IAAe,EAAnB;AAAA,YAAuB9iD,IAAM,CAA7B;AACA,YAAI+F,EAAG6D,OAAH7D,CAAWg9C,cAAf,EACI,KAAK,IAAIjyD,IAAIqP,KAAKgC,KAALhC,CAAWmO,IAAchQ,CAAzB6B,CAAb,EAAgDrP,CAAhD,EAAgDA,EAAKA,CAArD,EAAyDkP,KAAO1B,CAAP0B,EAAgB8iD,KAAgB,IAAhC9iD;AAG7D,YAFIA,IAAMsO,CAANtO,KAAqB8iD,KAAgBxiD,EAASgO,IAActO,CAAvBM,CAArCN,GAEA8iD,KAAgBF,CAApB,EAGE,OAFA/b,GAAax7B,CAAbw7B,EAAkBic,CAAlBjc,EAAgC/5B,GAAIva,CAAJua,EAAO,CAAPA,CAAhC+5B,EAA2C/5B,GAAIva,CAAJua,EAAO81C,EAAezvD,MAAtB2Z,CAA3C+5B,EAA0E,QAA1EA,GACAzxC,EAAKub,UAALvb,GAAkB,IADlByxC,EACkB,CACX,CAAP;;AAIA,aAAK,IAAIvjC,IAAM,CAAf,EAAkBA,IAAM+H,EAAIuf,GAAJvf,CAAQwf,MAARxf,CAAelY,MAAvC,EAA+CmQ,GAA/C,EAAsD;AACpD,cAAIxI,IAAQuQ,EAAIuf,GAAJvf,CAAQwf,MAARxf,CAAe/H,CAAf+H,CAAZ;;AACA,cAAIvQ,EAAMowB,IAANpwB,CAAW1F,IAAX0F,IAAmBvI,CAAnBuI,IAAwBA,EAAMowB,IAANpwB,CAAWkG,EAAXlG,GAAgB8nD,EAAezvD,MAA3D,EAAmE;AACjE,gBAAI6vD,IAAQl2C,GAAIva,CAAJua,EAAO81C,EAAezvD,MAAtB2Z,CAAZ;AACAq2B,eAAoB93B,CAApB83B,EAAyB7/B,CAAzB6/B,EAA8B,IAAI1F,EAAJ,CAAUulB,CAAV,EAAiBA,CAAjB,CAA9B7f;AACA;AAAA;AAAA;AA5DR6K;;AAAAA,SAAWiV,cAAXjV,GAA4B,UAAUjwC,CAAV,EAAUA;AAAK,eAAOukD,GAAU7pD,IAAV6pD,CAAevkD,CAAfukD,CAAP;AAAsBvkD,OAAjEiwC;;AAqEA,UAAIkV,KAAa,IAAjB;;AAEA,eAASC,EAAT,CAAuBC,CAAvB,EAAuBA;AACrBF,aAAaE,CAAbF;AAGF;;AAAA,eAASG,EAAT,CAAwBt9C,CAAxB,EAA4Bu9C,CAA5B,EAAsCC,CAAtC,EAA+C34B,CAA/C,EAAoDhrB,CAApD,EAAoDA;AAClD,YAAIyL,IAAMtF,EAAGsF,GAAb;AACAtF,UAAGkL,OAAHlL,CAAW0oB,KAAX1oB,GAAW0oB,CAAQ,CAAnB1oB,EACK6kB,MAAOA,IAAMvf,EAAIuf,GAAjBA,CADL7kB;AAGA,YAAIy9C,KAAU,IAAIrkD,IAAJ,EAAVqkD,GAAqB,GAAzB;AAAA,YACIC,IAAkB,WAAV7jD,CAAU,IAAWmG,EAAGwE,KAAHxE,CAAS46C,aAAT56C,GAAyBy9C,CAD1D;AAAA,YAEIE,IAAYn7C,GAAe+6C,CAAf/6C,CAFhB;AAAA,YAE0Co7C,IAAa,IAFvD;AAIA,YAAIF,KAAS74B,EAAIC,MAAJD,CAAWz3B,MAAXy3B,GAAoB,CAAjC,EACE,IAAIs4B,MAAcA,GAAWj+C,IAAXi+C,CAAgB5qD,IAAhB4qD,CAAqB,IAArBA,KAA8BI,CAAhD,EAAgDA;AAC9C,cAAI14B,EAAIC,MAAJD,CAAWz3B,MAAXy3B,GAAoBs4B,GAAWj+C,IAAXi+C,CAAgB/vD,MAApCy3B,IAA8C,CAAlD,EAAqD;AACnD+4B,gBAAa,EAAbA;;AACA,iBAAK,IAAI7yD,IAAI,CAAb,EAAgBA,IAAIoyD,GAAWj+C,IAAXi+C,CAAgB/vD,MAApC,EAA4CrC,GAA5C,EACI6yD,EAAWlrD,IAAXkrD,CAAgBt4C,EAAI07B,UAAJ17B,CAAe63C,GAAWj+C,IAAXi+C,CAAgBpyD,CAAhBoyD,CAAf73C,CAAhBs4C;AAA+C7yD;AAAAA,SAJvD,MAMW4yD,EAAUvwD,MAAVuwD,IAAoB94B,EAAIC,MAAJD,CAAWz3B,MAA/BuwD,IAAyC39C,EAAG6D,OAAH7D,CAAW69C,sBAApDF,KACTC,IAAavsD,EAAIssD,CAAJtsD,EAAe,UAAUrG,CAAV,EAAUA;AAAK,iBAAO,CAACA,CAAD,CAAP;AAAQA,SAAtCqG,CADJssD;;AAOb,aAFA,IAAInvB,IAAcxuB,EAAGQ,KAAHR,CAASwuB,WAA3B,EAESjxB,IAAMsnB,EAAIC,MAAJD,CAAWz3B,MAAXy3B,GAAoB,CAAnC,EAAsCtnB,KAAO,CAA7C,EAAgDA,GAAhD,EAAuD;AACrD,cAAIxI,IAAQ8vB,EAAIC,MAAJD,CAAWtnB,CAAXsnB,CAAZ;AAAA,cACI9oB,IAAOhH,EAAMgH,IAANhH,EADX;AAAA,cACyBiH,IAAKjH,EAAMiH,EAANjH,EAD9B;AAEIA,YAAMiwB,KAANjwB,OACEyoD,KAAWA,IAAU,CAArBA,GACAzhD,IAAOgL,GAAIhL,EAAK1M,IAAT0X,EAAehL,EAAKd,EAALc,GAAUyhD,CAAzBz2C,CADPy2C,GAEKx9C,EAAGwE,KAAHxE,CAAS5H,SAAT4H,IAAS5H,CAAcslD,CAAvB19C,GACLhE,IAAK+K,GAAI/K,EAAG3M,IAAP0X,EAAa3M,KAAKC,GAALD,CAASiL,GAAQC,CAARD,EAAarJ,EAAG3M,IAAhBgW,EAAsBnG,IAAtBmG,CAA2BjY,MAApCgN,EAA4C4B,EAAGf,EAAHe,GAAQxB,EAAImjD,CAAJnjD,EAAepN,MAAnEgN,CAAb2M,CADA/G,GAEA09C,KAASP,EAATO,IAAuBP,GAAWW,QAAlCJ,IAA8CP,GAAWj+C,IAAXi+C,CAAgB5qD,IAAhB4qD,CAAqB,IAArBA,KAA8BI,CAA5EG,KACL3hD,IAAOC,IAAK+K,GAAIhL,EAAK1M,IAAT0X,EAAe,CAAfA,CADP22C,CALP3oD;AAQJ,cAAIgpD,IAAc;AAAChiD,kBAAMA,CAAP;AAAaC,gBAAIA,CAAjB;AAAqBkD,kBAAM0+C,IAAaA,EAAWrgD,IAAMqgD,EAAWxwD,MAA5BwwD,CAAbA,GAAmDD,CAA9E;AACC9jD,oBAAQA,MAAW6jD,IAAQ,OAARA,GAAkB19C,EAAGwE,KAAHxE,CAAS66C,WAAT76C,GAAuBy9C,CAAvBz9C,GAAgC,KAAhCA,GAAwC,QAArEnG;AADT,WAAlB;AAEAmlC,aAAWh/B,EAAGsF,GAAd05B,EAAmB+e,CAAnB/e,GACAlpB,GAAY9V,CAAZ8V,EAAgB,WAAhBA,EAA6B9V,CAA7B8V,EAAiCioC,CAAjCjoC,CADAkpB;AAGEue;;AAAAA,cAAaG,CAAbH,IACAS,GAAgBh+C,CAAhBg+C,EAAoBT,CAApBS,CADAT,EAGJrzB,GAAoBlqB,CAApBkqB,CAHIqzB,EAIAv9C,EAAGQ,KAAHR,CAASwuB,WAATxuB,GAAuB,CAAvBA,KAA4BA,EAAGQ,KAAHR,CAASwuB,WAATxuB,GAAuBwuB,CAAnDxuB,CAJAu9C,EAKJv9C,EAAGQ,KAAHR,CAASyuB,MAATzuB,GAASyuB,CAAS,CALd8uB,EAMJv9C,EAAGwE,KAAHxE,CAAS46C,aAAT56C,GAAyBA,EAAGwE,KAAHxE,CAAS66C,WAAT76C,GAAS66C,CAAe,CAN7C0C;AASN;;AAAA,eAASU,EAAT,CAAqB/sD,CAArB,EAAwB8O,CAAxB,EAAwBA;AACtB,YAAIk+C,IAAShtD,EAAEitD,aAAFjtD,IAAmBA,EAAEitD,aAAFjtD,CAAgBs4C,OAAhBt4C,CAAwB,MAAxBA,CAAhC;AACA,YAAIgtD,CAAJ,EAIE,OAHAhtD,EAAEgP,cAAFhP,IACK8O,EAAG4oC,UAAH5oC,MAAoBA,EAAG6D,OAAH7D,CAAWo+C,YAA/Bp+C,IACD6xB,GAAQ7xB,CAAR6xB,EAAY;AAAc,iBAAOyrB,GAAet9C,CAAfs9C,EAAmBY,CAAnBZ,EAA2B,CAA3BA,EAA8B,IAA9BA,EAAoC,OAApCA,CAAP;AAA2C,SAArEzrB,CAFJ3gC,EAEyE,CAClE,CAAP;AAIJ;;AAAA,eAAS8sD,EAAT,CAAyBh+C,CAAzB,EAA6Bu9C,CAA7B,EAA6BA;AAE3B,YAAKv9C,EAAG6D,OAAH7D,CAAWq+C,aAAXr+C,IAA6BA,EAAG6D,OAAH7D,CAAWs+C,WAA7C,EAGA,KAFA,IAAIz5B,IAAM7kB,EAAGsF,GAAHtF,CAAO6kB,GAAjB,EAES95B,IAAI85B,EAAIC,MAAJD,CAAWz3B,MAAXy3B,GAAoB,CAAjC,EAAoC95B,KAAK,CAAzC,EAA4CA,GAA5C,EAAiD;AAC/C,cAAIgK,IAAQ8vB,EAAIC,MAAJD,CAAW95B,CAAX85B,CAAZ;;AACA,gBAAI9vB,EAAMowB,IAANpwB,CAAWkG,EAAXlG,GAAgB,GAAhBA,IAAwBhK,KAAK85B,EAAIC,MAAJD,CAAW95B,IAAI,CAAf85B,EAAkBM,IAAlBN,CAAuBx1B,IAAvBw1B,IAA+B9vB,EAAMowB,IAANpwB,CAAW1F,IAA3E;AACA,gBAAInD,IAAO8T,EAAGu+C,SAAHv+C,CAAajL,EAAMowB,IAAnBnlB,CAAX;AAAA,gBACIsL,KAAW,CADf;;AAEA,gBAAIpf,EAAKmyD,aAAT,EAASA;AACP,mBAAK,IAAIpgD,IAAI,CAAb,EAAgBA,IAAI/R,EAAKmyD,aAALnyD,CAAmBkB,MAAvC,EAA+C6Q,GAA/C,EACI,IAAIs/C,EAAStwD,OAATswD,CAAiBrxD,EAAKmyD,aAALnyD,CAAmB0P,MAAnB1P,CAA0B+R,CAA1B/R,CAAjBqxD,IAA2Ct/C,CAAO,CAAtD,EAAyD;AACzDqN,oBAAW+oC,GAAWr0C,CAAXq0C,EAAet/C,EAAMowB,IAANpwB,CAAW1F,IAA1BglD,EAAgC,OAAhCA,CAAX/oC;AACA;AAAA;AAAA,aAJN,MAMWpf,EAAKsyD,aAALtyD,IACLA,EAAKsyD,aAALtyD,CAAmBuB,IAAnBvB,CAAwBmZ,GAAQrF,EAAGsF,GAAXD,EAAgBtQ,EAAMowB,IAANpwB,CAAW1F,IAA3BgW,EAAiCnG,IAAjCmG,CAAsCjQ,KAAtCiQ,CAA4C,CAA5CA,EAA+CtQ,EAAMowB,IAANpwB,CAAWkG,EAA1DoK,CAAxBnZ,CADKA,KAELof,IAAW+oC,GAAWr0C,CAAXq0C,EAAet/C,EAAMowB,IAANpwB,CAAW1F,IAA1BglD,EAAgC,OAAhCA,CAFNnoD;;AAIPof,iBAAYwK,GAAY9V,CAAZ8V,EAAgB,eAAhBA,EAAiC9V,CAAjC8V,EAAqC/gB,EAAMowB,IAANpwB,CAAW1F,IAAhDymB,CAAZxK;AAA4Djc;AAAAA;AAIpE;;AAAA,eAASovD,EAAT,CAAwBz+C,CAAxB,EAAwBA;AAEtB,aADA,IAAId,IAAO,EAAX,EAAe4lB,IAAS,EAAxB,EACS/5B,IAAI,CAAb,EAAgBA,IAAIiV,EAAGsF,GAAHtF,CAAO6kB,GAAP7kB,CAAW8kB,MAAX9kB,CAAkB5S,MAAtC,EAA8CrC,GAA9C,EAAmD;AACjD,cAAIsE,IAAO2Q,EAAGsF,GAAHtF,CAAO6kB,GAAP7kB,CAAW8kB,MAAX9kB,CAAkBjV,CAAlBiV,EAAqBmlB,IAArBnlB,CAA0B3Q,IAArC;AAAA,cACIqvD,IAAY;AAACr8B,oBAAQtb,GAAI1X,CAAJ0X,EAAU,CAAVA,CAAT;AAAuBoe,kBAAMpe,GAAI1X,IAAO,CAAX0X,EAAc,CAAdA;AAA7B,WADhB;AAEA+d,YAAOpyB,IAAPoyB,CAAY45B,CAAZ55B,GACA5lB,EAAKxM,IAALwM,CAAUc,EAAGskC,QAAHtkC,CAAY0+C,EAAUr8B,MAAtBriB,EAA8B0+C,EAAUv5B,IAAxCnlB,CAAVd,CADA4lB;AAGF;;AAAA,eAAO;AAAC5lB,gBAAMA,CAAP;AAAa4lB,kBAAQA;AAArB,SAAP;AAGF;;AAAA,eAAS65B,EAAT,CAA6BC,CAA7B,EAAoCC,CAApC,EAAgDC,CAAhD,EAA6DC,CAA7D,EAA6DA;AAC3DH,UAAMvoD,YAANuoD,CAAmB,aAAnBA,EAAkCE,IAAc,EAAdA,GAAmB,KAArDF,GACAA,EAAMvoD,YAANuoD,CAAmB,gBAAnBA,EAAqCG,IAAiB,EAAjBA,GAAsB,KAA3DH,CADAA,EAEAA,EAAMvoD,YAANuoD,CAAmB,YAAnBA,EAAmB,EAAgBC,CAAnCD,CAFAA;AAKF;;AAAA,eAASI,EAAT,GAASA;AACP,YAAIl8C,IAAKhN,EAAI,UAAJA,EAAgB,IAAhBA,EAAsB,IAAtBA,EAA4B,sFAA5BA,CAAT;AAAA,YACI8L,IAAM9L,EAAI,KAAJA,EAAW,CAACgN,CAAD,CAAXhN,EAAiB,IAAjBA,EAAuB,gEAAvBA,CADV;AAWA,eALIrC,IAAUqP,EAAG9M,KAAH8M,CAASmW,KAATnW,GAAiB,QAA3BrP,GACGqP,EAAGzM,YAAHyM,CAAgB,MAAhBA,EAAwB,KAAxBA,CADHrP,EAGAQ,MAAO6O,EAAG9M,KAAH8M,CAASm8C,MAATn8C,GAAkB,iBAAzB7O,CAHAR,EAIJkrD,GAAoB77C,CAApB67C,CAJIlrD,EAKGmO,CAAP;AAmcF;;AAAA,eAASs9C,EAAT,CAAkB55C,CAAlB,EAAuBrL,CAAvB,EAA4B0B,CAA5B,EAAiCs7C,CAAjC,EAAuCrH,CAAvC,EAAuCA;AACrC,YAAI1R,IAASjkC,CAAb;AAAA,YACIklD,IAAUxjD,CADd;AAAA,YAEIwV,IAAU9L,GAAQC,CAARD,EAAapL,EAAI5K,IAAjBgW,CAFd;;AASA,iBAAS+5C,CAAT,CAAkBC,CAAlB,EAAkBA;AAChB,cAAIr3C,CAAJ,EANIhd,CAMJ;;AAMA,cAAY,SAJVgd,IADE4nC,IA9vDR,UAAsB5vC,CAAtB,EAA0B3Q,CAA1B,EAAgCK,CAAhC,EAAuCiM,CAAvC,EAAuCA;AACrC,gBAAI2jD,IAAOrgD,GAAS5P,CAAT4P,EAAee,EAAGsF,GAAHtF,CAAO7C,SAAtB8B,CAAX;AACA,iBAAKqgD,CAAL,EAAa,OAAO5P,GAAcrgD,CAAdqgD,EAAoBhgD,CAApBggD,EAA2B/zC,CAA3B+zC,CAAP;AACThgD,cAAMuL,EAANvL,IAAYL,EAAK6P,IAAL7P,CAAUjC,MAAtBsC,IACFA,EAAMuL,EAANvL,GAAWL,EAAK6P,IAAL7P,CAAUjC,MAArBsC,EACAA,EAAM8M,MAAN9M,GAAe,QAFbA,IAGOA,EAAMuL,EAANvL,IAAY,CAAZA,KACTA,EAAMuL,EAANvL,GAAW,CAAXA,EACAA,EAAM8M,MAAN9M,GAAe,OAFNA,CAHPA;AAOJ,gBAAI6wB,IAAUjkB,GAAcgjD,CAAdhjD,EAAoB5M,EAAMuL,EAA1BqB,EAA8B5M,EAAM8M,MAApCF,CAAd;AAAA,gBAA2D+X,IAAOirC,EAAK/+B,CAAL++B,CAAlE;AACA,gBAAwB,SAApBt/C,EAAGsF,GAAHtF,CAAO7C,SAAa,IAASkX,EAAKnX,KAALmX,GAAa,CAAbA,IAAkB,CAA3B,KAAiC1Y,IAAM,CAANA,GAAU0Y,EAAKrY,EAALqY,GAAU3kB,EAAMuL,EAA1BU,GAA+B0Y,EAAKtY,IAALsY,GAAY3kB,EAAMuL,EAAlF,CAAxB,EAGE,OAAOy0C,GAAcrgD,CAAdqgD,EAAoBhgD,CAApBggD,EAA2B/zC,CAA3B+zC,CAAP;;AAGF,gBACIG,CADJ;AAAA,gBAAI0P,IAAK,UAAUtlD,CAAV,EAAe0B,CAAf,EAAeA;AAAO,qBAAO8zC,GAAkBpgD,CAAlBogD,EAAwBx1C,aAAe8M,EAAf9M,GAAqBA,EAAIgB,EAAzBhB,GAA8BA,CAAtDw1C,EAA2D9zC,CAA3D8zC,CAAP;AAAkE9zC,aAAjG;AAAA,gBAEI6jD,IAAuB,UAAUvkD,CAAV,EAAUA;AACnC,qBAAK+E,EAAG6D,OAAH7D,CAAWmc,YAAXnc,IACL6vC,IAAOA,KAAQt0B,GAAsBvb,CAAtBub,EAA0BlsB,CAA1BksB,CAAfs0B,EACOzuB,GAAsBphB,CAAtBohB,EAA0B/xB,CAA1B+xB,EAAgCyuB,CAAhCzuB,EAAsCnmB,CAAtCmmB,CAFFphB,IAAkC;AAACmhB,uBAAO,CAAR;AAAWxxB,qBAAKN,EAAK6P,IAAL7P,CAAUjC;AAA1B,eAAvC;AAAiEA,aAHnE;AAAA,gBAOI8zB,IAAoBs+B,EAAqC,YAAhB9vD,EAAM8M,MAAU,GAAW+iD,EAAG7vD,CAAH6vD,EAAG7vD,CAAQ,CAAX6vD,CAAX,GAA2B7vD,EAAMuL,EAAtEukD,CAPxB;;AASA,gBAAwB,SAApBx/C,EAAGsF,GAAHtF,CAAO7C,SAAa,IAAuB,KAAdkX,EAAKnX,KAAtC,EAAkD;AAChD,kBAAIuiD,IAAoC,KAAdprC,EAAKnX,KAAS,IAAOvB,IAAM,CAArD;AAAA,kBACIV,IAAKskD,EAAG7vD,CAAH6vD,EAAUE,IAAqB,CAArBA,GAAqB,CAAK,CAApCF,CADT;;AAEA,kBAAU,QAANtkD,CAAM,KAAUwkD,IAAwExkD,KAAMoZ,EAAKrY,EAAXf,IAAiBA,KAAMimB,EAAkBvxB,GAAjH8vD,GAAqBxkD,KAAMoZ,EAAKtY,IAAXd,IAAmBA,KAAMimB,EAAkBC,KAA1E,CAAV,EAA2I;AAEzI,oBAAI3kB,IAASijD,IAAqB,QAArBA,GAAgC,OAA7C;AACA,uBAAO,IAAI14C,EAAJ,CAAQrX,EAAML,IAAd,EAAoB4L,CAApB,EAAwBuB,CAAxB,CAAP;AAA+BA;AAOnC;;AAAA,gBAAIkjD,IAAqB,UAAUn/B,CAAV,EAAmB5kB,CAAnB,EAAwBulB,CAAxB,EAAwBA;AAK/C,mBAJA,IAAIy+B,IAAS,UAAU1kD,CAAV,EAAcwkD,CAAd,EAAcA;AAAsB,uBAAOA,IACpD,IAAI14C,EAAJ,CAAQrX,EAAML,IAAd,EAAoBkwD,EAAGtkD,CAAHskD,EAAO,CAAPA,CAApB,EAA+B,QAA/B,CADoDE,GAEpD,IAAI14C,EAAJ,CAAQrX,EAAML,IAAd,EAAoB4L,CAApB,EAAwB,OAAxB,CAF6C;AAErB,eAE5B,EAAOslB,KAAW,CAAXA,IAAgBA,IAAU++B,EAAKlyD,MAAtC,EAA8CmzB,KAAW5kB,CAAzD,EAA8D;AAC5D,oBAAI0Y,IAAOirC,EAAK/+B,CAAL++B,CAAX;AAAA,oBACIG,IAAsB9jD,IAAM,CAANA,KAA2B,KAAd0Y,EAAKnX,KAAlBvB,CAD1B;AAAA,oBAEIV,IAAKwkD,IAAqBv+B,EAAkBC,KAAvCs+B,GAA+CF,EAAGr+B,EAAkBvxB,GAArB4vD,EAAqB5vD,CAAM,CAA3B4vD,CAFxD;AAGA,oBAAIlrC,EAAKtY,IAALsY,IAAapZ,CAAboZ,IAAmBpZ,IAAKoZ,EAAKrY,EAAjC,EAAuC,OAAO2jD,EAAO1kD,CAAP0kD,EAAWF,CAAXE,CAAP;AAEvC,oBADA1kD,IAAKwkD,IAAqBprC,EAAKtY,IAA1B0jD,GAAiCF,EAAGlrC,EAAKrY,EAARujD,EAAQvjD,CAAK,CAAbujD,CAAtCtkD,EACIimB,EAAkBC,KAAlBD,IAA2BjmB,CAA3BimB,IAAiCjmB,IAAKimB,EAAkBvxB,GAA5D,EAAmE,OAAOgwD,EAAO1kD,CAAP0kD,EAAWF,CAAXE,CAAP;AAAkBF;AAAAA,aAXzF;AAAA,gBAgBIG,IAAMF,EAAmBn/B,IAAU5kB,CAA7B+jD,EAAkC/jD,CAAlC+jD,EAAuCx+B,CAAvCw+B,CAhBV;;AAiBA,gBAAIE,CAAJ,EAAW,OAAOA,CAAP;AAGX,gBAAIC,IAASlkD,IAAM,CAANA,GAAUulB,EAAkBvxB,GAA5BgM,GAAkC4jD,EAAGr+B,EAAkBC,KAArBo+B,EAAqBp+B,CAAQ,CAA7Bo+B,CAA/C;AACA,mBAAc,QAAVM,CAAU,IAAUlkD,IAAM,CAANA,IAAWkkD,KAAUxwD,EAAK6P,IAAL7P,CAAUjC,MAAzC,IAAyCA,EACrDwyD,IAAMF,EAAmB/jD,IAAM,CAANA,GAAU,CAAVA,GAAc2jD,EAAKlyD,MAALkyD,GAAc,CAA/CI,EAAkD/jD,CAAlD+jD,EAAuDF,EAAqBK,CAArBL,CAAvDE,CAD+CtyD,CAAzC,GAMP,IANO,GAEMwyD,CAFpB;AAmsDWE,WA/vDb,CA+vD0Bx6C,EAAItF,EA/vD9B,EA+vDkCmR,CA/vDlC,EA+vD2ClX,CA/vD3C,EA+vDgD0B,CA/vDhD,CA8vDQi0C,GAGKF,GAAcv+B,CAAdu+B,EAAuBz1C,CAAvBy1C,EAA4B/zC,CAA5B+zC,CAEG,CAAZ,EAAkB;AAChB,gBAAK2P,MAbHr0D,IAAIiP,EAAI5K,IAAJ4K,GAAW0B,CAaZ0jD,IAZC/5C,EAAIC,KAYL85C,IAZcr0D,KAAKsa,EAAIC,KAAJD,GAAYA,EAAIE,IAYnC65C,KAXPplD,IAAM,IAAI8M,EAAJ,CAAQ/b,CAAR,EAAWiP,EAAIgB,EAAf,EAAmBhB,EAAIuC,MAAvB,CAANvC,EAA6BuC,EACtB2U,IAAU9L,GAAQC,CAARD,EAAara,CAAbqa,CADY7I,CAWtB6iD,CAAL,EAGI,QAAO,CAAP;AAFAplD,gBAAM01C,GAAUC,CAAVD,EAAoBrqC,EAAItF,EAAxB2vC,EAA4Bx+B,CAA5Bw+B,EAAqC11C,EAAI5K,IAAzCsgD,EAA+Ch0C,CAA/Cg0C,CAAN11C;AAAqD0B,WAF3D,MAME1B,IAAM+N,CAAN/N;;AAEF,kBAAO,CAAP;AAGF;;AAAA,YAAY,UAARg9C,CAAJ,EACEmI,IADF,KAEO,IAAY,YAARnI,CAAJ,EACLmI,GAAS,CAATA,EADK,KAEA,IAAY,UAARnI,CAAQ,IAAkB,WAARA,CAAtB,EAGL,KAFA,IAAI8I,IAAU,IAAd,EAAoB7wB,IAAgB,WAAR+nB,CAA5B,EACI57C,IAASiK,EAAItF,EAAJsF,IAAUA,EAAItF,EAAJsF,CAAO06C,SAAP16C,CAAiBrL,CAAjBqL,EAAsB,WAAtBA,CADvB,EAESC,KAAQ,CAAjB,EAAiB,EACX5J,IAAM,CADK,KACCyjD,GAAU75C,CAAV65C,CADlB,EAAwB75C,KAAQ,CAAhC,EAAuC;AAErC,cAAI7I,IAAMyU,EAAQjS,IAARiS,CAAavV,MAAbuV,CAAoBlX,EAAIgB,EAAxBkW,KAA+B,IAAzC;AAAA,cACI1T,IAAOrC,GAAWsB,CAAXtB,EAAgBC,CAAhBD,IAA0B,GAA1BA,GACP8zB,KAAgB,QAAPxyB,CAATwyB,GAAuB,GAAvBA,GAAuB,CACtBA,CADsB,IACb,KAAKzhC,IAAL,CAAUiP,CAAV,CADa,GACI,IADJ,GAEvB,GAJJ;;AAMA,eADIwyB,CACJ,IADc3pB,CACd,IADwB9H,CACxB,KADgCA,IAAO,GACvC,GAAIsiD,KAAWA,KAAWtiD,CAA1B,EAAgC;AAC1B9B,gBAAM,CAANA,KAAUA,IAAM,CAANA,EAASyjD,GAATzjD,EAAqB1B,EAAIuC,MAAJvC,GAAa,OAA5C0B;AACJ;AAIF;;AAAA,cADI8B,MAAQsiD,IAAUtiD,CAAlBA,GACA9B,IAAM,CAANA,IAAM,CAAMyjD,GAAU75C,CAAV65C,CAAhB,EAAoC;AAGxC;AAAA,YAAI38C,IAASs7B,GAAWz4B,CAAXy4B,EAAgB9jC,CAAhB8jC,EAAqBG,CAArBH,EAA6BohB,CAA7BphB,EAA6BohB,CAAS,CAAtCphB,CAAb;AAEA,eADI92B,GAAei3B,CAAfj3B,EAAuBxE,CAAvBwE,MAAkCxE,EAAOw9C,OAAPx9C,GAAOw9C,CAAU,CAAnDh5C,GACGxE,CAAP;AAMF;;AAAA,eAASy9C,EAAT,CAAkBlgD,CAAlB,EAAsB/F,CAAtB,EAA2B0B,CAA3B,EAAgCs7C,CAAhC,EAAgCA;AAC9B,YAAgCl2B,CAAhC;AAAA,YASIrwB,CATJ;AAAA,YAAI4U,IAAMtF,EAAGsF,GAAb;AAAA,YAAkB6B,IAAIlN,EAAIqI,IAA1B;;AACA,YAAY,UAAR20C,CAAJ,EAAoB;AAClB,cAAIkJ,IAAW/lD,KAAKC,GAALD,CAAS4F,EAAGkL,OAAHlL,CAAW0Z,OAAX1Z,CAAmBib,YAA5B7gB,EAA0CzP,OAAOmmC,WAAPnmC,IAAsB4I,SAAS2rB,eAAT3rB,CAAyB0nB,YAAzF7gB,CAAf;AAAA,cACIgmD,IAAahmD,KAAKmN,GAALnN,CAAS+lD,IAAW,KAAK/9B,GAAWpiB,EAAGkL,OAAdkX,CAAzBhoB,EAAiD,CAAjDA,CADjB;AAEA2mB,eAAKplB,IAAM,CAANA,GAAU1B,EAAIwiB,MAAd9gB,GAAuB1B,EAAIyiB,GAAhCqE,IAAuCplB,IAAMykD,CAA7Cr/B;AAA6Cq/B,SAH/C,MAKmB,UAARnJ,CAAQ,KACjBl2B,IAAIplB,IAAM,CAANA,GAAU1B,EAAIwiB,MAAJxiB,GAAa,CAAvB0B,GAA2B1B,EAAIyiB,GAAJziB,GAAU,CADxB;;AAInB,gBACEvJ,IAASowB,GAAW9gB,CAAX8gB,EAAe3Z,CAAf2Z,EAAkBC,CAAlBD,CADX,EAEcF,OAFd,GAAS;AAGP,cAAIjlB,IAAM,CAANA,GAAUolB,KAAK,CAAfplB,GAAmBolB,KAAKzb,EAAIY,MAAhC,EAAwC;AAAExV,cAAOuvD,OAAPvvD,GAAOuvD,CAAU,CAAjBvvD;AAAuB;AACjEqwB;;AAAAA,eAAW,IAANplB,CAALolB;AAEF;;AAAA,eAAOrwB,CAAP;AAKF;;AAAA,UAAI2vD,KAAuB,UAASrgD,CAAT,EAASA;AAClCjQ,aAAKiQ,EAALjQ,GAAUiQ,CAAVjQ,EACAA,KAAKuwD,cAALvwD,GAAsBA,KAAKwwD,gBAALxwD,GAAwBA,KAAKywD,aAALzwD,GAAqBA,KAAK0wD,eAAL1wD,GAAuB,IAD1FA,EAEAA,KAAK2wD,OAAL3wD,GAAe,IAAIgJ,CAAJ,EAFfhJ,EAGAA,KAAK4wD,SAAL5wD,GAAiB,IAHjBA,EAIAA,KAAK6wD,WAAL7wD,GAAK6wD,CAAc,CAJnB7wD,EAKAA,KAAK8wD,cAAL9wD,GAAsB,IALtBA;AAKsB,OANxB;;AA6WA,eAAS+wD,EAAT,CAAkB9gD,CAAlB,EAAsB/F,CAAtB,EAAsBA;AACpB,YAAI0b,IAAO6F,GAAgBxb,CAAhBwb,EAAoBvhB,EAAI5K,IAAxBmsB,CAAX;AACA,aAAK7F,CAAL,IAAaA,EAAKH,MAAlB,EAA4B,OAAO,IAAP;AAC5B,YAAInmB,IAAOgW,GAAQrF,EAAGsF,GAAXD,EAAgBpL,EAAI5K,IAApBgW,CAAX;AAAA,YACIT,IAAOuW,GAAgBxF,CAAhBwF,EAAsB9rB,CAAtB8rB,EAA4BlhB,EAAI5K,IAAhC8rB,CADX;AAAA,YAGI5e,IAAQ0C,GAAS5P,CAAT4P,EAAee,EAAGsF,GAAHtF,CAAO7C,SAAtB8B,CAHZ;AAAA,YAG8ConB,IAAO,MAHrD;AAII9pB,cAEF8pB,IADc/pB,GAAcC,CAAdD,EAAqBrC,EAAIgB,EAAzBqB,IACG,CADHA,GACO,OADPA,GACiB,MAF7BC;AAIJ,YAAIkG,IAASoa,GAAuBjY,EAAKvT,GAA5BwrB,EAAiC5iB,EAAIgB,EAArC4hB,EAAyCwJ,CAAzCxJ,CAAb;AAEA,eADApa,EAAOmM,MAAPnM,GAAmC,WAAnBA,EAAO9K,QAAY,GAAU8K,EAAO9S,GAAjB,GAAuB8S,EAAO/S,KAAjE+S,EACOA,CAAP;AASF;;AAAA,eAASs+C,EAAT,CAAgB9mD,CAAhB,EAAqB+mD,CAArB,EAAqBA;AAAoC,eAAzBA,MAAO/mD,EAAI+mD,GAAJ/mD,GAAI+mD,CAAM,CAAjBA,GAAgC/mD,CAAP;AAuDzD;;AAAA,eAASgnD,EAAT,CAAkBjhD,CAAlB,EAAsB7Q,CAAtB,EAA4Byf,CAA5B,EAA4BA;AAC1B,YAAIsyC,CAAJ;;AACA,YAAI/xD,KAAQ6Q,EAAGkL,OAAHlL,CAAW6oB,OAAvB,EAAgC;AAE9B,gBADAq4B,IAAWlhD,EAAGkL,OAAHlL,CAAW6oB,OAAX7oB,CAAmBxK,UAAnBwK,CAA8B4O,CAA9B5O,CACX,GAAiB,OAAO+gD,GAAO/gD,EAAGwH,OAAHxH,CAAW+G,GAAI/G,EAAGkL,OAAHlL,CAAW4L,MAAX5L,GAAoB,CAAxB+G,CAAX/G,CAAP+gD,EAA0C,CAAK,CAA/CA,CAAP;AACjB5xD,cAAO,IAAPA,EAAayf,IAAS,CAAtBzf;AAAsB,SAHxB,MAKE,KAAK+xD,IAAW/xD,CAAhB,GAAuB+xD,IAAWA,EAASzqD,UAA3C,EAAuD;AACrD,eAAKyqD,CAAL,IAAiBA,KAAYlhD,EAAGkL,OAAHlL,CAAW6oB,OAAxC,EAAmD,OAAO,IAAP;AACnD,cAAIq4B,EAASzqD,UAATyqD,IAAuBA,EAASzqD,UAATyqD,IAAuBlhD,EAAGkL,OAAHlL,CAAW6oB,OAA7D,EAAwE;AAG5E;;AAAA,aAAK,IAAI99B,IAAI,CAAb,EAAgBA,IAAIiV,EAAGkL,OAAHlL,CAAW2V,IAAX3V,CAAgB5S,MAApC,EAA4CrC,GAA5C,EAAiD;AAC/C,cAAImnB,IAAWlS,EAAGkL,OAAHlL,CAAW2V,IAAX3V,CAAgBjV,CAAhBiV,CAAf;AACA,cAAIkS,EAAS/iB,IAAT+iB,IAAiBgvC,CAArB,EACI,OAAOC,GAAqBjvC,CAArBivC,EAA+BhyD,CAA/BgyD,EAAqCvyC,CAArCuyC,CAAP;AAA4CvyC;AAIpD;;AAAA,eAASuyC,EAAT,CAA8BjvC,CAA9B,EAAwC/iB,CAAxC,EAA8Cyf,CAA9C,EAA8CA;AAC5C,YAAI8K,IAAUxH,EAAShT,IAATgT,CAAcxc,UAA5B;AAAA,YAAwCsrD,KAAM,CAA9C;AACA,aAAK7xD,CAAL,IAAKA,CAASmH,EAASojB,CAATpjB,EAAkBnH,CAAlBmH,CAAd,EAAyC,OAAOyqD,GAAOh6C,GAAIX,GAAO8L,EAAS7iB,IAAhB+W,CAAJW,EAA2B,CAA3BA,CAAPg6C,EAAkC,CAAI,CAAtCA,CAAP;;AACzC,YAAI5xD,KAAQuqB,CAARvqB,KACF6xD,KAAM,CAANA,EACA7xD,IAAOuqB,EAAQlkB,UAARkkB,CAAmB9K,CAAnB8K,CADPsnC,EAEApyC,IAAS,CAFToyC,EAES,CACJ7xD,CAJHA,CAAJ,EAIa;AACT,cAAIE,IAAO6iB,EAASM,IAATN,GAAgB1X,EAAI0X,EAASM,IAAbhY,CAAhB0X,GAAqCA,EAAS7iB,IAAzD;AACA,iBAAO0xD,GAAOh6C,GAAIX,GAAO/W,CAAP+W,CAAJW,EAAkB1X,EAAK6P,IAAL7P,CAAUjC,MAA5B2Z,CAAPg6C,EAA4CC,CAA5CD,CAAP;AAIJ;;AAAA,YAAIK,IAA4B,KAAjBjyD,EAAKqH,QAAY,GAAIrH,CAAJ,GAAW,IAA3C;AAAA,YAAiDkyD,IAAUlyD,CAA3D;;AAKA,aAJKiyD,KAAsC,KAA1BjyD,EAAKqG,UAALrG,CAAgB/B,MAA5Bg0D,IAAuE,KAA5BjyD,EAAKuG,UAALvG,CAAgBqH,QAA3D4qD,KACHA,IAAWjyD,EAAKuG,UAAhB0rD,EACIxyC,MAAUA,IAASwyC,EAASE,SAATF,CAAmBh0D,MAAtCwhB,CAFDwyC,CAIL,EAAOC,EAAQ5qD,UAAR4qD,IAAsB3nC,CAA7B,GAAwC2nC,IAAUA,EAAQ5qD,UAAlB4qD;;AACxC,YAAIv/C,IAAUoQ,EAASpQ,OAAvB;AAAA,YAAgCgR,IAAOhR,EAAQgR,IAA/C;;AAEA,iBAASlD,CAAT,CAAcwxC,CAAd,EAAwBC,CAAxB,EAAiCzyC,CAAjC,EAAiCA;AAC/B,eAAK,IAAI7jB,KAAK,CAAd,EAAiBA,KAAK+nB,IAAOA,EAAK1lB,MAAZ0lB,GAAqB,CAA1B/nB,CAAjB,EAA+CA,GAA/C,EAEE,KADA,IAAIsG,IAAMtG,IAAI,CAAJA,GAAQ+W,EAAQzQ,GAAhBtG,GAAsB+nB,EAAK/nB,CAAL+nB,CAAhC,EACS7U,IAAI,CAAb,EAAgBA,IAAI5M,EAAIjE,MAAxB,EAAgC6Q,KAAK,CAArC,EAAwC;AACtC,gBAAIsjD,IAAUlwD,EAAI4M,IAAI,CAAR5M,CAAd;;AACA,gBAAIkwD,KAAWH,CAAXG,IAAuBA,KAAWF,CAAtC,EAA+C;AAC7C,kBAAIhyD,IAAO+W,GAAOrb,IAAI,CAAJA,GAAQmnB,EAAS7iB,IAAjBtE,GAAwBmnB,EAASM,IAATN,CAAcnnB,CAAdmnB,CAA/B9L,CAAX;AAAA,kBACInL,IAAK5J,EAAI4M,CAAJ5M,IAASud,CADlB;AAGA,sBADIA,IAAS,CAATA,IAAc2yC,KAAWH,CAC7B,MADyCnmD,IAAK5J,EAAI4M,KAAK2Q,IAAS,CAATA,GAAa,CAAlB3Q,CAAJ5M,CAC9C,GAAO0V,GAAI1X,CAAJ0X,EAAU9L,CAAV8L,CAAP;AAAiB9L;AAAAA;AAKzB;;AAAA,YAAIwB,IAAQmT,EAAKwxC,CAALxxC,EAAeyxC,CAAfzxC,EAAwBhB,CAAxBgB,CAAZ;AACA,YAAInT,CAAJ,EAAa,OAAOskD,GAAOtkD,CAAPskD,EAAcC,CAAdD,CAAP;;AAGb,aAAK,IAAI5rD,IAAQksD,EAAQ/oC,WAApB,EAAiC6J,IAAOi/B,IAAWA,EAASE,SAATF,CAAmBh0D,MAAnBg0D,GAA4BxyC,CAAvCwyC,GAAgD,CAA7F,EAAgGjsD,CAAhG,EAAuGA,IAAQA,EAAMmjB,WAArH,EAAkI;AAEhI,cADA7b,IAAQmT,EAAKza,CAALya,EAAYza,EAAMO,UAAlBka,EAA8B,CAA9BA,CACR,EACI,OAAOmxC,GAAOh6C,GAAItK,EAAMpN,IAAV0X,EAAgBtK,EAAMxB,EAANwB,GAAW0lB,CAA3Bpb,CAAPg6C,EAAyCC,CAAzCD,CAAP;AAEA5+B,eAAQhtB,EAAMqsD,WAANrsD,CAAkB/H,MAA1B+0B;AAEN;;AAAA,aAAK,IAAI5jB,IAAS8iD,EAAQI,eAArB,EAAsCC,IAAS9yC,CAApD,EAA4DrQ,CAA5D,EAAoEA,IAASA,EAAOkjD,eAApF,EAAqG;AAEnG,cADAhlD,IAAQmT,EAAKrR,CAALqR,EAAarR,EAAO7I,UAApBka,EAAoBla,CAAa,CAAjCka,CACR,EACI,OAAOmxC,GAAOh6C,GAAItK,EAAMpN,IAAV0X,EAAgBtK,EAAMxB,EAANwB,GAAWilD,CAA3B36C,CAAPg6C,EAA2CC,CAA3CD,CAAP;AAEAW,eAAUnjD,EAAOijD,WAAPjjD,CAAmBnR,MAA7Bs0D;AAA6Bt0D;AAvfrCizD;;AAAAA,SAAqBzzD,SAArByzD,CAA+BrqB,IAA/BqqB,GAAsC,UAAUn1C,CAAV,EAAUA;AAC5C,YAAIu3B,IAAS1yC,IAAb;AAAA,YAEE0kB,IAAQ1kB,IAFV;AAAA,YAEgBiQ,IAAKyU,EAAMzU,EAF3B;AAAA,YAGE4B,IAAM6S,EAAM7S,GAAN6S,GAAYvJ,EAAQ2d,OAH5B;;AA+BF,iBAAS84B,CAAT,CAAmBzwD,CAAnB,EAAmBA;AACjB,eAAI6O,GAAeC,CAAfD,EAAmB7O,CAAnB6O,CAAJ;AACA,gBAAIC,EAAG23B,iBAAH33B,EAAJ,EACEo9C,GAAc;AAACU,yBAAU,CAAX;AAAkB5+C,oBAAMc,EAAGglC,aAAHhlC;AAAxB,aAAdo9C,GACc,SAAVlsD,EAAEuM,IAAQ,IAASuC,EAAGilC,gBAAHjlC,CAAoB,EAApBA,EAAwB,IAAxBA,EAA8B,KAA9BA,CADvBo9C,CADF,KAGO;AAAA,mBAAKp9C,EAAG6D,OAAH7D,CAAW4hD,eAAhB,EACL;AAEA,kBAAI98B,IAAS25B,GAAez+C,CAAfy+C,CAAb;AACArB,iBAAc;AAACU,2BAAU,CAAX;AAAiB5+C,sBAAM4lB,EAAO5lB;AAA9B,eAAdk+C,GACc,SAAVlsD,EAAEuM,IAAQ,IACZuC,EAAG8xB,SAAH9xB,CAAa;AACXA,kBAAG8kC,aAAH9kC,CAAiB8kB,EAAOA,MAAxB9kB,EAAgC,CAAhCA,EAAmCtG,CAAnCsG,GACAA,EAAGilC,gBAAHjlC,CAAoB,EAApBA,EAAwB,IAAxBA,EAA8B,KAA9BA,CADAA;AAC8B,eAFhCA,CAFFo9C;AAQF;;AAAA,gBAAIlsD,EAAEitD,aAAN,EAAqB;AACnBjtD,gBAAEitD,aAAFjtD,CAAgB2wD,SAAhB3wD;AACA,kBAAIK,IAAU4rD,GAAWj+C,IAAXi+C,CAAgB5qD,IAAhB4qD,CAAqB,IAArBA,CAAd;AAGA,kBADAjsD,EAAEitD,aAAFjtD,CAAgB0qD,OAAhB1qD,CAAwB,MAAxBA,EAAgCK,CAAhCL,GACIA,EAAEitD,aAAFjtD,CAAgBs4C,OAAhBt4C,CAAwB,MAAxBA,KAAmCK,CAAvC,EAEE,YADAL,EAAEgP,cAAFhP,EACA;AAIJ;;AAAA,gBAAI4wD,IAAS9C,IAAb;AAAA,gBAA+Bl8C,IAAKg/C,EAAOpsD,UAA3C;AACAsK,cAAGkL,OAAHlL,CAAWia,SAAXja,CAAqBiX,YAArBjX,CAAkC8hD,CAAlC9hD,EAA0CA,EAAGkL,OAAHlL,CAAWia,SAAXja,CAAqBtK,UAA/DsK,GACA8C,EAAG9W,KAAH8W,GAAWq6C,GAAWj+C,IAAXi+C,CAAgB5qD,IAAhB4qD,CAAqB,IAArBA,CADXn9C;AAEA,gBAAI+hD,IAAWxuD,SAASqD,aAAxB;AACAkB,cAAYgL,CAAZhL,GACAuB,WAAW;AACT2G,gBAAGkL,OAAHlL,CAAWia,SAAXja,CAAqBvK,WAArBuK,CAAiC8hD,CAAjC9hD,GACA+hD,EAAS95B,KAAT85B,EADA/hD,EAEI+hD,KAAYngD,CAAZmgD,IAAmBttC,EAAMutC,oBAANvtC,EAFvBzU;AAE6BgiD,aAH/B3oD,EAIG,EAJHA,CADAvB;AAKG;AAhEL6mD;;AAAAA,WAAoB/8C,CAApB+8C,EAAyB3+C,EAAG6D,OAAH7D,CAAW6+C,UAApCF,EAAgD3+C,EAAG6D,OAAH7D,CAAW8+C,WAA3DH,EAAwE3+C,EAAG6D,OAAH7D,CAAW++C,cAAnFJ,GAEAv/C,GAAGwC,CAAHxC,EAAQ,OAARA,EAAiB,UAAUlO,CAAV,EAAUA;AACrB6O,aAAeC,CAAfD,EAAmB7O,CAAnB6O,KAAyBk+C,GAAY/sD,CAAZ+sD,EAAej+C,CAAfi+C,CAAzBl+C,IAEAzM,KAAc,EAAdA,IAAoB+F,WAAWy4B,GAAU9xB,CAAV8xB,EAAc;AAAc,mBAAO2Q,EAAOwf,aAAPxf,EAAP;AAAcwf,WAA1CnwB,CAAXz4B,EAA0E,EAA1EA,CAFpB0G;AAE8F,SAHpGX,CAFAu/C,EAQAv/C,GAAGwC,CAAHxC,EAAQ,kBAARA,EAA4B,UAAUlO,CAAV,EAAUA;AACpCuxC,YAAOke,SAAPle,GAAmB;AAACxwC,kBAAMf,EAAEe,IAAT;AAAeooC,mBAAM;AAArB,WAAnBoI;AAAwC,SAD1CrjC,CARAu/C,EAWAv/C,GAAGwC,CAAHxC,EAAQ,mBAARA,EAA6B,UAAUlO,CAAV,EAAUA;AAChCuxC,YAAOke,SAAPle,KAAoBA,EAAOke,SAAPle,GAAmB;AAACxwC,kBAAMf,EAAEe,IAAT;AAAeooC,mBAAM;AAArB,WAAvCoI;AAA4D,SADnErjC,CAXAu/C,EAcAv/C,GAAGwC,CAAHxC,EAAQ,gBAARA,EAA0B,UAAUlO,CAAV,EAAUA;AAC9BuxC,YAAOke,SAAPle,KACEvxC,EAAEe,IAAFf,IAAUuxC,EAAOke,SAAPle,CAAiBxwC,IAA3Bf,IAAmCuxC,EAAOyf,eAAPzf,EAAnCvxC,EACJuxC,EAAOke,SAAPle,CAAiBpI,IAAjBoI,GAAiBpI,CAAO,CAFtBoI;AAEsB,SAH5BrjC,CAdAu/C,EAqBAv/C,GAAGwC,CAAHxC,EAAQ,YAARA,EAAsB;AAAc,iBAAOqV,EAAM0tC,mBAAN1tC,EAAP;AAAa0tC,SAAjD/iD,CArBAu/C,EAuBAv/C,GAAGwC,CAAHxC,EAAQ,OAARA,EAAiB;AACVqjC,YAAOke,SAAPle,IAAoBA,EAAOyf,eAAPzf,EAApBA;AAA2Byf,SADlC9iD,CAvBAu/C,EAkEAv/C,GAAGwC,CAAHxC,EAAQ,MAARA,EAAgBuiD,CAAhBviD,CAlEAu/C,EAmEAv/C,GAAGwC,CAAHxC,EAAQ,KAARA,EAAeuiD,CAAfviD,CAnEAu/C;AAmEegD,OAxEjBtB,EA2EAA,GAAqBzzD,SAArByzD,CAA+B77B,gBAA/B67B,GAAkD;AAChD,YAAI59C,IAAS+hB,GAAiBz0B,KAAKiQ,EAAtBwkB,EAAsBxkB,CAAI,CAA1BwkB,CAAb;AAEA,eADA/hB,EAAOwlB,KAAPxlB,GAAe1S,KAAKiQ,EAALjQ,CAAQyU,KAARzU,CAAc03B,OAA7BhlB,EACOA,CAAP;AAAOA,OA9ET49C,EAiFAA,GAAqBzzD,SAArByzD,CAA+B97B,aAA/B87B,GAA+C,UAAUz7C,CAAV,EAAgB4rB,CAAhB,EAAgBA;AACxD5rB,aAAS7U,KAAKiQ,EAALjQ,CAAQmb,OAARnb,CAAgB4lB,IAAhB5lB,CAAqB3C,MAA9BwX,KAA8BxX,CAC/BwX,EAAKqjB,KAALrjB,IAAc4rB,CADiBpjC,KACJ2C,KAAKiyD,oBAALjyD,EADI3C,EAEnC2C,KAAKqyD,sBAALryD,CAA4B6U,CAA5B7U,CAFK6U;AAEuBA,OApF9By7C,EAuFAA,GAAqBzzD,SAArByzD,CAA+Bx9C,YAA/Bw9C,GAA8C;AAC5C,eAAOtwD,KAAKiQ,EAALjQ,CAAQmb,OAARnb,CAAgB2pB,OAAhB3pB,CAAwBgT,aAAxBhT,CAAsC8S,YAAtC9S,EAAP;AAA6C8S,OAxF/Cw9C,EA2FAA,GAAqBzzD,SAArByzD,CAA+B2B,oBAA/B3B,GAAsD;AACpD,YAAIx7B,IAAM90B,KAAK8S,YAAL9S,EAAV;AAAA,YAA+BiQ,IAAKjQ,KAAKiQ,EAAzC;AAAA,YAA6C+3B,IAAO/3B,EAAGsF,GAAHtF,CAAO6kB,GAAP7kB,CAAWykB,OAAXzkB,EAApD;AAAA,YACIjE,IAAOg8B,EAAKh8B,IAALg8B,EADX;AAAA,YACwB/7B,IAAK+7B,EAAK/7B,EAAL+7B,EAD7B;AAGA,YAAI/3B,EAAGkL,OAAHlL,CAAW4L,MAAX5L,IAAqBA,EAAGkL,OAAHlL,CAAW2L,QAAhC3L,IAA4CjE,EAAK1M,IAAL0M,IAAaiE,EAAGkL,OAAHlL,CAAW4L,MAApE5L,IAA8EhE,EAAG3M,IAAH2M,GAAUgE,EAAGkL,OAAHlL,CAAW2L,QAAvG,EACEkZ,EAAI2P,eAAJ3P,GADF;AAKA,cAAIw9B,IAAYpB,GAASjhD,CAATihD,EAAap8B,EAAI+O,UAAjBqtB,EAA6Bp8B,EAAIgP,YAAjCotB,CAAhB;AAAA,cACIqB,IAAWrB,GAASjhD,CAATihD,EAAap8B,EAAIiP,SAAjBmtB,EAA4Bp8B,EAAIkP,WAAhCktB,CADf;;AAEA,eAAIoB,CAAJ,IAAkBA,EAAUrB,GAA5B,IAA4BA,CAAOsB,CAAnC,IAAgDA,EAAStB,GAAzD,IAC8C,KAA1Ch6C,GAAIK,GAAOg7C,CAAPh7C,EAAkBi7C,CAAlBj7C,CAAJL,EAAiCjL,CAAjCiL,CADJ,IAE4C,KAAxCA,GAAII,GAAOi7C,CAAPj7C,EAAkBk7C,CAAlBl7C,CAAJJ,EAAiChL,CAAjCgL,CAFJ;AAKA,gBAAI2O,IAAO3V,EAAGkL,OAAHlL,CAAW2V,IAAtB;AAAA,gBACIjmB,IAASqM,EAAK1M,IAAL0M,IAAaiE,EAAGkL,OAAHlL,CAAW2L,QAAxB5P,IAAoC+kD,GAAS9gD,CAAT8gD,EAAa/kD,CAAb+kD,CAApC/kD,IACT;AAAC5M,oBAAMwmB,EAAK,CAALA,EAAQ7T,OAAR6T,CAAgBtkB,GAAhBskB,CAAoB,CAApBA,CAAP;AAA+B/G,sBAAQ;AAAvC,aAFJ;AAAA,gBAGIjf,IAAMqM,EAAG3M,IAAH2M,GAAUgE,EAAGkL,OAAHlL,CAAW4L,MAArB5P,IAA+B8kD,GAAS9gD,CAAT8gD,EAAa9kD,CAAb8kD,CAHzC;;AAIA,iBAAKnxD,CAAL,EAAU;AACR,kBAAImS,IAAU6T,EAAKA,EAAKvoB,MAALuoB,GAAc,CAAnBA,EAAsB7T,OAApC;AAAA,kBACIzQ,IAAMyQ,EAAQgR,IAARhR,GAAeA,EAAQgR,IAARhR,CAAaA,EAAQgR,IAARhR,CAAa1U,MAAb0U,GAAsB,CAAnCA,CAAfA,GAAuDA,EAAQzQ,GADzE;AAEA1B,kBAAM;AAACR,sBAAMkC,EAAIA,EAAIjE,MAAJiE,GAAa,CAAjBA,CAAP;AAA4Bud,wBAAQvd,EAAIA,EAAIjE,MAAJiE,GAAa,CAAjBA,IAAsBA,EAAIA,EAAIjE,MAAJiE,GAAa,CAAjBA;AAA1D,eAAN1B;AAGF;;AAAA,gBAAKD,KAAUC,CAAf;AAKA,kBAA+C4yD,CAA/C;AAAA,kBAAIr0C,IAAM2W,EAAI29B,UAAJ39B,IAAkBA,EAAI49B,UAAJ59B,CAAe,CAAfA,CAA5B;;AACA;AAAM09B,oBAAMxtD,EAAMrF,EAAMP,IAAZ4F,EAAkBrF,EAAMkf,MAAxB7Z,EAAgCpF,EAAIif,MAApC7Z,EAA4CpF,EAAIR,IAAhD4F,CAANwtD;AACN,eADA,CACA,OAAMrxD,CAAN,EAAMA,CACFqxD;;AAAAA,qBACGvvD,CADHuvD,IACYviD,EAAGwE,KAAHxE,CAASynB,OADrB86B,IAEA19B,EAAIltB,QAAJktB,CAAan1B,EAAMP,IAAnB01B,EAAyBn1B,EAAMkf,MAA/BiW,GACK09B,EAAIpyC,SAAJoyC,KACH19B,EAAI2P,eAAJ3P,IACAA,EAAI4P,QAAJ5P,CAAa09B,CAAb19B,CAFG09B,CAHLA,KAQA19B,EAAI2P,eAAJ3P,IACAA,EAAI4P,QAAJ5P,CAAa09B,CAAb19B,CATA09B,GAWEr0C,KAAyB,QAAlB2W,EAAI+O,UAAX1lB,GAAiC2W,EAAI4P,QAAJ5P,CAAa3W,CAAb2W,CAAjC3W,GACKlb,KAASjD,KAAK2yD,gBAAL3yD,EAZhBwyD,GAcJxyD,KAAK4yD,iBAAL5yD,EAdIwyD;AAcCI,aAtBL,MACE99B,EAAI2P,eAAJ3P;AAAI2P;AAAAA;AAAAA,OAtHR6rB,EA8IAA,GAAqBzzD,SAArByzD,CAA+BqC,gBAA/BrC,GAAkD;AAC9C,YAAI5d,IAAS1yC,IAAb;AAEFyJ,qBAAazJ,KAAK6wD,WAAlBpnD,GACAzJ,KAAK6wD,WAAL7wD,GAAmBsJ,WAAW;AAC5BopC,YAAOme,WAAPne,GAAOme,CAAc,CAArBne,EACIA,EAAO7T,gBAAP6T,MACAA,EAAOziC,EAAPyiC,CAAU3Q,SAAV2Q,CAAoB;AAAc,mBAAOA,EAAOziC,EAAPyiC,CAAUjiC,KAAViiC,CAAgB7T,gBAAhB6T,GAAgB7T,CAAmB,CAA1C;AAA0C,WAA5E6T,CAFJA;AAEgF,SAH/DppC,EAIhB,EAJgBA,CADnBG;AAKG,OAtJL6mD,EAyJAA,GAAqBzzD,SAArByzD,CAA+B+B,sBAA/B/B,GAAwD,UAAUz7C,CAAV,EAAUA;AAChEjP,UAAqB5F,KAAKiQ,EAALjQ,CAAQmb,OAARnb,CAAgB63B,SAArCjyB,EAAgDiP,EAAK+f,OAArDhvB,GACAA,EAAqB5F,KAAKiQ,EAALjQ,CAAQmb,OAARnb,CAAgB4kC,YAArCh/B,EAAmDiP,EAAK5B,SAAxDrN,CADAA;AACwDqN,OA3J1Dq9C,EA8JAA,GAAqBzzD,SAArByzD,CAA+BsC,iBAA/BtC,GAAmD;AACjD,YAAIx7B,IAAM90B,KAAK8S,YAAL9S,EAAV;AACAA,aAAKuwD,cAALvwD,GAAsB80B,EAAI+O,UAA1B7jC,EAAsCA,KAAKwwD,gBAALxwD,GAAwB80B,EAAIgP,YAAlE9jC,EACAA,KAAKywD,aAALzwD,GAAqB80B,EAAIiP,SADzB/jC,EACoCA,KAAK0wD,eAAL1wD,GAAuB80B,EAAIkP,WAD/DhkC;AAC+DgkC,OAjKjEssB,EAoKAA,GAAqBzzD,SAArByzD,CAA+BuC,iBAA/BvC,GAAmD;AACjD,YAAIx7B,IAAM90B,KAAK8S,YAAL9S,EAAV;AACA,aAAK80B,EAAI29B,UAAT,EAAuB,QAAO,CAAP;AACvB,YAAIrzD,IAAO01B,EAAI49B,UAAJ59B,CAAe,CAAfA,EAAkBg+B,uBAA7B;AACA,eAAOvsD,EAASvG,KAAK6R,GAAdtL,EAAmBnH,CAAnBmH,CAAP;AAA0BnH,OAxK5BkxD,EA2KAA,GAAqBzzD,SAArByzD,CAA+Bp4B,KAA/Bo4B,GAAuC;AACL,sBAA5BtwD,KAAKiQ,EAALjQ,CAAQ8T,OAAR9T,CAAgBu4B,QAAY,KACzBv4B,KAAK6yD,iBAAL7yD,MACDA,KAAKw0B,aAALx0B,CAAmBA,KAAKy0B,gBAALz0B,EAAnBA,EAAwBy0B,CAAoB,CAA5Cz0B,CADCA,EAELA,KAAK6R,GAAL7R,CAASk4B,KAATl4B,EAH8B;AAGrBk4B,OA/Kbo4B,EAkLAA,GAAqBzzD,SAArByzD,CAA+ByC,IAA/BzC,GAAsC;AAActwD,aAAK6R,GAAL7R,CAAS+yD,IAAT/yD;AAAS+yD,OAlL7DzC,EAmLAA,GAAqBzzD,SAArByzD,CAA+BjE,QAA/BiE,GAA0C;AAAc,eAAOtwD,KAAK6R,GAAZ;AAAYA,OAnLpEy+C,EAqLAA,GAAqBzzD,SAArByzD,CAA+B/J,aAA/B+J,GAA+C;AAAc,gBAAO,CAAP;AAAO,OArLpEA,EAuLAA,GAAqBzzD,SAArByzD,CAA+B53B,aAA/B43B,GAA+C;AAC7C,YAAI5rC,IAAQ1kB,IAAZ;AACIA,aAAK6yD,iBAAL7yD,KACAA,KAAKgzD,aAALhzD,EADAA,GAGA8hC,GAAQ9hC,KAAKiQ,EAAb6xB,EAAiB;AAAc,iBAAOpd,EAAMzU,EAANyU,CAASjU,KAATiU,CAAema,gBAAfna,GAAema,CAAmB,CAAzC;AAAyC,SAAxEiD,CAHA9hC,EAWJA,KAAK2wD,OAAL3wD,CAAauJ,GAAbvJ,CAAiBA,KAAKiQ,EAALjQ,CAAQ8T,OAAR9T,CAAgBizD,YAAjCjzD,EANA,SAASkzD,CAAT,GAASA;AACHxuC,YAAMzU,EAANyU,CAASjQ,KAATiQ,CAAegT,OAAfhT,KACFA,EAAMsuC,aAANtuC,IACAA,EAAMisC,OAANjsC,CAAcnb,GAAdmb,CAAkBA,EAAMzU,EAANyU,CAAS5Q,OAAT4Q,CAAiBuuC,YAAnCvuC,EAAiDwuC,CAAjDxuC,CAFEA;AAE+CwuC,SAGrDlzD,CAXIA;AAQiDkzD,OAjMvD5C,EAuMAA,GAAqBzzD,SAArByzD,CAA+BzxB,gBAA/ByxB,GAAkD;AAChD,YAAIx7B,IAAM90B,KAAK8S,YAAL9S,EAAV;AACA,eAAO80B,EAAI+O,UAAJ/O,IAAkB90B,KAAKuwD,cAAvBz7B,IAAyCA,EAAIgP,YAAJhP,IAAoB90B,KAAKwwD,gBAAlE17B,IACLA,EAAIiP,SAAJjP,IAAiB90B,KAAKywD,aADjB37B,IACkCA,EAAIkP,WAAJlP,IAAmB90B,KAAK0wD,eADjE;AACiEA,OA1MnEJ,EA6MAA,GAAqBzzD,SAArByzD,CAA+B0C,aAA/B1C,GAA+C;AAC7C,YAA2B,QAAvBtwD,KAAK8wD,cAAkB,IAAlBA,CAA0B9wD,KAAK6wD,WAAb,IAA6B7wD,KAAK6+B,gBAAL7+B,EAAxD;AACA,cAAI80B,IAAM90B,KAAK8S,YAAL9S,EAAV;AAAA,cAA+BiQ,IAAKjQ,KAAKiQ,EAAzC;AAOA,cAAI9L,KAAWP,CAAXO,IAAqBnE,KAAKiQ,EAALjQ,CAAQmb,OAARnb,CAAgBmoB,WAAhBnoB,CAA4B3C,MAAjD8G,IA8JN,UAAoB/E,CAApB,EAAoBA;AAClB,iBAAK,IAAI+zD,IAAO/zD,CAAhB,EAAsB+zD,CAAtB,EAA4BA,IAAOA,EAAKzsD,UAAxC,EACI,IAAI,4BAA4BhJ,IAA5B,CAAiCy1D,EAAKhuD,SAAtC,CAAJ,EAAwD,QAAO,CAAP;;AAC5D,oBAAO,CAAP;AAjK+DiuD,WA8JjE,CA9J4Et+B,EAAI+O,UA8JhF,CA9JE,EAIE,OAHA7jC,KAAKiQ,EAALjQ,CAAQqzD,gBAARrzD,CAAyB;AAAC0N,kBAAM,SAAP;AAAkBkxC,qBAAS,CAA3B;AAA8BzuC,4BAAgB9F,KAAKoiB;AAAnD,WAAzBzsB,GACAA,KAAK+yD,IAAL/yD,EADAA,EACK+yD,KACL/yD,KAAKk4B,KAALl4B,EACA;;AAEF,eAAIA,KAAK4wD,SAAT;AACA5wD,iBAAK4yD,iBAAL5yD;AACA,gBAAIsyB,IAAS4+B,GAASjhD,CAATihD,EAAap8B,EAAI+O,UAAjBqtB,EAA6Bp8B,EAAIgP,YAAjCotB,CAAb;AAAA,gBACI97B,IAAO87B,GAASjhD,CAATihD,EAAap8B,EAAIiP,SAAjBmtB,EAA4Bp8B,EAAIkP,WAAhCktB,CADX;AAEI5+B,iBAAU8C,CAAV9C,IAAkBwP,GAAQ7xB,CAAR6xB,EAAY;AAChCoL,iBAAaj9B,EAAGsF,GAAhB23B,EAAqB/E,GAAgB7V,CAAhB6V,EAAwB/S,CAAxB+S,CAArB+E,EAAoDvjC,CAApDujC,GAAoDvjC,CAChD2oB,EAAO2+B,GAAP3+B,IAAc8C,EAAK67B,GAD6BtnD,MACtBsG,EAAGQ,KAAHR,CAAS4uB,gBAAT5uB,GAAS4uB,CAAmB,CADNl1B,CAApDujC;AAC0D,aAFtCpL,CAAlBxP;AAEwD;AAAA;AAAA,OAlO9Dg+B,EAsOAA,GAAqBzzD,SAArByzD,CAA+BgD,WAA/BhD,GAA6C;AAChB,gBAAvBtwD,KAAK8wD,cAAkB,KACzBrnD,aAAazJ,KAAK8wD,cAAlBrnD,GACAzJ,KAAK8wD,cAAL9wD,GAAsB,IAFG;AAK3B,YAQIuzD,CARJ;AAAA,YAQen8B,CARf;AAAA,YAQyBo8B,CARzB;AAAA,YAAIvjD,IAAKjQ,KAAKiQ,EAAd;AAAA,YAAkBkL,IAAUlL,EAAGkL,OAA/B;AAAA,YAAwC2Z,IAAM7kB,EAAGsF,GAAHtF,CAAO6kB,GAAP7kB,CAAWykB,OAAXzkB,EAA9C;AAAA,YACIjE,IAAO8oB,EAAI9oB,IAAJ8oB,EADX;AAAA,YACuB7oB,IAAK6oB,EAAI7oB,EAAJ6oB,EAD5B;AAMA,YAJe,KAAX9oB,EAAKd,EAAM,IAAKc,EAAK1M,IAAL0M,GAAYiE,EAAGg5B,SAAHh5B,EAAjB,KACXjE,IAAOgL,GAAIhL,EAAK1M,IAAL0M,GAAY,CAAhBgL,EAAmB1B,GAAQrF,EAAGsF,GAAXD,EAAgBtJ,EAAK1M,IAAL0M,GAAY,CAA5BsJ,EAA+BjY,MAAlD2Z,CADI,GAEX/K,EAAGf,EAAHe,IAASqJ,GAAQrF,EAAGsF,GAAXD,EAAgBrJ,EAAG3M,IAAnBgW,EAAyBnG,IAAzBmG,CAA8BjY,MAAvC4O,IAAiDA,EAAG3M,IAAH2M,GAAUgE,EAAG8Q,QAAH9Q,EAA3DhE,KACAA,IAAK+K,GAAI/K,EAAG3M,IAAH2M,GAAU,CAAd+K,EAAiB,CAAjBA,CADL/K,CAFW,EAIXD,EAAK1M,IAAL0M,GAAYmP,EAAQS,QAApB5P,IAAgCC,EAAG3M,IAAH2M,GAAUkP,EAAQU,MAARV,GAAiB,CAA/D,EAAoE,QAAO,CAAP;AAGhEnP,UAAK1M,IAAL0M,IAAamP,EAAQS,QAArB5P,IAA+E,MAA7CunD,IAAY7nC,GAAczb,CAAdyb,EAAkB1f,EAAK1M,IAAvBosB,CAAiC,CAA/E1f,IACForB,IAAW/gB,GAAO8E,EAAQyK,IAARzK,CAAa,CAAbA,EAAgB7b,IAAvB+W,CAAX+gB,EACAo8B,IAAWr4C,EAAQyK,IAARzK,CAAa,CAAbA,EAAgB/b,IAFzB4M,KAIForB,IAAW/gB,GAAO8E,EAAQyK,IAARzK,CAAao4C,CAAbp4C,EAAwB7b,IAA/B+W,CAAX+gB,EACAo8B,IAAWr4C,EAAQyK,IAARzK,CAAao4C,IAAY,CAAzBp4C,EAA4B/b,IAA5B+b,CAAiCoN,WAL1Cvc;AAOJ,YACIqrB,CADJ;AAAA,YACYo8B,CADZ;AAAA,YAAIC,IAAUhoC,GAAczb,CAAdyb,EAAkBzf,EAAG3M,IAArBosB,CAAd;AAUA,YARIgoC,KAAWv4C,EAAQyK,IAARzK,CAAa9d,MAAb8d,GAAsB,CAAjCu4C,IACFr8B,IAASlc,EAAQU,MAARV,GAAiB,CAA1Bkc,EACAo8B,IAASt4C,EAAQ2d,OAAR3d,CAAgB8H,SAFvBywC,KAIFr8B,IAAShhB,GAAO8E,EAAQyK,IAARzK,CAAau4C,IAAU,CAAvBv4C,EAA0B7b,IAAjC+W,IAAyC,CAAlDghB,EACAo8B,IAASt4C,EAAQyK,IAARzK,CAAau4C,IAAU,CAAvBv4C,EAA0B/b,IAA1B+b,CAA+Bu2C,eALtCgC,GAKsChC,CAGrC8B,CAAL,EAAiB,QAAO,CAAP;;AAGjB,aAFA,IAAIG,IAAU1jD,EAAGsF,GAAHtF,CAAOghC,UAAPhhC,CAqHhB,UAAwBA,CAAxB,EAA4BjE,CAA5B,EAAkCC,CAAlC,EAAsCmrB,CAAtC,EAAgDC,CAAhD,EAAgDA;AAC9C,cAAIloB,IAAO,EAAX;AAAA,cAAeykD,KAAU,CAAzB;AAAA,cAAgC1f,IAAUjkC,EAAGsF,GAAHtF,CAAOokC,aAAPpkC,EAA1C;AAAA,cAAkE4jD,KAAiB,CAAnF;;AAEA,mBAASC,CAAT,GAASA;AACHF,kBACFzkD,KAAQ+kC,CAAR/kC,EACI0kD,MAAkB1kD,KAAQ+kC,CAA1B2f,CADJ1kD,EAEAykD,IAAUC,KAAiB,CAHzBD;AAMN;;AAAA,mBAASG,CAAT,CAAiBpoD,CAAjB,EAAiBA;AACXA,kBACFmoD,KACA3kD,KAAQxD,CAFNA;AAKN;;AAAA,mBAASqoD,CAAT,CAAc50D,CAAd,EAAcA;AACZ,gBAAqB,KAAjBA,EAAKqH,QAAT,EAAwB;AACtB,kBAAIwtD,IAAS70D,EAAK0qB,YAAL1qB,CAAkB,SAAlBA,CAAb;AACA,kBAAI60D,CAAJ,EAEE,YADAF,EAAQE,CAARF,CACA;AAEF,kBAA+C/uD,CAA/C;AAAA,kBAAIkvD,IAAW90D,EAAK0qB,YAAL1qB,CAAkB,WAAlBA,CAAf;;AACA,kBAAI80D,CAAJ,EAAc;AACZ,oBAAIxnD,IAAQuD,EAAG4jC,SAAH5jC,CAAa+G,GAAIogB,CAAJpgB,EAAc,CAAdA,CAAb/G,EAA+B+G,GAAIqgB,IAAS,CAAbrgB,EAAgB,CAAhBA,CAA/B/G,GAvBOxR,KAuB6Dy1D,CAvB7Dz1D,EAAa,UAAU4e,CAAV,EAAUA;AAAU,yBAAOA,EAAO5e,EAAP4e,IAAa5e,CAApB;AAAoBA,iBAuB5DwR,EAAZ;AAGA,6BAFIvD,EAAMrP,MAANqP,KAAiB1H,IAAQ0H,EAAM,CAANA,EAASmT,IAATnT,CAAc,CAAdA,CAAzBA,KACAqnD,EAAQh+C,GAAW9F,EAAGsF,GAAdQ,EAAmB/Q,EAAMgH,IAAzB+J,EAA+B/Q,EAAMiH,EAArC8J,EAAyCvT,IAAzCuT,CAA8Cm+B,CAA9Cn+B,CAARg+C,CACJ;AAEF;;AAAA,kBAA4C,WAAxC30D,EAAK0qB,YAAL1qB,CAAkB,iBAAlBA,CAAJ,EAAuD;AACvD,kBAAI+0D,IAAU,6BAA6Bz2D,IAA7B,CAAkC0B,EAAKg1D,QAAvC,CAAd;AACA,mBAAK,QAAQ12D,IAAR,CAAa0B,EAAKg1D,QAAlB,CAAL,IAA+D,KAA3Bh1D,EAAKqyD,WAALryD,CAAiB/B,MAArD,EAAoE;AAEhE82D,mBAAWL,GAAXK;;AACJ,mBAAK,IAAIn5D,IAAI,CAAb,EAAgBA,IAAIoE,EAAKqG,UAALrG,CAAgB/B,MAApC,EAA4CrC,GAA5C,EACIg5D,EAAK50D,EAAKqG,UAALrG,CAAgBpE,CAAhBoE,CAAL40D;;AAEA,2BAAat2D,IAAb,CAAkB0B,EAAKg1D,QAAvB,MAAoCP,KAAiB,CAArD,GACAM,MAAWP,KAAU,CAArBO,CADA;AACqB,aAtB3B,MAuB4B,KAAjB/0D,EAAKqH,QAAY,IAC1BstD,EAAQ30D,EAAKmyD,SAALnyD,CAAezB,OAAfyB,CAAuB,SAAvBA,EAAkC,EAAlCA,EAAsCzB,OAAtCyB,CAA8C,SAA9CA,EAAyD,GAAzDA,CAAR20D,CAD0B;;AAtC9B,gBAAyBt1D,CAAzB;AA0CA;;AAAA,iBACEu1D,EAAKhoD,CAALgoD,GACIhoD,KAAQC,CAFd,GAGED,IAAOA,EAAKuc,WAAZvc,EACA6nD,KAAiB,CADjB7nD;;AAGF,iBAAOmD,CAAP;AAvKgCklD,SAqHlC,CArHiDpkD,CAqHjD,EArHqDujD,CAqHrD,EArH+DC,CAqH/D,EArHuEr8B,CAqHvE,EArHiFC,CAqHjF,CArHgBpnB,CAAd,EACIqkD,IAAUv+C,GAAW9F,EAAGsF,GAAdQ,EAAmBiB,GAAIogB,CAAJpgB,EAAc,CAAdA,CAAnBjB,EAAqCiB,GAAIqgB,CAAJrgB,EAAY1B,GAAQrF,EAAGsF,GAAXD,EAAgB+hB,CAAhB/hB,EAAwBnG,IAAxBmG,CAA6BjY,MAAzC2Z,CAArCjB,CACd,EAAO49C,EAAQt2D,MAARs2D,GAAiB,CAAjBA,IAAsBW,EAAQj3D,MAARi3D,GAAiB,CAA9C,GACE,IAAI7pD,EAAIkpD,CAAJlpD,KAAgBA,EAAI6pD,CAAJ7pD,CAApB,EAAoCkpD,EAAQtoB,GAARsoB,IAAeW,EAAQjpB,GAARipB,EAAfX,EAA8Bt8B,GAA9Bs8B,CAApC,KACK;AAAA,cAAIA,EAAQ,CAARA,KAAcW,EAAQ,CAARA,CAAlB,EACE;AAD8BX,YAAQh7B,KAARg7B,IAAiBW,EAAQ37B,KAAR27B,EAAjBX,EAAkCv8B,GAAlCu8B;AAMvC;;AAAA,aAFA,IAAIY,IAAW,CAAf,EAAkBC,IAAS,CAA3B,EACI36B,IAAS85B,EAAQ,CAARA,CADb,EACyBc,IAASH,EAAQ,CAARA,CADlC,EAC8CI,IAAcrqD,KAAKC,GAALD,CAASwvB,EAAOx8B,MAAhBgN,EAAwBoqD,EAAOp3D,MAA/BgN,CAC5D,EAAOkqD,IAAWG,CAAXH,IAA0B16B,EAAOpuB,UAAPouB,CAAkB06B,CAAlB16B,KAA+B46B,EAAOhpD,UAAPgpD,CAAkBF,CAAlBE,CAAhE,GAAkFF,EAC5EA,CAD4EA;;AAKlF,aAHA,IAAII,IAASlqD,EAAIkpD,CAAJlpD,CAAb,EAA2BmqD,IAASnqD,EAAI6pD,CAAJ7pD,CAApC,EACIoqD,IAAYxqD,KAAKC,GAALD,CAASsqD,EAAOt3D,MAAPs3D,IAAmC,KAAlBhB,EAAQt2D,MAAU,GAAIk3D,CAAJ,GAAe,CAAlDI,CAATtqD,EACSuqD,EAAOv3D,MAAPu3D,IAAmC,KAAlBN,EAAQj3D,MAAU,GAAIk3D,CAAJ,GAAe,CAAlDK,CADTvqD,CAEhB,EAAOmqD,IAASK,CAATL,IACAG,EAAOlpD,UAAPkpD,CAAkBA,EAAOt3D,MAAPs3D,GAAgBH,CAAhBG,GAAyB,CAA3CA,KAAiDC,EAAOnpD,UAAPmpD,CAAkBA,EAAOv3D,MAAPu3D,GAAgBJ,CAAhBI,GAAyB,CAA3CA,CADxD,GACmG,EAC7FJ,CAD6F;;AAGnG,YAAsB,KAAlBb,EAAQt2D,MAAU,IAAuB,KAAlBi3D,EAAQj3D,MAAb,IAA4B+5B,KAAYprB,EAAK1M,IAAnE,EACE,OAAOi1D,KAAYA,IAAWvoD,EAAKd,EAA5BqpD,IACAI,EAAOlpD,UAAPkpD,CAAkBA,EAAOt3D,MAAPs3D,GAAgBH,CAAhBG,GAAyB,CAA3CA,KAAiDC,EAAOnpD,UAAPmpD,CAAkBA,EAAOv3D,MAAPu3D,GAAgBJ,CAAhBI,GAAyB,CAA3CA,CADxD,GAEEL,KACAC,GADAD;AAKJZ,UAAQA,EAAQt2D,MAARs2D,GAAiB,CAAzBA,IAA8BgB,EAAOtvD,KAAPsvD,CAAa,CAAbA,EAAgBA,EAAOt3D,MAAPs3D,GAAgBH,CAAhCG,EAAwCh3D,OAAxCg3D,CAAgD,UAAhDA,EAA4D,EAA5DA,CAA9BhB,EACAA,EAAQ,CAARA,IAAaA,EAAQ,CAARA,EAAWtuD,KAAXsuD,CAAiBY,CAAjBZ,EAA2Bh2D,OAA3Bg2D,CAAmC,UAAnCA,EAA+C,EAA/CA,CADbA;AAGA,YAAImB,IAAS99C,GAAIogB,CAAJpgB,EAAcu9C,CAAdv9C,CAAb;AAAA,YACI+9C,IAAO/9C,GAAIqgB,CAAJrgB,EAAYs9C,EAAQj3D,MAARi3D,GAAiB7pD,EAAI6pD,CAAJ7pD,EAAapN,MAAboN,GAAsB+pD,CAAvCF,GAAgD,CAA5Dt9C,CADX;AAEA,eAAI28C,EAAQt2D,MAARs2D,GAAiB,CAAjBA,IAAsBA,EAAQ,CAARA,CAAtBA,IAAoC18C,GAAI69C,CAAJ79C,EAAY89C,CAAZ99C,CAApC08C,IACF5iB,GAAa9gC,EAAGsF,GAAhBw7B,EAAqB4iB,CAArB5iB,EAA8B+jB,CAA9B/jB,EAAsCgkB,CAAtChkB,EAA4C,QAA5CA,GAA4C,CACrC,CAFL4iB,IAEK,KAFT;AAAA,OAvSFrD,EA6SAA,GAAqBzzD,SAArByzD,CAA+BxL,YAA/BwL,GAA8C;AAC5CtwD,aAAKoyD,mBAALpyD;AAAKoyD,OA9SP9B,EAgTAA,GAAqBzzD,SAArByzD,CAA+B73B,KAA/B63B,GAAuC;AACrCtwD,aAAKoyD,mBAALpyD;AAAKoyD,OAjTP9B,EAmTAA,GAAqBzzD,SAArByzD,CAA+B8B,mBAA/B9B,GAAqD;AAC9CtwD,aAAK4wD,SAAL5wD,KACLyJ,aAAazJ,KAAK8wD,cAAlBrnD,GACAzJ,KAAK4wD,SAAL5wD,GAAiB,IADjByJ,EAEAzJ,KAAKkyD,aAALlyD,EAFAyJ,EAGAzJ,KAAK6R,GAAL7R,CAAS+yD,IAAT/yD,EAHAyJ,EAIAzJ,KAAK6R,GAAL7R,CAASk4B,KAATl4B,EALKA;AAKIk4B,OAzTXo4B,EA2TAA,GAAqBzzD,SAArByzD,CAA+B6B,eAA/B7B,GAAiD;AAC7C,YAAI5d,IAAS1yC,IAAb;AAEyB,gBAAvBA,KAAK8wD,cAAkB,KAC3B9wD,KAAK8wD,cAAL9wD,GAAsBsJ,WAAW;AAE/B,cADAopC,EAAOoe,cAAPpe,GAAwB,IAAxBA,EACIA,EAAOke,SAAX,EAAsB;AACpB,iBAAIle,EAAOke,SAAPle,CAAiBpI,IAArB,EACO;AADsBoI,cAAOke,SAAPle,GAAmB,IAAnBA;AAG/BA;;AAAAA,YAAOwf,aAAPxf;AAAOwf,SANa5oD,EAOnB,EAPmBA,CADK;AAQxB,OAtULgnD,EAyUAA,GAAqBzzD,SAArByzD,CAA+B4B,aAA/B5B,GAA+C;AAC3C,YAAI5d,IAAS1yC,IAAb;AAAaA,SAEXA,KAAKiQ,EAALjQ,CAAQ64C,UAAR74C,EAFWA,IAEcA,KAAKszD,WAALtzD,EAFdA,IAGX8hC,GAAQ9hC,KAAKiQ,EAAb6xB,EAAiB;AAAc,iBAAOtO,GAAUkf,EAAOziC,EAAjBujB,CAAP;AAAwBvjB,SAAvD6xB,CAHW9hC;AAG4CiQ,OA7U7DqgD,EAgVAA,GAAqBzzD,SAArByzD,CAA+B1rC,aAA/B0rC,GAA+C,UAAUlxD,CAAV,EAAUA;AACvDA,UAAK41D,eAAL51D,GAAuB,OAAvBA;AAAuB,OAjVzBkxD,EAoVAA,GAAqBzzD,SAArByzD,CAA+BtK,UAA/BsK,GAA4C,UAAUnvD,CAAV,EAAUA;AAClC,aAAdA,EAAE8kD,QAAY,IAAKjmD,KAAK4wD,SAAV,KAClBzvD,EAAEgP,cAAFhP,IACKnB,KAAKiQ,EAALjQ,CAAQ64C,UAAR74C,MACD+hC,GAAU/hC,KAAKiQ,EAAf8xB,EAAmBwrB,EAAnBxrB,EAAmC/hC,KAAKiQ,EAAxC8xB,EAA4ClrB,OAAOgnC,YAAPhnC,CAAkC,QAAd1V,EAAE8kD,QAAY,GAAO9kD,EAAEy9C,OAAT,GAAmBz9C,EAAE8kD,QAAvDpvC,CAA5CkrB,EAA8G,CAA9GA,CAHc;AAGgG,OAxVpHuuB,EA2VAA,GAAqBzzD,SAArByzD,CAA+B2E,eAA/B3E,GAAiD,UAAU37C,CAAV,EAAUA;AACzD3U,aAAK6R,GAAL7R,CAASg1D,eAATh1D,GAA2B6W,OAAc,cAAPlC,CAAPkC,CAA3B7W;AAAkC2U,OA5VpC27C,EA+VAA,GAAqBzzD,SAArByzD,CAA+BlH,aAA/BkH,GAA+C,cA/V/CA,EAgWAA,GAAqBzzD,SAArByzD,CAA+B4E,aAA/B5E,GAA+C,cAhW/CA,EAkWAA,GAAqBzzD,SAArByzD,CAA+B3rC,qBAA/B2rC,GAA+B3rC,CAAwB,CAlWvD2rC;;AA6fA,UAAI6E,KAAgB,UAASllD,CAAT,EAASA;AAC3BjQ,aAAKiQ,EAALjQ,GAAUiQ,CAAVjQ,EAEAA,KAAKo1D,SAALp1D,GAAiB,EAFjBA,EAOAA,KAAKq1D,WAALr1D,GAAKq1D,CAAc,CAPnBr1D,EASAA,KAAK2wD,OAAL3wD,GAAe,IAAIgJ,CAAJ,EATfhJ,EAWAA,KAAK6S,YAAL7S,GAAK6S,CAAe,CAXpB7S,EAYAA,KAAK4wD,SAAL5wD,GAAiB,IAZjBA;AAYiB,OAbnB;;AAgBAm1D,SAAct4D,SAAds4D,CAAwBlvB,IAAxBkvB,GAA+B,UAAUh6C,CAAV,EAAUA;AACrC,YAAIu3B,IAAS1yC,IAAb;AAAA,YAEE0kB,IAAQ1kB,IAFV;AAAA,YAEgBiQ,IAAKjQ,KAAKiQ,EAF1B;AAGFjQ,aAAKs1D,WAALt1D,CAAiBmb,CAAjBnb;AACA,YAAI+S,IAAK/S,KAAKu1D,QAAd;;AAmBA,iBAASC,CAAT,CAAwBr0D,CAAxB,EAAwBA;AACtB,eAAI6O,GAAeC,CAAfD,EAAmB7O,CAAnB6O,CAAJ;AACA,gBAAIC,EAAG23B,iBAAH33B,EAAJ,EACEo9C,GAAc;AAACU,yBAAU,CAAX;AAAkB5+C,oBAAMc,EAAGglC,aAAHhlC;AAAxB,aAAdo9C,EADF,KAEO;AAAA,mBAAKp9C,EAAG6D,OAAH7D,CAAW4hD,eAAhB,EACL;AAEA,kBAAI98B,IAAS25B,GAAez+C,CAAfy+C,CAAb;AACArB,iBAAc;AAACU,2BAAU,CAAX;AAAiB5+C,sBAAM4lB,EAAO5lB;AAA9B,eAAdk+C,GACc,SAAVlsD,EAAEuM,IAAQ,GACZuC,EAAG8kC,aAAH9kC,CAAiB8kB,EAAOA,MAAxB9kB,EAAgC,IAAhCA,EAAsCtG,CAAtCsG,CADY,IAGZyU,EAAM0wC,SAAN1wC,GAAkB,EAAlBA,EACA3R,EAAG9W,KAAH8W,GAAWgiB,EAAO5lB,IAAP4lB,CAAYvyB,IAAZuyB,CAAiB,IAAjBA,CADXrQ,EAEA3c,EAAYgL,CAAZhL,CALY,CADdslD;AASY;AAAA,qBAAVlsD,EAAEuM,IAAQ,KAASuC,EAAGwE,KAAHxE,CAAS66C,WAAT76C,GAAS66C,CAAe,IAAIzhD,IAAJ,EAAjC;AAAqCA;AAlCrD8R;;AAAAA,UAAQwO,OAARxO,CAAgB+L,YAAhB/L,CAA6Bnb,KAAK2pB,OAAlCxO,EAA2CA,EAAQwO,OAARxO,CAAgBxV,UAA3DwV,GAGIjX,MAAO6O,EAAG9M,KAAH8M,CAASmW,KAATnW,GAAiB,KAAxB7O,CAHJiX,EAKA9L,GAAG0D,CAAH1D,EAAO,OAAPA,EAAgB;AACV/L,eAAMC,KAAc,CAApBD,IAAyBovC,EAAO7/B,YAAhCvP,KAAgDovC,EAAO7/B,YAAP6/B,GAAsB,IAAtEpvC,GACJohB,EAAMwuC,IAANxuC,EADIphB;AACE4vD,SAFR7jD,CALA8L,EAUA9L,GAAG0D,CAAH1D,EAAO,OAAPA,EAAgB,UAAUlO,CAAV,EAAUA;AACpB6O,aAAeC,CAAfD,EAAmB7O,CAAnB6O,KAAyBk+C,GAAY/sD,CAAZ+sD,EAAej+C,CAAfi+C,CAAzBl+C,KAEJC,EAAGwE,KAAHxE,CAAS46C,aAAT56C,GAAS46C,CAAiB,IAAIxhD,IAAJ,EAA1B4G,EACAyU,EAAM+wC,QAAN/wC,EAHI1U;AAGEylD,SAJRpmD,CAVA8L,EAoCA9L,GAAG0D,CAAH1D,EAAO,KAAPA,EAAcmmD,CAAdnmD,CApCA8L,EAqCA9L,GAAG0D,CAAH1D,EAAO,MAAPA,EAAemmD,CAAfnmD,CArCA8L,EAuCA9L,GAAG8L,EAAQ4P,QAAX1b,EAAqB,OAArBA,EAA8B,UAAUlO,CAAV,EAAUA;AACtC,eAAI0oB,GAAc1O,CAAd0O,EAAuB1oB,CAAvB0oB,CAAJ,IAA2B1oB,CAAM6O,GAAeC,CAAfD,EAAmB7O,CAAnB6O,CAAjC;AACA,iBAAK+C,EAAG2iD,aAAR,EAGE,OAFAzlD,EAAGwE,KAAHxE,CAAS46C,aAAT56C,GAAS46C,CAAiB,IAAIxhD,IAAJ,EAA1B4G,EAA8B5G,KAC9Bqb,EAAMwT,KAANxT,EACA;AAIF,gBAAImoB,IAAQ,IAAI8oB,KAAJ,CAAU,OAAV,CAAZ;AACA9oB,cAAMuhB,aAANvhB,GAAsB1rC,EAAEitD,aAAxBvhB,EACA95B,EAAG2iD,aAAH3iD,CAAiB85B,CAAjB95B,CADA85B;AACiBA;AAAAA,SAXnBx9B,CAvCA8L,EAsDA9L,GAAG8L,EAAQ+O,SAAX7a,EAAsB,aAAtBA,EAAqC,UAAUlO,CAAV,EAAUA;AACxC0oB,aAAc1O,CAAd0O,EAAuB1oB,CAAvB0oB,KAA6B/Y,GAAiB3P,CAAjB2P,CAA7B+Y;AAA8C1oB,SADrDkO,CAtDA8L,EA0DA9L,GAAG0D,CAAH1D,EAAO,kBAAPA,EAA2B;AACzB,cAAI1P,IAAQsQ,EAAGmqB,SAAHnqB,CAAa,MAAbA,CAAZ;AACIyU,YAAMksC,SAANlsC,IAAmBA,EAAMksC,SAANlsC,CAAgB1f,KAAhB0f,CAAsByY,KAAtBzY,EAAnBA,EACJA,EAAMksC,SAANlsC,GAAkB;AAChB/kB,mBAAOA,CADS;AAEhBqF,mBAAOiL,EAAG6iC,QAAH7iC,CAAYtQ,CAAZsQ,EAAmBA,EAAGmqB,SAAHnqB,CAAa,IAAbA,CAAnBA,EAAuC;AAAC9K,yBAAW;AAAZ,aAAvC8K;AAFS,WADdyU;AAGwD,SAL9DrV,CA1DA8L,EAkEA9L,GAAG0D,CAAH1D,EAAO,gBAAPA,EAAyB;AACnBqV,YAAMksC,SAANlsC,KACFA,EAAMwuC,IAANxuC,IACAA,EAAMksC,SAANlsC,CAAgB1f,KAAhB0f,CAAsByY,KAAtBzY,EADAA,EAEAA,EAAMksC,SAANlsC,GAAkB,IAHhBA;AAGgB,SAJtBrV,CAlEA8L;AAsEsB,OA7ExBg6C,EAkFAA,GAAct4D,SAAds4D,CAAwBG,WAAxBH,GAAsC,UAAUS,CAAV,EAAUA;AAE9C51D,aAAK2pB,OAAL3pB,GAAeivD,IAAfjvD,EAGAA,KAAKu1D,QAALv1D,GAAgBA,KAAK2pB,OAAL3pB,CAAa2F,UAH7B3F;AAG6B2F,OAvF/BwvD,EA0FAA,GAAct4D,SAAds4D,CAAwB1gC,gBAAxB0gC,GAA2C;AAEzC,YAAIllD,IAAKjQ,KAAKiQ,EAAd;AAAA,YAAkBkL,IAAUlL,EAAGkL,OAA/B;AAAA,YAAwC5F,IAAMtF,EAAGsF,GAAjD;AAAA,YACI7C,IAAS+hB,GAAiBxkB,CAAjBwkB,CADb;;AAIA,YAAIxkB,EAAG6D,OAAH7D,CAAW4lD,mBAAf,EAAoC;AAClC,cAAIC,IAAUzlC,GAAapgB,CAAbogB,EAAiB9a,EAAIuf,GAAJvf,CAAQmf,OAARnf,GAAkB6f,IAAnC/E,EAAyC,KAAzCA,CAAd;AAAA,cACI0lC,IAAU56C,EAAQwO,OAARxO,CAAgB9I,qBAAhB8I,EADd;AAAA,cACuD66C,IAAU76C,EAAQ2d,OAAR3d,CAAgB9I,qBAAhB8I,EADjE;AAEAzI,YAAOujD,KAAPvjD,GAAerI,KAAKmN,GAALnN,CAAS,CAATA,EAAYA,KAAKC,GAALD,CAAS8Q,EAAQwO,OAARxO,CAAgB+P,YAAhB/P,GAA+B,EAAxC9Q,EACSyrD,EAAQnpC,GAARmpC,GAAcE,EAAQrpC,GAAtBmpC,GAA4BC,EAAQppC,GAD7CtiB,CAAZA,CAAfqI,EAEAA,EAAOwjD,MAAPxjD,GAAgBrI,KAAKmN,GAALnN,CAAS,CAATA,EAAYA,KAAKC,GAALD,CAAS8Q,EAAQwO,OAARxO,CAAgByO,WAAhBzO,GAA8B,EAAvC9Q,EACSyrD,EAAQvjD,IAARujD,GAAeE,EAAQzjD,IAAvBujD,GAA8BC,EAAQxjD,IAD/ClI,CAAZA,CAFhBqI;AAMF;;AAAA,eAAOA,CAAP;AAAOA,OAzGTyiD,EA4GAA,GAAct4D,SAAds4D,CAAwB3gC,aAAxB2gC,GAAwC,UAAUgB,CAAV,EAAUA;AAChD,YAAkBh7C,IAATnb,KAAKiQ,EAALjQ,CAAsBmb,OAA/B;AACAvV,UAAqBuV,EAAQ0c,SAA7BjyB,EAAwCuwD,EAAMvhC,OAA9ChvB,GACAA,EAAqBuV,EAAQypB,YAA7Bh/B,EAA2CuwD,EAAMljD,SAAjDrN,CADAA,EAEmB,QAAfuwD,EAAMF,KAAS,KACjBj2D,KAAK2pB,OAAL3pB,CAAaiG,KAAbjG,CAAmB2sB,GAAnB3sB,GAAyBm2D,EAAMF,KAANE,GAAc,IAAvCn2D,EACAA,KAAK2pB,OAAL3pB,CAAaiG,KAAbjG,CAAmBuS,IAAnBvS,GAA0Bm2D,EAAMD,MAANC,GAAe,IAFxB,CAFnBvwD;AAI2C,OAlH7CuvD,EAwHAA,GAAct4D,SAAds4D,CAAwB18B,KAAxB08B,GAAgC,UAAUz2B,CAAV,EAAUA;AACxC,aAAI1+B,KAAKo2D,kBAAT,IAASA,CAAsBp2D,KAAK4wD,SAApC;AACA,cAAI3gD,IAAKjQ,KAAKiQ,EAAd;;AACA,cAAIA,EAAG23B,iBAAH33B,EAAJ,EAA4B;AAC1BjQ,iBAAKo1D,SAALp1D,GAAiB,EAAjBA;AACA,gBAAIwB,IAAUyO,EAAG6C,YAAH7C,EAAd;AACAjQ,iBAAKu1D,QAALv1D,CAAc/D,KAAd+D,GAAsBwB,CAAtBxB,EACIiQ,EAAGwE,KAAHxE,CAASynB,OAATznB,IAAoBlI,EAAY/H,KAAKu1D,QAAjBxtD,CADxB/H,EAEIsD,KAAMC,KAAc,CAApBD,KAAyBtD,KAAK6S,YAAL7S,GAAoBwB,CAA7C8B,CAFJtD;AAEiDwB,WALnD,MAMYk9B,MACV1+B,KAAKo1D,SAALp1D,GAAiBA,KAAKu1D,QAALv1D,CAAc/D,KAAd+D,GAAsB,EAAvCA,EACIsD,KAAMC,KAAc,CAApBD,KAAyBtD,KAAK6S,YAAL7S,GAAoB,IAA7CsD,CAFMo7B;AAEuC;AAAA,OAnIrDy2B,EAuIAA,GAAct4D,SAAds4D,CAAwB9I,QAAxB8I,GAAmC;AAAc,eAAOn1D,KAAKu1D,QAAZ;AAAYA,OAvI7DJ,EAyIAA,GAAct4D,SAAds4D,CAAwB5O,aAAxB4O,GAAwC;AAAc,gBAAO,CAAP;AAAO,OAzI7DA,EA2IAA,GAAct4D,SAAds4D,CAAwBj9B,KAAxBi9B,GAAgC;AAC9B,YAAgC,cAA5Bn1D,KAAKiQ,EAALjQ,CAAQ8T,OAAR9T,CAAgBu4B,QAAY,KAAZA,CAA4Bn0B,CAA5Bm0B,IAAsC3xB,OAAe5G,KAAKu1D,QAA9C,CAAhC,EACE;AAAMv1D,eAAKu1D,QAALv1D,CAAck4B,KAAdl4B;AACN,SADA,CACA,OAAOmB,CAAP,EAAOA;AAAAA,OA9IXg0D,EAkJAA,GAAct4D,SAAds4D,CAAwBpC,IAAxBoC,GAA+B;AAAcn1D,aAAKu1D,QAALv1D,CAAc+yD,IAAd/yD;AAAc+yD,OAlJ3DoC,EAoJAA,GAAct4D,SAAds4D,CAAwBD,aAAxBC,GAAwC;AACtCn1D,aAAK2pB,OAAL3pB,CAAaiG,KAAbjG,CAAmB2sB,GAAnB3sB,GAAyBA,KAAK2pB,OAAL3pB,CAAaiG,KAAbjG,CAAmBuS,IAAnBvS,GAA0B,CAAnDA;AAAmD,OArJrDm1D,EAwJAA,GAAct4D,SAAds4D,CAAwBz8B,aAAxBy8B,GAAwC;AAAcn1D,aAAKq2D,QAALr2D;AAAKq2D,OAxJ3DlB,EA4JAA,GAAct4D,SAAds4D,CAAwBkB,QAAxBlB,GAAmC;AAC/B,YAAIziB,IAAS1yC,IAAb;AAEEA,aAAKq1D,WAALr1D,IACJA,KAAK2wD,OAAL3wD,CAAauJ,GAAbvJ,CAAiBA,KAAKiQ,EAALjQ,CAAQ8T,OAAR9T,CAAgBizD,YAAjCjzD,EAA+C;AAC7C0yC,YAAOwgB,IAAPxgB,IACIA,EAAOziC,EAAPyiC,CAAUj+B,KAAVi+B,CAAgBhb,OAAhBgb,IAA2BA,EAAO2jB,QAAP3jB,EAD/BA;AACsC2jB,SAFxCr2D,CADIA;AAGoCq2D,OAlK1ClB,EAyKAA,GAAct4D,SAAds4D,CAAwBM,QAAxBN,GAAmC;AACjC,YAAImB,KAAS,CAAb;AAAA,YAAoB5xC,IAAQ1kB,IAA5B;AACA0kB,UAAM2wC,WAAN3wC,GAAM2wC,CAAc,CAApB3wC,EAMAA,EAAMisC,OAANjsC,CAAcnb,GAAdmb,CAAkB,EAAlBA,EALA,SAAS3nB,CAAT,GAASA;AACO2nB,YAAMwuC,IAANxuC,MACG4xC,CADH5xC,IAERA,EAAM2wC,WAAN3wC,GAAM2wC,CAAc,CAApB3wC,EAA2BA,EAAM2xC,QAAN3xC,EAFnBA,KACY4xC,KAAS,CAATA,EAAe5xC,EAAMisC,OAANjsC,CAAcnb,GAAdmb,CAAkB,EAAlBA,EAAsB3nB,CAAtB2nB,CAD3BA;AACiD3nB,SAGjE2nB,CANAA;AAGiE3nB,OA9KnEo4D,EA0LAA,GAAct4D,SAAds4D,CAAwBjC,IAAxBiC,GAA+B;AAC3B,YAAIziB,IAAS1yC,IAAb;AAAA,YAEEiQ,IAAKjQ,KAAKiQ,EAFZ;AAAA,YAEgByU,IAAQ1kB,KAAKu1D,QAF7B;AAAA,YAEuCH,IAAYp1D,KAAKo1D,SAFxD;AAOF,YAAIp1D,KAAKo2D,kBAALp2D,IAAKo2D,CAAuBnmD,EAAGwE,KAAHxE,CAASynB,OAArC13B,IACC6S,GAAa6R,CAAb7R,KAAa6R,CAAW0wC,CAAxBviD,IAAwBuiD,CAAcp1D,KAAK4wD,SAD5C5wD,IAEAiQ,EAAG4oC,UAAH5oC,EAFAjQ,IAEmBiQ,EAAG6D,OAAH7D,CAAWo+C,YAF9BruD,IAE8CiQ,EAAGwE,KAAHxE,CAASk1C,MAF3D,EAGI,QAAO,CAAP;AAEJ,YAAIh2C,IAAOuV,EAAMzoB,KAAjB;AAEA,YAAIkT,KAAQimD,CAARjmD,IAAQimD,CAAcnlD,EAAG23B,iBAAH33B,EAA1B,EAAoD,QAAO,CAAP;AAIpD,YAAI3M,KAAMC,KAAc,CAApBD,IAAyBtD,KAAK6S,YAAL7S,KAAsBmP,CAA/C7L,IACAe,KAAO,kBAAkB3G,IAAlB,CAAuByR,CAAvB,CADX,EAGE,OADAc,EAAGkL,OAAHlL,CAAWyU,KAAXzU,CAAiBwoB,KAAjBxoB,IAAiBwoB,CACV,CAAP;;AAGF,YAAIxoB,EAAGsF,GAAHtF,CAAO6kB,GAAP7kB,IAAcA,EAAGkL,OAAHlL,CAAWuoB,iBAA7B,EAAgD;AAC9C,cAAIhjB,IAAQrG,EAAK1D,UAAL0D,CAAgB,CAAhBA,CAAZ;AAEA,cADa,QAATqG,CAAS,IAAW4/C,CAAX,KAAwBA,IAAY,GAApC,GACA,QAAT5/C,CAAJ,EAAqC,OAAdxV,KAAKy4B,KAALz4B,IAAqBA,KAAKiQ,EAALjQ,CAAQkkD,WAARlkD,CAAoB,MAApBA,CAAP;AAIvC;;AAAA,aADA,IAAIu2D,IAAO,CAAX,EAAct7D,IAAIoP,KAAKC,GAALD,CAAS+qD,EAAU/3D,MAAnBgN,EAA2B8E,EAAK9R,MAAhCgN,CAClB,EAAOksD,IAAOt7D,CAAPs7D,IAAYnB,EAAU3pD,UAAV2pD,CAAqBmB,CAArBnB,KAA8BjmD,EAAK1D,UAAL0D,CAAgBonD,CAAhBpnD,CAAjD,GAAiEonD,EAAWA,CAAXA;;AAgBjE,eAdAz0B,GAAQ7xB,CAAR6xB,EAAY;AACVyrB,aAAet9C,CAAfs9C,EAAmBp+C,EAAK9J,KAAL8J,CAAWonD,CAAXpnD,CAAnBo+C,EAAqC6H,EAAU/3D,MAAV+3D,GAAmBmB,CAAxDhJ,EACe,IADfA,EACqB7a,EAAOke,SAAPle,GAAmB,UAAnBA,GAAgC,IADrD6a,GAIIp+C,EAAK9R,MAAL8R,GAAc,GAAdA,IAAsBA,EAAKjS,OAALiS,CAAa,IAAbA,IAAa,CAAS,CAA5CA,GAAiDuV,EAAMzoB,KAANyoB,GAAcguB,EAAO0iB,SAAP1iB,GAAmB,EAAlFvjC,GACGujC,EAAO0iB,SAAP1iB,GAAmBvjC,CAL1Bo+C,EAOI7a,EAAOke,SAAPle,KACFA,EAAOke,SAAPle,CAAiB1tC,KAAjB0tC,CAAuBvV,KAAvBuV,IACAA,EAAOke,SAAPle,CAAiB1tC,KAAjB0tC,GAAyBziC,EAAG6iC,QAAH7iC,CAAYyiC,EAAOke,SAAPle,CAAiB/yC,KAA7BsQ,EAAoCA,EAAGmqB,SAAHnqB,CAAa,IAAbA,CAApCA,EACU;AAAC9K,uBAAW;AAAZ,WADV8K,CAFvByiC,CAPJ6a;AAUiD,SAXnDzrB,GAWmD,CAG5C,CAAP;AAAO,OA1OTqzB,EA6OAA,GAAct4D,SAAds4D,CAAwBrQ,YAAxBqQ,GAAuC;AACjCn1D,aAAKq1D,WAALr1D,IAAoBA,KAAKkzD,IAALlzD,EAApBA,KAAmCA,KAAKq1D,WAALr1D,GAAKq1D,CAAc,CAAtDr1D;AAAsD,OA9O5Dm1D,EAiPAA,GAAct4D,SAAds4D,CAAwBnP,UAAxBmP,GAAqC;AAC/B7xD,aAAMC,KAAc,CAApBD,KAAyBtD,KAAK6S,YAAL7S,GAAoB,IAA7CsD,GACJtD,KAAKy1D,QAALz1D,EADIsD;AACCmyD,OAnPPN,EAsPAA,GAAct4D,SAAds4D,CAAwB/L,aAAxB+L,GAAwC,UAAUh0D,CAAV,EAAUA;AAChD,YAAIujB,IAAQ1kB,IAAZ;AAAA,YAAkBiQ,IAAKyU,EAAMzU,EAA7B;AAAA,YAAiCkL,IAAUlL,EAAGkL,OAA9C;AAAA,YAAuDpI,IAAK2R,EAAM6wC,QAAlE;AACI7wC,UAAM0xC,kBAAN1xC,IAA4BA,EAAM0xC,kBAAN1xC,EAA5BA;AACJ,YAAIxa,IAAM8oB,GAAa/iB,CAAb+iB,EAAiB7xB,CAAjB6xB,CAAV;AAAA,YAA+BsO,IAAYnmB,EAAQ4P,QAAR5P,CAAiBqU,SAA5D;;AACA,YAAKtlB,MAAOrG,CAAZ;AAIYoM,YAAG6D,OAAH7D,CAAWumD,2BAAXvmD,IAAWumD,CACmB,CADnBA,IACVvmD,EAAGsF,GAAHtF,CAAO6kB,GAAP7kB,CAAW1J,QAAX0J,CAAoB/F,CAApB+F,CADDA,IAER8xB,GAAU9xB,CAAV8xB,EAAcmL,EAAdnL,EAA4B9xB,EAAGsF,GAA/BwsB,EAAoCoG,GAAgBj+B,CAAhBi+B,CAApCpG,EAA0Dp4B,CAA1Do4B,CAFQ9xB;AAIZ,cAIIwmD,CAJJ;AAAA,cAAIC,IAAS3jD,EAAG9M,KAAH8M,CAAS5M,OAAtB;AAAA,cAA+BwwD,IAAgBjyC,EAAMiF,OAANjF,CAAcze,KAAdye,CAAoBve,OAAnE;AAAA,cACIywD,IAAalyC,EAAMiF,OAANjF,CAAcmyC,YAAdnyC,CAA2BrS,qBAA3BqS,EADjB;;AAyDA,cAvDAA,EAAMiF,OAANjF,CAAcze,KAAdye,CAAoBve,OAApBue,GAA8B,kBAA9BA,EACA3R,EAAG9M,KAAH8M,CAAS5M,OAAT4M,GAAmB,iEAAiE5R,EAAEkyB,OAAFlyB,GAAYy1D,EAAWjqC,GAAvBxrB,GAA6B,CAA9F,IAAmG,YAAnG,IAAmHA,EAAEiyB,OAAFjyB,GAAYy1D,EAAWrkD,IAAvBpR,GAA8B,CAAjJ,IAAsJ,wCAAtJ,IAAkMmC,IAAK,0BAALA,GAAkC,aAApO,IAAqP,mHADxQohB,EAGIhhB,MAAU+yD,IAAa77D,OAAOk8D,OAA9BpzD,CAHJghB,EAIAvJ,EAAQuJ,KAARvJ,CAAc+c,KAAd/c,EAJAuJ,EAKIhhB,KAAU9I,OAAOm8D,QAAPn8D,CAAgB,IAAhBA,EAAsB67D,CAAtB77D,CALd8pB,EAMAvJ,EAAQuJ,KAARvJ,CAAcsd,KAAdtd,EANAuJ,EAQKzU,EAAG23B,iBAAH33B,OAA0B8C,EAAG9W,KAAH8W,GAAW2R,EAAM0wC,SAAN1wC,GAAkB,GAAvDzU,CARLyU,EASAA,EAAM0xC,kBAAN1xC,GAA2BsyC,CAT3BtyC,EAUAvJ,EAAQqd,iBAARrd,GAA4BlL,EAAGsF,GAAHtF,CAAO6kB,GAVnCpQ,EAWAjb,aAAa0R,EAAQ87C,kBAArBxtD,CAXAib,EAsDIphB,KAAMC,KAAc,CAApBD,IAAyB4zD,GAtD7BxyC,EAuDI9f,CAAJ,EAAuB;AACrBuM,eAAOhQ,CAAPgQ;;AACA,gBAAIgmD,IAAU;AACZxnD,iBAAI/U,MAAJ+U,EAAY,SAAZA,EAAuBwnD,CAAvBxnD,GACArG,WAAW0tD,CAAX1tD,EAAmB,EAAnBA,CADAqG;AACmB,aAFrB;;AAIAN,eAAGzU,MAAHyU,EAAW,SAAXA,EAAsB8nD,CAAtB9nD;AAAsB8nD,WANxB,MAQE7tD,WAAW0tD,CAAX1tD,EAAmB,EAAnBA;AA/CF;;AAAA,iBAAS4tD,CAAT,GAASA;AACP,cAAyB,QAArBnkD,EAAGlK,cAAP,EAA+B;AAC7B,gBAAI6wC,IAAWzpC,EAAG23B,iBAAH33B,EAAf;AAAA,gBACImnD,IAAS,OAAY1d,IAAW3mC,EAAG9W,KAAdy9C,GAAsB,EAAlC,CADb;AAEA3mC,cAAG9W,KAAH8W,GAAW,GAAXA,EACAA,EAAG9W,KAAH8W,GAAWqkD,CADXrkD,EAEA2R,EAAM0wC,SAAN1wC,GAAkBg1B,IAAW,EAAXA,GAAgB,GAFlC3mC,EAGAA,EAAGlK,cAAHkK,GAAoB,CAHpBA,EAGuBA,EAAGjK,YAAHiK,GAAkBqkD,EAAO/5D,MAHhD0V,EAMAoI,EAAQqd,iBAARrd,GAA4BlL,EAAGsF,GAAHtF,CAAO6kB,GANnC/hB;AAMmC+hB;AAGvC;;AAAA,iBAASkiC,CAAT,GAASA;AACP,cAAItyC,EAAM0xC,kBAAN1xC,IAA4BsyC,CAA5BtyC,KACJA,EAAM0xC,kBAAN1xC,GAAM0xC,CAAqB,CAA3B1xC,EACAA,EAAMiF,OAANjF,CAAcze,KAAdye,CAAoBve,OAApBue,GAA8BiyC,CAD9BjyC,EAEA3R,EAAG9M,KAAH8M,CAAS5M,OAAT4M,GAAmB2jD,CAFnBhyC,EAGIphB,KAAMC,IAAa,CAAnBD,IAAwB6X,EAAQ8f,UAAR9f,CAAmB0f,YAAnB1f,CAAgCA,EAAQ4P,QAAR5P,CAAiBqU,SAAjBrU,GAA6BmmB,CAA7DnmB,CAH5BuJ,EAMyB,QAArB3R,EAAGlK,cAPH6b,CAAJ,EAO+B;AAAA,cACxBphB,CADwB,IACjBA,KAAMC,IAAa,CADF,KACQ2zD,GADR;;AAE7B,gBAAIl8D,IAAI,CAAR;AAAA,gBAAWk4D,IAAO;AACZ/3C,gBAAQqd,iBAARrd,IAA6BlL,EAAGsF,GAAHtF,CAAO6kB,GAApC3Z,IAAgE,KAArBpI,EAAGlK,cAA9CsS,IACApI,EAAGjK,YAAHiK,GAAkB,CADlBoI,IAC0C,OAAnBuJ,EAAM0wC,SAD7Bj6C,GAEF4mB,GAAU9xB,CAAV8xB,EAAc8M,EAAd9M,EAAyB9xB,CAAzB8xB,CAFE5mB,GAGOngB,MAAM,EAANA,GACTmgB,EAAQ87C,kBAAR97C,GAA6B7R,WAAW4pD,CAAX5pD,EAAiB,GAAjBA,CADpBtO,IAGTmgB,EAAQqd,iBAARrd,GAA4B,IAA5BA,EACAA,EAAQuJ,KAARvJ,CAAcsd,KAAdtd,EAJSngB,CAHPmgB;AAOYsd,aARlB;;AAWAtd,cAAQ87C,kBAAR97C,GAA6B7R,WAAW4pD,CAAX5pD,EAAiB,GAAjBA,CAA7B6R;AAA8C;AAAA;AAAA,OAtTpDg6C,EAuUAA,GAAct4D,SAAds4D,CAAwBF,eAAxBE,GAA0C,UAAUxgD,CAAV,EAAUA;AAC7CA,aAAO3U,KAAKy4B,KAALz4B,EAAP2U,EACL3U,KAAKu1D,QAALv1D,CAAcq3D,QAAdr3D,GAAgC,cAAP2U,CADpBA;AACoBA,OAzU3BwgD,EA4UAA,GAAct4D,SAAds4D,CAAwBvwC,aAAxBuwC,GAAwC,cA5UxCA,EA8UAA,GAAct4D,SAAds4D,CAAwBxwC,qBAAxBwwC,GAAwBxwC,CAAwB,CA9UhDwwC,EArkDA,UAAuBjd,CAAvB,EAAuBA;AACrB,YAAI+R,IAAiB/R,EAAW+R,cAAhC;;AAEA,iBAAShD,CAAT,CAAgB1rD,CAAhB,EAAsB+7D,CAAtB,EAA6B9lB,CAA7B,EAAqC+lB,CAArC,EAAqCA;AACnCrf,YAAW8R,QAAX9R,CAAoB38C,CAApB28C,IAA4Bof,CAA5Bpf,EACI1G,MAAUyY,EAAe1uD,CAAf0uD,IACZsN,IAAY,UAAUtnD,CAAV,EAAc0E,CAAd,EAAmBwJ,CAAnB,EAAmBA;AAAUA,iBAAO4rC,EAAP5rC,IAAeqzB,EAAOvhC,CAAPuhC,EAAW78B,CAAX68B,EAAgBrzB,CAAhBqzB,CAAfrzB;AAA+BA,WAAxEo5C,GAAmF/lB,CADjFA,CADJ0G;AAKFA;;AAAAA,UAAWsf,YAAXtf,GAA0B+O,CAA1B/O,EAGAA,EAAW6R,IAAX7R,GAAkB6R,EAHlB7R,EAOA+O,EAAO,OAAPA,EAAgB,EAAhBA,EAAoB,UAAUh3C,CAAV,EAAc0E,CAAd,EAAcA;AAAO,iBAAO1E,EAAGqkC,QAAHrkC,CAAY0E,CAAZ1E,CAAP;AAAmB0E,SAA5DsyC,EAA4DtyC,CAAS,CAArEsyC,CAPA/O,EAQA+O,EAAO,MAAPA,EAAe,IAAfA,EAAqB,UAAUh3C,CAAV,EAAc0E,CAAd,EAAcA;AACjC1E,YAAGsF,GAAHtF,CAAOw4B,UAAPx4B,GAAoB0E,CAApB1E,EACAu4B,GAASv4B,CAATu4B,CADAv4B;AACSA,SAFXg3C,EAEWh3C,CACR,CAHHg3C,CARA/O,EAaA+O,EAAO,YAAPA,EAAqB,CAArBA,EAAwBze,EAAxBye,EAAwBze,CAAU,CAAlCye,CAbA/O,EAcA+O,EAAO,gBAAPA,EAAO,CAAkB,CAAzBA,CAdA/O,EAeA+O,EAAO,aAAPA,EAAO,CAAe,CAAtBA,CAfA/O,EAgBA+O,EAAO,SAAPA,EAAkB,CAAlBA,EAAqB,UAAUh3C,CAAV,EAAUA;AAC7By4B,aAAez4B,CAAfy4B,GACA7Z,GAAY5e,CAAZ4e,CADA6Z,EAEAlV,GAAUvjB,CAAVujB,CAFAkV;AAEUz4B,SAHZg3C,EAGYh3C,CACT,CAJHg3C,CAhBA/O,EAsBA+O,EAAO,eAAPA,EAAwB,IAAxBA,EAA8B,UAAUh3C,CAAV,EAAc0E,CAAd,EAAcA;AAE1C,cADA1E,EAAGsF,GAAHtF,CAAOikC,OAAPjkC,GAAiB0E,CAAjB1E,EACK0E,CAAL;AACA,gBAAI8iD,IAAY,EAAhB;AAAA,gBAAoBphD,IAASpG,EAAGsF,GAAHtF,CAAOuF,KAApC;AACAvF,cAAGsF,GAAHtF,CAAO+F,IAAP/F,CAAY,UAAU3Q,CAAV,EAAUA;AACpB,mBAAK,IAAI4K,IAAM,CAAf,IAAoB;AAClB,oBAAIwC,IAAQpN,EAAK6P,IAAL7P,CAAUpC,OAAVoC,CAAkBqV,CAAlBrV,EAAuB4K,CAAvB5K,CAAZ;AACA,qBAAc,CAAd,IAAIoN,CAAJ,EAAmB;AACnBxC,oBAAMwC,IAAQiI,EAAItX,MAAlB6M,EACAutD,EAAU90D,IAAV80D,CAAezgD,GAAIX,CAAJW,EAAYtK,CAAZsK,CAAfygD,CADAvtD;AAGFmM;;AAAAA;AAAAA,aAPFpG;;AASA,iBAAK,IAAIjV,IAAIy8D,EAAUp6D,MAAVo6D,GAAmB,CAAhC,EAAmCz8D,KAAK,CAAxC,EAA2CA,GAA3C,EACI+1C,GAAa9gC,EAAGsF,GAAhBw7B,EAAqBp8B,CAArBo8B,EAA0B0mB,EAAUz8D,CAAVy8D,CAA1B1mB,EAAwC/5B,GAAIygD,EAAUz8D,CAAVy8D,EAAan4D,IAAjB0X,EAAuBygD,EAAUz8D,CAAVy8D,EAAavsD,EAAbusD,GAAkB9iD,EAAItX,MAA7C2Z,CAAxC+5B;AAAqF1zC;AAAAA,SAd3F4pD,CAtBA/O,EAsCA+O,EAAO,cAAPA,EAAuB,uFAAvBA,EAAgH,UAAUh3C,CAAV,EAAc0E,CAAd,EAAmBwJ,CAAnB,EAAmBA;AACjIlO,YAAGwE,KAAHxE,CAAS4T,YAAT5T,GAAwB,IAAIlL,MAAJ,CAAW4P,EAAIrS,MAAJqS,IAAcA,EAAIjX,IAAJiX,CAAS,IAATA,IAAiB,EAAjBA,GAAsB,KAApCA,CAAX,EAAuD,GAAvD,CAAxB1E,EACIkO,KAAO4rC,EAAP5rC,IAAelO,EAAGynD,OAAHznD,EADnBA;AACsBynD,SAFxBzQ,CAtCA/O,EA0CA+O,EAAO,wBAAPA,EAAiC9jC,EAAjC8jC,EAAgE,UAAUh3C,CAAV,EAAUA;AAAM,iBAAOA,EAAGynD,OAAHznD,EAAP;AAAUynD,SAA1FzQ,EAA0FyQ,CAAc,CAAxGzQ,CA1CA/O,EA2CA+O,EAAO,eAAPA,EAAO,CAAiB,CAAxBA,CA3CA/O,EA4CA+O,EAAO,YAAPA,EAAqB7iD,IAAS,iBAATA,GAA6B,UAAlD6iD,EAA8D;AAC5D,gBAAM,IAAInnD,KAAJ,CAAU,yDAAV,CAAN;AAAgB,SADlBmnD,EACkB,CACf,CAFHA,CA5CA/O,EA+CA+O,EAAO,YAAPA,EAAO,CAAc,CAArBA,EAA4B,UAAUh3C,CAAV,EAAc0E,CAAd,EAAcA;AAAO,iBAAO1E,EAAG0nD,aAAH1nD,GAAmB6+C,UAAnB7+C,GAAgC0E,CAAvC;AAAuCA,SAAxFsyC,EAAwFtyC,CAAQ,CAAhGsyC,CA/CA/O,EAgDA+O,EAAO,aAAPA,EAAO,CAAe,CAAtBA,EAA6B,UAAUh3C,CAAV,EAAc0E,CAAd,EAAcA;AAAO,iBAAO1E,EAAG0nD,aAAH1nD,GAAmB8+C,WAAnB9+C,GAAiC0E,CAAxC;AAAwCA,SAA1FsyC,EAA0FtyC,CAAQ,CAAlGsyC,CAhDA/O,EAiDA+O,EAAO,gBAAPA,EAAO,CAAkB,CAAzBA,EAAgC,UAAUh3C,CAAV,EAAc0E,CAAd,EAAcA;AAAO,iBAAO1E,EAAG0nD,aAAH1nD,GAAmB++C,cAAnB/+C,GAAoC0E,CAA3C;AAA2CA,SAAhGsyC,EAAgGtyC,CAAQ,CAAxGsyC,CAjDA/O,EAkDA+O,EAAO,iBAAPA,EAAO,CAAoB1iD,CAA3B0iD,CAlDA/O,EAmDA+O,EAAO,uBAAPA,EAAO,CAAyB,CAAhCA,CAnDA/O,EAqDA+O,EAAO,OAAPA,EAAgB,SAAhBA,EAA2B,UAAUh3C,CAAV,EAAUA;AACnC45C,aAAa55C,CAAb45C,GACAlkB,GAAc11B,CAAd01B,CADAkkB;AACc55C,SAFhBg3C,EAEgBh3C,CACb,CAHHg3C,CArDA/O,EAyDA+O,EAAO,QAAPA,EAAiB,SAAjBA,EAA4B,UAAUh3C,CAAV,EAAc0E,CAAd,EAAmBwJ,CAAnB,EAAmBA;AAC7C,cAAIlG,IAAOwmC,GAAU9pC,CAAV8pC,CAAX;AAAA,cACIhxC,IAAO0Q,KAAO4rC,EAAP5rC,IAAesgC,GAAUtgC,CAAVsgC,CAD1B;AAEIhxC,eAAQA,EAAKmqD,MAAbnqD,IAAuBA,EAAKmqD,MAALnqD,CAAYwC,CAAZxC,EAAgBwK,CAAhBxK,CAAvBA,EACAwK,EAAK4/C,MAAL5/C,IAAeA,EAAK4/C,MAAL5/C,CAAYhI,CAAZgI,EAAgBxK,KAAQ,IAAxBwK,CADfxK;AACuC,SAJ7Cw5C,CAzDA/O,EA+DA+O,EAAO,WAAPA,EAAoB,IAApBA,CA/DA/O,EAgEA+O,EAAO,gBAAPA,EAAyB,IAAzBA,CAhEA/O,EAkEA+O,EAAO,cAAPA,EAAO,CAAgB,CAAvBA,EAA8ByD,EAA9BzD,EAA8ByD,CAAiB,CAA/CzD,CAlEA/O,EAmEA+O,EAAO,SAAPA,EAAkB,EAAlBA,EAAsB,UAAUh3C,CAAV,EAAc0E,CAAd,EAAcA;AAClC1E,YAAGkL,OAAHlL,CAAWkY,WAAXlY,GAAyBq1B,GAAW3wB,CAAX2wB,EAAgBr1B,EAAG6D,OAAH7D,CAAW4X,WAA3Byd,CAAzBr1B,EACA01B,GAAc11B,CAAd01B,CADA11B;AACcA,SAFhBg3C,EAEgBh3C,CACb,CAHHg3C,CAnEA/O,EAuEA+O,EAAO,aAAPA,EAAO,CAAe,CAAtBA,EAA4B,UAAUh3C,CAAV,EAAc0E,CAAd,EAAcA;AACxC1E,YAAGkL,OAAHlL,CAAWyZ,OAAXzZ,CAAmBhK,KAAnBgK,CAAyBsC,IAAzBtC,GAAgC0E,IAAM8d,GAAqBxiB,EAAGkL,OAAxBsX,IAAmC,IAAzC9d,GAAgD,GAAhF1E,EACAA,EAAGynD,OAAHznD,EADAA;AACGynD,SAFLzQ,EAEKyQ,CACF,CAHHzQ,CAvEA/O,EA2EA+O,EAAO,4BAAPA,EAAO,CAA8B,CAArCA,EAA4C,UAAUh3C,CAAV,EAAUA;AAAM,iBAAOotB,GAAiBptB,CAAjBotB,CAAP;AAAwBptB,SAApFg3C,EAAoFh3C,CAAQ,CAA5Fg3C,CA3EA/O,EA4EA+O,EAAO,gBAAPA,EAAyB,QAAzBA,EAAmC,UAAUh3C,CAAV,EAAUA;AAC3CkuB,aAAeluB,CAAfkuB,GACAd,GAAiBptB,CAAjBotB,CADAc,EAEAluB,EAAGkL,OAAHlL,CAAWgrB,UAAXhrB,CAAsB4qB,YAAtB5qB,CAAmCA,EAAGsF,GAAHtF,CAAOuf,SAA1Cvf,CAFAkuB,EAGAluB,EAAGkL,OAAHlL,CAAWgrB,UAAXhrB,CAAsBirB,aAAtBjrB,CAAoCA,EAAGsF,GAAHtF,CAAOmf,UAA3Cnf,CAHAkuB;AAG2C/O,SAJ7C63B,EAI6C73B,CAC1C,CALH63B,CA5EA/O,EAkFA+O,EAAO,aAAPA,EAAO,CAAe,CAAtBA,EAA6B,UAAUh3C,CAAV,EAAc0E,CAAd,EAAcA;AACzC1E,YAAGkL,OAAHlL,CAAWkY,WAAXlY,GAAyBq1B,GAAWr1B,EAAG6D,OAAH7D,CAAWyZ,OAAtB4b,EAA+B3wB,CAA/B2wB,CAAzBr1B,EACA01B,GAAc11B,CAAd01B,CADA11B;AACcA,SAFhBg3C,EAEgBh3C,CACb,CAHHg3C,CAlFA/O,EAsFA+O,EAAO,iBAAPA,EAA0B,CAA1BA,EAA6BthB,EAA7BshB,EAA6BthB,CAAe,CAA5CshB,CAtFA/O,EAuFA+O,EAAO,qBAAPA,EAA8B,UAAU6Q,CAAV,EAAUA;AAAW,iBAAOA,CAAP;AAAOA,SAA1D7Q,EAAsEthB,EAAtEshB,EAAsEthB,CAAe,CAArFshB,CAvFA/O,EAwFA+O,EAAO,yBAAPA,EAAO,CAA2B,CAAlCA,EAAyC1yB,EAAzC0yB,EAAyC1yB,CAAiB,CAA1D0yB,CAxFA/O,EA0FA+O,EAAO,6BAAPA,EAAO,CAA+B,CAAtCA,CA1FA/O,EA2FA+O,EAAO,iBAAPA,EAAO,CAAmB,CAA1BA,CA3FA/O,EA4FA+O,EAAO,wBAAPA,EAAO,CAA0B,CAAjCA,CA5FA/O,EA6FA+O,EAAO,oBAAPA,EAAO,CAAsB,CAA7BA,CA7FA/O,EA+FA+O,EAAO,UAAPA,EAAO,CAAY,CAAnBA,EAA0B,UAAUh3C,CAAV,EAAc0E,CAAd,EAAcA;AAC3B,wBAAPA,CAAO,KACT2jB,GAAOroB,CAAPqoB,GACAroB,EAAGkL,OAAHlL,CAAWyU,KAAXzU,CAAiB8iD,IAAjB9iD,EAFS,GAIXA,EAAGkL,OAAHlL,CAAWyU,KAAXzU,CAAiBglD,eAAjBhlD,CAAiC0E,CAAjC1E,CAJW;AAIsB0E,SALnCsyC,CA/FA/O,EAsGA+O,EAAO,cAAPA,EAAO,CAAgB,CAAvBA,EAA8B,UAAUh3C,CAAV,EAAc0E,CAAd,EAAcA;AAAWA,eAAO1E,EAAGkL,OAAHlL,CAAWyU,KAAXzU,CAAiBwoB,KAAjBxoB,EAAP0E;AAAwB8jB,SAA/EwuB,EAA+ExuB,CAAa,CAA5FwuB,CAtGA/O,EAuGA+O,EAAO,UAAPA,EAAO,CAAY,CAAnBA,EAAyBiD,EAAzBjD,CAvGA/O,EAwGA+O,EAAO,oBAAPA,EAA6B,IAA7BA,CAxGA/O,EA0GA+O,EAAO,iBAAPA,EAA0B,GAA1BA,CA1GA/O,EA2GA+O,EAAO,oBAAPA,EAA6B,CAA7BA,CA3GA/O,EA4GA+O,EAAO,cAAPA,EAAuB,CAAvBA,EAA0B1yB,EAA1B0yB,EAA0B1yB,CAAiB,CAA3C0yB,CA5GA/O,EA6GA+O,EAAO,2BAAPA,EAAO,CAA6B,CAApCA,EAA0C1yB,EAA1C0yB,EAA0C1yB,CAAiB,CAA3D0yB,CA7GA/O,EA8GA+O,EAAO,UAAPA,EAAmB,GAAnBA,CA9GA/O,EA+GA+O,EAAO,WAAPA,EAAoB,GAApBA,CA/GA/O,EAgHA+O,EAAO,cAAPA,EAAO,CAAgB,CAAvBA,EAA6Bve,EAA7Bue,EAA6Bve,CAAgB,CAA7Cue,CAhHA/O,EAiHA+O,EAAO,cAAPA,EAAO,CAAgB,CAAvBA,EAA8Bve,EAA9Bue,EAA8Bve,CAAgB,CAA9Cue,CAjHA/O,EAkHA+O,EAAO,cAAPA,EAAuB,GAAvBA,CAlHA/O,EAmHA+O,EAAO,WAAPA,EAAoB,GAApBA,EAAyB,UAAUh3C,CAAV,EAAc0E,CAAd,EAAcA;AAAO,iBAAO1E,EAAGsF,GAAHtF,CAAOy7B,OAAPz7B,CAAeu6B,SAAfv6B,GAA2B0E,CAAlC;AAAkCA,SAAhFsyC,CAnHA/O,EAoHA+O,EAAO,mBAAPA,EAA4B,IAA5BA,CApHA/O,EAqHA+O,EAAO,gBAAPA,EAAyB,EAAzBA,EAA6B,UAAUh3C,CAAV,EAAUA;AAAM,iBAAOA,EAAGynD,OAAHznD,EAAP;AAAUynD,SAAvDzQ,EAAuDyQ,CAAc,CAArEzQ,CArHA/O,EAsHA+O,EAAO,oBAAPA,EAA6B,GAA7BA,EAAoCve,EAApCue,EAAoCve,CAAgB,CAApDue,CAtHA/O,EAuHA+O,EAAO,qBAAPA,EAAO,CAAuB,CAA9BA,EAAoC,UAAUh3C,CAAV,EAAc0E,CAAd,EAAcA;AAC3CA,eAAO1E,EAAGkL,OAAHlL,CAAWyU,KAAXzU,CAAiBilD,aAAjBjlD,EAAP0E;AAAwBugD,SAD/BjO,CAvHA/O,EA2HA+O,EAAO,UAAPA,EAAmB,IAAnBA,EAAyB,UAAUh3C,CAAV,EAAc0E,CAAd,EAAcA;AAAO,iBAAO1E,EAAGkL,OAAHlL,CAAWyU,KAAXzU,CAAiBo8C,QAAjBp8C,GAA4B+rB,QAA5B/rB,GAAuC0E,KAAO,EAArD;AAAqD,SAAnGsyC,CA3HA/O,EA4HA+O,EAAO,WAAPA,EAAoB,IAApBA,CA5HA/O,EA6HA+O,EAAO,WAAPA,EAAoB,KAApBA,EAA2B,UAAUh3C,CAAV,EAAc0E,CAAd,EAAcA;AAAO,iBAAO1E,EAAGsF,GAAHtF,CAAOqoC,YAAProC,CAAoB0E,CAApB1E,CAAP;AAA2B0E,SAA3EsyC,EAA2EtyC,CAAS,CAApFsyC,CA7HA/O,EA8HA+O,EAAO,SAAPA,EAAkB,IAAlBA,CA9HA/O;AAm/DF6f,OA5/DA,CA4/Dc7f,EA5/Dd,CAqkDAid,EAhiCA,UAA0Bjd,CAA1B,EAA0BA;AACxB,YAAI+R,IAAiB/R,EAAW+R,cAAhC;AAAA,YAEI+N,IAAU9f,EAAW8f,OAAX9f,GAAqB,EAFnC;AAIAA,UAAWr7C,SAAXq7C,GAAuB;AACrBn4C,uBAAam4C,CADQ;AAErBhgB,iBAAO;AAAWt9B,mBAAOs9B,KAAPt9B,IAAgBoF,KAAKmb,OAALnb,CAAa0kB,KAAb1kB,CAAmBk4B,KAAnBl4B,EAAhBpF;AAAmCs9B,WAFhC;AAIrB+/B,qBAAW,UAAShR,CAAT,EAAiBhrD,CAAjB,EAAiBA;AAC1B,gBAAI6X,IAAU9T,KAAK8T,OAAnB;AAAA,gBAA4BqK,IAAMrK,EAAQmzC,CAARnzC,CAAlC;AACIA,cAAQmzC,CAARnzC,KAAmB7X,CAAnB6X,IAAsC,UAAVmzC,CAA5BnzC,KACJA,EAAQmzC,CAARnzC,IAAkB7X,CAAlB6X,EACIm2C,EAAentD,cAAfmtD,CAA8BhD,CAA9BgD,KACAloB,GAAU/hC,IAAV+hC,EAAgBkoB,EAAehD,CAAfgD,CAAhBloB,EAAwC/hC,IAAxC+hC,EAA8C9lC,CAA9C8lC,EAAqD5jB,CAArD4jB,CAFJjuB,EAGAhE,GAAO9P,IAAP8P,EAAa,cAAbA,EAA6B9P,IAA7B8P,EAAmCm3C,CAAnCn3C,CAJIgE;AAI+BmzC,WAVhB;AAarBzkC,qBAAW,UAASykC,CAAT,EAASA;AAAS,mBAAOjnD,KAAK8T,OAAL9T,CAAainD,CAAbjnD,CAAP;AAAoBinD,WAb5B;AAcrBiR,kBAAQ;AAAY,mBAAOl4D,KAAKuV,GAAZ;AAAYA,WAdX;AAgBrB4iD,qBAAW,UAAS72D,CAAT,EAAcorB,CAAd,EAAcA;AACvB1sB,iBAAKyU,KAALzU,CAAWqlD,OAAXrlD,CAAmB0sB,IAAS,MAATA,GAAkB,SAArC1sB,EAAgDy+C,GAAUn9C,CAAVm9C,CAAhDz+C;AAA0DsB,WAjBvC;AAmBrB82D,wBAAc,UAAS92D,CAAT,EAASA;AAErB,iBADA,IAAIyhB,IAAO/iB,KAAKyU,KAALzU,CAAWqlD,OAAtB,EACSrqD,IAAI,CAAb,EAAgBA,IAAI+nB,EAAK1lB,MAAzB,EAAyBA,EAAUrC,CAAnC,EACI,IAAI+nB,EAAK/nB,CAAL+nB,KAAWzhB,CAAXyhB,IAAkBA,EAAK/nB,CAAL+nB,EAAQxnB,IAARwnB,IAAgBzhB,CAAtC,EAEA,OADAyhB,EAAKjU,MAALiU,CAAY/nB,CAAZ+nB,EAAe,CAAfA,GAAe,CACR,CAAP;AAAO,WAxBQ;AA4BrBs1C,sBAAYr2B,GAAS,UAASpuB,CAAT,EAAeE,CAAf,EAAeA;AAClC,gBAAI3X,IAAOyX,EAAKwI,KAALxI,GAAaA,CAAbA,GAAoBskC,EAAWrkC,OAAXqkC,CAAmBl4C,KAAK8T,OAAxBokC,EAAiCtkC,CAAjCskC,CAA/B;AACA,gBAAI/7C,EAAK2Y,UAAT,EAAuB,MAAM,IAAIhV,KAAJ,CAAU,+BAAV,CAAN;AAAgB,aA/xP7C,UAAsB3C,CAAtB,EAA6BlB,CAA7B,EAAoCq8D,CAApC,EAAoCA;AAElC,mBADA,IAAIpuD,IAAM,CAAV,EAAaquD,IAAWD,EAAMr8D,CAANq8D,CACxB,EAAOpuD,IAAM/M,EAAME,MAAZ6M,IAAsBouD,EAAMn7D,EAAM+M,CAAN/M,CAANm7D,KAAqBC,CAAlD,GAA8DruD;;AAC9D/M,gBAAM2R,MAAN3R,CAAa+M,CAAb/M,EAAkB,CAAlBA,EAAqBlB,CAArBkB;AA6xPIq7D,aAhyPN,CAgyPmBx4D,KAAKyU,KAALzU,CAAWia,QAhyP9B,EAiyPmB;AAAC9d,oBAAMA,CAAP;AAAas8D,wBAAU7kD,CAAvB;AAA6BuG,sBAAQrG,KAAWA,EAAQqG,MAAxD;AACCo+C,wBAAWzkD,KAAWA,EAAQykD,QAAnBzkD,IAAgC;AAD5C,aAjyPnB,EAmyPmB,UAAUkG,CAAV,EAAUA;AAAW,qBAAOA,EAAQu+C,QAAf;AAAeA,aAnyPvD,CA+xP6C,EAKvCv4D,KAAKyU,KAALzU,CAAW4Z,OAAX5Z,EALuC,EAMvCwzB,GAAUxzB,IAAVwzB,CANuC;AAM7BxzB,WARAgiC,CA5BS;AAsCrB02B,yBAAe12B,GAAS,UAASpuB,CAAT,EAASA;AAE/B,iBADA,IAAIqG,IAAWja,KAAKyU,KAALzU,CAAWia,QAA1B,EACSjf,IAAI,CAAb,EAAgBA,IAAIif,EAAS5c,MAA7B,EAA6BA,EAAUrC,CAAvC,EAA0C;AACxC,kBAAI2R,IAAMsN,EAASjf,CAATif,EAAYw+C,QAAtB;AACA,kBAAI9rD,KAAOiH,CAAPjH,IAA8B,mBAARiH,CAAQ,IAAYjH,EAAIpR,IAAJoR,IAAYiH,CAA1D,EAIE,OAHAqG,EAASnL,MAATmL,CAAgBjf,CAAhBif,EAAmB,CAAnBA,GACAja,KAAKyU,KAALzU,CAAW4Z,OAAX5Z,EADAia,EACWL,KACX4Z,GAAUxzB,IAAVwzB,CACA;AADUxzB;AAAAA,WAPDgiC,CAtCM;AAmDrBsiB,sBAAYtiB,GAAS,UAASvlC,CAAT,EAAYmP,CAAZ,EAAiB+gD,CAAjB,EAAiBA;AAClB,+BAAP/gD,CAAO,IAA0B,mBAAPA,CAAnB,KACGA,IAAR,QAAPA,CAAO,GAAc5L,KAAK8T,OAAL9T,CAAauuD,WAAbvuD,GAA2B,OAA3BA,GAAqC,MAAnD,GACE4L,IAAM,KAANA,GAAc,UAFX,GAId+K,GAAO3W,KAAKuV,GAAZoB,EAAiBla,CAAjBka,KAAuB2tC,GAAWtkD,IAAXskD,EAAiB7nD,CAAjB6nD,EAAoB14C,CAApB04C,EAAyBqI,CAAzBrI,CAJT;AAIkCqI,WAL1C3qB,CAnDS;AA0DrB2hB,2BAAiB3hB,GAAS,UAAS0qB,CAAT,EAASA;AAEjC,iBADA,IAAI33B,IAAS/0B,KAAKuV,GAALvV,CAAS80B,GAAT90B,CAAa+0B,MAA1B,EAAkCn1B,KAAO,CAAzC,EACS5E,IAAI,CAAb,EAAgBA,IAAI+5B,EAAO13B,MAA3B,EAAmCrC,GAAnC,EAAwC;AACtC,kBAAIgK,IAAQ+vB,EAAO/5B,CAAP+5B,CAAZ;AACA,kBAAK/vB,EAAMiwB,KAANjwB,EAAL,EASWA,EAAMowB,IAANpwB,CAAW1F,IAAX0F,GAAkBpF,CAAlBoF,KACTs/C,GAAWtkD,IAAXskD,EAAiBt/C,EAAMowB,IAANpwB,CAAW1F,IAA5BglD,EAAkCoI,CAAlCpI,EAAkCoI,CAAK,CAAvCpI,GACA1kD,IAAMoF,EAAMowB,IAANpwB,CAAW1F,IADjBglD,EAEItpD,KAAKgF,KAAKuV,GAALvV,CAAS80B,GAAT90B,CAAag1B,SAAlBh6B,IAA+Bm/B,GAAoBn6B,IAApBm6B,CAH1Bn1B,EATX,KAAoB;AAClB,oBAAIgH,IAAOhH,EAAMgH,IAANhH,EAAX;AAAA,oBAAyBiH,IAAKjH,EAAMiH,EAANjH,EAA9B;AAAA,oBACIrF,IAAQ0K,KAAKmN,GAALnN,CAASzK,CAATyK,EAAc2B,EAAK1M,IAAnB+K,CADZ;AAEAzK,oBAAMyK,KAAKC,GAALD,CAASrK,KAAK+gB,QAAL/gB,EAATqK,EAA0B4B,EAAG3M,IAAH2M,IAAWA,EAAGf,EAAHe,GAAQ,CAARA,GAAY,CAAvBA,CAA1B5B,IAAuD,CAA7DzK;;AACA,qBAAK,IAAIsO,IAAIvO,CAAb,EAAoBuO,IAAItO,CAAxB,EAAwBA,EAAOsO,CAA/B,EACIo2C,GAAWtkD,IAAXskD,EAAiBp2C,CAAjBo2C,EAAoBoI,CAApBpI;;AACJ,oBAAIqU,IAAY34D,KAAKuV,GAALvV,CAAS80B,GAAT90B,CAAa+0B,MAA7B;AACe,qBAAX/oB,EAAKd,EAAM,IAAK6pB,EAAO13B,MAAP03B,IAAiB4jC,EAAUt7D,MAAhC,IAA0Cs7D,EAAU39D,CAAV29D,EAAa3sD,IAAb2sD,GAAoBztD,EAApBytD,GAAyB,CAAnE,IACXtrB,GAAoBrtC,KAAKuV,GAAzB83B,EAA8BryC,CAA9BqyC,EAAiC,IAAI1F,EAAJ,CAAU37B,CAAV,EAAgB2sD,EAAU39D,CAAV29D,EAAa1sD,EAAb0sD,EAAhB,CAAjCtrB,EAAqE1jC,CAArE0jC,CADW;AAC0D1jC;AAAAA;AAAAA,WAZ9Dq4B,CA1DI;AAiFrB42B,sBAAY,UAAS1uD,CAAT,EAAcgR,CAAd,EAAcA;AACxB,mBAAOqB,GAAUvc,IAAVuc,EAAgBrS,CAAhBqS,EAAqBrB,CAArBqB,CAAP;AAA4BrB,WAlFT;AAqFrB29C,yBAAe,UAASv5D,CAAT,EAAe4b,CAAf,EAAeA;AAC5B,mBAAOqB,GAAUvc,IAAVuc,EAAgBvF,GAAI1X,CAAJ0X,CAAhBuF,EAA2BrB,CAA3BqB,EAA2BrB,CAAS,CAApCqB,CAAP;AAA2C,WAtFxB;AAyFrBu8C,0BAAgB,UAAS5uD,CAAT,EAASA;AACvBA,gBAAMuN,GAAQzX,KAAKuV,GAAbkC,EAAkBvN,CAAlBuN,CAANvN;AACA,gBAEIwD,CAFJ;AAAA,gBAAI0M,IAASI,GAAcxa,IAAdwa,EAAoBlF,GAAQtV,KAAKuV,GAAbD,EAAkBpL,EAAI5K,IAAtBgW,CAApBkF,CAAb;AAAA,gBACIhM,IAAS,CADb;AAAA,gBACgBpJ,KAASgV,EAAO/c,MAAP+c,GAAgB,CAAzBhV,IAA8B,CAD9C;AAAA,gBACiD8F,IAAKhB,EAAIgB,EAD1D;AAGA,gBAAU,KAANA,CAAJ,EAAewC,IAAO0M,EAAO,CAAPA,CAAP1M,CAAf,KACO,SAAS;AACd,kBAAIvB,IAAOqC,IAASpJ,CAAToJ,IAAmB,CAA9B;AACA,mBAAKrC,IAAMiO,EAAa,IAANjO,CAAM,GAAI,CAAjBiO,CAANjO,GAA4B,CAAjC,KAAuCjB,CAAvC,EAA6C9F,IAAQ+G,CAAR/G,CAA7C,KACK;AAAA,sBAAIgV,EAAa,IAANjO,CAAM,GAAI,CAAjBiO,IAAsBlP,CAA1B,GACA;AAAEwC,sBAAO0M,EAAa,IAANjO,CAAM,GAAI,CAAjBiO,CAAP1M;AAA4B;AADEc;;AAAAA,oBAASrC,IAAM,CAAfqC;AAAe;AAGtD;AAAA,gBAAIqlB,IAAMnmB,IAAOA,EAAKxQ,OAALwQ,CAAa,UAAbA,CAAPA,GAAoB,CAAe,CAA7C;AACA,mBAAOmmB,IAAM,CAANA,GAAUnmB,CAAVmmB,GAAwB,KAAPA,CAAO,GAAI,IAAJ,GAAWnmB,EAAKrI,KAALqI,CAAW,CAAXA,EAAcmmB,IAAM,CAApBnmB,CAA1C;AAA8D,WAtG3C;AAyGrB8gD,qBAAW,UAAStkD,CAAT,EAASA;AAClB,gBAAI/N,IAAO6D,KAAKuV,GAALvV,CAAS7D,IAApB;AACA,mBAAKA,EAAKyY,SAALzY,GACE+7C,EAAWtjC,SAAXsjC,CAAqB/7C,CAArB+7C,EAA2Bl4C,KAAK44D,UAAL54D,CAAgBkK,CAAhBlK,EAAqByU,KAAhDyjC,EAAuD/7C,IADzDA,GAAyBA,CAA9B;AAA8BA,WA3GX;AA+GrB8zD,qBAAW,UAAS/lD,CAAT,EAAcwD,CAAd,EAAcA;AACvB,mBAAO1N,KAAK+4D,UAAL/4D,CAAgBkK,CAAhBlK,EAAqB0N,CAArB1N,EAA2B,CAA3BA,CAAP;AAAkC,WAhHf;AAmHrB+4D,sBAAY,UAAS7uD,CAAT,EAAcwD,CAAd,EAAcA;AACxB,gBAAIhB,IAAQ,EAAZ;AACA,iBAAKsrD,EAAQl7D,cAARk7D,CAAuBtqD,CAAvBsqD,CAAL,EAAqC,OAAOtrD,CAAP;AACrC,gBAAIssD,IAAOhB,EAAQtqD,CAARsqD,CAAX;AAAA,gBAA0B77D,IAAO6D,KAAKwuD,SAALxuD,CAAekK,CAAflK,CAAjC;AACA,gBAAyB,mBAAd7D,EAAKuR,CAALvR,CAAX,EACM68D,EAAK78D,EAAKuR,CAALvR,CAAL68D,KAAoBtsD,EAAM/J,IAAN+J,CAAWssD,EAAK78D,EAAKuR,CAALvR,CAAL68D,CAAXtsD,CAApBssD,CADN,KAEO,IAAI78D,EAAKuR,CAALvR,CAAJ,EACL,KAAK,IAAInB,IAAI,CAAb,EAAgBA,IAAImB,EAAKuR,CAALvR,EAAWkB,MAA/B,EAAuCrC,GAAvC,EAA4C;AAC1C,kBAAI2Z,IAAMqkD,EAAK78D,EAAKuR,CAALvR,EAAWnB,CAAXmB,CAAL68D,CAAV;AACIrkD,mBAAOjI,EAAM/J,IAAN+J,CAAWiI,CAAXjI,CAAPiI;AAAkBA,aAHnB,MAKIxY,EAAKgY,UAALhY,IAAmB68D,EAAK78D,EAAKgY,UAAV6kD,CAAnB78D,GACTuQ,EAAM/J,IAAN+J,CAAWssD,EAAK78D,EAAKgY,UAAV6kD,CAAXtsD,CADSvQ,GAEA68D,EAAK78D,EAAKZ,IAAVy9D,KACTtsD,EAAM/J,IAAN+J,CAAWssD,EAAK78D,EAAKZ,IAAVy9D,CAAXtsD,CAHSvQ;;AAKX,iBAAK,IAAIqR,IAAM,CAAf,EAAkBA,IAAMwrD,EAAKC,OAALD,CAAa37D,MAArC,EAA6CmQ,GAA7C,EAAoD;AAClD,kBAAIb,IAAMqsD,EAAKC,OAALD,CAAaxrD,CAAbwrD,CAAV;AACIrsD,gBAAIZ,IAAJY,CAASxQ,CAATwQ,EAAe3M,IAAf2M,KAAe3M,CAAqC,CAArCA,IAAS9C,EAAQwP,CAARxP,EAAeyP,EAAIgI,GAAnBzX,CAAxByP,IACAD,EAAM/J,IAAN+J,CAAWC,EAAIgI,GAAfjI,CADAC;AAGN;;AAAA,mBAAOD,CAAP;AAAOA,WAxIY;AA2IrBwsD,yBAAe,UAAS55D,CAAT,EAAe4b,CAAf,EAAeA;AAC5B,gBAAI3F,IAAMvV,KAAKuV,GAAf;AAEA,mBAAOmF,GAAiB1a,IAAjB0a,EAAiB1a,CADxBV,IAAOiY,GAAShC,CAATgC,EAAsB,QAARjY,CAAQ,GAAOiW,EAAIC,KAAJD,GAAYA,EAAIE,IAAhBF,GAAuB,CAA9B,GAAiCjW,CAAvDiY,CACiBvX,IAAa,CAA9B0a,EAAiCQ,CAAjCR,EAA0CjG,KAAjD;AAAiDA,WA9I9B;AAiJrB4b,wBAAc,UAAS1wB,CAAT,EAAgBxD,CAAhB,EAAgBA;AAC5B,gBAAS6I,IAAQhF,KAAKuV,GAALvV,CAAS80B,GAAT90B,CAAa00B,OAAb10B,EAAjB;AAIA,mBAAOqwB,GAAarwB,IAAbqwB,EAHM,QAAT1wB,CAAS,GAAcqF,EAAMowB,IAApB,GACY,mBAATz1B,CAAS,GAAkB8X,GAAQzX,KAAKuV,GAAbkC,EAAkB9X,CAAlB8X,CAAlB,GACZ9X,IAAQqF,EAAMgH,IAANhH,EAARrF,GAAuBqF,EAAMiH,EAANjH,EAC7BqrB,EAAwBl0B,KAAQ,MAAhCk0B,CAAP;AAAuC,WAtJpB;AAyJrBD,sBAAY,UAASlmB,CAAT,EAAc/N,CAAd,EAAcA;AACxB,mBAAOi0B,GAAWpwB,IAAXowB,EAAiB3Y,GAAQzX,KAAKuV,GAAbkC,EAAkBvN,CAAlBuN,CAAjB2Y,EAAyCj0B,KAAQ,MAAjDi0B,CAAP;AAAwD,WA1JrC;AA6JrBW,sBAAY,UAASd,CAAT,EAAiB9zB,CAAjB,EAAiBA;AAE3B,mBAAO40B,GAAW/wB,IAAX+wB,EAAW/wB,CADlBiwB,IAASD,GAAgBhwB,IAAhBgwB,EAAsBC,CAAtBD,EAA8B7zB,KAAQ,MAAtC6zB,CACShwB,EAAauS,IAAxBwe,EAA8Bd,EAAOtD,GAArCoE,CAAP;AAA4CpE,WA/JzB;AAkKrBpW,wBAAc,UAASJ,CAAT,EAAiBha,CAAjB,EAAiBA;AAE7B,mBADAga,IAAS6Z,GAAgBhwB,IAAhBgwB,EAAsB;AAACrD,mBAAKxW,CAAN;AAAc5D,oBAAM;AAApB,aAAtByd,EAA8C7zB,KAAQ,MAAtD6zB,EAA8DrD,GAAvExW,EACOI,GAAavW,KAAKuV,GAAlBgB,EAAuBJ,IAASnW,KAAKmb,OAALnb,CAAa6vB,UAA7CtZ,CAAP;AAAoDsZ,WApKjC;AAsKrB1O,wBAAc,UAAS7hB,CAAT,EAAenD,CAAf,EAAqBwzB,CAArB,EAAqBA;AACjC,gBAAiBvO,CAAjB;AAAA,gBAAIxhB,KAAM,CAAV;;AACA,gBAAmB,mBAARN,CAAX,EAA6B;AAC3B,kBAAIoY,IAAO1X,KAAKuV,GAALvV,CAASwV,KAATxV,GAAiBA,KAAKuV,GAALvV,CAASyV,IAA1BzV,GAAiC,CAA5C;AACIV,kBAAOU,KAAKuV,GAALvV,CAASwV,KAAhBlW,GAAyBA,IAAOU,KAAKuV,GAALvV,CAASwV,KAAzClW,GACKA,IAAOoY,CAAPpY,KAAeA,IAAOoY,CAAPpY,EAAaM,KAAM,CAAlCN,CADLA,EAEJ8hB,IAAU9L,GAAQtV,KAAKuV,GAAbD,EAAkBhW,CAAlBgW,CAFNhW;AAEwBA,aAJ9B,MAME8hB,IAAU9hB,CAAV8hB;;AAEF,mBAAOsO,GAAgB1vB,IAAhB0vB,EAAsBtO,CAAtBsO,EAA+B;AAAC/C,mBAAK,CAAN;AAASpa,oBAAM;AAAf,aAA/Bmd,EAAkDvzB,KAAQ,MAA1DuzB,EAAkEC,KAAkB/vB,CAApF8vB,EAAyF/C,GAAzF+C,IACJ9vB,IAAMI,KAAKuV,GAALvV,CAASmW,MAATnW,GAAkBmhB,GAAaC,CAAbD,CAAxBvhB,GAAgD,CAD5C8vB,CAAP;AACmD,WAjLhC;AAoLrBypC,6BAAmB;AAAa,mBAAO9mC,GAAWryB,KAAKmb,OAAhBkX,CAAP;AAAuBlX,WApLlC;AAqLrBi+C,4BAAkB;AAAa,mBAAOtrC,GAAU9tB,KAAKmb,OAAf2S,CAAP;AAAsB3S,WArLhC;AAuLrBk+C,uBAAa;AAAa,mBAAO;AAACrtD,oBAAMhM,KAAKmb,OAALnb,CAAa4b,QAApB;AAA8B3P,kBAAIjM,KAAKmb,OAALnb,CAAa6b;AAA/C,aAAP;AAAsDA,WAvL3D;AAyLrBy9C,qBAAW,UAASpvD,CAAT,EAAc9K,CAAd,EAAoBwK,CAApB,EAA4BkyB,CAA5B,EAAkCC,CAAlC,EAAkCA;AAC3C,gBApzJkB9rB,CAozJlB;AAAA,gBApzJsB8b,CAozJtB;AAAA,gBAnzJAuV,CAmzJA;AAAA,gBAAInmB,IAAUnb,KAAKmb,OAAnB;AAAA,gBAEIwR,KADJziB,IAAMmmB,GAAarwB,IAAbqwB,EAAmB5Y,GAAQzX,KAAKuV,GAAbkC,EAAkBvN,CAAlBuN,CAAnB4Y,CACF1D,EAAUD,MAFd;AAAA,gBAEsBna,IAAOrI,EAAIqI,IAFjC;AAOA,gBAJAnT,EAAK6G,KAAL7G,CAAWkqB,QAAXlqB,GAAsB,UAAtBA,EACAA,EAAKkH,YAALlH,CAAkB,kBAAlBA,EAAsC,MAAtCA,CADAA,EAEAY,KAAKmb,OAALnb,CAAa0kB,KAAb1kB,CAAmB4kB,aAAnB5kB,CAAiCZ,CAAjCY,CAFAZ,EAGA+b,EAAQ4O,KAAR5O,CAAcrV,WAAdqV,CAA0B/b,CAA1B+b,CAHA/b,EAIY,UAAR08B,CAAJ,EACEnP,IAAMziB,EAAIyiB,GAAVA,CADF,KAEO,IAAY,WAARmP,CAAQ,IAAmB,UAARA,CAAvB,EAAuC;AAC5C,kBAAIy9B,IAASlvD,KAAKmN,GAALnN,CAAS8Q,EAAQwO,OAARxO,CAAgB+P,YAAzB7gB,EAAuCrK,KAAKuV,GAALvV,CAASmW,MAAhD9L,CAAb;AAAA,kBACAmvD,IAASnvD,KAAKmN,GAALnN,CAAS8Q,EAAQ4O,KAAR5O,CAAcyO,WAAvBvf,EAAoC8Q,EAAQ+O,SAAR/O,CAAkByO,WAAtDvf,CADT;AAC+Duf,eAElD,WAARkS,CAAQ,IAAW5xB,EAAIwiB,MAAJxiB,GAAa9K,EAAK4S,YAAlB9H,GAAiCqvD,CAFM3vC,KAEK1f,EAAIyiB,GAAJziB,GAAU9K,EAAK4S,YAFpB4X,GAG3D+C,IAAMziB,EAAIyiB,GAAJziB,GAAU9K,EAAK4S,YAHsC4X,GAItD1f,EAAIwiB,MAAJxiB,GAAa9K,EAAK4S,YAAlB9H,IAAkCqvD,CAAlCrvD,KACLyiB,IAAMziB,EAAIwiB,MADLxiB,CAJsD0f,EAM3DrX,IAAOnT,EAAK6S,WAAZM,GAA0BinD,CAA1BjnD,KACAA,IAAOinD,IAASp6D,EAAK6S,WADrBM,CAN2DqX;AASjExqB;AAAAA,cAAK6G,KAAL7G,CAAWutB,GAAXvtB,GAAiButB,IAAM,IAAvBvtB,EACAA,EAAK6G,KAAL7G,CAAWmT,IAAXnT,GAAkBA,EAAK6G,KAAL7G,CAAWoT,KAAXpT,GAAmB,EADrCA,EAEa,WAAT28B,CAAS,IACXxpB,IAAO4I,EAAQ4O,KAAR5O,CAAcyO,WAAdzO,GAA4B/b,EAAK6S,WAAxCM,EACAnT,EAAK6G,KAAL7G,CAAWoT,KAAXpT,GAAmB,KAFR,KAIE,UAAT28B,CAAS,GAAUxpB,IAAO,CAAjB,GACK,YAATwpB,CAAS,KAAYxpB,KAAQ4I,EAAQ4O,KAAR5O,CAAcyO,WAAdzO,GAA4B/b,EAAK6S,WAAzCM,IAAwD,CAApE,CADL,EAEbnT,EAAK6G,KAAL7G,CAAWmT,IAAXnT,GAAkBmT,IAAO,IANd,CAFbnT,EAUIwK,MAl1JcqG,IAm1JCjQ,IAn1JDiQ,EAAI8b,IAm1JG;AAACxZ,oBAAMA,CAAP;AAAaoa,mBAAKA,CAAlB;AAAuBna,qBAAOD,IAAOnT,EAAK6S,WAA1C;AAAuDya,sBAAQC,IAAMvtB,EAAK4S;AAA1E,aAn1JP/B,EAEK,SADvBqxB,IAAY/H,GAAmBtpB,CAAnBspB,EAAuBxN,CAAvBwN,CACW,EAAb/J,SAAa,IAAQmL,GAAgB1qB,CAAhB0qB,EAAoB2G,EAAU9R,SAA9BmL,CAFb1qB,EAGM,QAAxBqxB,EAAUlS,UAAc,IAAQ8L,GAAcjrB,CAAdirB,EAAkBoG,EAAUlS,UAA5B8L,CA+0J5BtxB,CAVJxK;AAr0J4DgwB,WAunJzC;AA4NrBikC,4BAAkBrxB,GAAS2jB,EAAT3jB,CA5NG;AA6NrBy3B,6BAAmBz3B,GAASgkB,EAAThkB,CA7NE;AA8NrB03B,0BAAgB3T,EA9NK;AA+NrB4T,8BAAoB33B,GAASskB,EAATtkB,CA/NC;AAiOrBkiB,uBAAa,UAAShG,CAAT,EAASA;AACpB,gBAAIgD,GAASpkD,cAATokD,CAAwBhD,CAAxBgD,CAAJ,EACI,OAAOA,GAAShD,CAATgD,EAAc/lD,IAAd+lD,CAAmB,IAAnBA,EAAyBlhD,IAAzBkhD,CAAP;AAAgClhD,WAnOjB;AAsOrBiuD,2BAAiBjsB,GAAS,UAAS7yB,CAAT,EAASA;AAAQ8+C,eAAgBjuD,IAAhBiuD,EAAsB9+C,CAAtB8+C;AAAsB9+C,WAAhD6yB,CAtOI;AAwOrBmtB,oBAAU,UAASnjD,CAAT,EAAe4tD,CAAf,EAAuB1S,CAAvB,EAA6BrH,CAA7B,EAA6BA;AACrC,gBAAIj0C,IAAM,CAAV;AACIguD,gBAAS,CAATA,KAAchuD,KAAO,CAAPA,EAAUguD,KAAUA,CAAlCA;;AAEJ,iBADA,IAAIjtD,IAAM8K,GAAQzX,KAAKuV,GAAbkC,EAAkBzL,CAAlByL,CAAV,EACSzc,IAAI,CAAb,EAAgBA,IAAI4+D,CAAJ5+D,IAAI4+D,EAClBjtD,IAAMwiD,GAASnvD,KAAKuV,GAAd45C,EAAmBxiD,CAAnBwiD,EAAwBvjD,CAAxBujD,EAA6BjI,CAA7BiI,EAAmCtP,CAAnCsP,CADYyK,EAEV1J,OAFV,EAEUA,EAFoBl1D,CAA9B,CAA8BA;;AAI9B,mBAAO2R,CAAP;AAAOA,WAhPY;AAmPrBg2C,iBAAO3gB,GAAS,UAASp2B,CAAT,EAAcs7C,CAAd,EAAcA;AAC5B,gBAAIxU,IAAS1yC,IAAb;AAEAA,iBAAK80C,kBAAL90C,CAAwB,UAAUgF,CAAV,EAAUA;AAChC,qBAAI0tC,EAAOv3B,OAAPu3B,CAAe/Z,KAAf+Z,IAAwBA,EAAOn9B,GAAPm9B,CAAWz1C,MAAnCy1C,IAA6C1tC,EAAMiwB,KAANjwB,EAA7C0tC,GACOyc,GAASzc,EAAOn9B,GAAhB45C,EAAqBnqD,EAAMowB,IAA3B+5B,EAAiCvjD,CAAjCujD,EAAsCjI,CAAtCiI,EAA4Czc,EAAO5+B,OAAP4+B,CAAemnB,eAA3D1K,CADPzc,GAGO9mC,IAAM,CAANA,GAAU5G,EAAMgH,IAANhH,EAAV4G,GAAyB5G,EAAMiH,EAANjH,EAHpC;AAG0CiH,aAJ5CjM,EAKG+J,CALH/J;AAKG+J,WAREi4B,CAnPc;AA8PrBohB,mBAASphB,GAAS,UAASp2B,CAAT,EAAcs7C,CAAd,EAAcA;AAC9B,gBAAIpyB,IAAM90B,KAAKuV,GAALvV,CAAS80B,GAAnB;AAAA,gBAAwBvf,IAAMvV,KAAKuV,GAAnC;AACIuf,cAAI8S,iBAAJ9S,KACAvf,EAAI2/B,gBAAJ3/B,CAAqB,EAArBA,EAAyB,IAAzBA,EAA+B,SAA/BA,CADAuf,GAGAuqB,GAAoBr/C,IAApBq/C,EAA0B,UAAUr6C,CAAV,EAAUA;AACpC,kBAAI0rB,IAAQy+B,GAAS55C,CAAT45C,EAAcnqD,EAAMowB,IAApB+5B,EAA0BvjD,CAA1BujD,EAA+BjI,CAA/BiI,EAA+BjI,CAAM,CAArCiI,CAAZ;AACA,qBAAOvjD,IAAM,CAANA,GAAU;AAACI,sBAAM0kB,CAAP;AAAczkB,oBAAIjH,EAAMowB;AAAxB,eAAVxpB,GAA0C;AAACI,sBAAMhH,EAAMowB,IAAb;AAAmBnpB,oBAAIykB;AAAvB,eAAjD;AAAwEA,aAFxE2uB,CAHAvqB;AAKwEpE,WAPrEsR,CA9PY;AAyQrBmuB,oBAAU,UAASnkD,CAAT,EAAe4tD,CAAf,EAAuB1S,CAAvB,EAA6B4S,CAA7B,EAA6BA;AACrC,gBAAIluD,IAAM,CAAV;AAAA,gBAAawL,IAAI0iD,CAAjB;AACIF,gBAAS,CAATA,KAAchuD,KAAO,CAAPA,EAAUguD,KAAUA,CAAlCA;;AAEJ,iBADA,IAAIjtD,IAAM8K,GAAQzX,KAAKuV,GAAbkC,EAAkBzL,CAAlByL,CAAV,EACSzc,IAAI,CAAb,EAAgBA,IAAI4+D,CAApB,EAAoBA,EAAU5+D,CAA9B,EAAiC;AAC/B,kBAAIi1B,IAASI,GAAarwB,IAAbqwB,EAAmB1jB,CAAnB0jB,EAAwB,KAAxBA,CAAb;AAIA,kBAHS,QAALjZ,CAAK,GAAQA,IAAI6Y,EAAO1d,IAAnB,GACF0d,EAAO1d,IAAP0d,GAAc7Y,CADZ,EACYA,CACrBzK,IAAMwjD,GAASnwD,IAATmwD,EAAelgC,CAAfkgC,EAAuBvkD,CAAvBukD,EAA4BjJ,CAA5BiJ,CADe/4C,EAEb84C,OAAR,EAAmB;AAErB;;AAAA,mBAAOvjD,CAAP;AAAOA,WApRY;AAuRrB21C,iBAAOtgB,GAAS,UAASp2B,CAAT,EAAcs7C,CAAd,EAAcA;AAC5B,gBAAIxU,IAAS1yC,IAAb;AAAA,gBAEIuV,IAAMvV,KAAKuV,GAFf;AAAA,gBAEoBwkD,IAAQ,EAF5B;AAAA,gBAGInyD,KAAY5H,KAAKmb,OAALnb,CAAa24B,KAAzB/wB,IAAyB+wB,CAAUpjB,EAAItY,MAAvC2K,IAAiD2N,EAAIuf,GAAJvf,CAAQqyB,iBAARryB,EAHrD;AAeA,gBAXAA,EAAIu/B,kBAAJv/B,CAAuB,UAAUvQ,CAAV,EAAUA;AAC/B,kBAAI4C,CAAJ,EACI,OAAOgE,IAAM,CAANA,GAAU5G,EAAMgH,IAANhH,EAAV4G,GAAyB5G,EAAMiH,EAANjH,EAAhC;AACJ,kBAAI8wD,IAAUzlC,GAAaqiB,CAAbriB,EAAqBrrB,EAAMowB,IAA3B/E,EAAiC,KAAjCA,CAAd;AACwB,sBAApBrrB,EAAM80D,UAAc,KAAQhE,EAAQvjD,IAARujD,GAAe9wD,EAAM80D,UAA7B,GACxBC,EAAMp3D,IAANo3D,CAAWjE,EAAQvjD,IAAnBwnD,CADwB;;AAExB,kBAAI7vD,IAAMimD,GAASzd,CAATyd,EAAiB2F,CAAjB3F,EAA0BvkD,CAA1BukD,EAA+BjJ,CAA/BiJ,CAAV;;AAGA,qBAFY,UAARjJ,CAAQ,IAAUliD,KAASuQ,EAAIuf,GAAJvf,CAAQmf,OAARnf,EAAnB,IACR0kB,GAAeyY,CAAfzY,EAAuB7J,GAAWsiB,CAAXtiB,EAAmBlmB,CAAnBkmB,EAAwB,KAAxBA,EAA+BzD,GAA/ByD,GAAqC0lC,EAAQnpC,GAApEsN,CADQ,EAEL/vB,CAAP;AAAOA,aATTqL,EAUGxL,CAVHwL,GAWIwkD,EAAM18D,MAAV,EAAoB,KAAK,IAAIrC,IAAI,CAAb,EAAgBA,IAAIua,EAAIuf,GAAJvf,CAAQwf,MAARxf,CAAelY,MAAnC,EAA2CrC,GAA3C,EAChBua,EAAIuf,GAAJvf,CAAQwf,MAARxf,CAAeva,CAAfua,EAAkBukD,UAAlBvkD,GAA+BwkD,EAAM/+D,CAAN++D,CAA/BxkD;AAAqCva,WAjBpCgnC,CAvRc;AA4SrBqnB,sBAAY,UAASn/C,CAAT,EAASA;AACnB,gBAAoB5K,IAAOgW,GAAjBtV,KAAKuV,GAAYD,EAAapL,EAAI5K,IAAjBgW,EAAuBnG,IAAlD;AAAA,gBACIxP,IAAQuK,EAAIgB,EADhB;AAAA,gBACoBtL,IAAMsK,EAAIgB,EAD9B;;AAEA,gBAAI5L,CAAJ,EAAU;AACR,kBAAIgM,IAAStL,KAAKiwD,SAALjwD,CAAekK,CAAflK,EAAoB,WAApBA,CAAb;AACmB,0BAAdkK,EAAIuC,MAAU,IAAY7M,KAAON,EAAKjC,MAAxB,IAAwBA,CAAWsC,CAAnC,GAAmCA,EAA6BC,CAAhE,GAAgEA,EAAlBD,CAA9C;;AAMnB,mBALA,IAAIq6D,IAAY16D,EAAKuM,MAALvM,CAAYK,CAAZL,CAAhB,EACI26D,IAAQ5uD,GAAW2uD,CAAX3uD,EAAsBC,CAAtBD,IACR,UAAUH,CAAV,EAAUA;AAAM,uBAAOG,GAAWH,CAAXG,EAAeC,CAAfD,CAAP;AAAsBC,eAD9BD,GAER,KAAK3N,IAAL,CAAUs8D,CAAV,IAAuB,UAAU9uD,CAAV,EAAUA;AAAM,uBAAO,KAAKxN,IAAL,CAAUwN,CAAV,CAAP;AAAiBA,eAAxD,GACA,UAAUA,CAAV,EAAUA;AAAM,wBAAS,KAAKxN,IAAL,CAAUwN,CAAV,CAAT,IAAmBA,CAAQG,GAAWH,CAAXG,CAA3B;AAAsCH,eAC1D,EAAOvL,IAAQ,CAARA,IAAas6D,EAAM36D,EAAKuM,MAALvM,CAAYK,IAAQ,CAApBL,CAAN26D,CAApB,GAA8C,EAASt6D,CAAT;;AAC9C,qBAAOC,IAAMN,EAAKjC,MAAXuC,IAAqBq6D,EAAM36D,EAAKuM,MAALvM,CAAYM,CAAZN,CAAN26D,CAA5B,GAA8Cr6D,EAAWA,CAAXA;AAEhD;;AAAA,mBAAO,IAAI+nC,EAAJ,CAAU3wB,GAAI9M,EAAI5K,IAAR0X,EAAcrX,CAAdqX,CAAV,EAAgCA,GAAI9M,EAAI5K,IAAR0X,EAAcpX,CAAdoX,CAAhC,CAAP;AAAqDpX,WA1TlC;AA6TrB4kD,2BAAiB,UAASvoD,CAAT,EAASA;AACX,oBAATA,CAAS,IAAQA,KAAS+D,KAAKyU,KAALzU,CAAWqI,SAA5B,KAA4BA,CACrCrI,KAAKyU,KAALzU,CAAWqI,SAAXrI,GAAWqI,CAAarI,KAAKyU,KAALzU,CAAWqI,SADEA,IAErCrB,EAAShH,KAAKmb,OAALnb,CAAa63B,SAAtB7wB,EAAiC,sBAAjCA,CAFqCqB,GAIrCpD,EAAQjF,KAAKmb,OAALnb,CAAa63B,SAArB5yB,EAAgC,sBAAhCA,CAJqCoD,EAMzCyH,GAAO9P,IAAP8P,EAAa,iBAAbA,EAAgC9P,IAAhC8P,EAAsC9P,KAAKyU,KAALzU,CAAWqI,SAAjDyH,CANa;AAMoCzH,WApU9B;AAsUrBs7B,oBAAU;AAAa,mBAAO3jC,KAAKmb,OAALnb,CAAa0kB,KAAb1kB,CAAmBqsD,QAAnBrsD,MAAiC4G,GAAxC;AAAwCA,WAtU1C;AAuUrBiyC,sBAAY;AAAa,sBAAU74C,KAAK8T,OAAL9T,CAAau4B,QAAvB,IAAuBA,CAAYv4B,KAAKuV,GAALvV,CAAS4uC,QAA5C;AAA4CA,WAvUhD;AAyUrBmoB,oBAAU/0B,GAAS,UAAU5qB,CAAV,EAAa4Z,CAAb,EAAaA;AAAKwJ,eAAex6B,IAAfw6B,EAAqBpjB,CAArBojB,EAAwBxJ,CAAxBwJ;AAAwBxJ,WAAnDgR,CAzUW;AA0UrBk4B,yBAAe;AACb,gBAAInvC,IAAW/qB,KAAKmb,OAALnb,CAAa+qB,QAA5B;AACA,mBAAO;AAACxY,oBAAMwY,EAASqE,UAAhB;AAA4BzC,mBAAK5B,EAASyE,SAA1C;AACCrZ,sBAAQ4U,EAASiQ,YAATjQ,GAAwBH,GAAU5qB,IAAV4qB,CAAxBG,GAA0C/qB,KAAKmb,OAALnb,CAAamrB,SADhE;AAECjC,qBAAO6B,EAASqQ,WAATrQ,GAAuBH,GAAU5qB,IAAV4qB,CAAvBG,GAAyC/qB,KAAKmb,OAALnb,CAAagrB,QAF9D;AAGCE,4BAAcD,GAAcjrB,IAAdirB,CAHf;AAGoCrB,2BAAakB,GAAa9qB,IAAb8qB;AAHjD,aAAP;AAGqE9qB,WA/UlD;AAkVrBihC,0BAAgBe,GAAS,UAASh9B,CAAT,EAAgBs1B,CAAhB,EAAgBA;AAC1B,oBAATt1B,CAAS,IACXA,IAAQ;AAACgH,oBAAMhM,KAAKuV,GAALvV,CAAS80B,GAAT90B,CAAa00B,OAAb10B,GAAuBo1B,IAA9B;AAAoCnpB,kBAAI;AAAxC,aAARjH,EACc,QAAVs1B,CAAU,KAAQA,IAASt6B,KAAK8T,OAAL9T,CAAau6B,kBAA9B,CAFH,IAGc,mBAATv1B,CAAS,GACzBA,IAAQ;AAACgH,oBAAMgL,GAAIhS,CAAJgS,EAAW,CAAXA,CAAP;AAAsB/K,kBAAI;AAA1B,aADiB,GAEF,QAAdjH,EAAMgH,IAAQ,KACvBhH,IAAQ;AAACgH,oBAAMhH,CAAP;AAAciH,kBAAI;AAAlB,aADe,CALZ,EAQRjH,EAAMiH,EAANjH,KAAYA,EAAMiH,EAANjH,GAAWA,EAAMgH,IAA7BhH,CARQ,EASbA,EAAMs1B,MAANt1B,GAAes1B,KAAU,CATZ,EAWU,QAAnBt1B,EAAMgH,IAANhH,CAAW1F,IAAQ,GA55J7B,UAAuB2Q,CAAvB,EAA2BjL,CAA3B,EAA2BA;AACzBk1B,iBAAmBjqB,CAAnBiqB,GACAjqB,EAAGQ,KAAHR,CAASoqB,WAATpqB,GAAuBjL,CADvBk1B;AA45JMigC,aA75JR,CA65JsBn6D,IA75JtB,EA65J4BgF,CA75J5B,CA45J6B,GAGrBy1B,GAAoBz6B,IAApBy6B,EAA0Bz1B,EAAMgH,IAAhCyuB,EAAsCz1B,EAAMiH,EAA5CwuB,EAAgDz1B,EAAMs1B,MAAtDG,CAdW;AAc2CH,WAf1C0H,CAlVK;AAqWrBoY,mBAASpY,GAAS,UAAS9Y,CAAT,EAAgB/S,CAAhB,EAAgBA;AAChC,gBAAIu8B,IAAS1yC,IAAb;AAAA,gBAEIo6D,IAAY,UAAUzlD,CAAV,EAAUA;AAAO,qBAAqB,mBAAPA,CAAO,IAAY,QAAQjX,IAAR,CAAamZ,OAAOlC,CAAPkC,CAAb,CAAZ,GAAwClC,IAAM,IAA9C,GAAqDA,CAA1E;AAA0EA,aAF3G;;AAGa,oBAATuU,CAAS,KAAQlpB,KAAKmb,OAALnb,CAAa2pB,OAAb3pB,CAAqBiG,KAArBjG,CAA2BkpB,KAA3BlpB,GAAmCo6D,EAAUlxC,CAAVkxC,CAA3C,GACC,QAAVjkD,CAAU,KAAQnW,KAAKmb,OAALnb,CAAa2pB,OAAb3pB,CAAqBiG,KAArBjG,CAA2BmW,MAA3BnW,GAAoCo6D,EAAUjkD,CAAVikD,CAA5C,CADD,EAETp6D,KAAK8T,OAAL9T,CAAaosB,YAAbpsB,IAA6B2uB,GAA0B3uB,IAA1B2uB,CAFpB;AAGb,gBAAItY,IAASrW,KAAKmb,OAALnb,CAAa4b,QAA1B;AACA5b,iBAAKuV,GAALvV,CAASgW,IAAThW,CAAcqW,CAAdrW,EAAsBA,KAAKmb,OAALnb,CAAa6b,MAAnC7b,EAA2C,UAAUV,CAAV,EAAUA;AACnD,kBAAIA,EAAKspB,OAAT,EAAoB,KAAK,IAAI5tB,IAAI,CAAb,EAAgBA,IAAIsE,EAAKspB,OAALtpB,CAAajC,MAAjC,EAAyCrC,GAAzC,EAChB,IAAIsE,EAAKspB,OAALtpB,CAAatE,CAAbsE,EAAgB2pB,SAApB,EAA+B;AAAEiL,mBAAcwe,CAAdxe,EAAsB7d,CAAtB6d,EAA8B,QAA9BA;AAAyC;AAAA;AAAA,gBAC5E7d,CAD4E;AAC5EA,aAHJrW,GAKAA,KAAKyQ,KAALzQ,CAAW4rB,WAAX5rB,GAAW4rB,CAAc,CALzB5rB,EAMA8P,GAAO9P,IAAP8P,EAAa,SAAbA,EAAwB9P,IAAxB8P,CANA9P;AAMwBA,WAdjBgiC,CArWY;AAsXrBD,qBAAW,UAAS95B,CAAT,EAASA;AAAG,mBAAO65B,GAAQ9hC,IAAR8hC,EAAc75B,CAAd65B,CAAP;AAAqB75B,WAtXvB;AAuXrBs2B,0BAAgB;AAAW,mBAAOA,GAAev+B,IAAfu+B,CAAP;AAAsBv+B,WAvX5B;AAwXrBi/B,wBAAc;AAAW,mBAAOA,GAAaj/B,IAAbi/B,CAAP;AAAoBj/B,WAxXxB;AA0XrB03D,mBAAS11B,GAAS;AAChB,gBAAI+P,IAAY/xC,KAAKmb,OAALnb,CAAa+uB,gBAA7B;AACAyE,eAAUxzB,IAAVwzB,GACAxzB,KAAKyQ,KAALzQ,CAAW4rB,WAAX5rB,GAAW4rB,CAAc,CADzB4H,EAEA3E,GAAY7uB,IAAZ6uB,CAFA2E,EAGAgH,GAAex6B,IAAfw6B,EAAqBx6B,KAAKuV,GAALvV,CAASovB,UAA9BoL,EAA0Cx6B,KAAKuV,GAALvV,CAASwvB,SAAnDgL,CAHAhH,EAIAuR,GAAkB/kC,KAAKmb,OAAvB4pB,CAJAvR,EAIuBrY,CACN,QAAb42B,CAAa,IAAQ1nC,KAAKoiB,GAALpiB,CAAS0nC,IAAY1f,GAAWryB,KAAKmb,OAAhBkX,CAArBhoB,IAAiD,EADnD8Q,KAEnB0X,GAAoB7yB,IAApB6yB,CANJW,EAOA1jB,GAAO9P,IAAP8P,EAAa,SAAbA,EAAwB9P,IAAxB8P,CAPA0jB;AAOwBxzB,WATjBgiC,CA1XY;AAsYrBq4B,mBAASr4B,GAAS,UAASzsB,CAAT,EAASA;AACzB,gBAAI4I,IAAMne,KAAKuV,GAAf;AAUA,mBATA4I,EAAIlO,EAAJkO,GAAS,IAATA,EAEIne,KAAKyU,KAALzU,CAAW6mD,aAAX7mD,IAA4BA,KAAKyU,KAALzU,CAAW6mD,aAAX7mD,EAFhCme,EAGA+rB,GAAUlqC,IAAVkqC,EAAgB30B,CAAhB20B,CAHA/rB,EAIA0Q,GAAY7uB,IAAZ6uB,CAJA1Q,EAKAne,KAAKmb,OAALnb,CAAa0kB,KAAb1kB,CAAmBy4B,KAAnBz4B,EALAme,EAMAqc,GAAex6B,IAAfw6B,EAAqBjlB,EAAI6Z,UAAzBoL,EAAqCjlB,EAAIia,SAAzCgL,CANArc,EAOAne,KAAKyQ,KAALzQ,CAAW+6B,WAAX/6B,GAAW+6B,CAAc,CAPzB5c,EAQA4H,GAAY/lB,IAAZ+lB,EAAkB,SAAlBA,EAA6B/lB,IAA7B+lB,EAAmC5H,CAAnC4H,CARA5H,EASOA,CAAP;AAAOA,WAXA6jB,CAtYY;AAoZrBs4B,kBAAQ,UAASC,CAAT,EAASA;AACf,gBAAIC,IAAUx6D,KAAK8T,OAAL9T,CAAaw6D,OAA3B;AACA,mBAAOA,KAAW9+D,OAAOmB,SAAPnB,CAAiBoB,cAAjBpB,CAAgCP,IAAhCO,CAAqC8+D,CAArC9+D,EAA8C6+D,CAA9C7+D,CAAX8+D,GAAuEA,EAAQD,CAARC,CAAvEA,GAA6FD,CAApG;AAAoGA,WAtZjF;AAyZrB5C,yBAAe;AAAW,mBAAO33D,KAAKmb,OAALnb,CAAa0kB,KAAb1kB,CAAmBqsD,QAAnBrsD,EAAP;AAA0BqsD,WAzZ/B;AA0ZrBoO,6BAAmB;AAAW,mBAAOz6D,KAAKmb,OAALnb,CAAa2pB,OAApB;AAAoBA,WA1Z7B;AA2ZrB+wC,8BAAoB;AAAW,mBAAO16D,KAAKmb,OAALnb,CAAa+qB,QAApB;AAAoBA,WA3Z9B;AA4ZrB4vC,4BAAkB;AAAW,mBAAO36D,KAAKmb,OAALnb,CAAa0pB,OAApB;AAAoBA;AA5Z5B,SAAvBwuB,EA8ZAtnC,GAAWsnC,CAAXtnC,CA9ZAsnC,EAgaAA,EAAW0iB,cAAX1iB,GAA4B,UAASxqC,CAAT,EAAenS,CAAf,EAAqBU,CAArB,EAAqBA;AAC1C+7D,YAAQl7D,cAARk7D,CAAuBtqD,CAAvBsqD,MAAgCA,EAAQtqD,CAARsqD,IAAgB9f,EAAWxqC,CAAXwqC,IAAmB;AAAC+gB,qBAAS;AAAV,WAAnEjB,GACLA,EAAQtqD,CAARsqD,EAAcz8D,CAAdy8D,IAAsB/7D,CADjB+7D;AACiB/7D,SAlaxBi8C,EAoaAA,EAAW2iB,oBAAX3iB,GAAkC,UAASxqC,CAAT,EAAenS,CAAf,EAAqBu/D,CAArB,EAAgC7+D,CAAhC,EAAgCA;AAChEi8C,YAAW0iB,cAAX1iB,CAA0BxqC,CAA1BwqC,EAAgC38C,CAAhC28C,EAAsCj8C,CAAtCi8C,GACA8f,EAAQtqD,CAARsqD,EAAciB,OAAdjB,CAAsBr1D,IAAtBq1D,CAA2B;AAACjsD,kBAAM+uD,CAAP;AAAkBnmD,iBAAK1Y;AAAvB,WAA3B+7D,CADA9f;AACkDj8C,SAtapDi8C;AAo9CF6iB,OAz9CA,CAy9CiB7iB,EAz9CjB,CAgiCAid;AA4bA,UAAI6F,KAAe,gDAAgD3zD,KAAhD,CAAsD,GAAtD,CAAnB;;AACA,WAAK,IAAIiB,EAAT,IAAiB2rC,GAAIp3C,SAArB,EAAsCo3C,GAAIp3C,SAAJo3C,CAAcn3C,cAAdm3C,CAA6B3rC,EAA7B2rC,KAAsC/2C,EAAQ89D,EAAR99D,EAAsBoL,EAAtBpL,IAA8B,CAApE+2C,KAClCiE,GAAWr7C,SAAXq7C,CAAqB5vC,EAArB4vC,IAA6B,UAAU+iB,CAAV,EAAUA;AACvC,eAAO;AAAY,iBAAOA,EAAO9yD,KAAP8yD,CAAaj7D,KAAKuV,GAAlB0lD,EAAuBp8D,SAAvBo8D,CAAP;AAA8Bp8D,SAAjD;AAD6B,QAE5Bo1C,GAAIp3C,SAAJo3C,CAAc3rC,EAAd2rC,CAF4B,CADKA;;AAqCtC,aAhCArjC,GAAWqjC,EAAXrjC,GACAsnC,GAAWyS,WAAXzS,GAAyB;AAACqd,kBAAYJ,EAAb;AAA4B+F,yBAAmB5K;AAA/C,OADzB1/C,EAMAsnC,GAAWzkC,UAAXykC,GAAwB,UAAS38C,CAAT,EAASA;AAC1B28C,WAAW8R,QAAX9R,CAAoB/7C,IAApB+7C,IAAoC,UAAR38C,CAA5B28C,KAA8CA,GAAW8R,QAAX9R,CAAoB/7C,IAApB+7C,GAA2B38C,CAAzE28C,GACLzkC,GAAWtL,KAAXsL,CAAiBzT,IAAjByT,EAAuB5U,SAAvB4U,CADKykC;AACkBr5C,OARzB+R,EAWAsnC,GAAWijB,UAAXjjB,GA/wRA,UAAoBkjB,CAApB,EAA0BxnD,CAA1B,EAA0BA;AACxBJ,WAAU4nD,CAAV5nD,IAAkBI,CAAlBJ;AAAkBI,OAmwRpBhD,EAcAsnC,GAAWzkC,UAAXykC,CAAsB,MAAtBA,EAA8B;AAAc,eAAO;AAAE97B,iBAAO,UAAUJ,CAAV,EAAUA;AAAU,mBAAOA,EAAO3D,SAAP2D,EAAP;AAAc3D;AAA3C,SAAP;AAAkDA,OAA9F6/B,CAdAtnC,EAeAsnC,GAAWijB,UAAXjjB,CAAsB,YAAtBA,EAAoC,MAApCA,CAfAtnC,EAmBAsnC,GAAWmjB,eAAXnjB,GAA6B,UAAU38C,CAAV,EAAgB+/D,CAAhB,EAAgBA;AAC3CpjB,WAAWr7C,SAAXq7C,CAAqB38C,CAArB28C,IAA6BojB,CAA7BpjB;AAA6BojB,OApB/B1qD,EAsBAsnC,GAAWqjB,kBAAXrjB,GAAgC,UAAU38C,CAAV,EAAgB+/D,CAAhB,EAAgBA;AAC9CrnB,WAAIp3C,SAAJo3C,CAAc14C,CAAd04C,IAAsBqnB,CAAtBrnB;AAAsBqnB,OAvBxB1qD,EA0BAsnC,GAAWsjB,YAAXtjB,GA5IA,UAAsBqd,CAAtB,EAAgCzhD,CAAhC,EAAgCA;AAS9B,aARAA,IAAUA,IAAU1L,EAAQ0L,CAAR1L,CAAV0L,GAA6B,EAQvC,EAPQ7X,KAOR,GAPgBs5D,EAASt5D,KAOzB,EAPyBA,CACpB6X,EAAQ2nD,QADYx/D,IACAs5D,EAASv5B,QADT//B,KAErB6X,EAAQ2nD,QAAR3nD,GAAmByhD,EAASv5B,QAFP//B,CAOzB,EALgC+/B,CAC3BloB,EAAQ4nD,WADmB1/B,IACJu5B,EAASmG,WADL1/B,KAE5BloB,EAAQ4nD,WAAR5nD,GAAsByhD,EAASmG,WAFH1/B,CAKhC,EAAyB,QAArBloB,EAAQi3C,SAAZ,EAA+B;AAC7B,cAAIpnB,IAAW/8B,GAAf;AACAkN,YAAQi3C,SAARj3C,GAAoB6vB,KAAY4xB,CAAZ5xB,IACoB,QAAtC4xB,EAASzrC,YAATyrC,CAAsB,WAAtBA,CAAsC,IAAQ5xB,KAAYngC,SAASsD,IADrEgN;AAIF;;AAAA,iBAASgH,CAAT,GAASA;AAAQy6C,YAASt5D,KAATs5D,GAAiBtlD,EAAGmkC,QAAHnkC,EAAjBslD;AAEjB;;AAAA,YAAIoG,CAAJ;;AACA,YAAIpG,EAASqG,IAATrG,KACFlmD,GAAGkmD,EAASqG,IAAZvsD,EAAkB,QAAlBA,EAA4ByL,CAA5BzL,GAA4ByL,CAEvBhH,EAAQ+nD,sBAHXtG,CAAJ,EAGuC;AACnC,cAAIqG,IAAOrG,EAASqG,IAApB;AACAD,cAAaC,EAAKE,MAAlBH;;AACA;AACE,gBAAII,IAAgBH,EAAKE,MAALF,GAAc;AAChC9gD,mBACA8gD,EAAKE,MAALF,GAAcD,CADd7gD,EAEA8gD,EAAKE,MAALF,EAFA9gD,EAGA8gD,EAAKE,MAALF,GAAcG,CAHdjhD;AAGcihD,aAJhB;AAMA,WAPF,CAOE,OAAM56D,CAAN,EAAMA;AAIZ2S;;AAAAA,UAAQy4C,UAARz4C,GAAqB,UAAU7D,CAAV,EAAUA;AAC7BA,YAAG6K,IAAH7K,GAAU6K,CAAV7K,EACAA,EAAG+rD,WAAH/rD,GAAiB;AAAc,mBAAOslD,CAAP;AAAOA,WADtCtlD,EAEAA,EAAGgsD,UAAHhsD,GAAgB;AACdA,cAAGgsD,UAAHhsD,GAAgB0a,KAAhB1a,EACA6K,GADA7K,EAEAslD,EAAS7uD,UAAT6uD,CAAoB7vD,WAApB6vD,CAAgCtlD,EAAGwqD,iBAAHxqD,EAAhCslD,CAFAtlD,EAGAslD,EAAStvD,KAATsvD,CAAep6C,OAAfo6C,GAAyB,EAHzBtlD,EAIIslD,EAASqG,IAATrG,KACF5lD,GAAI4lD,EAASqG,IAAbjsD,EAAmB,QAAnBA,EAA6BmL,CAA7BnL,GACKmE,EAAQ+nD,sBAAR/nD,IAAiE,qBAAxByhD,EAASqG,IAATrG,CAAcuG,MAAvDhoD,KACDyhD,EAASqG,IAATrG,CAAcuG,MAAdvG,GAAuBoG,CADtB7nD,CAFHyhD,CAJJtlD;AAO6B0rD,WAV/B1rD;AAU+B0rD,SAXjC7nD,EAgBAyhD,EAAStvD,KAATsvD,CAAep6C,OAAfo6C,GAAyB,MAhBzBzhD;AAiBA,YAAI7D,IAAKioC,GAAW,UAAU94C,CAAV,EAAUA;AAAQ,iBAAOm2D,EAAS7uD,UAAT6uD,CAAoBruC,YAApBquC,CAAiCn2D,CAAjCm2D,EAAuCA,EAAShtC,WAAhDgtC,CAAP;AAAuDhtC,SAApF2vB,EACPpkC,CADOokC,CAAT;AAEA,eAAOjoC,CAAP;AAAOA,OA4DTW,EAzDA,UAAwBsnC,CAAxB,EAAwBA;AACtBA,UAAWvoC,GAAXuoC,GAAiBvoC,EAAjBuoC,EACAA,EAAW7oC,EAAX6oC,GAAgB7oC,EADhB6oC,EAEAA,EAAWrR,gBAAXqR,GAA8BrR,EAF9BqR,EAGAA,EAAWjE,GAAXiE,GAAiBjE,EAHjBiE,EAIAA,EAAWjH,UAAXiH,GAAwBzlC,EAJxBylC,EAKAA,EAAW3vC,WAAX2vC,GAAyB3vC,CALzB2vC,EAMAA,EAAWluC,UAAXkuC,GAAwBluC,CANxBkuC,EAOAA,EAAW7sC,UAAX6sC,GAAwBjtC,CAPxBitC,EAQAA,EAAWxuC,IAAXwuC,GAAkBxuC,CARlBwuC,EASAA,EAAWpoC,MAAXooC,GAAoBpoC,EATpBooC,EAUAA,EAAWv2B,IAAXu2B,GAAkBv2B,EAVlBu2B,EAWAA,EAAW9P,SAAX8P,GAAuB9P,EAXvB8P,EAYAA,EAAWla,cAAXka,GAA4Bla,EAZ5Bka,EAaAA,EAAWlhC,GAAXkhC,GAAiBlhC,EAbjBkhC,EAcAA,EAAWgkB,MAAXhkB,GAAoBjhC,EAdpBihC,EAeAA,EAAW3kC,KAAX2kC,GAAmB3kC,EAfnB2kC,EAgBAA,EAAW1kC,SAAX0kC,GAAuB1kC,EAhBvB0kC,EAiBAA,EAAWvkC,WAAXukC,GAAyBvkC,EAjBzBukC,EAkBAA,EAAWrkC,OAAXqkC,GAAqBrkC,EAlBrBqkC,EAmBAA,EAAWjkC,cAAXikC,GAA4BjkC,EAnB5BikC,EAoBAA,EAAW5jC,UAAX4jC,GAAwB5jC,EApBxB4jC,EAqBAA,EAAW1jC,SAAX0jC,GAAuB1jC,EArBvB0jC,EAsBAA,EAAWpjC,UAAXojC,GAAwBpjC,EAtBxBojC,EAuBAA,EAAWtjC,SAAXsjC,GAAuBtjC,EAvBvBsjC,EAwBAA,EAAWgJ,QAAXhJ,GAAsBgJ,EAxBtBhJ,EAyBAA,EAAW4F,MAAX5F,GAAoB4F,EAzBpB5F,EA0BAA,EAAWgH,OAAXhH,GAAqBgH,EA1BrBhH,EA2BAA,EAAWyG,aAAXzG,GAA2ByG,EA3B3BzG,EA4BAA,EAAWsG,SAAXtG,GAAuBsG,EA5BvBtG,EA6BAA,EAAWkG,eAAXlG,GAA6BkG,EA7B7BlG,EA8BAA,EAAWjjC,YAAXijC,GAA0BjjC,EA9B1BijC,EA+BAA,EAAWjF,gBAAXiF,GAA8BjF,EA/B9BiF,EAgCAA,EAAWrF,UAAXqF,GAAwBrF,EAhCxBqF,EAiCAA,EAAW3F,UAAX2F,GAAwB3F,EAjCxB2F,EAkCAA,EAAWpnC,gBAAXonC,GAA8BpnC,EAlC9BonC,EAmCAA,EAAWlnC,iBAAXknC,GAA+BlnC,EAnC/BknC,EAoCAA,EAAW/mC,MAAX+mC,GAAoB/mC,EApCpB+mC,EAqCAA,EAAWlxC,QAAXkxC,GAAsBlxC,CArCtBkxC,EAsCAA,EAAW3xC,QAAX2xC,GAAsB3xC,CAtCtB2xC,EAuCAA,EAAWjzC,OAAXizC,GAAqBjzC,CAvCrBizC,EAwCAA,EAAWmC,QAAXnC,GAAsBmC,EAxCtBnC;AAoFFikB,OArFA,CAqFejkB,EArFf,CAyDAtnC,EA8BAsnC,GAAWkkB,OAAXlkB,GAAqB,QA9BrBtnC,EAgCOsnC,EAAP;AA1+SgF59C,KAG1E,EAHyDE;AAAiBF,G;;;KCVlF;AAAAwB;AAAA;AAAA;AAAA;AAAA;;AAAA,UAuJMugE,CAvJN;AAAA,UA4NMC,CA5NN;AAAA,UAwUMC,CAxUN;AAAA;AAAA;AAAA,UAGIC,IAAI,EAHR;AAAA,UAOWC,IAAWD,EAAEC,OAAFD,GAsBpB,UAAiB59D,CAAjB,EAAiBA;AACf,YACErC,CADF;AAAA,YAAImgE,IAAM,EAAV;;AAGA,aAAKngE,CAAL,IAAYqC,CAAZ,EAAiB89D,EAAI/5D,IAAJ+5D,CAASngE,CAATmgE;;AAEjB,eAAOA,CAAP;AAAOA,OAnCX;AAAA,UA2CWC,IAAQH,EAAEG,IAAFH,GAajB,cAxDF;AAAA,UA+DWI,IAAWJ,EAAEI,OAAFJ,GAmBpB,UAAiB7nD,CAAjB,EAAiBA;AACf,oBAAe,CAAf,KAAOA,CAAP;AAAOA,OAnFX;AAAA,UA2FWkoD,IAAcL,EAAEK,UAAFL,GAavB,UAAiBM,CAAjB,EAAqBC,CAArB,EAA0BC,CAA1B,EAA0BA;AACxB,YAAIJ,EAAQG,CAARH,CAAJ,EAAkB,OAAOE,CAAP;;AAElB,gBAAoB,QAAZE,CAAY,GAAO,CAAP,GAAWA,CAA/B;AACE,eAAK,CAAL;AACE,mBAAO,UAASroD,CAAT,EAASA;AACd,qBAAOmoD,EAAG3hE,IAAH2hE,CAAQC,CAARD,EAAanoD,CAAbmoD,CAAP;AAAoBnoD,aADtB;;AAGF,eAAK,CAAL;AACE,mBAAO,UAASA,CAAT,EAAc1U,CAAd,EAAmBg9D,CAAnB,EAAmBA;AACxB,qBAAOH,EAAG3hE,IAAH2hE,CAAQC,CAARD,EAAanoD,CAAbmoD,EAAkB78D,CAAlB68D,EAAuBG,CAAvBH,CAAP;AAA8BG,aADhC;;AAGF,eAAK,CAAL;AACE,mBAAO,UAASC,CAAT,EAAsBvoD,CAAtB,EAA2B1U,CAA3B,EAAgCg9D,CAAhC,EAAgCA;AACrC,qBAAOH,EAAG3hE,IAAH2hE,CAAQC,CAARD,EAAaI,CAAbJ,EAA0BnoD,CAA1BmoD,EAA+B78D,CAA/B68D,EAAoCG,CAApCH,CAAP;AAA2CG,aAD7C;AAVJ;;AAeA,eAAO;AACL,iBAAOH,EAAG30D,KAAH20D,CAASC,CAATD,EAAcj+D,SAAdi+D,CAAP;AAAqBj+D,SADvB;AACuBA,OA3H3B;AAAA,UAoIWs+D,IAAOX,EAAEW,GAAFX,IAmBZH,IAAa3gE,OAAOmB,SAAPnB,CAAiBoB,cAA9Bu/D,EAEJ,UAAiBz9D,CAAjB,EAAsBrC,CAAtB,EAAsBA;AACpB,eAAO8/D,EAAWlhE,IAAXkhE,CAAgBz9D,CAAhBy9D,EAAqB9/D,CAArB8/D,CAAP;AAA4B9/D,OAtBdigE,CApIlB;AAAA,UAkKWje,IAAQie,EAAEje,IAAFie,GAuBf9gE,OAAO6iD,IAAP7iD,IACA,UAASkD,CAAT,EAASA;AACP,YACErC,CADF;AAAA,YAAImgE,IAAM,EAAV;;AAGA,aAAKngE,CAAL,IAAYqC,CAAZ,EACMu+D,EAAIv+D,CAAJu+D,EAAS5gE,CAAT4gE,KAAeT,EAAI/5D,IAAJ+5D,CAASngE,CAATmgE,CAAfS;;AAGN,eAAOT,CAAP;AAAOA,OAlMb;AAAA,UA0MWU,IAAYZ,EAAEY,QAAFZ,IAkBjBF,IAAW5gE,OAAOmB,SAAPnB,CAAiBoD,QAA5Bw9D,EAEJ,UAAiB3nD,CAAjB,EAAiBA;AACf,eAAO2nD,EAASnhE,IAATmhE,CAAc3nD,CAAd2nD,CAAP;AAAqB3nD,OArBF6nD,CA1MvB;AAAA,UAuOWa,IAAQb,EAAEa,IAAFb,GAyBjB,UAAiB7nD,CAAjB,EAAiBA;AACf,YAAI2oD,IAASF,EAASzoD,CAATyoD,CAAb;AAEA,eACa,wBAAXE,CAAW,IAAkC,iCAAXA,CADpC;AACoCA,OApQxC;AAAA,UA6QWC,IAASf,EAAEe,KAAFf,GAwBlB,UAAiB7nD,CAAjB,EAAiBA;AACf,eAAyB,sBAAlByoD,EAASzoD,CAATyoD,CAAP;AAAgBzoD,OAtSpB;AAAA,UA8SW6oD,IAAahB,EAAEgB,SAAFhB,IA0BlBD,IAAclyD,KAAKozD,GAALpzD,CAAS,CAATA,EAAY,EAAZA,IAAkB,CAAhCkyD,EAEJ,UAAiB5nD,CAAjB,EAAiBA;AACf,aAAKA,CAAL,EAAU,QAAO,CAAP;AAEV,YAAIvX,IAAMuX,EAAItX,MAAd;AAEA,eAAOkgE,EAAMngE,CAANmgE,KAAcngE,KAAO,CAArBmgE,IAA0BngE,KAAOm/D,CAAjCgB,IAAiChB,CAAgBc,EAAK1oD,CAAL0oD,CAAxD;AAA6D1oD,OAjCzC6nD,CA9SxB;AAAA,UAuVWkB,IAAQlB,EAAEkB,IAAFlB,GAuBjB,UAAiB59D,CAAjB,EAAsB++D,CAAtB,EAAgCZ,CAAhC,EAAgCA;AAG9B,YAAI/hE,CAAJ,EAAOoC,CAAP;AAEA,YAJAugE,IAAWd,EAAWc,CAAXd,EAAqBE,CAArBF,CAAXc,EAIIH,EAAU5+D,CAAV4+D,CAAJ,EACE,KAAKxiE,IAAI,CAAJA,EAAOoC,IAAMwB,EAAIvB,MAAtB,EAA8BrC,IAAIoC,CAAlC,EAAuCpC,GAAvC,EAA4C2iE,EAAS/+D,EAAI5D,CAAJ4D,CAAT++D,EAAiB3iE,CAAjB2iE,EAAoB/+D,CAApB++D,EAD9C,KAEO;AACL,cAAIC,IAAQrf,EAAK3/C,CAAL2/C,CAAZ;;AACA,eAAKvjD,IAAI,CAAJA,EAAOoC,IAAMwgE,EAAMvgE,MAAxB,EAAgCrC,IAAIoC,CAApC,EAAyCpC,GAAzC,EACE2iE,EAAS/+D,EAAIg/D,EAAM5iE,CAAN4iE,CAAJh/D,CAAT++D,EAAwBC,EAAM5iE,CAAN4iE,CAAxBD,EAAkC/+D,CAAlC++D;AAIJ;AAAA,eAAO/+D,CAAP;AAAOA,OA5XX;AAAA,UAoYWi/D,IAAkBrB,EAAEqB,cAAFrB,GAmB3B,UAAiBsB,CAAjB,EAAyB9T,CAAzB,EAAyBA;AACvB,eAAO,UAASprD,CAAT,EAASA;AAWd,iBAVA8+D,EAAK7+D,SAAL6+D,EAAgB,UAASzR,CAAT,EAAchsD,CAAd,EAAcA;AAC5B,gBAAY,MAARA,CAAJ;AAEA,kBAAIs+C,IAAOuf,EAAO7R,CAAP6R,CAAX;AAEAJ,gBAAKnf,CAALmf,EAAW,UAASnhE,CAAT,EAASA;AACbytD,sBAAY4S,EAAQh+D,EAAIrC,CAAJqC,CAARg+D,CAAZ5S,KAA+BprD,EAAIrC,CAAJqC,IAAWqtD,EAAI1vD,CAAJ0vD,CAA1CjC;AAA8CztD,eADrDmhE;AACqDnhE;AAAAA,WANvDmhE,GAUO9+D,CAAP;AAAOA,SAXT;AAWSA,OAnab;AAAA,UA4aW3B,IAAUu/D,EAAEv/D,MAAFu/D,GAuBTqB,EAAepB,CAAfoB,CAncZ;AAAA,UA0cWxhD,IAAQmgD,EAAEngD,IAAFmgD,GAyBjB,UAAiBrtD,CAAjB,EAAuB4uD,CAAvB,EAAuBA;AACrBA,YAAKA,KAAMpB,CAAXoB;AAEA,YAAIC,IAAKx6D,SAAS0C,aAAT1C,CAAuB,UAAvBA,CAAT;AAAA,YACEsD,IAAOtD,SAASsD,IADlB;AAGA7J,UAAO+gE,EAAG/3D,KAAVhJ,EAAiB;AACfghE,oBAAU,MADK;AAEf/O,kBAAQ,GAFO;AAGfv5B,mBAAS,GAHM;AAIf2E,kBAAQ,GAJO;AAKfhR,oBAAU,UALK;AAMf/W,gBAAM;AANS,SAAjBtV,GASA+gE,EAAG/hE,KAAH+hE,GAAW7uD,CATXlS,EAWA6J,EAAKhB,WAALgB,CAAiBk3D,CAAjBl3D,CAXA7J,EAcA+gE,EAAG13D,YAAH03D,CAAgB,UAAhBA,EAA4B,EAA5BA,CAdA/gE,EAeA+gE,EAAGh2D,MAAHg2D,EAfA/gE,EAgBA+gE,EAAGE,iBAAHF,CAAqB,CAArBA,EAAwB7uD,EAAK9R,MAA7B2gE,CAhBA/gE;;AAkBA;AACEuG,mBAAS0gD,WAAT1gD,CAAqB,MAArBA,GACAu6D,GADAv6D;AAEA,SAHF,CAGE,OAAOrC,CAAP,EAAOA;AACP48D,YAAG58D,CAAH48D;AAJF;AAMEj3D,YAAKpB,WAALoB,CAAiBk3D,CAAjBl3D;AAAiBk3D;AAAAA,OAjgBvB;AAAA,UA0gBWG,IAAY3B,EAAE2B,QAAF3B,GAAc,UAASjiE,CAAT,EAASA;AAoC5C,iBAAS6jE,CAAT,CAAwBtB,CAAxB,EAAwBA;AACtB,cAAkB,qBAAPA,CAAX,EAA8B,MAAM,IAAIuB,SAAJ,CAAcvB,IAAK,oBAAnB,CAAN;AAE9B,iBAAOA,CAAP;AAGF;;AAAA,eAlBuB,mBAAnB,CAAmB,KAAZwB,CAAY,GAAnB,WAAmB,GAAnBthE,IAAOshE,CAAP,CAAmB,KAAYA,EAAQH,QAApB,GACXG,EAAQH,QADG,GAEY,qBAAjBI,CAAiB,GACvB,UAASR,CAAT,EAASA;AACjBQ,YAAaH,EAAeL,CAAfK,CAAbG;AAA4BR,SAFG,GAKvB,UAASA,CAAT,EAASA;AACjBz0D,qBAAW80D,EAAeL,CAAfK,CAAX90D,EAA+B,CAA/BA;AAA+B,SAUnC;AA1CmC,SA1gBrC;AA0gBqC,K;;ACzgBrC,QAOIk1D,CAPJ;AAAA,QAQIC,CARJ;AAAA,QAAIH,IAAU9jE,EAAOD,OAAPC,GAAiB,EAA/B;;AAUA,aAASkkE,CAAT,GAASA;AACL,YAAM,IAAI5+D,KAAJ,CAAU,iCAAV,CAAN;AAEJ;;AAAA,aAAS6+D,CAAT,GAASA;AACL,YAAM,IAAI7+D,KAAJ,CAAU,mCAAV,CAAN;AAsBJ;;AAAA,aAAS8+D,CAAT,CAAoBC,CAApB,EAAoBA;AAChB,UAAIL,MAAqBl1D,UAAzB,EAEI,OAAOA,WAAWu1D,CAAXv1D,EAAgB,CAAhBA,CAAP;AAGJ,WAAKk1D,MAAqBE,CAArBF,IAAqBE,CAAqBF,CAA/C,KAAoEl1D,UAApE,EAEI,OADAk1D,IAAmBl1D,UAAnBk1D,EACOl1D,WAAWu1D,CAAXv1D,EAAgB,CAAhBA,CAAP;;AAEJ;AAEI,eAAOk1D,EAAiBK,CAAjBL,EAAsB,CAAtBA,CAAP;AACF,OAHF,CAGE,OAAMr9D,CAAN,EAAMA;AACJ;AAEI,iBAAOq9D,EAAiBrjE,IAAjBqjE,CAAsB,IAAtBA,EAA4BK,CAA5BL,EAAiC,CAAjCA,CAAP;AACF,SAHF,CAGE,OAAMr9D,CAAN,EAAMA;AAEJ,iBAAOq9D,EAAiBrjE,IAAjBqjE,CAAsBx+D,IAAtBw+D,EAA4BK,CAA5BL,EAAiC,CAAjCA,CAAP;AAAwC;AAAA;AAAA;;AAAA,KAvCnD;AACG;AAEQA,YADsB,qBAAfl1D,UAAe,GACHA,UADG,GAGHo1D,CAFnBF;AAIN,OANF,CAME,OAAOr9D,CAAP,EAAOA;AACLq9D,YAAmBE,CAAnBF;AAEJ;;AAAA;AAEQC,YADwB,qBAAjBh1D,YAAiB,GACHA,YADG,GAGHk1D,CAFrBF;AAIN,OANF,CAME,OAAOt9D,CAAP,EAAOA;AACLs9D,YAAqBE,CAArBF;AAAqBE;AAjB7B,KAAC,EAuCmD;AAiCpD,QAEIG,CAFJ;AAAA,QAAIC,IAAQ,EAAZ;AAAA,QACIC,KAAW,CADf;AAAA,QAGIC,KAAc,CAHlB;;AAKA,aAASC,CAAT,GAASA;AACAF,WAAaF,CAAbE,KAGLA,KAAW,CAAXA,EACIF,EAAazhE,MAAbyhE,GACAC,IAAQD,EAAa38D,MAAb28D,CAAoBC,CAApBD,CADRA,GAGAG,KAAc,CAJlBD,EAMID,EAAM1hE,MAAN0hE,IACAI,GAVCH;AAcT;;AAAA,aAASG,CAAT,GAASA;AACL,WAAIH,CAAJ;AAGA,YAAII,IAAUR,EAAWM,CAAXN,CAAd;AACAI,aAAW,CAAXA;;AAGA,aADA,IAAI5hE,IAAM2hE,EAAM1hE,MAChB,EAAMD,CAAN,GAAW;AAGP,eAFA0hE,IAAeC,CAAfD,EACAC,IAAQ,EACR,EADQ,EACCE,CADD,GACc7hE,CAAtB,GACQ0hE,KACAA,EAAaG,CAAbH,EAAyBO,GAAzBP,EADAA;;AAIRG,eAAc,CAAdA,EACA7hE,IAAM2hE,EAAM1hE,MADZ4hE;AAGJH;;AAAAA,YAAe,IAAfA,EACAE,KAAW,CADXF,EAlEJ,UAAyBzhD,CAAzB,EAAyBA;AACrB,cAAIohD,MAAuBh1D,YAA3B,EAEI,OAAOA,aAAa4T,CAAb5T,CAAP;AAGJ,eAAKg1D,MAAuBE,CAAvBF,IAAuBE,CAAwBF,CAApD,KAA2Eh1D,YAA3E,EAEI,OADAg1D,IAAqBh1D,YAArBg1D,EACOh1D,aAAa4T,CAAb5T,CAAP;;AAEJ;AAEWg1D,cAAmBphD,CAAnBohD;AACT,WAHF,CAGE,OAAOt9D,CAAP,EAAOA;AACL;AAEI,qBAAOs9D,EAAmBtjE,IAAnBsjE,CAAwB,IAAxBA,EAA8BphD,CAA9BohD,CAAP;AACF,aAHF,CAGE,OAAOt9D,CAAP,EAAOA;AAGL,qBAAOs9D,EAAmBtjE,IAAnBsjE,CAAwBz+D,IAAxBy+D,EAA8BphD,CAA9BohD,CAAP;AAAqCphD;AAAAA;AAgD7CiiD,SApEJ,CAoEoBF,CApEpB,CAkEIN;AAEgBM;AAiBpB;;AAAA,aAASG,CAAT,CAAcV,CAAd,EAAmB1hE,CAAnB,EAAmBA;AACf6C,WAAK6+D,GAAL7+D,GAAW6+D,CAAX7+D,EACAA,KAAK7C,KAAL6C,GAAa7C,CADb6C;AAaJ;;AAAA,aAAS28D,CAAT,GAASA,CA5BT2B;;AAAAA,MAAQH,QAARG,GAAmB,UAAUO,CAAV,EAAUA;AACzB,UAAI32D,IAAO,IAAIlJ,KAAJ,CAAUH,UAAUxB,MAAVwB,GAAmB,CAA7B,CAAX;AACA,UAAIA,UAAUxB,MAAVwB,GAAmB,CAAvB,EACI,KAAK,IAAI7D,IAAI,CAAb,EAAgBA,IAAI6D,UAAUxB,MAA9B,EAAsCrC,GAAtC,EACIkN,EAAKlN,IAAI,CAATkN,IAAcrJ,UAAU7D,CAAV6D,CAAdqJ;AAGR62D,QAAMp8D,IAANo8D,CAAW,IAAIQ,CAAJ,CAASV,CAAT,EAAc32D,CAAd,CAAX62D,GACqB,MAAjBA,EAAM1hE,MAAW,IAAM2hE,CAAN,IACjBJ,EAAWO,CAAXP,CAFJG;AAEeI,KATnBb,EAkBAiB,EAAK1iE,SAAL0iE,CAAeF,GAAfE,GAAqB;AACjBv/D,WAAK6+D,GAAL7+D,CAASmI,KAATnI,CAAe,IAAfA,EAAqBA,KAAK7C,KAA1B6C;AAA0B7C,KAnB9BmhE,EAqBAA,EAAQl7C,KAARk7C,GAAgB,SArBhBA,EAsBAA,EAAQkB,OAARlB,GAAQkB,CAAU,CAtBlBlB,EAuBAA,EAAQmB,GAARnB,GAAc,EAvBdA,EAwBAA,EAAQoB,IAARpB,GAAe,EAxBfA,EAyBAA,EAAQlC,OAARkC,GAAkB,EAzBlBA,EA0BAA,EAAQqB,QAARrB,GAAmB,EA1BnBA,EA8BAA,EAAQjvD,EAARivD,GAAa3B,CA9Bb2B,EA+BAA,EAAQsB,WAARtB,GAAsB3B,CA/BtB2B,EAgCAA,EAAQuB,IAARvB,GAAe3B,CAhCf2B,EAiCAA,EAAQ3uD,GAAR2uD,GAAc3B,CAjCd2B,EAkCAA,EAAQwB,cAARxB,GAAyB3B,CAlCzB2B,EAmCAA,EAAQyB,kBAARzB,GAA6B3B,CAnC7B2B,EAoCAA,EAAQ0B,IAAR1B,GAAe3B,CApCf2B,EAqCAA,EAAQ2B,eAAR3B,GAA0B3B,CArC1B2B,EAsCAA,EAAQ4B,mBAAR5B,GAA8B3B,CAtC9B2B,EAwCAA,EAAQ6B,SAAR7B,GAAoB,UAAU/iE,CAAV,EAAUA;AAAQ,aAAO,EAAP;AAAO,KAxC7C+iE,EA0CAA,EAAQ8B,OAAR9B,GAAkB,UAAU/iE,CAAV,EAAUA;AACxB,YAAM,IAAIuE,KAAJ,CAAU,kCAAV,CAAN;AAAgB,KA3CpBw+D,EA8CAA,EAAQ+B,GAAR/B,GAAc;AAAc,aAAO,GAAP;AAAO,KA9CnCA,EA+CAA,EAAQgC,KAARhC,GAAgB,UAAU1yD,CAAV,EAAUA;AACtB,YAAM,IAAI9L,KAAJ,CAAU,gCAAV,CAAN;AAAgB,KAhDpBw+D,EAkDAA,EAAQiC,KAARjC,GAAgB;AAAa,aAAO,CAAP;AAAO,KAlDpCA;AAkDoC,G;;;ACjLpC,aAASkC,CAAT,CAAgC5hE,CAAhC,EAAgCA;AAAO,aAAOA,KAAOA,EAAIxC,UAAXwC,GAAwBA,CAAxBA,GAA8B;AAAElC,iBAAWkC;AAAb,OAArC;AAJvCrE;;AAAAA,MAAQ6B,UAAR7B,GAAQ6B,CAAa,CAArB7B,EACAA,EAAQkmE,qBAARlmE,GAAgCkmE,CADhClmE;AAMA,QAAImmE,IAAS5kE,EAAQ,CAAR,CAAb;AAAA,QAII6kE,IAAcH,EAFD1kE,EAAQ,CAAR,CAEC0kE,CAJlB;AAAA,QAMII,IAAW9kE,EAAQ,EAAR,CANf;AAAA,QAQI+kE,IAAc/kE,EAAQ,EAAR,CARlB;AAAA,QAYIglE,IAAWN,EAFD1kE,EAAQ,EAAR,CAEC0kE,CAZf;AAeAjmE,MAAQwmE,OAARxmE,GADc,OACdA;AAEAA,MAAQymE,iBAARzmE,GADwB,CACxBA;AAGAA,MAAQ0mE,iCAAR1mE,GAFwC,CAExCA;AAYAA,MAAQ2mE,gBAAR3mE,GAXuB;AACrB4mE,SAAG,aADkB;AAErBC,SAAG,eAFkB;AAGrB9mB,SAAG,eAHkB;AAIrB+mB,SAAG,UAJkB;AAKrBC,SAAG,kBALkB;AAMrBC,SAAG,iBANkB;AAOrBC,SAAG,iBAPkB;AAQrBjnB,SAAG;AARkB,KAWvBhgD;;AAGA,aAASkmE,CAAT,CAA+BzI,CAA/B,EAAwCyJ,CAAxC,EAAkDC,CAAlD,EAAkDA;AAChD1hE,WAAKg4D,OAALh4D,GAAeg4D,KAAW,EAA1Bh4D,EACAA,KAAKyhE,QAALzhE,GAAgByhE,KAAY,EAD5BzhE,EAEAA,KAAK0hE,UAAL1hE,GAAkB0hE,KAAc,EAFhC1hE,EAIA4gE,EAASe,sBAATf,CAAgC5gE,IAAhC4gE,CAJA5gE,EAKA6gE,EAAYe,yBAAZf,CAAsC7gE,IAAtC6gE,CALA7gE;AAQFygE;;AAAAA,MAAsB5jE,SAAtB4jE,GAAkC;AAChC1gE,mBAAa0gE,CADmB;AAGhCoB,cAAQf,EAAkBpkE,OAHM;AAIhColE,WAAKhB,EAAkBpkE,OAAlBokE,CAAoBgB,GAJO;AAMhClH,sBAAgB,UAAwBr/D,CAAxB,EAA8BuhE,CAA9B,EAA8BA;AAC5C,YAlBa,sBAkBT4D,EAAO5hE,QAAP4hE,CAAgBvlE,IAAhBulE,CAAqBnlE,CAArBmlE,CAAJ,EAA+C;AAC7C,cAAI5D,CAAJ,EACE,MAAM,IAAI6D,EAAqBjkE,OAAzB,CAA2B,yCAA3B,CAAN;AAEFgkE,YAAOzjE,MAAPyjE,CAAc1gE,KAAKg4D,OAAnB0I,EAA4BnlE,CAA5BmlE;AAA4BnlE,SAJ9B,MAMEyE,KAAKg4D,OAALh4D,CAAazE,CAAbyE,IAAqB88D,CAArB98D;AAAqB88D,OAbO;AAgBhCiF,wBAAkB,UAA0BxmE,CAA1B,EAA0BA;AAAAA,eACnCyE,KAAKg4D,OAALh4D,CAAazE,CAAbyE,CADmCzE;AACtBA,OAjBU;AAoBhCymE,uBAAiB,UAAyBzmE,CAAzB,EAA+B0mE,CAA/B,EAA+BA;AAC9C,YAhCa,sBAgCTvB,EAAO5hE,QAAP4hE,CAAgBvlE,IAAhBulE,CAAqBnlE,CAArBmlE,CAAJ,EACEA,EAAOzjE,MAAPyjE,CAAc1gE,KAAKyhE,QAAnBf,EAA6BnlE,CAA7BmlE,EADF,KAEO;AACL,mBAAuB,CAAvB,KAAWuB,CAAX,EACE,MAAM,IAAItB,EAAqBjkE,OAAzB,CAA2B,8CAA8CnB,CAA9C,GAAqD,gBAAhF,CAAN;AAEFyE,eAAKyhE,QAALzhE,CAAczE,CAAdyE,IAAsBiiE,CAAtBjiE;AAAsBiiE;AAAAA,OA3BM;AA8BhCC,yBAAmB,UAA2B3mE,CAA3B,EAA2BA;AAAAA,eACrCyE,KAAKyhE,QAALzhE,CAAczE,CAAdyE,CADqCzE;AACvBA,OA/BS;AAkChC4mE,yBAAmB,UAA2B5mE,CAA3B,EAAiCuhE,CAAjC,EAAiCA;AAClD,YA9Ca,sBA8CT4D,EAAO5hE,QAAP4hE,CAAgBvlE,IAAhBulE,CAAqBnlE,CAArBmlE,CAAJ,EAA+C;AAC7C,cAAI5D,CAAJ,EACE,MAAM,IAAI6D,EAAqBjkE,OAAzB,CAA2B,4CAA3B,CAAN;AAEFgkE,YAAOzjE,MAAPyjE,CAAc1gE,KAAK0hE,UAAnBhB,EAA+BnlE,CAA/BmlE;AAA+BnlE,SAJjC,MAMEyE,KAAK0hE,UAAL1hE,CAAgBzE,CAAhByE,IAAwB88D,CAAxB98D;AAAwB88D,OAzCI;AA4ChCsF,2BAAqB,UAA6B7mE,CAA7B,EAA6BA;AAAAA,eACzCyE,KAAK0hE,UAAL1hE,CAAgBzE,CAAhByE,CADyCzE;AACzBA;AA7CO,KAAlCklE;AAiDA,QAAIqB,IAAMhB,EAAkBpkE,OAAlBokE,CAAoBgB,GAA9B;AAEAvnE,MAAQunE,GAARvnE,GAAcunE,CAAdvnE,EACAA,EAAQyD,WAARzD,GAAsBmmE,EAAO1iE,WAD7BzD,EAEAA,EAAQsnE,MAARtnE,GAAiBumE,EAAkBpkE,OAFnCnC;AAEmC,G;;;AClGnC,aAASimE,CAAT,CAAgC5hE,CAAhC,EAAgCA;AAAO,aAAOA,KAAOA,EAAIxC,UAAXwC,GAAwBA,CAAxBA,GAA8B;AAAElC,iBAAWkC;AAAb,OAArC;AALvCrE;;AAAAA,MAAQ6B,UAAR7B,GAAQ6B,CAAa,CAArB7B,EACAA,EAAQonE,sBAARpnE,GAkCA,UAAgC8nE,CAAhC,EAAgCA;AAC9BC,QAAqC5lE,OAArC4lE,CAAuCD,CAAvCC,GACAC,EAAuB7lE,OAAvB6lE,CAAyBF,CAAzBE,CADAD,EAEAE,EAAgC9lE,OAAhC8lE,CAAkCH,CAAlCG,CAFAF,EAGAG,EAAqB/lE,OAArB+lE,CAAuBJ,CAAvBI,CAHAH,EAIAI,EAAsBhmE,OAAtBgmE,CAAwBL,CAAxBK,CAJAJ,EAKAK,EAAyBjmE,OAAzBimE,CAA2BN,CAA3BM,CALAL,EAMAM,EAAuBlmE,OAAvBkmE,CAAyBP,CAAzBO,CANAN;AAMyBD,KA1C3B9nE,EAEAA,EAAQsoE,iBAARtoE,GA2CA,UAA2B8nE,CAA3B,EAAqCS,CAArC,EAAiDC,CAAjD,EAAiDA;AAC3CV,QAASrK,OAATqK,CAAiBS,CAAjBT,MACFA,EAASW,KAATX,CAAeS,CAAfT,IAA6BA,EAASrK,OAATqK,CAAiBS,CAAjBT,CAA7BA,EACKU,YACIV,EAASrK,OAATqK,CAAiBS,CAAjBT,CAHPA;AAGwBS,KAjD9BvoE;AAOA,QAEI+nE,IAA8B9B,EAFD1kE,EAAQ,EAAR,CAEC0kE,CAFlC;AAAA,QAMI+B,IAAgB/B,EAFD1kE,EAAQ,EAAR,CAEC0kE,CANpB;AAAA,QAUIgC,IAAyBhC,EAFD1kE,EAAQ,EAAR,CAEC0kE,CAV7B;AAAA,QAcIiC,IAAcjC,EAFD1kE,EAAQ,EAAR,CAEC0kE,CAdlB;AAAA,QAkBIkC,IAAelC,EAFD1kE,EAAQ,EAAR,CAEC0kE,CAlBnB;AAAA,QAsBImC,IAAkBnC,EAFD1kE,EAAQ,EAAR,CAEC0kE,CAtBtB;AAAA,QA0BIoC,IAAgBpC,EAFD1kE,EAAQ,EAAR,CAEC0kE,CA1BpB;AAwB2B,G;AC3B3BhmE,MAAOD,OAAPC,GANA,UAAyB6nE,CAAzB,EAAmCY,CAAnC,EAAmCA;AACjC,YAAMZ,aAAoBY,CAA1B,GACE,MAAM,IAAI5E,SAAJ,CAAc,mCAAd,CAAN;AAAoB,KAIxB7jE;AAJwB,G;ACFxB,aAAS0oE,CAAT,CAA2BviE,CAA3B,EAAmCmK,CAAnC,EAAmCA;AACjC,WAAK,IAAI9P,IAAI,CAAb,EAAgBA,IAAI8P,EAAMzN,MAA1B,EAAkCrC,GAAlC,EAAuC;AACrC,YAAImoE,IAAar4D,EAAM9P,CAAN8P,CAAjB;AACAq4D,UAAWvnE,UAAXunE,GAAwBA,EAAWvnE,UAAXunE,IAAWvnE,CAAc,CAAjDunE,EACAA,EAAWC,YAAXD,GAAWC,CAAe,CAD1BD,EAEI,WAAWA,CAAX,KAAuBA,EAAWE,QAAXF,GAAWE,CAAW,CAA7C,CAFJF,EAGAznE,OAAOC,cAAPD,CAAsBiF,CAAtBjF,EAA8BynE,EAAW5mE,GAAzCb,EAA8CynE,CAA9CznE,CAHAynE;AAG8CA;AAUlD3oE;;AAAAA,MAAOD,OAAPC,GANA,UAAsByoE,CAAtB,EAAmCK,CAAnC,EAA+CC,CAA/C,EAA+CA;AAG7C,aAFID,KAAYJ,EAAkBD,EAAYpmE,SAA9BqmE,EAAyCI,CAAzCJ,CAAZI,EACAC,KAAaL,EAAkBD,CAAlBC,EAA+BK,CAA/BL,CADbI,EAEGL,CAAP;AAAOA,KAGTzoE;AAHSyoE,G;ACbT,QAAIrgE,IAAU9G,EAAQ,CAAR,CAAd;AAAA,QAEI0nE,IAAwB1nE,EAAQ,EAAR,CAF5B;;AAYAtB,MAAOD,OAAPC,GARA,UAAoC4O,CAApC,EAA0CjO,CAA1C,EAA0CA;AACxC,cAAIA,CAAJ,IAA+B,aAAlByH,EAAQzH,CAARyH,CAAkB,IAA4B,qBAATzH,CAAlD,GAIOqoE,EAAsBp6D,CAAtBo6D,CAJP,GACSroE,CADT;AACSA,KAMXX;AANWW,G;ACNX,QAAImF,IAAiBxE,EAAQ,EAAR,CAArB;;AAiBAtB,MAAOD,OAAPC,GAfA,UAAmBipE,CAAnB,EAA6BC,CAA7B,EAA6BA;AAC3B,UAA0B,qBAAfA,CAAe,IAA6B,SAAfA,CAAxC,EACE,MAAM,IAAIrF,SAAJ,CAAc,oDAAd,CAAN;AAGFoF,QAAS5mE,SAAT4mE,GAAqB/nE,OAAOY,MAAPZ,CAAcgoE,KAAcA,EAAW7mE,SAAvCnB,EAAkD;AACrEqE,qBAAa;AACX9D,iBAAOwnE,CADI;AAEXJ,qBAAU,CAFC;AAGXD,yBAAc;AAHH;AADwD,OAAlD1nE,CAArB+nE,EAOIC,KAAYpjE,EAAemjE,CAAfnjE,EAAyBojE,CAAzBpjE,CAPhBmjE;AAOyCC,KAG3ClpE;AAH2CkpE,G;ACd3ClpE,MAAOD,OAAPC,GAAiBsB,EAAQ,EAAR,EAAkBY,OAAnClC;AAAmCkC,G;;;;;;;;;;;;;;;;;;;;ACIpBR,0BAASynE,CAAT,EAASA;AAAO,cACDA,EAAMC,IADL;AAAA,UACvBC,IADuB3nE,EACvB2nE,OADuB;AAAA,UACdC,IADc5nE,EACd4nE,QADc;AAAA,UAGvBC,IAHuB;AAI3B;AAAc;AAAA,gCACZ5iE,gCADY,EAEP5F,IAFO,GAEA,MAFA,EAGZ4F,EAAK6iE,MAAL,GAAcH,EAAQI,EAAQ,EAARA,CAARJ,CAHF,EAIZ1iE,EAAK+iE,gBAAL,GAAwBL,EAAQI,EAAQ,EAARA,CAARJ,CAJZ,EAKZ1iE,EAAKgjE,sBAAL,GAA8BN,EAAQI,EAAQ,EAARA,CAARJ,CALlB,EAMZ1iE,EAAKijE,OAAL,GAAe,IANH;AAJa;;AAAA;AAAA7nE;AAAAN,2BAYtBooE,CAZsB,EAYjBlgC,CAZiB,EAYjBA;AACRl8B,2DAAWo8D,CAAX,EAAgBlgC,CAAhB,GAEAkgC,EAAIC,IAAJD,CAASJ,EAAQ,EAARA,GAATI,CAFA,EAGArkE,KAAKukE,UAALvkE,EAHA;AAGKukE;AAhBoB;AAAAhoE;AAAAN;AAkBpB;;AAEL,gBADAgM,iDACKjI,KAAKokE,OAAV,EAAmB;AACjB,kBAAIjgC,IAAYnkC,KAAKwkE,IAALxkE,CAAU6f,IAAV7f,CAAe,eAAfA,EAAgCnE,GAAhCmE,CAAoC,CAApCA,CAAhB;;AACAA,mBAAKokE,OAALpkE,GAAek4C,IAAWsjB,YAAXtjB,CAAwB/T,CAAxB+T,EAAmC;AAChDrwB,6BAAa,MADmC;AAEhD1rB,sBAAM;AAF0C,eAAnC+7C,CAAfl4C,EAIAm+D,YAAS;AAAA,uBAAMh9D,EAAKijE,OAAL,CAAa1M,OAAb,EAAN;AAAmBA,eAA5ByG,CAJAn+D;AAI4B03D;AAAAA;AA1BL;AAAAn7D;AAAAN;AA8BzBgM;AAAA;AA9ByB;AAAA1L;AAAAN;AAiCzB;AACEwoE,gBAAOzkE,KAAKokE,OAALpkE,CAAao0C,QAAbp0C,EAAPykE;AACA,aAFF,CAEE,OAAOtjE,CAAP,EAAOA;AAEPujE,sBAAQC,KAARD,CAAcvjE,CAAdujE;AAAcvjE;AAAAA;AArCS;AAAA5E;AAAAN;AAyCzB,gBAAI2oE,IAAS5kE,KAAKokE,OAAlB;AAAA,gBAEInoE,IAAQ2oE,EAAOxwB,QAAPwwB,EAFZ;AAGAA,cAAOtwB,QAAPswB,CAAgBd,EAAS7nE,CAAT6nE,CAAhBc;AAAyB3oE;AA5CA;AAAAM;AAAAN;AA+CzBogB,wBAAKrc,KAAKokE,OAALpkE,CAAao0C,QAAbp0C,EAALqc;AAAkB+3B;AA/CO;AAAA73C;AAAAN;AAkDzB+D,iBAAKokE,OAALpkE,CAAas0C,QAAbt0C,CAAsB,EAAtBA;AAAsB;AAlDG;AAAAzD;AAAAN;AAqDzBgM,+DACA47D,EAAQv6B,MAARu6B,CAAe7jE,KAAKgkE,MAApBH,CADA,EAEAA,EAAQv6B,MAARu6B,CAAe7jE,KAAKkkE,gBAApBL,CAFA,EAGAA,EAAQv6B,MAARu6B,CAAe7jE,KAAKmkE,sBAApBN,CAHA;AAGoBM;AAxDK;AAAA5nE;AAAAN;AA0Dd;;AACX+D,iBAAKwkE,IAALxkE,CACGqP,EADHrP,CACM,OADNA,EACe,YADfA,EAC6B;AAAA,qBAAMmB,EAAKk+D,GAAL,EAAN;AAAWA,aADxCr/D,EAEGqP,EAFHrP,CAEM,OAFNA,EAEe,iBAFfA,EAEkC;AAAA,qBAAMmB,EAAK2iE,QAAL,EAAN;AAAWA,aAF7C9jE,EAGGqP,EAHHrP,CAGM,OAHNA,EAGe,cAHfA,EAG+B;AAAA,qBAAMmB,EAAKg8B,KAAL,EAAN;AAAWA,aAH1Cn9B,EAIGqP,EAJHrP,CAIM,OAJNA,EAIe,aAJfA,EAI8B;AAAA,qBAAMmB,EAAKkb,IAAL,EAAN;AAAWA,aAJzCrc;AAIyCqc;AA/DhB;AAAA,QAGVsnD,EAAMkB,IAHI;AAAA,UAmEzBJ,IAAS;AACX,YAAI/H,CAAJ;;AAEA;AACEA,cAAMoI,KAAK3pE,IAAL2pE,CAAUlqE,MAAVkqE,aAAsBx3D,CAAtB,OAANovD;AACA,SAFF,CAEE,OAAOv7D,CAAP,EAAOA;AACPu7D,cAAMoI,KAAK3pE,IAAL2pE,CAAUlqE,MAAVkqE,EAAkBx3D,CAAlBw3D,CAANpI;AAGF;;AAAA,eAAOA,CAAP;AAAOA,OA5EoB;;AA+E7B,aAAO,IAAIqH,CAAJ,EAAP;AAAWA,KA/EE;AA+EFA,G;AC3EbvpE,MAAOD,OAAPC,GARA,UAAgC4O,CAAhC,EAAgCA;AAC9B,eAAa,CAAb,KAAIA,CAAJ,EACE,MAAM,IAAI27D,cAAJ,CAAmB,2DAAnB,CAAN;AAGF,aAAO37D,CAAP;AAAOA,KAGT5O;AAHS4O,G;ACLT,QAAI7I,IAAiBzE,EAAQ,CAAR,CAArB;;AAWAtB,MAAOD,OAAPC,GATA,UAAwBmC,CAAxB,EAAgCC,CAAhC,EAAgCA;AAC9B,cAAQlB,OAAOmB,SAAPnB,CAAiBoB,cAAjBpB,CAAgCP,IAAhCO,CAAqCiB,CAArCjB,EAA6CkB,CAA7ClB,CAAR,IAEiB,UADfiB,IAAS4D,EAAe5D,CAAf4D,CACM,CAFjB,EAC0B5D;;AAI1B,aAAOA,CAAP;AAAOA,KAGTnC;AAHSmC,G;ACRT,aAASqoE,CAAT,CAAyBvpE,CAAzB,EAA4BsB,CAA5B,EAA4BA;AAM1B,aALAvC,EAAOD,OAAPC,GAAiBwqE,IAAkBtpE,OAAO4E,cAAP5E,IAAyB,UAAyBD,CAAzB,EAA4BsB,CAA5B,EAA4BA;AAEtF,eADAtB,EAAE+E,SAAF/E,GAAcsB,CAAdtB,EACOA,CAAP;AAAOA,OAFTjB,EAKOwqE,EAAgBvpE,CAAhBupE,EAAmBjoE,CAAnBioE,CAAP;AAGFxqE;;AAAAA,MAAOD,OAAPC,GAAiBwqE,CAAjBxqE;AAAiBwqE,G;KCCd,UAAS9sB,CAAT,EAASA;AACZ;;AAEAA,QAAWzkC,UAAXykC,CAAsB,YAAtBA,EAAoC,UAAS+sB,CAAT,EAAiBC,CAAjB,EAAiBA;AACnD,YA6CIx3D,CA7CJ;AAAA,YA6CUlM,CA7CV;AAAA,YAAIurD,IAAakY,EAAOlY,UAAxB;AAAA,YACIoY,IAAkBD,EAAaC,eADnC;AAAA,YAEIC,IAAaF,EAAaG,MAF9B;AAAA,YAGIC,IAAWJ,EAAaK,IAAbL,IAAqBE,CAHpC;AAAA,YAIII,IAAON,EAAaO,UAJxB;AAAA,YAKIC,IAASR,EAAaS,cAAbT,IAA+B,kBAL5C;AAAA,YASIU,IAAW;AACb,mBAASC,CAAT,CAAYn4D,CAAZ,EAAYA;AAAO,mBAAO;AAACA,oBAAMA,CAAP;AAAazH,qBAAO;AAApB,aAAP;AACnB;;AAAA,cAAI6/D,IAAID,EAAG,WAAHA,CAAR;AAAA,cAAyBE,IAAIF,EAAG,WAAHA,CAA7B;AAAA,cAA8CG,IAAIH,EAAG,WAAHA,CAAlD;AAAA,cAAmEI,IAAIJ,EAAG,WAAHA,CAAvE;AAAA,cACIK,IAAWL,EAAG,UAAHA,CADf;AAAA,cAC+BM,IAAO;AAACz4D,kBAAM,MAAP;AAAezH,mBAAO;AAAtB,WADtC;AAGA,iBAAO;AACLmgE,gBAAMP,EAAG,IAAHA,CADD;AACWQ,mBAASP,CADpB;AACuBQ,kBAAQR,CAD/B;AACkCS,kBAAQR,CAD1C;AAC6CS,gBAAMT,CADnD;AACsDU,iBAAOV,CAD7D;AACgEW,qBAAWX,CAD3E;AAELY,oBAAUV,CAFL;AAEQW,mBAASX,CAFjB;AAEoBY,sBAAYZ,CAFhC;AAEmCa,iBAAOjB,EAAG,KAAHA,CAF1C;AAEqDkB,oBAAUf,CAF/D;AAEkEgB,kBAAQhB,CAF1E;AAE6EiB,mBAASjB,CAFtF;AAGLkB,sBAAYrB,EAAG,UAAHA,CAHP;AAGuBsB,iBAAOtB,EAAG,KAAHA,CAH9B;AAGyCuB,mBAASvB,EAAG,KAAHA,CAHlD;AAG6DwB,iBAAOxB,EAAG,KAAHA,CAHpE;AAILyB,sBAAYzB,EAAG,UAAHA,CAJP;AAIuB0B,mBAAS1B,EAAG,OAAHA,CAJhC;AAKL2B,iBAAO3B,EAAG,KAAHA,CALF;AAKa4B,oBAAU5B,EAAG,QAAHA,CALvB;AAKqC6B,kBAAQ7B,EAAG,MAAHA,CAL7C;AAKyDnpE,qBAAWmpE,EAAG,SAAHA,CALpE;AAML8B,gBAAMzB,CAND;AAMW0B,oBAAU1B,CANrB;AAM+B2B,wBAAc3B,CAN7C;AAOL4B,kBAAQ3B,CAPH;AAOS4B,mBAAS5B,CAPlB;AAOwBjoC,kBAAQioC,CAPhC;AAOsC5mE,uBAAa4mE,CAPnD;AAOyD14B,iBAAO04B,CAPhE;AAOsEjhD,sBAAYihD,CAPlF;AAQLnmE,kBAAQ6lE,EAAG,MAAHA,CARH;AAQemC,mBAASnC,EAAG,OAAHA,CARxB;AAQqCoC,mBAASpC,EAAG,MAAHA,CAR9C;AASLqC,mBAASlC,CATJ;AASOmC,oBAAUtC,EAAG,QAAHA,CATjB;AAS+BuC,oBAAUvC,EAAG,QAAHA,CATzC;AASuDwC,qBAAWrC,CATlE;AAULsC,mBAAStC;AAVJ,WAAP;AALa,WATf;AAAA,YA4BIuC,IAAiB,mBA5BrB;AAAA,YA6BIC,IAAkB,uFA7BtB;;AA8CA,iBAAS9L,CAAT,CAAa+L,CAAb,EAAiBxiE,CAAjB,EAAwByiE,CAAxB,EAAwBA;AAEtB,iBADAh7D,IAAO+6D,CAAP/6D,EAAWlM,IAAUknE,CAArBh7D,EACOzH,CAAP;AAEF;;AAAA,iBAAS0iE,CAAT,CAAmB3sD,CAAnB,EAA2BvH,CAA3B,EAA2BA;AACzB,cAkEmBm0D,CAlEnB;AAAA,cAAI19D,IAAK8Q,EAAO/D,IAAP+D,EAAT;AACA,cAAU,OAAN9Q,CAAM,IAAa,OAANA,CAAjB,EAEE,OADAuJ,EAAMo0D,QAANp0D,IAgEiBm0D,IAhEY19D,CAgEZ09D,EACZ,UAAS5sD,CAAT,EAAiBvH,CAAjB,EAAiBA;AACtB,gBAAqBwD,CAArB;AAAA,gBAAI6wD,KAAU,CAAd;AACA,gBAAI1D,KAA+B,OAAjBppD,EAAOhE,IAAPgE,EAAdopD,IAAsCppD,EAAOvX,KAAPuX,CAAawsD,CAAbxsD,CAA1C,EAEE,OADAvH,EAAMo0D,QAANp0D,GAAiBk0D,CAAjBl0D,EACOioD,EAAI,gBAAJA,EAAsB,MAAtBA,CAAP;;AAEF,mBAAiC,SAAzBzkD,IAAO+D,EAAO/D,IAAP+D,EAAkB,MAC3B/D,KAAQ2wD,CAAR3wD,IAAkB6wD,CADS,CAAjC,GAEEA,KAAWA,CAAXA,IAA8B,QAAR7wD,CAAtB6wD;;AAGF,mBADKA,MAASr0D,EAAMo0D,QAANp0D,GAAiBk0D,CAA1BG,GACEpM,EAAI,QAAJA,EAAc,QAAdA,CAAP;AAAqB,WA5ErBjoD,GACOA,EAAMo0D,QAANp0D,CAAeuH,CAAfvH,EAAuBA,CAAvBA,CAAP;AACK,cAAU,OAANvJ,CAAM,IAAO8Q,EAAOvX,KAAPuX,CAAa,gCAAbA,CAAjB,EACL,OAAO0gD,EAAI,QAAJA,EAAc,QAAdA,CAAP;AACK,cAAU,OAANxxD,CAAM,IAAO8Q,EAAOvX,KAAPuX,CAAa,IAAbA,CAAjB,EACL,OAAO0gD,EAAI,QAAJA,EAAc,MAAdA,CAAP;AACK,cAAI,qBAAqBh/D,IAArB,CAA0BwN,CAA1B,CAAJ,EACL,OAAOwxD,EAAIxxD,CAAJwxD,CAAP;AACK,cAAU,OAANxxD,CAAM,IAAO8Q,EAAO9D,GAAP8D,CAAW,GAAXA,CAAjB,EACL,OAAO0gD,EAAI,IAAJA,EAAU,UAAVA,CAAP;AACK,cAAU,OAANxxD,CAAM,IAAO8Q,EAAOvX,KAAPuX,CAAa,uCAAbA,CAAjB,EACL,OAAO0gD,EAAI,QAAJA,EAAc,QAAdA,CAAP;AACK,cAAI,KAAKh/D,IAAL,CAAUwN,CAAV,CAAJ,EAEL,OADA8Q,EAAOvX,KAAPuX,CAAa,kDAAbA,GACO0gD,EAAI,QAAJA,EAAc,QAAdA,CAAP;AACK,cAAU,OAANxxD,CAAJ,EACL,OAAI8Q,EAAO9D,GAAP8D,CAAW,GAAXA,KACFvH,EAAMo0D,QAANp0D,GAAiBs0D,CAAjBt0D,EACOs0D,EAAa/sD,CAAb+sD,EAAqBt0D,CAArBs0D,CAFL/sD,IAGOA,EAAO9D,GAAP8D,CAAW,GAAXA,KACTA,EAAO3D,SAAP2D,IACO0gD,EAAI,SAAJA,EAAe,SAAfA,CAFE1gD,IAGAgtD,GAAkBhtD,CAAlBgtD,EAA0Bv0D,CAA1Bu0D,EAAiC,CAAjCA,KA5Cf,UAAoBhtD,CAApB,EAAoBA;AAElB,iBADA,IAAqB/D,CAArB,EAAI6wD,KAAU,CAAd,EAA2BG,KAAQ,CACnC,EAAiC,SAAzBhxD,IAAO+D,EAAO/D,IAAP+D,EAAkB,CAAjC,GAAuC;AACrC,mBAAK8sD,CAAL,EAAc;AACZ,oBAAY,OAAR7wD,CAAQ,IAARA,CAAgBgxD,CAApB,EAA2B;AACf,uBAARhxD,CAAQ,GAAKgxD,KAAQ,CAAb,GACHA,KAAiB,OAARhxD,CAATgxD,KAAsBA,KAAQ,CAA9BA,CADG;AAGdH;;AAAAA,mBAAWA,CAAXA,IAA8B,QAAR7wD,CAAtB6wD;AAAsB7wD;AAqCpBixD,WA7CN,CA6CiBltD,CA7CjB,GA8CMA,EAAOvX,KAAPuX,CAAa,mCAAbA,CA9CN,EA+Ca0gD,EAAI,QAAJA,EAAc,UAAdA,CAHEsM,KAKThtD,EAAO9D,GAAP8D,CAAW,GAAXA,GACO0gD,EAAI,UAAJA,EAAgB,UAAhBA,EAA4B1gD,EAAO9W,OAAP8W,EAA5B0gD,CANEsM,CANX;AAcK,cAAU,OAAN99D,CAAJ,EAEL,OADAuJ,EAAMo0D,QAANp0D,GAAiB00D,CAAjB10D,EACO00D,EAAWntD,CAAXmtD,EAAmB10D,CAAnB00D,CAAP;AACK,cAAU,OAANj+D,CAAJ,EAEL,OADA8Q,EAAO3D,SAAP2D,IACO0gD,EAAI,OAAJA,EAAa,OAAbA,CAAP;AACK,cAAU,OAANxxD,CAAM,IAAO8Q,EAAOvX,KAAPuX,CAAa,KAAbA,CAAP,IAAoC,OAAN9Q,CAAM,IAAO8Q,EAAOvX,KAAPuX,CAAa,IAAbA,CAArD,EAEL,OADAA,EAAO3D,SAAP2D,IACO0gD,EAAI,SAAJA,EAAe,SAAfA,CAAP;AACK,cAAI6L,EAAe7qE,IAAf6qE,CAAoBr9D,CAApBq9D,CAAJ,EASL,OARU,OAANr9D,CAAM,IAAQuJ,EAAM20D,OAAd,IAA+C,OAAtB30D,EAAM20D,OAAN30D,CAAc/G,IAAvC,KACJsO,EAAO9D,GAAP8D,CAAW,GAAXA,IACQ,OAAN9Q,CAAM,IAAa,OAANA,CAAP,IAAkB8Q,EAAO9D,GAAP8D,CAAW,GAAXA,CAD1BA,GAEO,WAAWte,IAAX,CAAgBwN,CAAhB,MACT8Q,EAAO9D,GAAP8D,CAAW9Q,CAAX8Q,GACU,OAAN9Q,CAAM,IAAK8Q,EAAO9D,GAAP8D,CAAW9Q,CAAX8Q,CAFN,CAHH,GAQH0gD,EAAI,UAAJA,EAAgB,UAAhBA,EAA4B1gD,EAAO9W,OAAP8W,EAA5B0gD,CAAP;;AACK,cAAIgJ,EAAOhoE,IAAPgoE,CAAYx6D,CAAZw6D,CAAJ,EAAqB;AAC1B1pD,cAAO7D,QAAP6D,CAAgB0pD,CAAhB1pD;AACA,gBAAIgvC,IAAOhvC,EAAO9W,OAAP8W,EAAX;;AACA,gBAAsB,OAAlBvH,EAAM40D,QAAV,EAA2B;AACzB,kBAAIzD,EAAS0D,oBAAT1D,CAA8B5a,CAA9B4a,CAAJ,EAAyC;AACvC,oBAAIC,IAAKD,EAAS5a,CAAT4a,CAAT;AACA,uBAAOlJ,EAAImJ,EAAGn4D,IAAPgvD,EAAamJ,EAAG5/D,KAAhBy2D,EAAuB1R,CAAvB0R,CAAP;AAEF;;AAAA,kBAAY,WAAR1R,CAAQ,IAAWhvC,EAAOvX,KAAPuX,CAAa,4BAAbA,EAAa,CAA8B,CAA3CA,CAAvB,EACE,OAAO0gD,EAAI,OAAJA,EAAa,SAAbA,EAAwB1R,CAAxB0R,CAAP;AAEJ;;AAAA,mBAAOA,EAAI,UAAJA,EAAgB,UAAhBA,EAA4B1R,CAA5B0R,CAAP;AAAmC1R;AAoBvC;;AAAA,iBAAS+d,CAAT,CAAsB/sD,CAAtB,EAA8BvH,CAA9B,EAA8BA;AAE5B,eADA,IAAsBvJ,CAAtB,EAAIq+D,KAAW,CACf,EAAOr+D,IAAK8Q,EAAO/D,IAAP+D,EAAZ,GAA2B;AACzB,gBAAU,OAAN9Q,CAAM,IAAOq+D,CAAjB,EAA2B;AACzB90D,gBAAMo0D,QAANp0D,GAAiBk0D,CAAjBl0D;AACA;AAEF80D;;AAAAA,gBAAkB,OAANr+D,CAAZq+D;AAEF;;AAAA,iBAAO7M,EAAI,SAAJA,EAAe,SAAfA,CAAP;AAGF;;AAAA,iBAASyM,CAAT,CAAoBntD,CAApB,EAA4BvH,CAA5B,EAA4BA;AAE1B,eADA,IAAqBwD,CAArB,EAAI6wD,KAAU,CACd,EAAiC,SAAzB7wD,IAAO+D,EAAO/D,IAAP+D,EAAkB,CAAjC,GAAuC;AACrC,iBAAK8sD,CAAL,KAAyB,OAAR7wD,CAAQ,IAAe,OAARA,CAAQ,IAAO+D,EAAO9D,GAAP8D,CAAW,GAAXA,CAA/C,GAAiE;AAC/DvH,gBAAMo0D,QAANp0D,GAAiBk0D,CAAjBl0D;AACA;AAEFq0D;;AAAAA,iBAAWA,CAAXA,IAA8B,QAAR7wD,CAAtB6wD;AAEF;;AAAA,iBAAOpM,EAAI,OAAJA,EAAa,UAAbA,EAAyB1gD,EAAO9W,OAAP8W,EAAzB0gD,CAAP;AAWF;;AAAA,iBAAS8M,CAAT,CAAsBxtD,CAAtB,EAA8BvH,CAA9B,EAA8BA;AACxBA,YAAMg1D,UAANh1D,KAAkBA,EAAMg1D,UAANh1D,GAAmB,IAArCA;AACJ,cAAIi1D,IAAQ1tD,EAAOze,MAAPye,CAAc9e,OAAd8e,CAAsB,IAAtBA,EAA4BA,EAAOrc,KAAnCqc,CAAZ;;AACA,gBAAI0tD,IAAQ,CAAZ;AAEA,gBAAIlE,CAAJ,EAAU;AACR,kBAAIpqE,IAAI,6CAA6CgI,IAA7C,CAAkD4Y,EAAOze,MAAPye,CAAc3W,KAAd2W,CAAoBA,EAAOrc,KAA3Bqc,EAAkC0tD,CAAlC1tD,CAAlD,CAAR;AACI5gB,oBAAGsuE,IAAQtuE,EAAEkK,KAAblK;AAIN;;AAAA,iBADA,IAAIuuE,IAAQ,CAAZ,EAAeC,KAAe,CAA9B,EACS1/D,IAAMw/D,IAAQ,CAAvB,EAA0Bx/D,KAAO,CAAjC,EAAiC,EAAKA,CAAtC,EAA2C;AACzC,kBAAIgB,IAAK8Q,EAAOze,MAAPye,CAAcnQ,MAAdmQ,CAAqB9R,CAArB8R,CAAT;AAAA,kBACI6tD,IArBO,SAqBY3sE,OArBZ,CAqBoBgO,CArBpB,CAoBX;;AAEA,kBAAI2+D,KAAW,CAAXA,IAAgBA,IAAU,CAA9B,EAAiC;AAC/B,qBAAKF,CAAL,EAAY;AAAA,oBAAIz/D,CAAJ;AAAS;AACrB;;AAAA,oBAAe,OAATy/D,CAAN,EAAkB;AAAY,yBAANz+D,CAAM,KAAK0+D,KAAe,CAApB;AAA0B;AAAA;AAAA,eAF1D,MAGO,IAAIC,KAAW,CAAXA,IAAgBA,IAAU,CAA9B,EAA8B,EACjCF,CADiC,CAA9B,KAEA,IAAIjE,EAAOhoE,IAAPgoE,CAAYx6D,CAAZw6D,CAAJ,EACLkE,KAAe,CAAfA,CADK,KAEA,IAAI,UAAUlsE,IAAV,CAAewN,CAAf,CAAJ,EACL,UAAUhB,CAAV,EAAe;AACb,oBAAW,KAAPA,CAAJ,EAAc;;AAEd,oBADW8R,EAAOze,MAAPye,CAAcnQ,MAAdmQ,CAAqB9R,IAAM,CAA3B8R,KACC9Q,CADD8Q,IACwC,QAAjCA,EAAOze,MAAPye,CAAcnQ,MAAdmQ,CAAqB9R,IAAM,CAA3B8R,CAAlB,EAAyD;AAAE9R;AAAO;AAAA;AAAA,eAJ/D,MAMA,IAAI0/D,MAAiBD,CAArB,EAA4B;AAAA,kBAC/Bz/D,CAD+B;AAEjC;AAAA;AAGA0/D;;AAAAA,kBAAiBD,CAAjBC,KAAwBn1D,EAAMg1D,UAANh1D,GAAmBvK,CAA3C0/D;AAA2C1/D;AAKjD;;AAAA,YAAI4/D,IAAc;AAAC3D,iBAAQ,CAAT;AAAe4D,mBAAU,CAAzB;AAA+BC,qBAAY,CAA3C;AAAiDzsE,mBAAU,CAA3D;AAAiE0sE,mBAAU,CAA3E;AAAiFjqE,iBAAQ,CAAzF;AAA+F,6BAAkB;AAAjH,SAAlB;;AAEA,iBAASkqE,CAAT,CAAmB3uD,CAAnB,EAA6B9b,CAA7B,EAAqCiO,CAArC,EAA2Cw3B,CAA3C,EAAkDz3B,CAAlD,EAAwDoH,CAAxD,EAAwDA;AACtD7U,eAAKub,QAALvb,GAAgBub,CAAhBvb,EACAA,KAAKP,MAALO,GAAcP,CADdO,EAEAA,KAAK0N,IAAL1N,GAAY0N,CAFZ1N,EAGAA,KAAKyN,IAALzN,GAAYyN,CAHZzN,EAIAA,KAAK6U,IAAL7U,GAAY6U,CAJZ7U,EAKa,QAATklC,CAAS,KAAMllC,KAAKklC,KAALllC,GAAaklC,CAAnB,CALbllC;AAQF;;AAAA,iBAASmqE,CAAT,CAAiB11D,CAAjB,EAAwB21D,CAAxB,EAAwBA;AACtB,eAAK,IAAI/5B,IAAI57B,EAAM41D,SAAnB,EAA8Bh6B,CAA9B,EAAiCA,IAAIA,EAAEp4B,IAAvC,EACE,IAAIo4B,EAAE90C,IAAF80C,IAAU+5B,CAAd,EAAuB,QAAO,CAAP;;AACzB,eAAK,IAAIE,IAAK71D,EAAMgF,OAApB,EAA6B6wD,CAA7B,EAAiCA,IAAKA,EAAG78D,IAAzC,EACE,KAAS4iC,IAAIi6B,EAAGC,IAAhB,EAAsBl6B,CAAtB,EAAyBA,IAAIA,EAAEp4B,IAA/B,EACE,IAAIo4B,EAAE90C,IAAF80C,IAAU+5B,CAAd,EAAuB,QAAO,CAAP;AA2B7B;;AAAA,YAAIE,IAAK;AAAC71D,iBAAO,IAAR;AAAchV,kBAAQ,IAAtB;AAA4B+qE,kBAAQ,IAApC;AAA0CC,cAAI;AAA9C,SAAT;;AACA,iBAASC,CAAT,GAASA;AACP,eAAK,IAAI1vE,IAAI6D,UAAUxB,MAAVwB,GAAmB,CAAhC,EAAmC7D,KAAK,CAAxC,EAA2CA,GAA3C,EAAgDsvE,EAAGG,EAAHH,CAAM3nE,IAAN2nE,CAAWzrE,UAAU7D,CAAV6D,CAAXyrE;AAElD;;AAAA,iBAAS5B,CAAT,GAASA;AAEP,iBADAgC,EAAKviE,KAALuiE,CAAW,IAAXA,EAAiB7rE,SAAjB6rE,GAAiB7rE,CACV,CAAP;AAEF;;AAAA,iBAAS8rE,CAAT,CAAgBpvE,CAAhB,EAAsB8F,CAAtB,EAAsBA;AACpB,eAAK,IAAIgvC,IAAIhvC,CAAb,EAAmBgvC,CAAnB,EAAsBA,IAAIA,EAAEp4B,IAA5B,EAAkC,IAAIo4B,EAAE90C,IAAF80C,IAAU90C,CAAd,EAAoB,QAAO,CAAP;;AACtD,kBAAO,CAAP;AAEF;;AAAA,iBAASqvE,CAAT,CAAkBR,CAAlB,EAAkBA;AAChB,cAAI31D,IAAQ61D,EAAG71D,KAAf;AAEA,cADA61D,EAAGE,MAAHF,GAAY,KAAZA,EACI71D,EAAMgF,OAAV,EACE,IAA0B,SAAtBhF,EAAM20D,OAAN30D,CAAcI,IAAQ,IAASJ,EAAMgF,OAAf,IAA0BhF,EAAMgF,OAANhF,CAAco2D,KAAlE,EAAyE;AAEvE,gBAAIC,IAcV,SAASC,CAAT,CAA2BX,CAA3B,EAAoC3wD,CAApC,EAAoCA;AAClC,kBAAKA,CAAL,EAEO;AAAA,oBAAIA,EAAQoxD,KAAZ,EAAmB;AACxB,sBAAI9xD,IAAQgyD,EAAkBX,CAAlBW,EAA2BtxD,EAAQhM,IAAnCs9D,CAAZ;AACA,yBAAKhyD,IACDA,KAASU,EAAQhM,IAAjBsL,GAA8BU,CAA9BV,GACG,IAAIK,CAAJ,CAAYL,CAAZ,EAAmBU,EAAQ8wD,IAA3B,EAA2BA,CAAM,CAAjC,CAFFxxD,GAAc,IAAnB;AAGK;;AAAA,uBAAI4xD,EAAOP,CAAPO,EAAgBlxD,EAAQ8wD,IAAxBI,IACFlxD,CADEkxD,GAGF,IAAIvxD,CAAJ,CAAYK,EAAQhM,IAApB,EAA0B,IAAIu9D,CAAJ,CAAQZ,CAAR,EAAiB3wD,EAAQ8wD,IAAzB,CAA1B,EAAmDA,CAAO,CAA1D,CAHF;AANL;;AAAA,qBAAO,IAAP;AAhBmBQ,aAcvB,CAdyCX,CAczC,EAdkD31D,EAAMgF,OAcxD,CAdM;;AACA,gBAAkB,QAAdqxD,CAAJ,EAEE,aADAr2D,EAAMgF,OAANhF,GAAgBq2D,CAChB;AADgBA,WAJpB,MAOO,KAAKH,EAAOP,CAAPO,EAAgBl2D,EAAM41D,SAAtBM,CAAL,EAEL,aADAl2D,EAAM41D,SAAN51D,GAAkB,IAAIu2D,CAAJ,CAAQZ,CAAR,EAAiB31D,EAAM41D,SAAvB,CAClB;AAIAnF,YAAa+F,UAAb/F,IAAa+F,CAAeN,EAAOP,CAAPO,EAAgBl2D,EAAMw2D,UAAtBN,CAA5BzF,KACFzwD,EAAMw2D,UAANx2D,GAAmB,IAAIu2D,CAAJ,CAAQZ,CAAR,EAAiB31D,EAAMw2D,UAAvB,CADjB/F;AAkBN;;AAAA,iBAASgG,CAAT,CAAoB3vE,CAApB,EAAoBA;AAClB,iBAAe,YAARA,CAAQ,IAAoB,aAARA,CAAZ,IAAyC,eAARA,CAAjC,IAAgE,cAARA,CAAxD,IAAsF,cAARA,CAA7F;AAKF;;AAAA,iBAAS6d,CAAT,CAAiB3L,CAAjB,EAAuB88D,CAAvB,EAA6BM,CAA7B,EAA6BA;AAAS7qE,eAAKyN,IAALzN,GAAYyN,CAAZzN,EAAkBA,KAAKuqE,IAALvqE,GAAYuqE,CAA9BvqE,EAAoCA,KAAK6qE,KAAL7qE,GAAa6qE,CAAjD7qE;AACtC;;AAAA,iBAASgrE,CAAT,CAAazvE,CAAb,EAAmB0c,CAAnB,EAAmBA;AAAQjY,eAAKzE,IAALyE,GAAYzE,CAAZyE,EAAkBA,KAAKiY,IAALjY,GAAYiY,CAA9BjY;AAE3B;;AAAA,YAAImrE,IAAc,IAAIH,CAAJ,CAAQ,MAAR,EAAgB,IAAIA,CAAJ,CAAQ,WAAR,EAAqB,IAArB,CAAhB,CAAlB;;AACA,iBAASI,CAAT,GAASA;AACPd,YAAG71D,KAAH61D,CAAS7wD,OAAT6wD,GAAmB,IAAIlxD,CAAJ,CAAYkxD,EAAG71D,KAAH61D,CAAS7wD,OAArB,EAA8B6wD,EAAG71D,KAAH61D,CAASD,SAAvC,EAAuCA,CAAW,CAAlD,CAAnBC,EACAA,EAAG71D,KAAH61D,CAASD,SAATC,GAAqBa,CADrBb;AAGF;;AAAA,iBAASe,CAAT,GAASA;AACPf,YAAG71D,KAAH61D,CAAS7wD,OAAT6wD,GAAmB,IAAIlxD,CAAJ,CAAYkxD,EAAG71D,KAAH61D,CAAS7wD,OAArB,EAA8B6wD,EAAG71D,KAAH61D,CAASD,SAAvC,EAAuCA,CAAW,CAAlD,CAAnBC,EACAA,EAAG71D,KAAH61D,CAASD,SAATC,GAAqB,IADrBA;AAGF;;AAAA,iBAASgB,CAAT,GAASA;AACPhB,YAAG71D,KAAH61D,CAASD,SAATC,GAAqBA,EAAG71D,KAAH61D,CAAS7wD,OAAT6wD,CAAiBC,IAAtCD,EACAA,EAAG71D,KAAH61D,CAAS7wD,OAAT6wD,GAAmBA,EAAG71D,KAAH61D,CAAS7wD,OAAT6wD,CAAiB78D,IADpC68D;AAIF;;AAAA,iBAASiB,CAAT,CAAiB79D,CAAjB,EAAuBmH,CAAvB,EAAuBA;AACrB,cAAInC,IAAS;AACX,gBAAI+B,IAAQ61D,EAAG71D,KAAf;AAAA,gBAAsBm4C,IAASn4C,EAAM8G,QAArC;AACA,gBAA0B,UAAtB9G,EAAM20D,OAAN30D,CAAc/G,IAAlB,EAAkCk/C,IAASn4C,EAAM20D,OAAN30D,CAAc8G,QAAvBqxC,CAAlC,KACK,KAAK,IAAIn2C,IAAQhC,EAAM20D,OAAvB,EAAgC3yD,KAAuB,OAAdA,EAAM/I,IAAf+I,IAA8BA,EAAMyuB,KAApE,EAA2EzuB,IAAQA,EAAMhJ,IAAzF,EACHm/C,IAASn2C,EAAM8E,QAAfqxC;AACFn4C,cAAM20D,OAAN30D,GAAgB,IAAIy1D,CAAJ,CAActd,CAAd,EAAsB0d,EAAGtuD,MAAHsuD,CAAU7qE,MAAV6qE,EAAtB,EAA0C58D,CAA1C,EAAgD,IAAhD,EAAsD+G,EAAM20D,OAA5D,EAAqEv0D,CAArE,CAAhBJ;AAAqFI,WALvF;;AAQA,iBADAnC,EAAO84D,GAAP94D,GAAO84D,CAAM,CAAb94D,EACOA,CAAP;AAEF;;AAAA,iBAAS+4D,CAAT,GAASA;AACP,cAAIh3D,IAAQ61D,EAAG71D,KAAf;AACIA,YAAM20D,OAAN30D,CAAchH,IAAdgH,KACwB,OAAtBA,EAAM20D,OAAN30D,CAAc/G,IAAQ,KACxB+G,EAAM8G,QAAN9G,GAAiBA,EAAM20D,OAAN30D,CAAc8G,QADP,GAE1B9G,EAAM20D,OAAN30D,GAAgBA,EAAM20D,OAAN30D,CAAchH,IAH5BgH;AAQN;;AAAA,iBAASi3D,CAAT,CAAgBC,CAAhB,EAAgBA;AAMd,iBALA,SAASC,CAAT,CAAal+D,CAAb,EAAaA;AACX,mBAAIA,KAAQi+D,CAARj+D,GAAuBg7D,GAAvBh7D,GACe,OAAVi+D,CAAU,IAAe,OAARj+D,CAAP,IAA8B,OAARA,CAAtB,IAA6C,OAARA,CAArC,GAAyDg9D,GAAzD,GACPhC,EAAKkD,CAALlD,CAFZ;AAEiBkD,WAEnB;AAGF;;AAAA,iBAASC,CAAT,CAAmBn+D,CAAnB,EAAyBzR,CAAzB,EAAyBA;AACvB,iBAAY,SAARyR,CAAQ,GAAcg7D,EAAK6C,EAAQ,QAARA,EAAkBtvE,CAAlBsvE,CAAL7C,EAA+BoD,EAA/BpD,EAAuCgD,EAAO,GAAPA,CAAvChD,EAAoD+C,CAApD/C,CAAd,GACA,eAARh7D,CAAQ,GAAoBg7D,EAAK6C,EAAQ,MAARA,CAAL7C,EAAsBqD,CAAtBrD,EAAiCmD,CAAjCnD,EAA4C+C,CAA5C/C,CAApB,GACA,eAARh7D,CAAQ,GAAoBg7D,EAAK6C,EAAQ,MAARA,CAAL7C,EAAsBmD,CAAtBnD,EAAiC+C,CAAjC/C,CAApB,GACA,eAARh7D,CAAQ,GAAoB48D,EAAGtuD,MAAHsuD,CAAU7lE,KAAV6lE,CAAgB,OAAhBA,EAAgB,CAAS,CAAzBA,IAAkC5B,GAAlC4B,GAA2C5B,EAAK6C,EAAQ,MAARA,CAAL7C,EAAsBsD,CAAtBtD,EAAuCgD,EAAO,GAAPA,CAAvChD,EAAoD+C,CAApD/C,CAA/D,GACA,cAARh7D,CAAQ,GAAmBg7D,EAAKgD,EAAO,GAAPA,CAALhD,CAAnB,GACA,OAARh7D,CAAQ,GAAYg7D,EAAK6C,EAAQ,GAARA,CAAL7C,EAAmB2C,CAAnB3C,EAAqCmC,EAArCnC,EAA4C+C,CAA5C/C,EAAoD4C,CAApD5C,CAAZ,GACA,OAARh7D,CAAQ,GAAYg7D,GAAZ,GACA,QAARh7D,CAAQ,IACmB,UAAzB48D,EAAG71D,KAAH61D,CAASlB,OAATkB,CAAiBz1D,IAAQ,IAAUy1D,EAAG71D,KAAH61D,CAASG,EAATH,CAAYA,EAAG71D,KAAH61D,CAASG,EAATH,CAAYjtE,MAAZitE,GAAqB,CAAjCA,KAAuCmB,CAAjD,IAC3BnB,EAAG71D,KAAH61D,CAASG,EAATH,CAAYj/B,GAAZi/B,IAD2B,EAEtB5B,EAAK6C,EAAQ,MAARA,CAAL7C,EAAsBqD,CAAtBrD,EAAiCmD,CAAjCnD,EAA4C+C,CAA5C/C,EAAoDuD,EAApDvD,CAHG,IAKA,cAARh7D,CAAQ,GAAmBg7D,EAAKwD,EAALxD,CAAnB,GACA,SAARh7D,CAAQ,GAAcg7D,EAAK6C,EAAQ,MAARA,CAAL7C,EAAsByD,EAAtBzD,EAA+BmD,CAA/BnD,EAA0C+C,CAA1C/C,CAAd,GACA,WAARh7D,CAAQ,IAAY83D,KAAiB,eAATvpE,CAApB,IACVquE,EAAGE,MAAHF,GAAY,SAAZA,EACO5B,EAAK6C,EAAQ,MAARA,EAAwB,WAAR79D,CAAQ,GAAUA,CAAV,GAAiBzR,CAAzCsvE,CAAL7C,EAAsDvjE,EAAtDujE,EAAiE+C,CAAjE/C,CAFG,IAIA,cAARh7D,CAAQ,GACN83D,KAAiB,aAATvpE,CAARupE,IACF8E,EAAGE,MAAHF,GAAY,SAAZA,EACO5B,EAAKmD,CAALnD,CAFLlD,IAGOA,MAAkB,YAATvpE,CAAS,IAAqB,UAATA,CAAZ,IAAwC,UAATA,CAAjDupE,KAAqE8E,EAAGtuD,MAAHsuD,CAAU7lE,KAAV6lE,CAAgB,QAAhBA,EAAgB,CAAU,CAA1BA,CAArE9E,IACT8E,EAAGE,MAAHF,GAAY,SAAZA,EACa,UAATruE,CAAS,GAAeysE,EAAK0D,EAAL1D,CAAf,GACK,UAATzsE,CAAS,GAAeysE,EAAK2D,EAAL3D,EAAegD,EAAO,UAAPA,CAAfhD,EAAmC4D,EAAnC5D,EAA6CgD,EAAO,GAAPA,CAA7ChD,CAAf,GACNA,EAAK6C,EAAQ,MAARA,CAAL7C,EAAsBjwD,EAAtBiwD,EAA+BgD,EAAO,GAAPA,CAA/BhD,EAA4C6C,EAAQ,GAARA,CAA5C7C,EAA0DmC,EAA1DnC,EAAiE+C,CAAjE/C,EAAyE+C,CAAzE/C,CAJHlD,IAKAA,KAAiB,eAATvpE,CAARupE,IACT8E,EAAGE,MAAHF,GAAY,SAAZA,EACO5B,EAAK6C,EAAQ,MAARA,CAAL7C,EAAsB6D,CAAtB7D,EAAkCmD,CAAlCnD,EAA6C+C,CAA7C/C,CAFElD,IAGAA,KAAiB,cAATvpE,CAARupE,IACT8E,EAAGE,MAAHF,GAAY,SAAZA,EACO5B,EAAKmD,CAALnD,CAFElD,IAIFkD,EAAK6C,EAAQ,MAARA,CAAL7C,EAAsB8D,CAAtB9D,CAhBC,GAmBA,YAARh7D,CAAQ,GAAiBg7D,EAAK6C,EAAQ,MAARA,CAAL7C,EAAsBqD,CAAtBrD,EAAiCgD,EAAO,GAAPA,CAAjChD,EAA8C6C,EAAQ,GAARA,EAAa,QAAbA,CAA9C7C,EAAsE2C,CAAtE3C,EACKmC,EADLnC,EACY+C,CADZ/C,EACoB+C,CADpB/C,EAC4B4C,CAD5B5C,CAAjB,GAEA,UAARh7D,CAAQ,GAAeg7D,EAAK6D,CAAL7D,EAAiBgD,EAAO,GAAPA,CAAjBhD,CAAf,GACA,aAARh7D,CAAQ,GAAkBg7D,EAAKgD,EAAO,GAAPA,CAALhD,CAAlB,GACA,WAARh7D,CAAQ,GAAgBg7D,EAAK6C,EAAQ,MAARA,CAAL7C,EAAsB0C,CAAtB1C,EAAmC+D,CAAnC/D,EAAsDmD,CAAtDnD,EAAiE+C,CAAjE/C,EAAyE4C,CAAzE5C,CAAhB,GACA,YAARh7D,CAAQ,GAAiBg7D,EAAK6C,EAAQ,MAARA,CAAL7C,EAAsBgE,EAAtBhE,EAAmC+C,CAAnC/C,CAAjB,GACA,YAARh7D,CAAQ,GAAiBg7D,EAAK6C,EAAQ,MAARA,CAAL7C,EAAsBiE,EAAtBjE,EAAmC+C,CAAnC/C,CAAjB,GACA,WAARh7D,CAAQ,GAAgBg7D,EAAKmD,CAALnD,CAAhB,GACC,OAATzsE,CAAS,GAAYysE,EAAK6D,CAAL7D,EAAiBmD,CAAjBnD,CAAZ,GACNgC,EAAKa,EAAQ,MAARA,CAALb,EAAsB6B,CAAtB7B,EAAkCgB,EAAO,GAAPA,CAAlChB,EAA+Ce,CAA/Cf,CA9CP;AAgDF;;AAAA,iBAAS+B,CAAT,CAA2B/+D,CAA3B,EAA2BA;AACzB,cAAY,OAARA,CAAJ,EAAiB,OAAOg7D,EAAKkE,EAALlE,EAAagD,EAAO,GAAPA,CAAbhD,CAAP;AAEnB;;AAAA,iBAAS6D,CAAT,CAAoB7+D,CAApB,EAA0BzR,CAA1B,EAA0BA;AACxB,iBAAO4wE,EAAgBn/D,CAAhBm/D,EAAsB5wE,CAAtB4wE,EAAsB5wE,CAAO,CAA7B4wE,CAAP;AAEF;;AAAA,iBAASC,CAAT,CAA2Bp/D,CAA3B,EAAiCzR,CAAjC,EAAiCA;AAC/B,iBAAO4wE,EAAgBn/D,CAAhBm/D,EAAsB5wE,CAAtB4wE,EAAsB5wE,CAAO,CAA7B4wE,CAAP;AAEF;;AAAA,iBAASd,CAAT,CAAmBr+D,CAAnB,EAAmBA;AACjB,iBAAY,OAARA,CAAQ,GAAYg9D,GAAZ,GACLhC,EAAK6C,EAAQ,GAARA,CAAL7C,EAAmB6D,CAAnB7D,EAA+BgD,EAAO,GAAPA,CAA/BhD,EAA4C+C,CAA5C/C,CADP;AAGF;;AAAA,iBAASmE,CAAT,CAAyBn/D,CAAzB,EAA+BzR,CAA/B,EAAsC8wE,CAAtC,EAAsCA;AACpC,cAAIzC,EAAG71D,KAAH61D,CAASb,UAATa,IAAuBA,EAAGtuD,MAAHsuD,CAAU3qE,KAArC,EAA4C;AAC1C,gBAAImH,IAAOimE,IAAUC,CAAVD,GAA6BE,CAAxC;AACA,gBAAY,OAARv/D,CAAJ,EAAiB,OAAOg7D,EAAK0C,CAAL1C,EAAkB6C,EAAQ,GAARA,CAAlB7C,EAAgCwE,GAASN,EAATM,EAAiB,GAAjBA,CAAhCxE,EAAuD+C,CAAvD/C,EAA+DgD,EAAO,IAAPA,CAA/DhD,EAA6E5hE,CAA7E4hE,EAAmF4C,CAAnF5C,CAAP;AACZ,gBAAY,cAARh7D,CAAJ,EAAwB,OAAOg9D,EAAKU,CAALV,EAAkBjyD,EAAlBiyD,EAA2BgB,EAAO,IAAPA,CAA3BhB,EAAyC5jE,CAAzC4jE,EAA+CY,CAA/CZ,CAAP;AAG/B;;AAAA,cAAIyC,IAAUJ,IAAUK,CAAVL,GAAiCM,CAA/C;AACA,iBAAIvD,EAAYhtE,cAAZgtE,CAA2Bp8D,CAA3Bo8D,IAAyCpB,EAAKyE,CAALzE,CAAzCoB,GACQ,cAARp8D,CAAQ,GAAmBg7D,EAAKwD,EAALxD,EAAkByE,CAAlBzE,CAAnB,GACA,WAARh7D,CAAQ,IAAY83D,KAAiB,eAATvpE,CAApB,IAA6CquE,EAAGE,MAAHF,GAAY,SAAZA,EAA8B5B,EAAK6C,EAAQ,MAARA,CAAL7C,EAAsB4E,EAAtB5E,EAAuC+C,CAAvC/C,CAA3E,IACA,eAARh7D,CAAQ,IAAuB,WAARA,CAAf,GAAuCg7D,EAAKqE,IAAUD,CAAVC,GAA8BR,CAAnC7D,CAAvC,GACA,OAARh7D,CAAQ,GAAYg7D,EAAK6C,EAAQ,GAARA,CAAL7C,EAAmBsD,CAAnBtD,EAAoCgD,EAAO,GAAPA,CAApChD,EAAiD+C,CAAjD/C,EAAyDyE,CAAzDzE,CAAZ,GACA,cAARh7D,CAAQ,IAAsB,YAARA,CAAd,GAAuCg7D,EAAKqE,IAAUD,CAAVC,GAA8BR,CAAnC7D,CAAvC,GACA,OAARh7D,CAAQ,GAAYg7D,EAAK6C,EAAQ,GAARA,CAAL7C,EAAmB6E,EAAnB7E,EAAiC+C,CAAjC/C,EAAyCyE,CAAzCzE,CAAZ,GACA,OAARh7D,CAAQ,GAAY8/D,GAAaC,EAAbD,EAAsB,GAAtBA,EAA2B,IAA3BA,EAAiCL,CAAjCK,CAAZ,GACA,WAAR9/D,CAAQ,GAAgBg9D,EAAKgD,CAALhD,EAAYyC,CAAZzC,CAAhB,GACA,SAARh9D,CAAQ,GAAcg7D,EAwD5B,UAAqBqE,CAArB,EAAqBA;AACnB,mBAAO,UAASr/D,CAAT,EAASA;AACd,qBAAY,OAARA,CAAQ,GAAYg7D,EAAKqE,IAAUY,CAAVZ,GAA0BpsE,CAA/B+nE,CAAZ,GACK,cAARh7D,CAAQ,IAAc83D,CAAd,GAA2BkD,EAAKkF,EAALlF,EAAoBqE,IAAUK,CAAVL,GAAiCM,CAArD3E,CAA3B,GACLgC,EAAKqC,IAAUD,CAAVC,GAA8BR,CAAnC7B,CAFZ;AAE+C6B,aAHjD;AAzD+BsB,WAwDjC,CAxD6Cd,CAwD7C,CAxD4BrE,CAAd,GACA,YAARh7D,CAAQ,GAAiBg7D,EAAK6D,CAAL7D,CAAjB,GACLA,GAXP;AAaF;;AAAA,iBAASsD,CAAT,CAAyBt+D,CAAzB,EAAyBA;AACvB,iBAAIA,EAAKjJ,KAALiJ,CAAW,YAAXA,IAAiCg9D,GAAjCh9D,GACGg9D,EAAK6B,CAAL7B,CADP;AAIF;;AAAA,iBAAS2C,CAAT,CAA4B3/D,CAA5B,EAAkCzR,CAAlC,EAAkCA;AAChC,iBAAY,OAARyR,CAAQ,GAAYg7D,EAAK6D,CAAL7D,CAAZ,GACL0E,EAAqB1/D,CAArB0/D,EAA2BnxE,CAA3BmxE,EAA2BnxE,CAAO,CAAlCmxE,CADP;AAGF;;AAAA,iBAASA,CAAT,CAA8B1/D,CAA9B,EAAoCzR,CAApC,EAA2C8wE,CAA3C,EAA2CA;AACzC,cAAI56B,IAAgB,KAAX46B,CAAW,GAAQM,CAAR,GAA6BD,CAAjD;AAAA,cACIU,IAAkB,KAAXf,CAAW,GAAQR,CAAR,GAAqBO,CAD3C;AAEA,iBAAY,QAARp/D,CAAQ,GAAag7D,EAAK0C,CAAL1C,EAAkBqE,IAAUC,CAAVD,GAA6BE,CAA/CvE,EAA0D4C,CAA1D5C,CAAb,GACA,cAARh7D,CAAQ,GACN,UAAUhQ,IAAV,CAAezB,CAAf,KAAyBupE,KAAiB,OAATvpE,CAAjC,GAAsDysE,EAAKv2B,CAALu2B,CAAtD,GACAlD,KAAiB,OAATvpE,CAARupE,IAAwB8E,EAAGtuD,MAAHsuD,CAAU7lE,KAAV6lE,CAAgB,sBAAhBA,EAAgB,CAAwB,CAAxCA,CAAxB9E,GACKkD,EAAK6C,EAAQ,GAARA,CAAL7C,EAAmBwE,GAASZ,EAATY,EAAmB,GAAnBA,CAAnBxE,EAA4C+C,CAA5C/C,EAAoDv2B,CAApDu2B,CADLlD,GAES,OAATvpE,CAAS,GAAYysE,EAAK6D,CAAL7D,EAAiBgD,EAAO,GAAPA,CAAjBhD,EAA8BoF,CAA9BpF,CAAZ,GACNA,EAAKoF,CAALpF,CALG,GAOA,WAARh7D,CAAQ,GAAkBg9D,EAAKgD,CAALhD,EAAYv4B,CAAZu4B,CAAlB,GACA,OAARh9D,CAAQ,GACA,OAARA,CAAQ,GAAY8/D,GAAaV,CAAbU,EAAgC,GAAhCA,EAAqC,MAArCA,EAA6Cr7B,CAA7Cq7B,CAAZ,GACA,OAAR9/D,CAAQ,GAAYg7D,EAAK9rE,CAAL8rE,EAAev2B,CAAfu2B,CAAZ,GACA,OAARh7D,CAAQ,GAAYg7D,EAAK6C,EAAQ,GAARA,CAAL7C,EAAmBsD,CAAnBtD,EAAoCgD,EAAO,GAAPA,CAApChD,EAAiD+C,CAAjD/C,EAAyDv2B,CAAzDu2B,CAAZ,GACRlD,KAAiB,QAATvpE,CAARupE,IAAyB8E,EAAGE,MAAHF,GAAY,SAAZA,EAA8B5B,EAAK4D,EAAL5D,EAAev2B,CAAfu2B,CAAvDlD,IACQ,YAAR93D,CAAQ,IACV48D,EAAG71D,KAAH61D,CAASjB,QAATiB,GAAoBA,EAAGE,MAAHF,GAAY,UAAhCA,EACAA,EAAGtuD,MAAHsuD,CAAU/xD,MAAV+xD,CAAiBA,EAAGtuD,MAAHsuD,CAAUpgE,GAAVogE,GAAgBA,EAAGtuD,MAAHsuD,CAAU3qE,KAA1B2qE,GAAkC,CAAnDA,CADAA,EAEO5B,EAAKoF,CAALpF,CAHG,IAGEoF,KAHd,CALY,GAKZ,KALA,CATA;AAoBF;;AAAA,iBAASJ,CAAT,CAAehgE,CAAf,EAAqBzR,CAArB,EAAqBA;AACnB,iBAAY,WAARyR,CAAQ,GAAgBg9D,GAAhB,GACyB,QAAjCzuE,EAAMoJ,KAANpJ,CAAYA,EAAMoB,MAANpB,GAAe,CAA3BA,CAAiC,GAAaysE,EAAKgF,CAALhF,CAAb,GAC9BA,EAAK6D,CAAL7D,EAAiBqF,CAAjBrF,CAFP;AAIF;;AAAA,iBAASqF,CAAT,CAAuBrgE,CAAvB,EAAuBA;AACrB,cAAY,OAARA,CAAJ,EAGE,OAFA48D,EAAGE,MAAHF,GAAY,UAAZA,EACAA,EAAG71D,KAAH61D,CAASzB,QAATyB,GAAoBnB,CADpBmB,EAEO5B,EAAKgF,CAALhF,CAAP;AAGJ;;AAAA,iBAASuE,CAAT,CAAmBv/D,CAAnB,EAAmBA;AAEjB,iBADA87D,EAAac,EAAGtuD,MAAhBwtD,EAAwBc,EAAG71D,KAA3B+0D,GACOkB,EAAa,OAARh9D,CAAQ,GAAMm+D,CAAN,GAAkBU,CAA/B7B,CAAP;AAEF;;AAAA,iBAASsC,CAAT,CAA0Bt/D,CAA1B,EAA0BA;AAExB,iBADA87D,EAAac,EAAGtuD,MAAhBwtD,EAAwBc,EAAG71D,KAA3B+0D,GACOkB,EAAa,OAARh9D,CAAQ,GAAMm+D,CAAN,GAAkBiB,CAA/BpC,CAAP;AASF;;AAAA,iBAAS/pE,CAAT,CAAgB67D,CAAhB,EAAmBvgE,CAAnB,EAAmBA;AACjB,cAAa,YAATA,CAAJ,EAAgD,OAAvBquE,EAAGE,MAAHF,GAAY,SAAZA,EAA8B5B,EAAK2E,CAAL3E,CAAP;AAElD;;AAAA,iBAASiF,CAAT,CAAuBnR,CAAvB,EAA0BvgE,CAA1B,EAA0BA;AACxB,cAAa,YAATA,CAAJ,EAAgD,OAAvBquE,EAAGE,MAAHF,GAAY,SAAZA,EAA8B5B,EAAK0E,CAAL1E,CAAP;AAElD;;AAAA,iBAAS8D,CAAT,CAAoB9+D,CAApB,EAAoBA;AAClB,iBAAY,OAARA,CAAQ,GAAYg7D,EAAK+C,CAAL/C,EAAamD,CAAbnD,CAAZ,GACLgC,EAAK2C,CAAL3C,EAAyBgB,EAAO,GAAPA,CAAzBhB,EAAsCe,CAAtCf,CADP;AAGF;;AAAA,iBAAS9tE,CAAT,CAAkB8Q,CAAlB,EAAkBA;AAChB,cAAY,cAARA,CAAJ,EAAiD,OAAxB48D,EAAGE,MAAHF,GAAY,UAAZA,EAA+B5B,GAAP;AAEnD;;AAAA,iBAAS+E,EAAT,CAAiB//D,CAAjB,EAAuBzR,CAAvB,EAAuBA;AACrB,iBAAY,WAARyR,CAAQ,IACV48D,EAAGE,MAAHF,GAAY,UAAZA,EACO5B,EAAK+E,EAAL/E,CAFG,IAGO,cAARh7D,CAAQ,IAA0B,aAAZ48D,EAAGrkE,KAAjB,IACjBqkE,EAAGE,MAAHF,GAAY,UAAZA,EACa,SAATruE,CAAS,IAAkB,SAATA,CAAT,GAAgCysE,EAAKsF,EAALtF,CAAhC,IAETlD,KAAQ8E,EAAG71D,KAAH61D,CAASb,UAATa,IAAuBA,EAAGtuD,MAAHsuD,CAAU3qE,KAAzC6lE,KAAmDpqE,IAAIkvE,EAAGtuD,MAAHsuD,CAAU7lE,KAAV6lE,CAAgB,UAAhBA,EAAgB,CAAY,CAA5BA,CAAvD9E,MACF8E,EAAG71D,KAAH61D,CAASb,UAATa,GAAsBA,EAAGtuD,MAAHsuD,CAAUpgE,GAAVogE,GAAgBlvE,EAAE,CAAFA,EAAKiC,MADzCmoE,GAEGkD,EAAKuF,EAALvF,CAJM,CAFI,IAOA,YAARh7D,CAAQ,IAAoB,YAARA,CAAZ,IACjB48D,EAAGE,MAAHF,GAAYlF,IAAa,UAAbA,GAA2BkF,EAAGrkE,KAAHqkE,GAAW,WAAlDA,EACO5B,EAAKuF,EAALvF,CAFU,IAGA,oBAARh7D,CAAQ,GACVg7D,EAAKuF,EAALvF,CADU,GAERlD,KAAQ0F,EAAWjvE,CAAXivE,CAAR1F,IACT8E,EAAGE,MAAHF,GAAY,SAAZA,EACO5B,EAAK+E,EAAL/E,CAFElD,IAGQ,OAAR93D,CAAQ,GACVg7D,EAAK6D,CAAL7D,EAAiBwF,EAAjBxF,EAA4BgD,EAAO,GAAPA,CAA5BhD,EAAyCuF,EAAzCvF,CADU,GAEA,YAARh7D,CAAQ,GACVg7D,EAAKoE,CAALpE,EAAwBuF,EAAxBvF,CADU,GAEC,OAATzsE,CAAS,IAClBquE,EAAGE,MAAHF,GAAY,SAAZA,EACO5B,EAAK+E,EAAL/E,CAFW,IAGD,OAARh7D,CAAQ,GACVg9D,EAAKuD,EAALvD,CADU,GACLuD,KADP,CAzBP;AAME,cAAI7yE,CAAJ;AAuBJ;;AAAA,iBAAS4yE,EAAT,CAAsBtgE,CAAtB,EAAsBA;AACpB,iBAAY,cAARA,CAAQ,GAAmBg9D,EAAKuD,EAALvD,CAAnB,IACZJ,EAAGE,MAAHF,GAAY,UAAZA,EACO5B,EAAKwD,EAALxD,CAFK,CAAZ;AAIF;;AAAA,iBAASuF,EAAT,CAAmBvgE,CAAnB,EAAmBA;AACjB,iBAAY,OAARA,CAAQ,GAAYg7D,EAAKoE,CAALpE,CAAZ,GACA,OAARh7D,CAAQ,GAAYg9D,EAAKwB,EAALxB,CAAZ,GAAiBwB,KAA7B,CADA;AAGF;;AAAA,iBAASgB,EAAT,CAAkBiB,CAAlB,EAAwBvuE,CAAxB,EAA6BwuE,CAA7B,EAA6BA;AAC3B,mBAASC,CAAT,CAAiB3gE,CAAjB,EAAuBzR,CAAvB,EAAuBA;AACrB,gBAAImyE,IAAMA,EAAIlxE,OAAJkxE,CAAY1gE,CAAZ0gE,IAAY1gE,CAAS,CAA3B0gE,GAAuC,OAAR1gE,CAAnC,EAAgD;AAC9C,kBAAI89D,IAAMlB,EAAG71D,KAAH61D,CAASlB,OAAnB;AAEA,qBADgB,UAAZoC,EAAI32D,IAAQ,KAAQ22D,EAAIthE,GAAJshE,GAAIthE,CAAOshE,EAAIthE,GAAJshE,IAAW,CAAlBthE,IAAuB,CAAnC,GACTw+D,EAAK,UAASh7D,CAAT,EAAezR,CAAf,EAAeA;AACzB,uBAAIyR,KAAQ9N,CAAR8N,IAAezR,KAAS2D,CAAxB8N,GAAoCg9D,GAApCh9D,GACGg9D,EAAKyD,CAALzD,CADP;AACYyD,eAFPzF,EAGJ2F,CAHI3F,CAAP;AAKF;;AAAA,mBAAIh7D,KAAQ9N,CAAR8N,IAAezR,KAAS2D,CAAxB8N,GAAoCg7D,GAApCh7D,GACA0gE,KAAOA,EAAIlxE,OAAJkxE,CAAY,GAAZA,IAAY,CAAQ,CAA3BA,GAAqC1D,EAAKyD,CAALzD,CAArC0D,GACG1F,EAAKgD,EAAO9rE,CAAP8rE,CAALhD,CAFP;AAIF;;AAAA,iBAAO,UAASh7D,CAAT,EAAezR,CAAf,EAAeA;AACpB,mBAAIyR,KAAQ9N,CAAR8N,IAAezR,KAAS2D,CAAxB8N,GAAoCg7D,GAApCh7D,GACGg9D,EAAKyD,CAALzD,EAAW2D,CAAX3D,CADP;AACkB2D,WAFpB;AAKF;;AAAA,iBAASb,EAAT,CAAsBW,CAAtB,EAA4BvuE,CAA5B,EAAiCiV,CAAjC,EAAiCA;AAC/B,eAAK,IAAI7Z,IAAI,CAAb,EAAgBA,IAAI6D,UAAUxB,MAA9B,EAAsCrC,GAAtC,EACEsvE,EAAGG,EAAHH,CAAM3nE,IAAN2nE,CAAWzrE,UAAU7D,CAAV6D,CAAXyrE;;AACF,iBAAO5B,EAAK6C,EAAQ3rE,CAAR2rE,EAAa12D,CAAb02D,CAAL7C,EAAyBwE,GAASiB,CAATjB,EAAettE,CAAfstE,CAAzBxE,EAA8C+C,CAA9C/C,CAAP;AAEF;;AAAA,iBAASmC,EAAT,CAAen9D,CAAf,EAAeA;AACb,iBAAY,OAARA,CAAQ,GAAYg7D,GAAZ,GACLgC,EAAKmB,CAALnB,EAAgBG,EAAhBH,CADP;AAGF;;AAAA,iBAASwD,EAAT,CAAmBxgE,CAAnB,EAAyBzR,CAAzB,EAAyBA;AACvB,cAAIupE,CAAJ,EAAU;AACR,gBAAY,OAAR93D,CAAJ,EAAiB,OAAOg7D,EAAK4D,EAAL5D,CAAP;AACjB,gBAAa,OAATzsE,CAAJ,EAAkB,OAAOysE,EAAKwF,EAALxF,CAAP;AAAYwF;AAGlC;;AAAA,iBAASI,EAAT,CAAuB5gE,CAAvB,EAA6BzR,CAA7B,EAA6BA;AAC3B,cAAIupE,MAAiB,OAAR93D,CAAQ,IAAgB,QAATzR,CAAxBupE,CAAJ,EAA4C,OAAOkD,EAAK4D,EAAL5D,CAAP;AAE9C;;AAAA,iBAAS6F,EAAT,CAAsB7gE,CAAtB,EAAsBA;AACpB,cAAI83D,KAAgB,OAAR93D,CAAZ,EACE,OAAI48D,EAAGtuD,MAAHsuD,CAAU7lE,KAAV6lE,CAAgB,gBAAhBA,EAAgB,CAAkB,CAAlCA,IAAiD5B,EAAK6D,CAAL7D,EAAiB8F,EAAjB9F,EAAuB4D,EAAvB5D,CAAjD4B,GACQ5B,EAAK4D,EAAL5D,CADZ;AAIJ;;AAAA,iBAAS8F,EAAT,CAAchS,CAAd,EAAiBvgE,CAAjB,EAAiBA;AACf,cAAa,QAATA,CAAJ,EAEE,OADAquE,EAAGE,MAAHF,GAAY,SAAZA,EACO5B,GAAP;AAGJ;;AAAA,iBAAS4D,EAAT,CAAkB5+D,CAAlB,EAAwBzR,CAAxB,EAAwBA;AACtB,iBAAa,WAATA,CAAS,IAAoB,YAATA,CAAX,IAAyC,WAATA,CAAhC,IACXquE,EAAGE,MAAHF,GAAY,SAAZA,EACO5B,EAAc,YAATzsE,CAAS,GAAW6wE,CAAX,GAA+BR,EAA7C5D,CAFI,IAID,cAARh7D,CAAQ,IAAuB,UAATzR,CAAd,IACVquE,EAAGE,MAAHF,GAAY,MAAZA,EACO5B,EAAK+F,EAAL/F,CAFG,IAIC,OAATzsE,CAAS,IAAgB,OAATA,CAAP,GAA4BysE,EAAK4D,EAAL5D,CAA5B,GACD,YAARh7D,CAAQ,IAAoB,YAARA,CAAZ,IAAwC,UAARA,CAAhC,GAAuDg7D,EAAK+F,EAAL/F,CAAvD,GACA,OAARh7D,CAAQ,GAAYg7D,EAAK6C,EAAQ,GAARA,CAAL7C,EAAmBwE,GAASZ,EAATY,EAAmB,GAAnBA,EAAwB,GAAxBA,CAAnBxE,EAAiD+C,CAAjD/C,EAAyD+F,EAAzD/F,CAAZ,GACA,OAARh7D,CAAQ,GAAYg7D,EAAK6C,EAAQ,GAARA,CAAL7C,EAAmBwE,GAASwB,EAATxB,EAAmB,GAAnBA,EAAwB,IAAxBA,CAAnBxE,EAAkD+C,CAAlD/C,EAA0D+F,EAA1D/F,CAAZ,GACA,OAARh7D,CAAQ,GAAYg7D,EAAKwE,GAASyB,EAATzB,EAAkB,GAAlBA,CAALxE,EAA6BkG,EAA7BlG,EAA8C+F,EAA9C/F,CAAZ,GACA,OAARh7D,CAAQ,GAAYg7D,EAAKwE,GAASZ,EAATY,EAAmB,GAAnBA,CAALxE,EAA8B4D,EAA9B5D,CAAZ,GAA0C4D,KAAtD,CAbA;AAeF;;AAAA,iBAASsC,EAAT,CAAyBlhE,CAAzB,EAAyBA;AACvB,cAAY,QAARA,CAAJ,EAAkB,OAAOg7D,EAAK4D,EAAL5D,CAAP;AAEpB;;AAAA,iBAASgG,EAAT,CAAkBhhE,CAAlB,EAAwBzR,CAAxB,EAAwBA;AACtB,iBAAY,cAARyR,CAAQ,IAA0B,aAAZ48D,EAAGrkE,KAAjB,IACVqkE,EAAGE,MAAHF,GAAY,UAAZA,EACO5B,EAAKgG,EAALhG,CAFG,IAGQ,OAATzsE,CAAS,IAAe,YAARyR,CAAP,IAAmC,YAARA,CAA3B,GACXg7D,EAAKgG,EAALhG,CADW,GAED,OAARh7D,CAAQ,GACVg7D,EAAK4D,EAAL5D,CADU,GAEA,OAARh7D,CAAQ,GACVg7D,EAAKgD,EAAO,UAAPA,CAALhD,EAAyB4F,EAAzB5F,EAAwCgD,EAAO,GAAPA,CAAxChD,EAAqDgG,EAArDhG,CADU,GAEA,OAARh7D,CAAQ,GACVg9D,EAAKmE,EAALnE,EAAmBgE,EAAnBhE,CADU,GACSgE,KADrB,CATP;AAaF;;AAAA,iBAASC,EAAT,CAAiBjhE,CAAjB,EAAuBzR,CAAvB,EAAuBA;AACrB,iBAAY,cAARyR,CAAQ,IAAc48D,EAAGtuD,MAAHsuD,CAAU7lE,KAAV6lE,CAAgB,UAAhBA,EAAgB,CAAY,CAA5BA,CAAd,IAA6D,OAATruE,CAApD,GAAyEysE,EAAKiG,EAALjG,CAAzE,GACA,OAARh7D,CAAQ,GAAYg7D,EAAK4D,EAAL5D,CAAZ,GACA,YAARh7D,CAAQ,GAAiBg7D,EAAKiG,EAALjG,CAAjB,GACLgC,EAAK4B,EAAL5B,CAHP;AAKF;;AAAA,iBAAS+D,EAAT,CAAmB/gE,CAAnB,EAAyBzR,CAAzB,EAAyBA;AACvB,iBAAa,OAATA,CAAS,GAAYysE,EAAK6C,EAAQ,GAARA,CAAL7C,EAAmBwE,GAASZ,EAATY,EAAmB,GAAnBA,CAAnBxE,EAA4C+C,CAA5C/C,EAAoD+F,EAApD/F,CAAZ,GACA,OAATzsE,CAAS,IAAe,OAARyR,CAAP,IAA+B,OAATzR,CAAtB,GAA2CysE,EAAK4D,EAAL5D,CAA3C,GACD,OAARh7D,CAAQ,GAAYg7D,EAAK4D,EAAL5D,EAAegD,EAAO,GAAPA,CAAfhD,EAA4B+F,EAA5B/F,CAAZ,GACC,aAATzsE,CAAS,IAAsB,gBAATA,CAAb,IAAsCquE,EAAGE,MAAHF,GAAY,SAAZA,EAA8B5B,EAAK4D,EAAL5D,CAApE,IACA,OAATzsE,CAAS,GAAYysE,EAAK4D,EAAL5D,EAAegD,EAAO,GAAPA,CAAfhD,EAA4B4D,EAA5B5D,CAAZ,GAAwC4D,KAArD,CAJA;AAMF;;AAAA,iBAASsB,EAAT,CAAuBpR,CAAvB,EAA0BvgE,CAA1B,EAA0BA;AACxB,cAAa,OAATA,CAAJ,EAAkB,OAAOysE,EAAK6C,EAAQ,GAARA,CAAL7C,EAAmBwE,GAASZ,EAATY,EAAmB,GAAnBA,CAAnBxE,EAA4C+C,CAA5C/C,EAAoD+F,EAApD/F,CAAP;AAEpB;;AAAA,iBAASoG,EAAT,GAASA;AACP,iBAAOpE,EAAK4B,EAAL5B,EAAeqE,EAAfrE,CAAP;AAEF;;AAAA,iBAASqE,EAAT,CAA0BvS,CAA1B,EAA6BvgE,CAA7B,EAA6BA;AAC3B,cAAa,OAATA,CAAJ,EAAkB,OAAOysE,EAAK4D,EAAL5D,CAAP;AAEpB;;AAAA,iBAASoD,EAAT,CAAgBtP,CAAhB,EAAmBvgE,CAAnB,EAAmBA;AACjB,iBAAa,UAATA,CAAS,IAASquE,EAAGE,MAAHF,GAAY,SAAZA,EAA8B5B,EAAK0D,EAAL1D,CAAvC,IACNgC,EAAKjyD,EAALiyD,EAAcwD,EAAdxD,EAAyBsE,EAAzBtE,EAAsCuE,EAAtCvE,CADP;AAGF;;AAAA,iBAASjyD,EAAT,CAAiB/K,CAAjB,EAAuBzR,CAAvB,EAAuBA;AACrB,iBAAIupE,KAAQ0F,EAAWjvE,CAAXivE,CAAR1F,IAA6B8E,EAAGE,MAAHF,GAAY,SAAZA,EAA8B5B,EAAKjwD,EAALiwD,CAA3DlD,IACQ,cAAR93D,CAAQ,IAAck9D,EAAS3uE,CAAT2uE,GAAwBlC,GAAtC,IACA,YAARh7D,CAAQ,GAAiBg7D,EAAKjwD,EAALiwD,CAAjB,GACA,OAARh7D,CAAQ,GAAY8/D,GAAa0B,EAAb1B,EAAyB,GAAzBA,CAAZ,GACA,OAAR9/D,CAAQ,GAAY8/D,GAAa2B,EAAb3B,EAA0B,GAA1BA,CAAZ,GAAsC,KAAlD,CAJA;AAMF;;AAAA,iBAAS2B,EAAT,CAAqBzhE,CAArB,EAA2BzR,CAA3B,EAA2BA;AACzB,iBAAY,cAARyR,CAAQ,IAAe48D,EAAGtuD,MAAHsuD,CAAU7lE,KAAV6lE,CAAgB,OAAhBA,EAAgB,CAAS,CAAzBA,CAAf,IAIA,cAAR58D,CAAQ,KAAY48D,EAAGE,MAAHF,GAAY,UAAxB,GACA,YAAR58D,CAAQ,GAAiBg7D,EAAKjwD,EAALiwD,CAAjB,GACA,OAARh7D,CAAQ,GAAYg9D,GAAZ,GACA,OAARh9D,CAAQ,GAAYg7D,EAAK6D,CAAL7D,EAAiBgD,EAAO,GAAPA,CAAjBhD,EAA8BgD,EAAO,GAAPA,CAA9BhD,EAA2CyG,EAA3CzG,CAAZ,GACLA,EAAKgD,EAAO,GAAPA,CAALhD,EAAkBjwD,EAAlBiwD,EAA2BsG,EAA3BtG,CARK,KACVkC,EAAS3uE,CAAT2uE,GACOlC,EAAKsG,EAALtG,CAFG,CAAZ;AAUF;;AAAA,iBAASwG,EAAT,GAASA;AACP,iBAAOxE,EAAKjyD,EAALiyD,EAAcsE,EAAdtE,CAAP;AAEF;;AAAA,iBAASsE,EAAT,CAAqBI,CAArB,EAA4BnzE,CAA5B,EAA4BA;AAC1B,cAAa,OAATA,CAAJ,EAAkB,OAAOysE,EAAKoE,CAALpE,CAAP;AAEpB;;AAAA,iBAASuG,EAAT,CAAoBvhE,CAApB,EAAoBA;AAClB,cAAY,OAARA,CAAJ,EAAiB,OAAOg7D,EAAKoD,EAALpD,CAAP;AAEnB;;AAAA,iBAASuD,EAAT,CAAmBv+D,CAAnB,EAAyBzR,CAAzB,EAAyBA;AACvB,cAAY,eAARyR,CAAQ,IAAwB,UAATzR,CAA3B,EAA4C,OAAOysE,EAAK6C,EAAQ,MAARA,EAAgB,MAAhBA,CAAL7C,EAA8BmD,CAA9BnD,EAAyC+C,CAAzC/C,CAAP;AAE9C;;AAAA,iBAASyD,EAAT,CAAiBz+D,CAAjB,EAAuBzR,CAAvB,EAAuBA;AACrB,iBAAa,WAATA,CAAS,GAAgBysE,EAAKyD,EAALzD,CAAhB,GACD,OAARh7D,CAAQ,GAAYg7D,EAAK6C,EAAQ,GAARA,CAAL7C,EAAmB2G,EAAnB3G,EAA6B+C,CAA7B/C,CAAZ,GAAyC+C,KAArD,CADA;AAGF;;AAAA,iBAAS4D,EAAT,CAAkB3hE,CAAlB,EAAkBA;AAChB,iBAAY,SAARA,CAAQ,GAAcg7D,EAAKoD,EAALpD,EAAa4G,EAAb5G,CAAd,GACA,cAARh7D,CAAQ,GAAmBg7D,EAAK4G,EAAL5G,CAAnB,GACLgC,EAAK4E,EAAL5E,CAFP;AAIF;;AAAA,iBAAS4E,EAAT,CAAkB5hE,CAAlB,EAAwBzR,CAAxB,EAAwBA;AACtB,iBAAY,OAARyR,CAAQ,GAAYg7D,GAAZ,GACA,OAARh7D,CAAQ,GAAYg7D,EAAK4G,EAAL5G,CAAZ,GACC,QAATzsE,CAAS,IAAiB,QAATA,CAAR,IAAyBquE,EAAGE,MAAHF,GAAY,SAAZA,EAA8B5B,EAAK6D,CAAL7D,EAAiB4G,EAAjB5G,CAAvD,IACNgC,EAAK6B,CAAL7B,EAAiB4E,EAAjB5E,CAHP;AAKF;;AAAA,iBAASwB,EAAT,CAAqBx+D,CAArB,EAA2BzR,CAA3B,EAA2BA;AACzB,iBAAa,OAATA,CAAS,IAAMquE,EAAGE,MAAHF,GAAY,SAAZA,EAA8B5B,EAAKwD,EAALxD,CAApC,IACD,cAARh7D,CAAQ,IAAak9D,EAAS3uE,CAAT2uE,GAAwBlC,EAAKwD,EAALxD,CAArC,IACA,OAARh7D,CAAQ,GAAYg7D,EAAK0C,CAAL1C,EAAkB6C,EAAQ,GAARA,CAAlB7C,EAAgCwE,GAASN,EAATM,EAAiB,GAAjBA,CAAhCxE,EAAuD+C,CAAvD/C,EAA+D6F,EAA/D7F,EAA6EmD,CAA7EnD,EAAwF4C,CAAxF5C,CAAZ,GACRlD,KAAiB,OAATvpE,CAARupE,GAA6BkD,EAAK6C,EAAQ,GAARA,CAAL7C,EAAmBwE,GAAS4B,EAAT5B,EAAoB,GAApBA,CAAnBxE,EAA6C+C,CAA7C/C,EAAqDwD,EAArDxD,CAA7BlD,GAAkF0G,KAAtF,CAHA;AAKF;;AAAA,iBAAS2C,EAAT,CAAsBnhE,CAAtB,EAA4BzR,CAA5B,EAA4BA;AAC1B,iBAAa,OAATA,CAAS,IAAMquE,EAAGE,MAAHF,GAAY,SAAZA,EAA8B5B,EAAKmG,EAALnG,CAApC,IACD,cAARh7D,CAAQ,IAAak9D,EAAS3uE,CAAT2uE,GAAwBlC,EAAKmG,EAALnG,CAArC,IACA,OAARh7D,CAAQ,GAAYg7D,EAAK0C,CAAL1C,EAAkB6C,EAAQ,GAARA,CAAlB7C,EAAgCwE,GAASN,EAATM,EAAiB,GAAjBA,CAAhCxE,EAAuD+C,CAAvD/C,EAA+D6F,EAA/D7F,EAA6E4C,CAA7E5C,CAAZ,GACRlD,KAAiB,OAATvpE,CAARupE,GAA6BkD,EAAK6C,EAAQ,GAARA,CAAL7C,EAAmBwE,GAAS4B,EAAT5B,EAAoB,GAApBA,CAAnBxE,EAA6C+C,CAA7C/C,EAAqDmG,EAArDnG,CAA7BlD,GAAkFqJ,KAAtF,CAHA;AAKF;;AAAA,iBAASxC,EAAT,CAAkB3+D,CAAlB,EAAwBzR,CAAxB,EAAwBA;AACtB,iBAAY,aAARyR,CAAQ,IAAqB,cAARA,CAAb,IACV48D,EAAGE,MAAHF,GAAY,MAAZA,EACO5B,EAAK2D,EAAL3D,CAFG,IAGQ,OAATzsE,CAAS,GACXysE,EAAK6C,EAAQ,GAARA,CAAL7C,EAAmBwE,GAAS4B,EAAT5B,EAAoB,GAApBA,CAAnBxE,EAA6C+C,CAA7C/C,CADW,GACkC+C,KAD/C,CAHP;AAOF;;AAAA,iBAASmB,EAAT,CAAgBl/D,CAAhB,EAAsBzR,CAAtB,EAAsBA;AAEpB,iBADa,OAATA,CAAS,IAAKysE,EAAK6D,CAAL7D,EAAiBkE,EAAjBlE,CAAL,EACD,YAARh7D,CAAQ,GAAiBg7D,EAAKkE,EAALlE,CAAjB,GACRlD,KAAQ0F,EAAWjvE,CAAXivE,CAAR1F,IAA6B8E,EAAGE,MAAHF,GAAY,SAAZA,EAA8B5B,EAAKkE,EAALlE,CAA3DlD,IACAA,KAAgB,UAAR93D,CAAR83D,GAA+BkD,EAAKwF,EAALxF,EAAgBsG,EAAhBtG,CAA/BlD,GACGkF,EAAKjyD,EAALiyD,EAAcwD,EAAdxD,EAAyBsE,EAAzBtE,CAHP;AAKF;;AAAA,iBAAS4C,EAAT,CAAyB5/D,CAAzB,EAA+BzR,CAA/B,EAA+BA;AAE7B,iBAAY,cAARyR,CAAQ,GAAmBvI,GAAUuI,CAAVvI,EAAgBlJ,CAAhBkJ,CAAnB,GACLoqE,GAAe7hE,CAAf6hE,EAAqBtzE,CAArBszE,CADP;AAGF;;AAAA,iBAASpqE,EAAT,CAAmBuI,CAAnB,EAAyBzR,CAAzB,EAAyBA;AACvB,cAAY,cAARyR,CAAJ,EAA0C,OAAjBk9D,EAAS3uE,CAAT2uE,GAAwBlC,EAAK6G,EAAL7G,CAAP;AAE5C;;AAAA,iBAAS6G,EAAT,CAAwB7hE,CAAxB,EAA8BzR,CAA9B,EAA8BA;AAC5B,iBAAa,OAATA,CAAS,GAAYysE,EAAK6C,EAAQ,GAARA,CAAL7C,EAAmBwE,GAAS4B,EAAT5B,EAAoB,GAApBA,CAAnBxE,EAA6C+C,CAA7C/C,EAAqD6G,EAArD7G,CAAZ,GACA,aAATzsE,CAAS,IAAsB,gBAATA,CAAb,IAAuCupE,KAAgB,OAAR93D,CAA/C,IACE,gBAATzR,CAAS,KAAcquE,EAAGE,MAAHF,GAAY,SAA1B,GACN5B,EAAKlD,IAAO8G,EAAP9G,GAAkB+G,CAAvB7D,EAAmC6G,EAAnC7G,CAFI,IAID,OAARh7D,CAAQ,GAAYg7D,EAAK6C,EAAQ,GAARA,CAAL7C,EAAmB8G,EAAnB9G,EAA8B+C,CAA9B/C,CAAZ,GAA0C+C,KAAtD,CALA;AAOF;;AAAA,iBAAS+D,EAAT,CAAmB9hE,CAAnB,EAAyBzR,CAAzB,EAAyBA;AACvB,iBAAY,WAARyR,CAAQ,IACC,cAARA,CAAQ,KACE,YAATzR,CAAS,IAAqB,SAATA,CAAZ,IAAuC,SAATA,CAA9B,IAAiDupE,KAAQ0F,EAAWjvE,CAAXivE,CAD3D,KAERZ,EAAGtuD,MAAHsuD,CAAU7lE,KAAV6lE,CAAgB,sBAAhBA,EAAgB,CAAwB,CAAxCA,CAHO,IAIVA,EAAGE,MAAHF,GAAY,SAAZA,EACO5B,EAAK8G,EAAL9G,CALG,IAOA,cAARh7D,CAAQ,IAA0B,aAAZ48D,EAAGrkE,KAAjB,IACVqkE,EAAGE,MAAHF,GAAY,UAAZA,EACO5B,EAAKlD,IAAOiK,EAAPjK,GAAoB0G,EAAzBxD,EAAsC8G,EAAtC9G,CAFG,IAIA,YAARh7D,CAAQ,IAAoB,YAARA,CAAZ,GAAqCg7D,EAAKlD,IAAOiK,EAAPjK,GAAoB0G,EAAzBxD,EAAsC8G,EAAtC9G,CAArC,GACA,OAARh7D,CAAQ,GACHg7D,EAAK6D,CAAL7D,EAAiBwF,EAAjBxF,EAA4BgD,EAAO,GAAPA,CAA5BhD,EAAyClD,IAAOiK,EAAPjK,GAAoB0G,EAA7DxD,EAA0E8G,EAA1E9G,CADG,GAEC,OAATzsE,CAAS,IACXquE,EAAGE,MAAHF,GAAY,SAAZA,EACO5B,EAAK8G,EAAL9G,CAFI,IAITlD,KAAgB,OAAR93D,CAAR83D,GAA4BkF,EAAKmE,EAALnE,EAAmB8E,EAAnB9E,CAA5BlF,GACQ,OAAR93D,CAAQ,IAAe,OAARA,CAAP,GAA2Bg7D,EAAK8G,EAAL9G,CAA3B,GACA,OAARh7D,CAAQ,GAAYg7D,GAAZ,GACC,OAATzsE,CAAS,GAAYysE,EAAK6D,CAAL7D,EAAiB8G,EAAjB9G,CAAZ,GAA6B8G,KAA1C,CArBA;AAuBF;;AAAA,iBAASC,EAAT,CAAoB/hE,CAApB,EAA0BzR,CAA1B,EAA0BA;AACxB,cAAa,OAATA,CAAJ,EAAkB,OAAOysE,EAAK+G,EAAL/G,CAAP;AAClB,cAAY,OAARh7D,CAAJ,EAAiB,OAAOg7D,EAAK4D,EAAL5D,EAAesG,EAAftG,CAAP;AACjB,cAAa,OAATzsE,CAAJ,EAAkB,OAAOysE,EAAKoE,CAALpE,CAAP;AAClB,cAAIjvD,IAAU6wD,EAAG71D,KAAH61D,CAASlB,OAATkB,CAAiB78D,IAA/B;AACA,iBAAOi9D,EAD4CjxD,KAA2B,eAAhBA,EAAQ5E,IAAnB4E,GACzBo1D,EADyBp1D,GACVyyD,EAAlCxB,CAAP;AAEF;;AAAA,iBAASgC,EAAT,CAAqBh/D,CAArB,EAA2BzR,CAA3B,EAA2BA;AACzB,iBAAa,OAATA,CAAS,IAAOquE,EAAGE,MAAHF,GAAY,SAAZA,EAA8B5B,EAAKgH,EAALhH,EAAgBgD,EAAO,GAAPA,CAAhBhD,CAArC,IACA,aAATzsE,CAAS,IAAaquE,EAAGE,MAAHF,GAAY,SAAZA,EAA8B5B,EAAK6D,CAAL7D,EAAiBgD,EAAO,GAAPA,CAAjBhD,CAA3C,IACD,OAARh7D,CAAQ,GAAYg7D,EAAKwE,GAASyC,EAATzC,EAAsB,GAAtBA,CAALxE,EAAiCgH,EAAjChH,EAA4CgD,EAAO,GAAPA,CAA5ChD,CAAZ,GACLgC,EAAKmB,CAALnB,CAHP;AAKF;;AAAA,iBAASiF,EAAT,CAAqBjiE,CAArB,EAA2BzR,CAA3B,EAA2BA;AACzB,iBAAa,QAATA,CAAS,IAAQquE,EAAGE,MAAHF,GAAY,SAAZA,EAA8B5B,EAAKgD,EAAO,UAAPA,CAALhD,CAAtC,IACD,cAARh7D,CAAQ,GAAmBg9D,EAAKoC,CAALpC,EAAwBiF,EAAxBjF,CAAnB,GAA2CiF,KAAvD,CADA;AAGF;;AAAA,iBAAShD,EAAT,CAAqBj/D,CAArB,EAAqBA;AACnB,iBAAY,YAARA,CAAQ,GAAiBg7D,GAAjB,GACA,OAARh7D,CAAQ,GAAYg9D,EAAK6B,CAAL7B,CAAZ,GACLA,EAAKkF,EAALlF,EAAiBmF,EAAjBnF,EAAmCgF,EAAnChF,CAFP;AAIF;;AAAA,iBAASkF,EAAT,CAAoBliE,CAApB,EAA0BzR,CAA1B,EAA0BA;AACxB,iBAAY,OAARyR,CAAQ,GAAY8/D,GAAaoC,EAAbpC,EAAyB,GAAzBA,CAAZ,IACA,cAAR9/D,CAAQ,IAAYk9D,EAAS3uE,CAAT2uE,CAAZ,EACC,OAAT3uE,CAAS,KAAKquE,EAAGE,MAAHF,GAAY,SAAjB,CADD,EAEL5B,EAAKoH,EAALpH,CAHK,CAAZ;AAKF;;AAAA,iBAASmH,EAAT,CAA0BniE,CAA1B,EAA0BA;AACxB,cAAY,OAARA,CAAJ,EAAiB,OAAOg7D,EAAKkH,EAALlH,EAAiBmH,EAAjBnH,CAAP;AAEnB;;AAAA,iBAASoH,EAAT,CAAiBV,CAAjB,EAAwBnzE,CAAxB,EAAwBA;AACtB,cAAa,QAATA,CAAJ,EAA4C,OAAvBquE,EAAGE,MAAHF,GAAY,SAAZA,EAA8B5B,EAAKkH,EAALlH,CAAP;AAE9C;;AAAA,iBAASgH,EAAT,CAAmBN,CAAnB,EAA0BnzE,CAA1B,EAA0BA;AACxB,cAAa,UAATA,CAAJ,EAA8C,OAAvBquE,EAAGE,MAAHF,GAAY,SAAZA,EAA8B5B,EAAK6D,CAAL7D,CAAP;AAEhD;;AAAA,iBAAS6E,EAAT,CAAsB7/D,CAAtB,EAAsBA;AACpB,iBAAY,OAARA,CAAQ,GAAYg7D,GAAZ,GACLgC,EAAKwC,GAASJ,CAATI,EAA4B,GAA5BA,CAALxC,CADP;AAGF;;AAAA,iBAAS0B,EAAT,GAASA;AACP,iBAAO1B,EAAKa,EAAQ,MAARA,CAALb,EAAsBjyD,EAAtBiyD,EAA+BgB,EAAO,GAAPA,CAA/BhB,EAA4Ca,EAAQ,GAARA,CAA5Cb,EAA0DwC,GAAS6C,EAAT7C,EAAqB,GAArBA,CAA1DxC,EAAqFe,CAArFf,EAA6Fe,CAA7Ff,CAAP;AAEF;;AAAA,iBAASqF,EAAT,GAASA;AACP,iBAAOrF,EAAKjyD,EAALiyD,EAAcsE,EAAdtE,CAAP;AASF;;AAAA,iBAAS1B,EAAT,CAA2BhtD,CAA3B,EAAmCvH,CAAnC,EAA0C8D,CAA1C,EAA0CA;AACxC,iBAAO9D,EAAMo0D,QAANp0D,IAAkBk0D,CAAlBl0D,IACL,iFAAiF/W,IAAjF,CAAsF+W,EAAM40D,QAA5F,CADK50D,IAEc,WAAlBA,EAAM40D,QAAY,IAAW,SAAS3rE,IAAT,CAAcse,EAAOze,MAAPye,CAAc3W,KAAd2W,CAAoB,CAApBA,EAAuBA,EAAO9R,GAAP8R,IAAczD,KAAU,CAAxByD,CAAvBA,CAAd,CAFhC;AAOF;;AAAA,eA3fAsvD,EAAWE,GAAXF,GAAWE,CAAM,CAAjBF,EAoBAG,EAAOD,GAAPC,GAAOD,CAAM,CApBbF,EA2fO;AACLx2D,sBAAY,UAASk7D,CAAT,EAASA;AACnB,gBAAIv7D,IAAQ;AACVo0D,wBAAUF,CADA;AAEVU,wBAAU,KAFA;AAGVoB,kBAAI,EAHM;AAIVrB,uBAAS,IAAIc,CAAJ,CAAIA,CAAW8F,KAAc,CAAzB9F,IAA8Bnd,CAAlC,EAA8C,CAA9C,EAAiD,OAAjD,EAAiD,CAAS,CAA1D,CAJC;AAKVsd,yBAAWnF,EAAamF,SALd;AAMV5wD,uBAASyrD,EAAamF,SAAbnF,IAA0B,IAAI9rD,CAAJ,CAAY,IAAZ,EAAkB,IAAlB,EAAkB,CAAM,CAAxB,CANzB;AAOVmC,wBAAUy0D,KAAc;AAPd,aAAZ;AAWA,mBAFI9K,EAAa+F,UAAb/F,IAA6D,mBAA3BA,EAAa+F,UAA/C/F,KACFzwD,EAAMw2D,UAANx2D,GAAmBywD,EAAa+F,UAD9B/F,GAEGzwD,CAAP;AAAOA,WAbJ;AAgBL2H,iBAAO,UAASJ,CAAT,EAAiBvH,CAAjB,EAAiBA;AAOtB,gBANIuH,EAAOjE,GAAPiE,OACGvH,EAAM20D,OAAN30D,CAAc3X,cAAd2X,CAA6B,OAA7BA,MACHA,EAAM20D,OAAN30D,CAAcywB,KAAdzwB,GAAcywB,CAAQ,CADnBzwB,GAELA,EAAM8G,QAAN9G,GAAiBuH,EAAOxD,WAAPwD,EAFZvH,EAGL+0D,EAAaxtD,CAAbwtD,EAAqB/0D,CAArB+0D,CAJExtD,GAMAvH,EAAMo0D,QAANp0D,IAAkBs0D,CAAlBt0D,IAAkCuH,EAAO5D,QAAP4D,EAAtC,EAAyD,OAAO,IAAP;AACzD,gBAAI/V,IAAQwO,EAAMo0D,QAANp0D,CAAeuH,CAAfvH,EAAuBA,CAAvBA,CAAZ;AACA,mBAAY,aAAR/G,CAAQ,GAAkBzH,CAAlB,IACZwO,EAAM40D,QAAN50D,GAAyB,cAAR/G,CAAQ,IAA0B,QAAXlM,CAAW,IAAmB,QAAXA,CAAlC,GAAgEkM,CAAhE,GAAqD,QAA9E+G,EAjnBJ,UAAiBA,CAAjB,EAAwBxO,CAAxB,EAA+ByH,CAA/B,EAAqClM,CAArC,EAA8Cwa,CAA9C,EAA8CA;AAC5C,kBAAIyuD,IAAKh2D,EAAMg2D,EAAf;;AAQA,mBALAH,EAAG71D,KAAH61D,GAAW71D,CAAX61D,EAAkBA,EAAGtuD,MAAHsuD,GAAYtuD,CAA9BsuD,EAAsCA,EAAGE,MAAHF,GAAY,IAAlDA,EAAwDA,EAAGG,EAAHH,GAAQG,CAAhEH,EAAoEA,EAAGrkE,KAAHqkE,GAAWrkE,CAA/EqkE,EAEK71D,EAAM20D,OAAN30D,CAAc3X,cAAd2X,CAA6B,OAA7BA,MACHA,EAAM20D,OAAN30D,CAAcywB,KAAdzwB,GAAcywB,CAAQ,CADnBzwB,CAGL,IAEE,KADiBg2D,EAAGptE,MAAHotE,GAAYA,EAAGp/B,GAAHo/B,EAAZA,GAAuBnF,IAAWiH,CAAXjH,GAAwBuG,CAChE,EAAen+D,CAAf,EAAqBlM,CAArB,GAA+B;AAC7B,uBAAMipE,EAAGptE,MAAHotE,IAAaA,EAAGA,EAAGptE,MAAHotE,GAAY,CAAfA,EAAkBe,GAArC,GACEf,EAAGp/B,GAAHo/B;;AACF,uBAAIH,EAAGE,MAAHF,GAAkBA,EAAGE,MAArBF,GACQ,cAAR58D,CAAQ,IAAcy8D,EAAQ11D,CAAR01D,EAAe3oE,CAAf2oE,CAAd,GAA8C,YAA9C,GACLlkE,CAFP;AAEOA;AAkmBFgqE,aAlnBX,CAknBmBx7D,CAlnBnB,EAknB0BxO,CAlnB1B,EAknBiCyH,CAlnBjC,EAknBuClM,CAlnBvC,EAknBgDwa,CAlnBhD,CAgnBgB,CAAZ;AAE4CA,WA3BzC;AA8BL4wC,kBAAQ,UAASn4C,CAAT,EAAgBy7D,CAAhB,EAAgBA;AACtB,gBAAIz7D,EAAMo0D,QAANp0D,IAAkBs0D,CAAtB,EAAoC,OAAO7wB,EAAWxuC,IAAlB;AACpC,gBAAI+K,EAAMo0D,QAANp0D,IAAkBk0D,CAAtB,EAAiC,OAAO,CAAP;AACjC,gBAA2Eh8C,CAA3E;AAAA,gBAAIwjD,IAAYD,KAAaA,EAAUrkE,MAAVqkE,CAAiB,CAAjBA,CAA7B;AAAA,gBAAkD9G,IAAU30D,EAAM20D,OAAlE;AAEA,iBAAK,aAAa1rE,IAAb,CAAkBwyE,CAAlB,CAAL,EAAmC,KAAK,IAAIl1E,IAAIyZ,EAAMg2D,EAANh2D,CAASpX,MAAToX,GAAkB,CAA/B,EAAkCzZ,KAAK,CAAvC,EAAuC,EAAKA,CAA5C,EAA+C;AAChF,kBAAIK,IAAIoZ,EAAMg2D,EAANh2D,CAASzZ,CAATyZ,CAAR;AACA,kBAAIpZ,KAAKowE,CAAT,EAAiBrC,IAAUA,EAAQ37D,IAAlB27D,CAAjB,KACK,IAAI/tE,KAAK4wE,EAAT,EAAoB;AAE3B;;AAAA,oBAAwB,UAAhB7C,EAAQ17D,IAAQ,IAA0B,UAAhB07D,EAAQ17D,IAA1C,MACqB,OAAbyiE,CAAa,IAAbA,CAAsBxjD,IAAMlY,EAAMg2D,EAANh2D,CAASA,EAAMg2D,EAANh2D,CAASpX,MAAToX,GAAkB,CAA3BA,CAA5B07D,MACsBxjD,KAAO0gD,CAAP1gD,IAA6BA,KAAOygD,CAD1D+C,KAC0D/C,CACpC,mBAAmB1vE,IAAnB,CAAwBwyE,CAAxB,CAH9B,IAIE9G,IAAUA,EAAQ37D,IAAlB27D;;AACEjE,iBAAmC,OAAhBiE,EAAQ17D,IAA3By3D,IAA+D,UAArBiE,EAAQ37D,IAAR27D,CAAa17D,IAAvDy3D,KACFiE,IAAUA,EAAQ37D,IADhB03D;AAEJ,gBAAIz3D,IAAO07D,EAAQ17D,IAAnB;AAAA,gBAAyBkmD,IAAUuc,KAAaziE,CAAhD;AAEA,mBAAY,YAARA,CAAQ,GAAiB07D,EAAQ7tD,QAAR6tD,IAAsC,cAAlB30D,EAAM40D,QAAY,IAAgC,OAAlB50D,EAAM40D,QAApB,GAAsCD,EAAQv0D,IAARu0D,CAAa/rE,MAAb+rE,GAAsB,CAA5D,GAAgE,CAAtGA,CAAjB,GACK,UAAR17D,CAAQ,IAAuB,OAAbyiE,CAAV,GAAmC/G,EAAQ7tD,QAA3C,GACA,UAAR7N,CAAQ,GAAe07D,EAAQ7tD,QAAR6tD,GAAmBrc,CAAlC,GACA,UAARr/C,CAAQ,GACR07D,EAAQ7tD,QAAR6tD,IAnEb,UAA8B30D,CAA9B,EAAqCy7D,CAArC,EAAqCA;AACnC,qBAAyB,cAAlBz7D,EAAM40D,QAAY,IAAgC,OAAlB50D,EAAM40D,QAApB,IACvBd,EAAe7qE,IAAf6qE,CAAoB2H,EAAUrkE,MAAVqkE,CAAiB,CAAjBA,CAApB3H,CADuB,IAEvB,OAAO7qE,IAAP,CAAYwyE,EAAUrkE,MAAVqkE,CAAiB,CAAjBA,CAAZ,CAFF;AAkE+BE,aAnEjC,CAmEsD37D,CAnEtD,EAmE6Dy7D,CAnE7D,IAmE0E/K,KAAmBpY,CAnE7F,GAmE0G,CAA7Fqc,CADQ,GAEQ,YAAhBA,EAAQv0D,IAAQ,IAAa++C,CAAb,IAA2D,KAAnCsR,EAAamL,kBAArC,GAEhBjH,EAAQlkC,KAARkkC,GAAsBA,EAAQ3pE,MAAR2pE,IAAkBxV,IAAU,CAAVA,GAAc,CAAhCwV,CAAtBA,GACGA,EAAQ7tD,QAAR6tD,IAAoBxV,IAAU,CAAVA,GAAc7G,CAAlCqc,CAHa,GAChBA,EAAQ7tD,QAAR6tD,IAAoB,sBAAsB1rE,IAAtB,CAA2BwyE,CAA3B,IAAwCnjB,CAAxC,GAAqD,IAAIA,CAA7Eqc,CANT;AAMsFrc,WAvDnF;AA4DL0B,yBAAe,mCA5DV;AA6DL6hB,6BAAmBhL,IAAW,IAAXA,GAAkB,IA7DhC;AA8DLiL,2BAAiBjL,IAAW,IAAXA,GAAkB,IA9D9B;AA+DLkL,gCAAsBlL,IAAW,IAAXA,GAAkB,KA/DnC;AAgELmL,uBAAanL,IAAW,IAAXA,GAAkB,IAhE1B;AAiELoL,gBAAM,OAjED;AAkELC,yBAAe,gBAlEV;AAoELx8D,sBAAYmxD,IAAW,MAAXA,GAAoB,YApE3B;AAqELF,sBAAYA,CArEP;AAsELE,oBAAUA,CAtEL;AAwEL0D,6BAAmBA,EAxEd;AA0EL4H,0BAAgB,UAASn8D,CAAT,EAASA;AACvB,gBAAIkY,IAAMlY,EAAMg2D,EAANh2D,CAASA,EAAMg2D,EAANh2D,CAASpX,MAAToX,GAAkB,CAA3BA,CAAV;AACIkY,iBAAO4/C,CAAP5/C,IAAqBA,KAAOmgD,CAA5BngD,IAA+ClY,EAAMg2D,EAANh2D,CAAS42B,GAAT52B,EAA/CkY;AAAwD0e;AA5EzD,SAAP;AA4EgEA,OAl4BlE6M,GAu4BAA,EAAW0iB,cAAX1iB,CAA0B,WAA1BA,EAAuC,YAAvCA,EAAqD,OAArDA,CAv4BAA,EAy4BAA,EAAWijB,UAAXjjB,CAAsB,iBAAtBA,EAAyC,YAAzCA,CAz4BAA,EA04BAA,EAAWijB,UAAXjjB,CAAsB,iBAAtBA,EAAyC,YAAzCA,CA14BAA,EA24BAA,EAAWijB,UAAXjjB,CAAsB,wBAAtBA,EAAgD,YAAhDA,CA34BAA,EA44BAA,EAAWijB,UAAXjjB,CAAsB,0BAAtBA,EAAkD,YAAlDA,CA54BAA,EA64BAA,EAAWijB,UAAXjjB,CAAsB,wBAAtBA,EAAgD,YAAhDA,CA74BAA,EA84BAA,EAAWijB,UAAXjjB,CAAsB,kBAAtBA,EAA0C;AAAC38C,cAAM,YAAP;AAAqBgqE,eAAM;AAA3B,OAA1CrtB,CA94BAA,EA+4BAA,EAAWijB,UAAXjjB,CAAsB,oBAAtBA,EAA4C;AAAC38C,cAAM,YAAP;AAAqBgqE,eAAM;AAA3B,OAA5CrtB,CA/4BAA,EAg5BAA,EAAWijB,UAAXjjB,CAAsB,qBAAtBA,EAA6C;AAAC38C,cAAM,YAAP;AAAqB8pE,iBAAQ;AAA7B,OAA7CntB,CAh5BAA,EAi5BAA,EAAWijB,UAAXjjB,CAAsB,iBAAtBA,EAAyC;AAAE38C,cAAM,YAAR;AAAsBkqE,qBAAY;AAAlC,OAAzCvtB,CAj5BAA,EAk5BAA,EAAWijB,UAAXjjB,CAAsB,wBAAtBA,EAAgD;AAAE38C,cAAM,YAAR;AAAsBkqE,qBAAY;AAAlC,OAAhDvtB,CAl5BAA;AARIiG,KAKD,CALKriD,EAAQ,CAAR,CAKL,C;AALa,G;KCLhB;AAAA,mCAC6B,sBAATsN,IAAS,IAAeA,IAD5C,IAEYxO,MAFZ;AAAA,UAGIuN,IAAQjH,SAASrE,SAATqE,CAAmBiH,KAH/B;;AAoBA,eAAS0oE,CAAT,CAAiBpyE,CAAjB,EAAqBqyE,CAArB,EAAqBA;AACnB9wE,aAAK+wE,GAAL/wE,GAAWvB,CAAXuB,EACAA,KAAKgxE,QAALhxE,GAAgB8wE,CADhB9wE;AAdFzF;;AAAAA,QAAQ+O,UAAR/O,GAAqB;AACnB,eAAO,IAAIs2E,CAAJ,CAAY1oE,EAAMhN,IAANgN,CAAWmB,UAAXnB,EAAuB8oE,CAAvB9oE,EAA8BtJ,SAA9BsJ,CAAZ,EAAsDsB,YAAtD,CAAP;AAA6DA,OAD/DlP,EAGAA,EAAQy9B,WAARz9B,GAAsB;AACpB,eAAO,IAAIs2E,CAAJ,CAAY1oE,EAAMhN,IAANgN,CAAW6vB,WAAX7vB,EAAwB8oE,CAAxB9oE,EAA+BtJ,SAA/BsJ,CAAZ,EAAuDwvB,aAAvD,CAAP;AAA8DA,OAJhEp9B,EAMAA,EAAQkP,YAARlP,GACAA,EAAQo9B,aAARp9B,GAAwB,UAAS6kE,CAAT,EAASA;AAC3BA,aACFA,EAAQtL,KAARsL,EADEA;AACMtL,OATZv5D,EAiBAs2E,EAAQh0E,SAARg0E,CAAkBK,KAAlBL,GAA0BA,EAAQh0E,SAARg0E,CAAkB5+C,GAAlB4+C,GAAwB,cAjBlDt2E,EAkBAs2E,EAAQh0E,SAARg0E,CAAkB/c,KAAlB+c,GAA0B;AACxB7wE,aAAKgxE,QAALhxE,CAAc7E,IAAd6E,CAAmBixE,CAAnBjxE,EAA0BA,KAAK+wE,GAA/B/wE;AAA+B+wE,OAnBjCx2E,EAuBAA,EAAQ42E,MAAR52E,GAAiB,UAASgH,CAAT,EAAe6vE,CAAf,EAAeA;AAC9B3nE,qBAAalI,EAAK8vE,cAAlB5nE,GACAlI,EAAK+vE,YAAL/vE,GAAoB6vE,CADpB3nE;AACoB2nE,OAzBtB72E,EA4BAA,EAAQg3E,QAARh3E,GAAmB,UAASgH,CAAT,EAASA;AAC1BkI,qBAAalI,EAAK8vE,cAAlB5nE,GACAlI,EAAK+vE,YAAL/vE,GAAK+vE,CAAgB,CADrB7nE;AACqB,OA9BvBlP,EAiCAA,EAAQi3E,YAARj3E,GAAuBA,EAAQqpC,MAARrpC,GAAiB,UAASgH,CAAT,EAASA;AAC/CkI,qBAAalI,EAAK8vE,cAAlB5nE;AAEA,YAAI2nE,IAAQ7vE,EAAK+vE,YAAjB;AACIF,aAAS,CAATA,KACF7vE,EAAK8vE,cAAL9vE,GAAsB+H,WAAW;AAC3B/H,YAAKkwE,UAALlwE,IACFA,EAAKkwE,UAALlwE,EADEA;AACGkwE,SAFanoE,EAGnB8nE,CAHmB9nE,CADpB8nE;AAICA,OAzCP72E,EA8CAuB,EAAQ,EAAR,CA9CAvB,EAkDAA,EAAQgkE,YAARhkE,GAAwC,sBAAT6O,IAAS,IAAeA,KAAKm1D,YAApB,IAAoBA,KAClB,CADkBA,KAC7BmT,CAD6BnT,IACHmT,EAAOnT,YADxB,IAEhBv+D,QAAQA,KAAKu+D,YApDrChkE,EAqDAA,EAAQo3E,cAARp3E,GAA0C,sBAAT6O,IAAS,IAAeA,KAAKuoE,cAApB,IAAoBA,KAClB,CADkBA,KAC7BD,CAD6BC,IACHD,EAAOC,cADxB,IAEhB3xE,QAAQA,KAAK2xE,cAvDvCp3E;AAuDuCo3E,K;;KC9DvC;AAAA;AACI;;AAEA,aAAID,EAAOnT,YAAX;AAIA,cAIIqT,CAJJ;AAAA,cAiIQtN,CAjIR;AAAA,cAqHQuN,CArHR;AAAA,cAgGQC,CAhGR;AAAA,cAiGQC,CAjGR;AAAA,cAAIC,IAAa,CAAjB;AAAA,cACIC,IAAgB,EADpB;AAAA,cAEIC,KAAwB,CAF5B;AAAA,cAGI38D,IAAMm8D,EAAOluE,QAHjB;AAAA,cAuJI2uE,IAAWz2E,OAAO6E,cAAP7E,IAAyBA,OAAO6E,cAAP7E,CAAsBg2E,CAAtBh2E,CAvJxC;AAwJAy2E,cAAWA,KAAYA,EAAS7oE,UAArB6oE,GAAkCA,CAAlCA,GAA6CT,CAAxDS,EAGyC,uBAArC,GAAGrzE,QAAH,CAAY3D,IAAZ,CAAiBu2E,EAAOpT,OAAxB,CAAqC,GApFrCsT,IAAoB,UAASpgC,CAAT,EAASA;AACzB8sB,cAAQH,QAARG,CAAiB;AAAc8T,gBAAa5gC,CAAb4gC;AAAa5gC,aAA5C8sB;AAA4C9sB,WAmFX,GAnFWA,CAIpD;AAGI,gBAAIkgC,EAAOW,WAAPX,IAAOW,CAAgBX,EAAOY,aAAlC,EAAiD;AAC7C,kBAAIC,KAA4B,CAAhC;AAAA,kBACIC,IAAed,EAAOe,SAD1B;AAOA,qBALAf,EAAOe,SAAPf,GAAmB;AACfa,qBAA4B,CAA5BA;AAA4B,eADhCb,EAGAA,EAAOW,WAAPX,CAAmB,EAAnBA,EAAuB,GAAvBA,CAHAA,EAIAA,EAAOe,SAAPf,GAAmBc,CAJnBd,EAKOa,CAAP;AAAOA;AAwEJG,WAnFX,EAJoDlhC,GA2FzCkgC,EAAOiB,cAAPjB,IAAOiB,CA9CVd,IAAU,IAAIc,cAAJ,EA8CAA,EA7CNC,KA6CMD,CA7CAF,SA6CAE,GA7CY,UAAS9lC,CAAT,EAASA;AAE/BulC,cADavlC,EAAM3qC,IACnBkwE;AADmBlwE,WA4CTywE,EAxCdf,IAAoB,UAASpgC,CAAT,EAASA;AACzBqgC,cAAQgB,KAARhB,CAAcQ,WAAdR,CAA0BrgC,CAA1BqgC;AAA0BrgC,WAuCvBkgC,IAIAn8D,KAAO,wBAAwBA,EAAIrP,aAAJqP,CAAkB,QAAlBA,CAA/BA,IAtCH+uD,IAAO/uD,EAAI4Z,eAAXm1C,EACJsN,IAAoB,UAASpgC,CAAT,EAASA;AAGzB,gBAAIshC,IAASv9D,EAAIrP,aAAJqP,CAAkB,QAAlBA,CAAb;AACAu9D,cAAOC,kBAAPD,GAA4B;AACxBV,gBAAa5gC,CAAb4gC,GACAU,EAAOC,kBAAPD,GAA4B,IAD5BV,EAEA9N,EAAK5+D,WAAL4+D,CAAiBwO,CAAjBxO,CAFA8N,EAGAU,IAAS,IAHTV;AAGS,aAJbU,EAMAxO,EAAKx+D,WAALw+D,CAAiBwO,CAAjBxO,CANAwO;AAMiBA,WA2Bdv9D,IAtBPq8D,IAAoB,UAASpgC,CAAT,EAASA;AACzBloC,uBAAW8oE,CAAX9oE,EAAyB,CAAzBA,EAA4BkoC,CAA5BloC;AAA4BkoC,WA1EgBA,IAwB5CsgC,IAAgB,kBAAkBznE,KAAK2oE,MAAL3oE,EAAlB,GAAkC,GAAlDynE,EACAC,IAAkB,UAASllC,CAAT,EAASA;AACvBA,cAAMvqC,MAANuqC,KAAiB6kC,CAAjB7kC,IACsB,mBAAfA,EAAM3qC,IADb2qC,IAEsC,MAAtCA,EAAM3qC,IAAN2qC,CAAW3vC,OAAX2vC,CAAmBilC,CAAnBjlC,CAFAA,IAGAulC,GAAcvlC,EAAM3qC,IAAN2qC,CAAWxnC,KAAXwnC,CAAiBilC,EAAcz0E,MAA/BwvC,CAAdulC,CAHAvlC;AAG6CxvC,WALjDy0E,EASAJ,EAAOniE,gBAAPmiE,GACAA,EAAOniE,gBAAPmiE,CAAwB,SAAxBA,EAAmCK,CAAnCL,EAAmCK,CAAiB,CAApDL,CADAA,GAGAA,EAAOliE,WAAPkiE,CAAmB,WAAnBA,EAAgCK,CAAhCL,CAZAI,EAeJF,IAAoB,UAASpgC,CAAT,EAASA;AACzBkgC,cAAOW,WAAPX,CAAmBI,IAAgBtgC,CAAnCkgC,EAA2C,GAA3CA;AAA2C,WAxCClgC,CAgFpD2gC,EAwBAA,EAAS5T,YAAT4T,GA1KA,UAAsBc,CAAtB,EAAsBA;AAEI,iCAAbA,CAAa,KACtBA,IAAW,IAAI/xE,QAAJ,CAAa,KAAK+xE,CAAlB,CADW;;AAKxB,iBADA,IAAI/qE,IAAO,IAAIlJ,KAAJ,CAAUH,UAAUxB,MAAVwB,GAAmB,CAA7B,CAAX,EACS7D,IAAI,CAAb,EAAgBA,IAAIkN,EAAK7K,MAAzB,EAAiCrC,GAAjC,EACIkN,EAAKlN,CAALkN,IAAUrJ,UAAU7D,IAAI,CAAd6D,CAAVqJ;;AAGJ,gBAAIgrE,IAAO;AAAED,wBAAUA,CAAZ;AAAsB/qE,oBAAMA;AAA5B,aAAX;AAGA,mBAFA+pE,EAAcD,CAAdC,IAA4BiB,CAA5BjB,EACAL,EAAkBI,CAAlBJ,CADAK,EAEOD,GAAP;AAAOA,WAoITG,EAyBAA,EAASR,cAATQ,GAA0BR,CAzB1BQ;AAjIA;;AAAA,iBAASR,CAAT,CAAwBngC,CAAxB,EAAwBA;AAAAA,iBACbygC,EAAczgC,CAAdygC,CADazgC;AA0BxB;;AAAA,iBAAS4gC,CAAT,CAAsB5gC,CAAtB,EAAsBA;AAGlB,cAAI0gC,CAAJ,EAGI5oE,WAAW8oE,CAAX9oE,EAAyB,CAAzBA,EAA4BkoC,CAA5BloC,EAHJ,KAIO;AACH,gBAAI4pE,IAAOjB,EAAczgC,CAAdygC,CAAX;;AACA,gBAAIiB,CAAJ,EAAU;AACNhB,mBAAwB,CAAxBA;;AACA;AAAA,iBAjCZ,UAAagB,CAAb,EAAaA;AACT,sBAAID,IAAWC,EAAKD,QAApB;AAAA,sBACI/qE,IAAOgrE,EAAKhrE,IADhB;;AAEA,0BAAQA,EAAK7K,MAAb;AACA,yBAAK,CAAL;AACI41E;AACA;;AACJ,yBAAK,CAAL;AACIA,wBAAS/qE,EAAK,CAALA,CAAT+qE;AACA;;AACJ,yBAAK,CAAL;AACIA,wBAAS/qE,EAAK,CAALA,CAAT+qE,EAAkB/qE,EAAK,CAALA,CAAlB+qE;AACA;;AACJ,yBAAK,CAAL;AACIA,wBAAS/qE,EAAK,CAALA,CAAT+qE,EAAkB/qE,EAAK,CAALA,CAAlB+qE,EAA2B/qE,EAAK,CAALA,CAA3B+qE;AACA;;AACJ;AACIA,wBAAS9qE,KAAT8qE,CAAS9qE,KAnDrB,CAmDY8qE,EAA0B/qE,CAA1B+qE;AAdJ;AA+BY5T,iBAlChB,CAkCoB6T,CAlCpB,CAiCY;AAEE,eAFF,SAEE;AACEvB,kBAAengC,CAAfmgC,GACAO,KAAwB,CADxBP;AACwB;AAAA;AAAA;AAAA;AAvE5C,QAyLkB,sBAATvoE,IAAS,GAATA,KAAyC,CAAzCA,KAA8BsoE,CAA9BtoE,GAAuDpJ,IAAvDoJ,GAA8DsoE,CAArD,GAA8DtoE,IAzLhF;AAyLgFA,K;;KCvLhF7O,IADkCuB,EAAQ,CAAR,EACxBq3E,CAA4B,CADJ,C,EAG1BxwE,I,CAAK,CAACnI,EAAOQ,CAAR,EAAY,83BAAZ,EAA44B,EAA54B,C,GAEbR,EAAOD,OAAPC,GAAiBD,C;AAAAA,G;KCJjBA,IADkCuB,EAAQ,CAAR,EACxBq3E,CAA4B,CADJ,C,EAG1BxwE,I,CAAK,CAACnI,EAAOQ,CAAR,EAAY,60YAAZ,EAA21Y,EAA31Y,C,GAEbR,EAAOD,OAAPC,GAAiBD,C;AAAAA,G;KCJjBA,IADkCuB,EAAQ,CAAR,EACxBq3E,CAA4B,CADJ,C,EAG1BxwE,I,CAAK,CAACnI,EAAOQ,CAAR,EAAY,u6BAAZ,EAAq7B,EAAr7B,C,GAEbR,EAAOD,OAAPC,GAAiBD,C;AAAAA,G;ACNjB,QAAI64E,IAAat3E,EAAQ,EAAR,CAAjB;AAEAtB,MAAOD,OAAPC,GAAOD,CAAW64E,EAAoB12E,OAApB02E,IAAyBA,CAApC74E,EAAgD84E,QAAhD94E,CAAyD;AAAC+4E,gBAAW,CAAC,CAAD,EAAG,UAAH,CAAZ;AAA2BC,YAAO,UAASpvC,CAAT,EAAmBqvC,CAAnB,EAA0Bxb,CAA1B,EAAkCyJ,CAAlC,EAA2Cv/D,CAA3C,EAA2CA;AACzI,eAAO,sdAAP;AAAO,OADqD;AAE9DuxE,gBAAU;AAFoD,KAAzDl5E,CAAPC;AAEY,G;ACFZA,MAAOD,OAAPC,GAAiBsB,EAAQ,EAAR,EAAkDY,OAAnElC;AAAmE,G;;;ACGnE,aAASgmE,CAAT,CAAgC5hE,CAAhC,EAAgCA;AAAO,aAAOA,KAAOA,EAAIxC,UAAXwC,GAAwBA,CAAxBA,GAA8B;AAAElC,iBAAWkC;AAAb,OAArC;AAIvC;;AAAA,aAAS80E,CAAT,CAAiC90E,CAAjC,EAAiCA;AAAO,UAAIA,KAAOA,EAAIxC,UAAf,EAA6B,OAAOwC,CAAP;AAAqB,UAAI+0E,IAAS,EAAb;AAAiB,UAAW,QAAP/0E,CAAJ,EAAmB,KAAK,IAAIrC,CAAT,IAAgBqC,CAAhB,EAA2BlD,OAAOmB,SAAPnB,CAAiBoB,cAAjBpB,CAAgCP,IAAhCO,CAAqCkD,CAArClD,EAA0Ca,CAA1Cb,MAAgDi4E,EAAOp3E,CAAPo3E,IAAc/0E,EAAIrC,CAAJqC,CAA9DlD;AAAqG,aAAzBi4E,EAAgBj3E,OAAhBi3E,GAAoB/0E,CAApB+0E,EAAgCA,CAAP;AAP9Pp5E;;AAAAA,MAAQ6B,UAAR7B,GAAQ6B,CAAa,CAArB7B;AASA,QAEIuG,IAAO4yE,EAFW53E,EAAQ,EAAR,CAEX43E,CAFX;AAAA,QASIE,IAAyBpT,EAFD1kE,EAAQ,EAAR,CAEC0kE,CAT7B;AAAA,QAaIqT,IAAwBrT,EAFD1kE,EAAQ,CAAR,CAEC0kE,CAb5B;AAAA,QAiBIsT,IAAQJ,EAFW53E,EAAQ,CAAR,CAEX43E,CAjBZ;AAAA,QAqBIK,IAAUL,EAFW53E,EAAQ,EAAR,CAEX43E,CArBd;AAAA,QAyBIM,IAAyBxT,EAFD1kE,EAAQ,EAAR,CAEC0kE,CAzB7B;;AA4BA,aAASlkE,CAAT,GAASA;AACP,UAAI23E,IAAK,IAAInzE,EAAK2/D,qBAAT,EAAT;AAaA,aAXAqT,EAAM72E,MAAN62E,CAAaG,CAAbH,EAAiBhzE,CAAjBgzE,GACAG,EAAGC,UAAHD,GAAgBL,EAAgCl3E,OADhDo3E,EAEAG,EAAG/0E,SAAH+0E,GAAeJ,EAA+Bn3E,OAF9Co3E,EAGAG,EAAGH,KAAHG,GAAWH,CAHXA,EAIAG,EAAG32E,gBAAH22E,GAAsBH,EAAMx2E,gBAJ5Bw2E,EAMAG,EAAGE,EAAHF,GAAQF,CANRD,EAOAG,EAAGZ,QAAHY,GAAc,UAAUrgE,CAAV,EAAUA;AACtB,eAAOmgE,EAAQV,QAARU,CAAiBngE,CAAjBmgE,EAAuBE,CAAvBF,CAAP;AAA8BE,OARhCH,EAWOG,CAAP;AAGF;;AAAA,QAAIlpE,IAAOzO,GAAX;AACAyO,MAAKzO,MAALyO,GAAczO,CAAdyO,EAEAipE,EAAgCt3E,OAAhCs3E,CAAkCjpE,CAAlCipE,CAFAjpE,EAIAA,EAAcrO,OAAdqO,GAAkBA,CAJlBA,EAMAxQ,EAAiBmC,OAAjBnC,GAAqBwQ,CANrBA,EAOAvQ,EAAOD,OAAPC,GAAiBD,EAAiBmC,OAPlCqO;AAOkC,G;;;AC9DlCxQ,MAAQ6B,UAAR7B,GAAQ6B,CAAa,CAArB7B;AAEA,QAAImmE,IAAS5kE,EAAQ,CAAR,CAAb;AAEAvB,MAAiBmC,OAAjBnC,GAAqB,UAAU8nE,CAAV,EAAUA;AAC7BA,QAASzH,cAATyH,CAAwB,oBAAxBA,EAA8C,UAAU5oD,CAAV,EAAmB3F,CAAnB,EAAmBA;AAC/D,YAAIsgE,IAAUtgE,EAAQsgE,OAAtB;AAAA,YACItX,IAAKhpD,EAAQgpD,EADjB;AAGA,aAAgB,CAAhB,KAAIrjD,CAAJ,EACE,OAAOqjD,EAAG98D,IAAH88D,CAAP;AACK,aAAgB,CAAhB,KAAIrjD,CAAJ,IAAoC,QAAXA,CAAzB,EACL,OAAO26D,EAAQp0E,IAARo0E,CAAP;AACK,YAAI1T,EAAO3iE,OAAP2iE,CAAejnD,CAAfinD,CAAJ,EACL,OAAIjnD,EAAQpc,MAARoc,GAAiB,CAAjBA,IACE3F,EAAQzV,GAARyV,KACFA,EAAQzV,GAARyV,GAAc,CAACA,EAAQvY,IAAT,CADZuY,GAIGuuD,EAASrK,OAATqK,CAAiB3E,IAAjB2E,CAAsB5oD,CAAtB4oD,EAA+BvuD,CAA/BuuD,CALL5oD,IAOK26D,EAAQp0E,IAARo0E,CAPT;;AAUA,YAAItgE,EAAQ5R,IAAR4R,IAAgBA,EAAQzV,GAA5B,EAAiC;AAC/B,cAAI6D,IAAOw+D,EAAO1iE,WAAP0iE,CAAmB5sD,EAAQ5R,IAA3Bw+D,CAAX;AACAx+D,YAAK1D,WAAL0D,GAAmBw+D,EAAOniE,iBAAPmiE,CAAyB5sD,EAAQ5R,IAAR4R,CAAatV,WAAtCkiE,EAAmD5sD,EAAQvY,IAA3DmlE,CAAnBx+D,EACA4R,IAAU;AAAE5R,kBAAMA;AAAR,WADVA;AAIF;;AAAA,eAAO46D,EAAGrjD,CAAHqjD,EAAYhpD,CAAZgpD,CAAP;AAAmBhpD,OAzBvBuuD;AAyBuBvuD,KA1BzBvZ,EA+BAC,EAAOD,OAAPC,GAAiBD,EAAiBmC,OA/BlCnC;AA+BkC,G;;;KCrClC;AAEAA,QAAQ6B,UAAR7B,GAAQ6B,CAAa,CAArB7B;AAKA,UAFgCqE,CAEhC;AAAA,UAAI8hE,IAAS5kE,EAAQ,CAAR,CAAb;AAAA,UAEIu4E,IAAav4E,EAAQ,CAAR,CAFjB;AAAA,UAII6kE,KAN4B/hE,IAMSy1E,CAArC1T,KANiD/hE,EAAIxC,UAMrDukE,GANkE/hE,CAMlE+hE,GANwE;AAAEjkE,iBAAWkC;AAAb,OAE5E;AAMArE,QAAiBmC,OAAjBnC,GAAqB,UAAU8nE,CAAV,EAAUA;AAC7BA,UAASzH,cAATyH,CAAwB,MAAxBA,EAAgC,UAAU5oD,CAAV,EAAmB3F,CAAnB,EAAmBA;AACjD,eAAKA,CAAL,EACE,MAAM,IAAI6sD,EAAqBjkE,OAAzB,CAA2B,6BAA3B,CAAN;AAGF,cAwDU43E,CAxDV;AAAA,cAAIxX,IAAKhpD,EAAQgpD,EAAjB;AAAA,cACIsX,IAAUtgE,EAAQsgE,OADtB;AAAA,cAEIp5E,IAAI,CAFR;AAAA,cAGI0hE,IAAM,EAHV;AAAA,cAIIx6D,SAAO3C,CAJX;AAAA,cAKIf,SAAce,CALlB;;AAmBA,mBAASg1E,CAAT,CAAuB1lB,CAAvB,EAA8BvpD,CAA9B,EAAqCoS,CAArC,EAAqCA;AAC/BxV,kBACFA,EAAK3F,GAAL2F,GAAW2sD,CAAX3sD,EACAA,EAAKoD,KAALpD,GAAaoD,CADbpD,EAEAA,EAAKsT,KAALtT,GAAuB,MAAVoD,CAFbpD,EAGAA,EAAKwV,IAALxV,GAAKwV,EAASA,CAHdxV,EAKI1D,MACF0D,EAAK1D,WAAL0D,GAAmB1D,IAAcqwD,CAD/BrwD,CANF0D,GAWJw6D,KAAYI,EAAGrjD,EAAQo1C,CAARp1C,CAAHqjD,EAAmB;AAC7B56D,oBAAMA,CADuB;AAE7B/D,2BAAauiE,EAAOviE,WAAPuiE,CAAmB,CAACjnD,EAAQo1C,CAARp1C,CAAD,EAAiBo1C,CAAjB,CAAnB6R,EAA4C,CAACliE,IAAcqwD,CAAf,EAAsB,IAAtB,CAA5C6R;AAFgB,aAAnB5D,CAXR56D;AAiBN;;AAAA,cA9BI4R,EAAQ5R,IAAR4R,IAAgBA,EAAQzV,GAAxByV,KACFtV,IAAckiE,EAAOniE,iBAAPmiE,CAAyB5sD,EAAQ5R,IAAR4R,CAAatV,WAAtCkiE,EAAmD5sD,EAAQzV,GAARyV,CAAY,CAAZA,CAAnD4sD,IAAqE,GADjF5sD,GAIA4sD,EAAO3hE,UAAP2hE,CAAkBjnD,CAAlBinD,MACFjnD,IAAUA,EAAQte,IAARse,CAAazZ,IAAbyZ,CADRinD,CAJA5sD,EAQAA,EAAQ5R,IAAR4R,KACF5R,IAAOw+D,EAAO1iE,WAAP0iE,CAAmB5sD,EAAQ5R,IAA3Bw+D,CADL5sD,CARAA,EA8BA2F,KAA8B,mBAAZA,CAAtB,EACE,IAAIinD,EAAO3iE,OAAP2iE,CAAejnD,CAAfinD,CAAJ,EACE,KAAK,IAAIxyD,IAAIuL,EAAQpc,MAArB,EAA6BrC,IAAIkT,CAAjC,EAAoClT,GAApC,EACMA,KAAKye,CAALze,IACFu5E,EAAcv5E,CAAdu5E,EAAiBv5E,CAAjBu5E,EAAoBv5E,MAAMye,EAAQpc,MAARoc,GAAiB,CAA3C86D,CADEv5E,CAFR,KAMO,IAAI02E,EAAO31E,MAAP21E,IAAiBj4D,EAAQi4D,EAAO31E,MAAP21E,CAAc7uE,QAAtB4W,CAArB,EAAsD;AAG3D,iBAFA,IAAIqxD,IAAa,EAAjB,EACIjoE,IAAW4W,EAAQi4D,EAAO31E,MAAP21E,CAAc7uE,QAAtB4W,GADf,EAES+6D,IAAK3xE,EAASoV,IAATpV,EAAd,EAAuBoV,CAASu8D,EAAGlqC,IAAnC,EAAyCkqC,IAAK3xE,EAASoV,IAATpV,EAA9C,EACEioE,EAAWnoE,IAAXmoE,CAAgB0J,EAAGv4E,KAAnB6uE;;AAGF,iBAAS58D,KADTuL,IAAUqxD,CACD58D,EAAY7Q,MAArB,EAA6BrC,IAAIkT,CAAjC,EAAoClT,GAApC,EACEu5E,EAAcv5E,CAAdu5E,EAAiBv5E,CAAjBu5E,EAAoBv5E,MAAMye,EAAQpc,MAARoc,GAAiB,CAA3C86D;AAA2C,WARxC,MAYCD,SAAW/0E,CAAX+0E,EAEJ54E,OAAO6iD,IAAP7iD,CAAY+d,CAAZ/d,EAAqB+4E,OAArB/4E,CAA6B,UAAUa,CAAV,EAAUA;AAAAA,iBAIpBgD,CAJoBhD,KAIjC+3E,CAJiC/3E,IAKnCg4E,EAAcD,CAAdC,EAAwBv5E,IAAI,CAA5Bu5E,CALmCh4E,EAOrC+3E,IAAW/3E,CAP0BA,EAQrCvB,GARqCuB;AAQrCvB,WARFU,CAFI44E,EAUFt5E,KAEeuE,CAFfvE,KAEEs5E,CAFFt5E,IAGAu5E,EAAcD,CAAdC,EAAwBv5E,IAAI,CAA5Bu5E,EAA4B,CAAG,CAA/BA,CAbED;AAuBV,iBAJU,MAANt5E,CAAM,KACR0hE,IAAM0X,EAAQp0E,IAARo0E,CADE,GAIH1X,CAAP;AAAOA,SApFT2F;AAoFS3F,OArFXniE,EAyFAC,EAAOD,OAAPC,GAAiBD,EAAiBmC,OAzFlCnC;AAyFkC,K;;;;ACpGlCA,MAAQ6B,UAAR7B,GAAQ6B,CAAa,CAArB7B;AAKA,QAFgCqE,CAEhC;AAAA,QAAIy1E,IAAav4E,EAAQ,CAAR,CAAjB;AAAA,QAEI6kE,KAJ4B/hE,IAISy1E,CAArC1T,KAJiD/hE,EAAIxC,UAIrDukE,GAJkE/hE,CAIlE+hE,GAJwE;AAAEjkE,eAAWkC;AAAb,KAE5E;AAIArE,MAAiBmC,OAAjBnC,GAAqB,UAAU8nE,CAAV,EAAUA;AAC7BA,QAASzH,cAATyH,CAAwB,eAAxBA,EAAyC;AACvC,YAAyB,MAArBxjE,UAAUxB,MAAd,EAKE,MAAM,IAAIsjE,EAAqBjkE,OAAzB,CAA2B,sBAAsBmC,UAAUA,UAAUxB,MAAVwB,GAAmB,CAA7BA,EAAgCtD,IAAtD,GAA6D,GAAxF,CAAN;AAA8F,OANlG8mE;AAMkG,KAPpG9nE,EAYAC,EAAOD,OAAPC,GAAiBD,EAAiBmC,OAZlCnC;AAYkC,G;;;ACrBlCA,MAAQ6B,UAAR7B,GAAQ6B,CAAa,CAArB7B;AAKA,QAFgCqE,CAEhC;AAAA,QAAI8hE,IAAS5kE,EAAQ,CAAR,CAAb;AAAA,QAEIu4E,IAAav4E,EAAQ,CAAR,CAFjB;AAAA,QAII6kE,KAN4B/hE,IAMSy1E,CAArC1T,KANiD/hE,EAAIxC,UAMrDukE,GANkE/hE,CAMlE+hE,GANwE;AAAEjkE,eAAWkC;AAAb,KAE5E;AAMArE,MAAiBmC,OAAjBnC,GAAqB,UAAU8nE,CAAV,EAAUA;AAC7BA,QAASzH,cAATyH,CAAwB,IAAxBA,EAA8B,UAAUqS,CAAV,EAAuB5gE,CAAvB,EAAuBA;AACnD,YAAwB,KAApBjV,UAAUxB,MAAd,EACE,MAAM,IAAIsjE,EAAqBjkE,OAAzB,CAA2B,mCAA3B,CAAN;AASF,eAPIgkE,EAAO3hE,UAAP2hE,CAAkBgU,CAAlBhU,MACFgU,IAAcA,EAAYv5E,IAAZu5E,CAAiB10E,IAAjB00E,CADZhU,GAC6B1gE,CAM5B8T,EAAQ6gE,IAAR7gE,CAAa8gE,WANe50E,IAMf40E,CAAgBF,CAND10E,IAMgB0gE,EAAO5iE,OAAP4iE,CAAegU,CAAfhU,CANhB1gE,GAOxB8T,EAAQsgE,OAARtgE,CAAgB9T,IAAhB8T,CAPwB9T,GASxB8T,EAAQgpD,EAARhpD,CAAW9T,IAAX8T,CAHT;AAGoB9T,OAdtBqiE,GAkBAA,EAASzH,cAATyH,CAAwB,QAAxBA,EAAkC,UAAUqS,CAAV,EAAuB5gE,CAAvB,EAAuBA;AACvD,YAAwB,KAApBjV,UAAUxB,MAAd,EACE,MAAM,IAAIsjE,EAAqBjkE,OAAzB,CAA2B,uCAA3B,CAAN;AAEF,eAAO2lE,EAASrK,OAATqK,CAAqB+D,EAArB/D,CAAuBlnE,IAAvBknE,CAA4BriE,IAA5BqiE,EAAkCqS,CAAlCrS,EAA+C;AAAEvF,cAAIhpD,EAAQsgE,OAAd;AAAuBA,mBAAStgE,EAAQgpD,EAAxC;AAA4C6X,gBAAM7gE,EAAQ6gE;AAA1D,SAA/CtS,CAAP;AAAgHsS,OAJlHtS,CAlBAA;AAsBkHsS,KAvBpHp6E,EA2BAC,EAAOD,OAAPC,GAAiBD,EAAiBmC,OA3BlCnC;AA2BkC,G;;;ACtClCA,MAAQ6B,UAAR7B,GAAQ6B,CAAa,CAArB7B,EAEAA,EAAiBmC,OAAjBnC,GAAqB,UAAU8nE,CAAV,EAAUA;AAC7BA,QAASzH,cAATyH,CAAwB,KAAxBA,EAA+B;AAG7B,aAFA,IAAIn6D,IAAO,MAAC3I,CAAD,CAAX,EACIuU,IAAUjV,UAAUA,UAAUxB,MAAVwB,GAAmB,CAA7BA,CADd,EAES7D,IAAI,CAAb,EAAgBA,IAAI6D,UAAUxB,MAAVwB,GAAmB,CAAvC,EAA0C7D,GAA1C,EACEkN,EAAKvF,IAALuF,CAAUrJ,UAAU7D,CAAV6D,CAAVqJ;;AAGF,YAAIiF,IAAQ,CAAZ;AAC0B,gBAAtB2G,EAAQ6gE,IAAR7gE,CAAa3G,KAAS,GACxBA,IAAQ2G,EAAQ6gE,IAAR7gE,CAAa3G,KADG,GAEf2G,EAAQ5R,IAAR4R,IAAsC,QAAtBA,EAAQ5R,IAAR4R,CAAa3G,KAA7B2G,KACT3G,IAAQ2G,EAAQ5R,IAAR4R,CAAa3G,KADZ2G,CAFe,EAK1B5L,EAAK,CAALA,IAAUiF,CALgB,EAO1Bk1D,EAASP,GAATO,CAAal6D,KAAbk6D,CAAmBA,CAAnBA,EAA6Bn6D,CAA7Bm6D,CAP0B;AAOGn6D,OAf/Bm6D;AAe+Bn6D,KAlBjC3N,EAsBAC,EAAOD,OAAPC,GAAiBD,EAAiBmC,OAtBlCnC;AAsBkC,G;;;ACtBlCA,MAAQ6B,UAAR7B,GAAQ6B,CAAa,CAArB7B;AACA,QAAIs6E,IAAyB,8EAA7B;AAEAt6E,MAAQs6E,sBAARt6E,GAAiCs6E,CAAjCt6E,EAEAA,EAAiBmC,OAAjBnC,GAAqB,UAAU8nE,CAAV,EAAUA;AAC7BA,QAASzH,cAATyH,CAAwB,QAAxBA,EAAkC,UAAUzjE,CAAV,EAAeiwD,CAAf,EAAeA;AAC/C,eAAKjwD,KAGDi2E,EAAuBn3E,IAAvBm3E,CAA4Bh+D,OAAOg4C,CAAPh4C,CAA5Bg+D,CAHCj2E,IAG8ClD,OAAOmB,SAAPnB,CAAiB4tE,oBAAjB5tE,CAAsCP,IAAtCO,CAA2CkD,CAA3ClD,EAAgDmzD,CAAhDnzD,CAH9CkD,GAMEA,EAAIiwD,CAAJjwD,CANFA,GAMMiwD,KAHX,CAHKjwD,GACIA,CADT;AACSA,OAFXyjE;AAEWzjE,KALbrE;AAKaqE,G;;;ACRbrE,MAAQ6B,UAAR7B,GAAQ6B,CAAa,CAArB7B;AAKA,QAFgCqE,CAEhC;AAAA,QAAI8hE,IAAS5kE,EAAQ,CAAR,CAAb;AAAA,QAEIu4E,IAAav4E,EAAQ,CAAR,CAFjB;AAAA,QAII6kE,KAN4B/hE,IAMSy1E,CAArC1T,KANiD/hE,EAAIxC,UAMrDukE,GANkE/hE,CAMlE+hE,GANwE;AAAEjkE,eAAWkC;AAAb,KAE5E;AAMArE,MAAiBmC,OAAjBnC,GAAqB,UAAU8nE,CAAV,EAAUA;AAC7BA,QAASzH,cAATyH,CAAwB,MAAxBA,EAAgC,UAAU5oD,CAAV,EAAmB3F,CAAnB,EAAmBA;AACjD,YAAwB,KAApBjV,UAAUxB,MAAd,EACE,MAAM,IAAIsjE,EAAqBjkE,OAAzB,CAA2B,qCAA3B,CAAN;AAEEgkE,UAAO3hE,UAAP2hE,CAAkBjnD,CAAlBinD,MACFjnD,IAAUA,EAAQte,IAARse,CAAazZ,IAAbyZ,CADRinD;AAIJ,YAAI5D,IAAKhpD,EAAQgpD,EAAjB;AAEA,YAAK4D,EAAO5iE,OAAP4iE,CAAejnD,CAAfinD,CAAL,EAYE,OAAO5sD,EAAQsgE,OAARtgE,CAAgB9T,IAAhB8T,CAAP;AAXA,YAAI5R,IAAO4R,EAAQ5R,IAAnB;AAMA,eALI4R,EAAQ5R,IAAR4R,IAAgBA,EAAQzV,GAAxByV,KAAwBzV,CAC1B6D,IAAOw+D,EAAO1iE,WAAP0iE,CAAmB5sD,EAAQ5R,IAA3Bw+D,CADmBriE,EAErBG,WAFqBH,GAEPqiE,EAAOniE,iBAAPmiE,CAAyB5sD,EAAQ5R,IAAR4R,CAAatV,WAAtCkiE,EAAmD5sD,EAAQzV,GAARyV,CAAY,CAAZA,CAAnD4sD,CAFjB5sD,GAKGgpD,EAAGrjD,CAAHqjD,EAAY;AACjB56D,gBAAMA,CADW;AAEjB/D,uBAAauiE,EAAOviE,WAAPuiE,CAAmB,CAACjnD,CAAD,CAAnBinD,EAA8B,CAACx+D,KAAQA,EAAK1D,WAAd,CAA9BkiE;AAFI,SAAZ5D,CAAP;AAE2Dt+D,OAnB/D6jE;AAmB+D7jE,KApBjEjE,EA4BAC,EAAOD,OAAPC,GAAiBD,EAAiBmC,OA5BlCnC;AA4BkC,G;;;ACvClCA,MAAQ6B,UAAR7B,GAAQ6B,CAAa,CAArB7B,EACAA,EAAQqnE,yBAARrnE,GASA,UAAmC8nE,CAAnC,EAAmCA;AACjCyS,QAA4Bp4E,OAA5Bo4E,CAA8BzS,CAA9ByS;AAA8BzS,KAXhC9nE;AAMA,QAFgCqE,CAEhC;AAAA,QAAIm2E,IAAoBj5E,EAAQ,EAAR,CAAxB;AAAA,QAEIg5E,KAJ4Bl2E,IAIgBm2E,CAA5CD,KAJiDl2E,EAAIxC,UAIrD04E,GAJkEl2E,CAIlEk2E,GAJwE;AAAEp4E,eAAWkC;AAAb,KAE5E;AAFyFA,G;;;ACJzFrE,MAAQ6B,UAAR7B,GAAQ6B,CAAa,CAArB7B;AAEA,QAAImmE,IAAS5kE,EAAQ,CAAR,CAAb;AAEAvB,MAAiBmC,OAAjBnC,GAAqB,UAAU8nE,CAAV,EAAUA;AAC7BA,QAASF,iBAATE,CAA2B,QAA3BA,EAAqC,UAAUvF,CAAV,EAAchyD,CAAd,EAAqBq5B,CAArB,EAAgCrwB,CAAhC,EAAgCA;AACnE,YAAI4oD,IAAMI,CAAV;AAeA,eAdKhyD,EAAM22D,QAAN32D,KACHA,EAAM22D,QAAN32D,GAAiB,EAAjBA,EACA4xD,IAAM,UAAUjjD,CAAV,EAAmB3F,CAAnB,EAAmBA;AAEvB,cAAIkhE,IAAW7wC,EAAUs9B,QAAzB;AACAt9B,YAAUs9B,QAAVt9B,GAAqBu8B,EAAOzjE,MAAPyjE,CAAc,EAAdA,EAAkBsU,CAAlBtU,EAA4B51D,EAAM22D,QAAlCf,CAArBv8B;AACA,cAAIu4B,IAAMI,EAAGrjD,CAAHqjD,EAAYhpD,CAAZgpD,CAAV;AAEA,iBADA34B,EAAUs9B,QAAVt9B,GAAqB6wC,CAArB7wC,EACOu4B,CAAP;AAAOA,SARN5xD,GAYLA,EAAM22D,QAAN32D,CAAegJ,EAAQ5L,IAAR4L,CAAa,CAAbA,CAAfhJ,IAAkCgJ,EAAQgpD,EAZrChyD,EAcE4xD,CAAP;AAAOA,OAhBT2F;AAgBS3F,KAjBXniE,EAqBAC,EAAOD,OAAPC,GAAiBD,EAAiBmC,OArBlCnC;AAqBkC,G;;;ACzBlCA,MAAQ6B,UAAR7B,GAAQ6B,CAAa,CAArB7B;AAEA,QAAImmE,IAAS5kE,EAAQ,CAAR,CAAb;AAAA,QAEI+lE,IAAS;AACXoT,iBAAW,CAAC,OAAD,EAAU,MAAV,EAAkB,MAAlB,EAA0B,OAA1B,CADA;AAEX9nE,aAAO,MAFI;AAKX+nE,mBAAa,UAAqB/nE,CAArB,EAAqBA;AAChC,YAAqB,mBAAVA,CAAX,EAA+B;AAC7B,cAAIgoE,IAAWzU,EAAOxjE,OAAPwjE,CAAemB,EAAOoT,SAAtBvU,EAAiCvzD,EAAM/B,WAAN+B,EAAjCuzD,CAAf;AAEEvzD,cADEgoE,KAAY,CAAZA,GACMA,CADNA,GAGM1qD,SAAStd,CAATsd,EAAgB,EAAhBA,CAFRtd;AAMJ;;AAAA,eAAOA,CAAP;AAAOA,OAfE;AAmBX20D,WAAK,UAAa30D,CAAb,EAAaA;AAGhB,YAFAA,IAAQ00D,EAAOqT,WAAPrT,CAAmB10D,CAAnB00D,CAAR10D,EAEuB,sBAAZu3D,OAAY,IAAe7C,EAAOqT,WAAPrT,CAAmBA,EAAO10D,KAA1B00D,KAAoC10D,CAA1E,EAAiF;AAC/E,cAAI8tD,IAAS4G,EAAOoT,SAAPpT,CAAiB10D,CAAjB00D,CAAb;AACK6C,kBAAQzJ,CAARyJ,MAEHzJ,IAAS,KAFNyJ;;AAKL,eAAK,IAAI0Q,IAAOv2E,UAAUxB,MAArB,EAA6B8B,IAAUH,MAAMo2E,IAAO,CAAPA,GAAWA,IAAO,CAAlBA,GAAsB,CAA5Bp2E,CAAvC,EAAuEq2E,IAAO,CAAnF,EAAsFA,IAAOD,CAA7F,EAAmGC,GAAnG,EACEl2E,EAAQk2E,IAAO,CAAfl2E,IAAoBN,UAAUw2E,CAAVx2E,CAApBM;;AAGFulE,kBAAQzJ,CAARyJ,EAAgBv8D,KAAhBu8D,CAAsBA,OAAtBA,EAA+BvlE,CAA/BulE;AAA+BvlE;AAAAA;AAjCxB,KAFb;AAwCA5E,MAAiBmC,OAAjBnC,GAAqBsnE,CAArBtnE,EACAC,EAAOD,OAAPC,GAAiBD,EAAiBmC,OADlCnC;AACkC,G;;;ACzClC,aAAS25E,CAAT,CAAoB32E,CAApB,EAAoBA;AAClByC,WAAKzC,MAALyC,GAAczC,CAAdyC;AAFFzF;;AAAAA,MAAQ6B,UAAR7B,GAAQ6B,CAAa,CAArB7B,EAKA25E,EAAWr3E,SAAXq3E,CAAqBp1E,QAArBo1E,GAAgCA,EAAWr3E,SAAXq3E,CAAqB12E,MAArB02E,GAA8B;AAC5D,aAAO,KAAKl0E,KAAKzC,MAAjB;AAAiBA,KANnBhD,EASAA,EAAiBmC,OAAjBnC,GAAqB25E,CATrB35E,EAUAC,EAAOD,OAAPC,GAAiBD,EAAiBmC,OAVlCnC;AAUkC,G;;;ACXlCA,MAAQ6B,UAAR7B,GAAQ6B,CAAa,CAArB7B,EACAA,EAAQ+6E,aAAR/6E,GA0BA,UAAuBg7E,CAAvB,EAAuBA;AACrB,UAAIC,IAAmBD,KAAgBA,EAAa,CAAbA,CAAhBA,IAAmC,CAA1D;AAAA,UACIE,IAAkBC,EAAM1U,iBAD5B;AAGA,UAAIwU,KAAoBE,EAAMzU,iCAA1BuU,IAA+DA,KAAoBE,EAAM1U,iBAA7F,EACE;;AAGF,UAAIwU,IAAmBE,EAAMzU,iCAA7B,EAAgE;AAC9D,YAAI0U,IAAkBD,EAAMxU,gBAANwU,CAAuBD,CAAvBC,CAAtB;AAAA,YACIE,IAAmBF,EAAMxU,gBAANwU,CAAuBF,CAAvBE,CADvB;AAEA,cAAM,IAAI/U,EAAqBjkE,OAAzB,CAA2B,+IAAoJi5E,CAApJ,GAAsK,mDAAtK,GAA4NC,CAA5N,GAA+O,IAA1Q,CAAN;AAGA;;AAAA,YAAM,IAAIjV,EAAqBjkE,OAAzB,CAA2B,0IAA+I64E,EAAa,CAAbA,CAA/I,GAAiK,IAA5L,CAAN;AAAkM,KAzCtMh7E,EAEAA,EAAQ84E,QAAR94E,GA2CA,UAAkBs7E,CAAlB,EAAgCpW,CAAhC,EAAgCA;AAG9B,WAAKA,CAAL,EACE,MAAM,IAAIkB,EAAqBjkE,OAAzB,CAA2B,mCAA3B,CAAN;AAEF,WAAKm5E,CAAL,IAAKA,CAAiBA,EAAatC,IAAnC,EACE,MAAM,IAAI5S,EAAqBjkE,OAAzB,CAA2B,qCAAqCm5E,CAAhE,CAAN;AAGFA,QAAatC,IAAbsC,CAAkBC,SAAlBD,GAA8BA,EAAaE,MAA3CF,EAIApW,EAAI0U,EAAJ1U,CAAO6V,aAAP7V,CAAqBoW,EAAavC,QAAlC7T,CAJAoW;AAOA,UAAIG,IAAuCH,EAAavC,QAAbuC,IAAsD,MAA7BA,EAAavC,QAAbuC,CAAsB,CAAtBA,CAApE;AAsCA,UAAI1xC,IAAY;AACd8xC,gBAAQ,UAAgBr3E,CAAhB,EAAqBrD,CAArB,EAA2B8D,CAA3B,EAA2BA;AACjC,gBAAKT,KAASrD,KAAQqD,CAAtB,GACE,MAAM,IAAI+hE,EAAqBjkE,OAAzB,CAA2B,MAAMnB,CAAN,GAAa,mBAAb,GAAmCqD,CAA9D,EAAmE;AAAES,iBAAKA;AAAP,WAAnE,CAAN;AAEF,iBAAOT,EAAIrD,CAAJqD,CAAP;AAAWrD,SALC;AAOd26E,gBAAQ,UAAgBC,CAAhB,EAAwB56E,CAAxB,EAAwBA;AAE9B,eADA,IAAI6B,IAAM+4E,EAAO94E,MAAjB,EACSrC,IAAI,CAAb,EAAgBA,IAAIoC,CAApB,EAAyBpC,GAAzB,EACE,IAAIm7E,EAAOn7E,CAAPm7E,KAAgC,QAAnBA,EAAOn7E,CAAPm7E,EAAU56E,CAAV46E,CAAjB,EACE,OAAOA,EAAOn7E,CAAPm7E,EAAU56E,CAAV46E,CAAP;AAAiB56E,SAXT;AAed66E,gBAAQ,UAAgBlxE,CAAhB,EAAyBuU,CAAzB,EAAyBA;AAC/B,iBAA0B,qBAAZvU,CAAY,GAAaA,EAAQ/J,IAAR+J,CAAauU,CAAbvU,CAAb,GAAqCA,CAA/D;AAA+DA,SAhBnD;AAmBd5H,0BAAkBw2E,EAAMx2E,gBAnBV;AAoBd+4E,uBAxDF,UAA8BpU,CAA9B,EAAuCxoD,CAAvC,EAAgD3F,CAAhD,EAAgDA;AAC1CA,YAAQ6gE,IAAR7gE,KACF2F,IAAUq6D,EAAM72E,MAAN62E,CAAa,EAAbA,EAAiBr6D,CAAjBq6D,EAA0BhgE,EAAQ6gE,IAAlCb,CAAVr6D,EACI3F,EAAQzV,GAARyV,KACFA,EAAQzV,GAARyV,CAAY,CAAZA,IAAY,CAAK,CADfA,CAFFA,GAMJmuD,IAAUxC,EAAI0U,EAAJ1U,CAAO6W,cAAP7W,CAAsBtkE,IAAtBskE,CAA2Bz/D,IAA3By/D,EAAiCwC,CAAjCxC,EAA0ChmD,CAA1CgmD,EAAmD3rD,CAAnD2rD,CANN3rD;AAQJ,cAAIyiE,IAAmBzC,EAAM72E,MAAN62E,CAAa,EAAbA,EAAiBhgE,CAAjBggE,EAA0B;AAAE9Q,mBAAOhjE,KAAKgjE;AAAd,WAA1B8Q,CAAvB;AAAA,cAEIphE,IAAS+sD,EAAI0U,EAAJ1U,CAAO4W,aAAP5W,CAAqBtkE,IAArBskE,CAA0Bz/D,IAA1By/D,EAAgCwC,CAAhCxC,EAAyChmD,CAAzCgmD,EAAkD8W,CAAlD9W,CAFb;;AAQA,cAJc,QAAV/sD,CAAU,IAAQ+sD,EAAI+W,OAAZ,KACZ1iE,EAAQ2tD,QAAR3tD,CAAiBA,EAAQvY,IAAzBuY,IAAiC2rD,EAAI+W,OAAJ/W,CAAYwC,CAAZxC,EAAqBoW,EAAaY,eAAlChX,EAAmDA,CAAnDA,CAAjC3rD,EACApB,IAASoB,EAAQ2tD,QAAR3tD,CAAiBA,EAAQvY,IAAzBuY,EAA+B2F,CAA/B3F,EAAwCyiE,CAAxCziE,CAFG,GAIA,QAAVpB,CAAJ,EAAoB;AAClB,gBAAIoB,EAAQ84C,MAAZ,EAAoB;AAElB,mBADA,IAAIj3C,IAAQjD,EAAOrL,KAAPqL,CAAa,IAAbA,CAAZ,EACS1X,IAAI,CADb,EACgBC,IAAI0a,EAAMtY,MAA1B,EAAkCrC,IAAIC,CAAJD,KAC3B2a,EAAM3a,CAAN2a,KAAY3a,IAAI,CAAJA,KAAUC,CADKD,CAAlC,EAAyCA,GAAzC,EAKE2a,EAAM3a,CAAN2a,IAAW7B,EAAQ84C,MAAR94C,GAAiB6B,EAAM3a,CAAN2a,CAA5BA;;AAEFjD,kBAASiD,EAAMnT,IAANmT,CAAW,IAAXA,CAATjD;AAEF;;AAAA,mBAAOA,CAAP;AAEA;;AAAA,gBAAM,IAAIiuD,EAAqBjkE,OAAzB,CAA2B,iBAAiBoX,EAAQvY,IAAzB,GAAgC,0DAA3D,CAAN;AAAiE,SAKrD;AAsBduhE,YAAI,UAAY9hE,CAAZ,EAAYA;AACd,cAAI0hE,IAAMmZ,EAAa76E,CAAb66E,CAAV;AAEA,iBADAnZ,EAAIoZ,SAAJpZ,GAAgBmZ,EAAa76E,IAAI,IAAjB66E,CAAhBnZ,EACOA,CAAP;AAAOA,SAzBK;AA4Bdga,kBAAU,EA5BI;AA6BdC,iBAAS,UAAiB37E,CAAjB,EAAoBkH,CAApB,EAA0B00E,CAA1B,EAA+Cz4E,CAA/C,EAA4Dg4E,CAA5D,EAA4DA;AACnE,cAAIU,IAAiB72E,KAAK02E,QAAL12E,CAAchF,CAAdgF,CAArB;AAAA,cACI88D,IAAK98D,KAAK88D,EAAL98D,CAAQhF,CAARgF,CADT;AAOA,iBALIkC,KAAQi0E,CAARj0E,IAAkB/D,CAAlB+D,IAAiC00E,CAAjC10E,GACF20E,IAAiBC,EAAY92E,IAAZ82E,EAAkB97E,CAAlB87E,EAAqBha,CAArBga,EAAyB50E,CAAzB40E,EAA+BF,CAA/BE,EAAoD34E,CAApD24E,EAAiEX,CAAjEW,CADf50E,GAEQ20E,MACVA,IAAiB72E,KAAK02E,QAAL12E,CAAchF,CAAdgF,IAAmB82E,EAAY92E,IAAZ82E,EAAkB97E,CAAlB87E,EAAqBha,CAArBga,CAD1BD,CAFR30E,EAKG20E,CAAP;AAAOA,SArCK;AAwCd30E,cAAM,UAAcjG,CAAd,EAAqB0tE,CAArB,EAAqBA;AACzB,iBAAO1tE,KAAS0tE,GAAhB,GACE1tE,IAAQA,EAAMiC,OAAdjC;;AAEF,iBAAOA,CAAP;AAAOA,SA5CK;AA+Cd86E,qBAAar7E,OAAOs7E,IAAPt7E,CAAY,EAAZA,CA/CC;AAiDdihE,cAAM8C,EAAI0U,EAAJ1U,CAAO9C,IAjDC;AAkDd4Y,sBAAcM,EAAavC;AAlDb,OAAhB;;AAqDA,eAAS5W,CAAT,CAAajjD,CAAb,EAAaA;AACX,YAAI3F,IAAUjV,UAAUxB,MAAVwB,IAAoB,CAApBA,IAAoB,KAAsBU,CAAtB,KAAKV,UAAU,CAAVA,CAAzBA,GAAsD,EAAtDA,GAA2DA,UAAU,CAAVA,CAAzE;AAAA,YAEIqD,IAAO4R,EAAQ5R,IAFnB;AAIAw6D,UAAIua,MAAJva,CAAW5oD,CAAX4oD,GAAW5oD,CACNA,EAAQmuD,OADFnuD,IACa+hE,EAAapC,OAD1B3/D,KAET5R,IAAOg1E,EAASz9D,CAATy9D,EAAkBh1E,CAAlBg1E,CAFEpjE,CAAX4oD;AAIA,YAAIyZ,SAAS52E,CAAb;AAAA,YACIpB,IAAc03E,EAAasB,cAAbtB,GAA8B,EAA9BA,GAA8B,KAAKt2E,CADrD;;AAUA,iBAASg0E,CAAT,CAAc95D,CAAd,EAAcA;AACZ,iBAAO,KAAKo8D,EAAatC,IAAbsC,CAAkB1xC,CAAlB0xC,EAA6Bp8D,CAA7Bo8D,EAAsC1xC,EAAU6zB,OAAhD6d,EAAyD1xC,EAAUs9B,QAAnEoU,EAA6E3zE,CAA7E2zE,EAAmF13E,CAAnF03E,EAAgGM,CAAhGN,CAAZ;AAGF;;AAAA,eAZIA,EAAauB,SAAbvB,KAEAM,IADEriE,EAAQqiE,MAARriE,GACO2F,KAAW3F,EAAQqiE,MAARriE,CAAe,CAAfA,CAAX2F,GAA+B,CAACA,CAAD,EAAUtX,MAAV,CAAiB2R,EAAQqiE,MAAzB,CAA/B18D,GAAkE3F,EAAQqiE,MADjFriE,GAGO,CAAC2F,CAAD,CAJTo8D,GAIUp8D,CAOd85D,IAAO8D,EAAkBxB,EAAatC,IAA/B8D,EAAqC9D,CAArC8D,EAA2ClzC,CAA3CkzC,EAAsDvjE,EAAQqiE,MAARriE,IAAkB,EAAxEujE,EAA4En1E,CAA5Em1E,EAAkFl5E,CAAlFk5E,CAPO59D,EAQFA,CAREA,EAQO3F,CARP2F,CAQd;AAsCF;;AAAA,aApCAijD,EAAI4a,KAAJ5a,GAAI4a,CAAQ,CAAZ5a,EAEAA,EAAIua,MAAJva,GAAa,UAAU5oD,CAAV,EAAUA;AACrB,YAAKA,EAAQmuD,OAAb,EAgBE99B,EAAU6zB,OAAV7zB,GAAoBrwB,EAAQkkD,OAA5B7zB,EACAA,EAAUs9B,QAAVt9B,GAAqBrwB,EAAQ2tD,QAD7Bt9B,EAEAA,EAAUu9B,UAAVv9B,GAAuBrwB,EAAQ4tD,UAF/Bv9B,EAGAA,EAAU6+B,KAAV7+B,GAAkBrwB,EAAQkvD,KAH1B7+B,CAhBF,KAAsB;AACpBA,YAAU6zB,OAAV7zB,GAAoB2vC,EAAM72E,MAAN62E,CAAa,EAAbA,EAAiBrU,EAAIzH,OAArB8b,EAA8BhgE,EAAQkkD,OAAtC8b,CAApB3vC,EAEI0xC,EAAa0B,UAAb1B,KACF1xC,EAAUs9B,QAAVt9B,GAAqB2vC,EAAM72E,MAAN62E,CAAa,EAAbA,EAAiBrU,EAAIgC,QAArBqS,EAA+BhgE,EAAQ2tD,QAAvCqS,CADnB+B,CAFJ1xC,EAG8Ds9B,CAE1DoU,EAAa0B,UAAb1B,IAA2BA,EAAa2B,aAFkB/V,MAG5Dt9B,EAAUu9B,UAAVv9B,GAAuB2vC,EAAM72E,MAAN62E,CAAa,EAAbA,EAAiBrU,EAAIiC,UAArBoS,EAAiChgE,EAAQ4tD,UAAzCoS,CAHqCrS,CAH9Dt9B,EASAA,EAAU6+B,KAAV7+B,GAAkB,EATlBA;AAWA,cAAIszC,IAAsB3jE,EAAQ4jE,yBAAR5jE,IAAqCkiE,CAA/D;AACApV,YAASiC,iBAATjC,CAA2Bz8B,CAA3By8B,EAAsC,eAAtCA,EAAuD6W,CAAvD7W,GACAA,EAASiC,iBAATjC,CAA2Bz8B,CAA3By8B,EAAsC,oBAAtCA,EAA4D6W,CAA5D7W,CADAA;AAC4D6W;AAAAA,OAjBhE/a,EA0BAA,EAAIib,MAAJjb,GAAa,UAAU1hE,CAAV,EAAakH,CAAb,EAAmB/D,CAAnB,EAAgCg4E,CAAhC,EAAgCA;AAC3C,YAAIN,EAAasB,cAAbtB,IAAasB,CAAmBh5E,CAApC,EACE,MAAM,IAAIwiE,EAAqBjkE,OAAzB,CAA2B,wBAA3B,CAAN;AAEF,YAAIm5E,EAAauB,SAAbvB,IAAauB,CAAcjB,CAA/B,EACE,MAAM,IAAIxV,EAAqBjkE,OAAzB,CAA2B,yBAA3B,CAAN;AAGF,eAAOo6E,EAAY3yC,CAAZ2yC,EAAuB97E,CAAvB87E,EAA0BjB,EAAa76E,CAAb66E,CAA1BiB,EAA2C50E,CAA3C40E,EAAiD,CAAjDA,EAAoD34E,CAApD24E,EAAiEX,CAAjEW,CAAP;AAAwEX,OAlC1EzZ,EAoCOA,CAAP;AAAOA,KAtNTniE,EAGAA,EAAQu8E,WAARv8E,GAAsBu8E,CAHtBv8E,EAIAA,EAAQ+7E,cAAR/7E,GA6OA,UAAwB0nE,CAAxB,EAAiCxoD,CAAjC,EAA0C3F,CAA1C,EAA0CA;AACnCmuD,UAMOA,EAAQ9mE,IAAR8mE,IAAiBnuD,EAAQvY,IAAzB0mE,KAEVnuD,EAAQvY,IAARuY,GAAemuD,CAAfnuD,EACAmuD,IAAUnuD,EAAQ2tD,QAAR3tD,CAAiBmuD,CAAjBnuD,CAHAmuD,CANPA,GAEDA,IADmB,qBAAjBnuD,EAAQvY,IAAS,GACTuY,EAAQ5R,IAAR4R,CAAa,eAAbA,CADS,GAGTA,EAAQ2tD,QAAR3tD,CAAiBA,EAAQvY,IAAzBuY,CAJTmuD;AAWL,aAAOA,CAAP;AAAOA,KA7PT1nE,EAKAA,EAAQ87E,aAAR97E,GA2PA,UAAuB0nE,CAAvB,EAAgCxoD,CAAhC,EAAyC3F,CAAzC,EAAyCA;AAEvC,UAAI8jE,IAAsB9jE,EAAQ5R,IAAR4R,IAAgBA,EAAQ5R,IAAR4R,CAAa,eAAbA,CAA1C;AACAA,QAAQmuD,OAARnuD,GAAQmuD,CAAU,CAAlBnuD,EACIA,EAAQzV,GAARyV,KACFA,EAAQ5R,IAAR4R,CAAatV,WAAbsV,GAA2BA,EAAQzV,GAARyV,CAAY,CAAZA,KAAkBA,EAAQ5R,IAAR4R,CAAatV,WADxDsV,CADJA;AAKA,UAAI+jE,SAAet4E,CAAnB;AACIuU,QAAQgpD,EAARhpD,IAAcA,EAAQgpD,EAARhpD,KAAe6oD,CAA7B7oD,IACF;AACEA,UAAQ5R,IAAR4R,GAAe4hE,EAAM13E,WAAN03E,CAAkB5hE,EAAQ5R,IAA1BwzE,CAAf5hE;AAEA,YAAIgpD,IAAKhpD,EAAQgpD,EAAjB;AACA+a,YAAe/jE,EAAQ5R,IAAR4R,CAAa,eAAbA,IAAgC,UAA6B2F,CAA7B,EAA6BA;AAC1E,cAAI3F,IAAUjV,UAAUxB,MAAVwB,IAAoB,CAApBA,IAAoB,KAAsBU,CAAtB,KAAKV,UAAU,CAAVA,CAAzBA,GAAsD,EAAtDA,GAA2DA,UAAU,CAAVA,CAAzE;AAMA,iBAFAiV,EAAQ5R,IAAR4R,GAAe4hE,EAAM13E,WAAN03E,CAAkB5hE,EAAQ5R,IAA1BwzE,CAAf5hE,EACAA,EAAQ5R,IAAR4R,CAAa,eAAbA,IAAgC8jE,CADhC9jE,EAEOgpD,EAAGrjD,CAAHqjD,EAAYhpD,CAAZgpD,CAAP;AAAmBhpD,SAPrB+jE,EASI/a,EAAG2E,QAAH3E,KACFhpD,EAAQ2tD,QAAR3tD,GAAmBggE,EAAM72E,MAAN62E,CAAa,EAAbA,EAAiBhgE,EAAQ2tD,QAAzBqS,EAAmChX,EAAG2E,QAAtCqS,CADjBhX,CATJ+a;AAJF,SADE/jE;AACF,WAmBcvU,CAnBd,KAmBE0iE,CAnBF,IAmB2B4V,CAnB3B,KAoBA5V,IAAU4V,CApBV;AAuBF,eAAgBt4E,CAAhB,KAAI0iE,CAAJ,EACE,MAAM,IAAItB,EAAqBjkE,OAAzB,CAA2B,iBAAiBoX,EAAQvY,IAAzB,GAAgC,qBAA3D,CAAN;AACK,UAAI0mE,aAAmB/gE,QAAvB,EACL,OAAO+gE,EAAQxoD,CAARwoD,EAAiBnuD,CAAjBmuD,CAAP;AAAwBnuD,KApS5BvZ,EAMAA,EAAQoiE,IAARpiE,GAAeoiE,CANfpiE;;AAeA,QANgCqE,CAMhC;AAAA,QAEIk1E,IAJJ,UAAiCl1E,CAAjC,EAAiCA;AAAO,UAAIA,KAAOA,EAAIxC,UAAf,EAA6B,OAAOwC,CAAP;AAAqB,UAAI+0E,IAAS,EAAb;AAAiB,UAAW,QAAP/0E,CAAJ,EAAmB,KAAK,IAAIrC,CAAT,IAAgBqC,CAAhB,EAA2BlD,OAAOmB,SAAPnB,CAAiBoB,cAAjBpB,CAAgCP,IAAhCO,CAAqCkD,CAArClD,EAA0Ca,CAA1Cb,MAAgDi4E,EAAOp3E,CAAPo3E,IAAc/0E,EAAIrC,CAAJqC,CAA9DlD;AAAqG,aAAzBi4E,EAAgBj3E,OAAhBi3E,GAAoB/0E,CAApB+0E,EAAgCA,CAAP;AAIlPD,KAJZ,CAEa53E,EAAQ,CAAR,CAFb,CAEA;AAAA,QAIIu4E,IAAav4E,EAAQ,CAAR,CAJjB;AAAA,QAMI6kE,KAZ4B/hE,IAYSy1E,CAArC1T,KAZiD/hE,EAAIxC,UAYrDukE,GAZkE/hE,CAYlE+hE,GAZwE;AAAEjkE,eAAWkC;AAAb,KAM5E;AAAA,QAQI82E,IAAQ55E,EAAQ,EAAR,CARZ;AAAA,QAUI8kE,IAAW9kE,EAAQ,EAAR,CAVf;;AA0MA,aAASg7E,CAAT,CAAqB3yC,CAArB,EAAgCnpC,CAAhC,EAAmC8hE,CAAnC,EAAuC56D,CAAvC,EAA6C00E,CAA7C,EAAkEz4E,CAAlE,EAA+Eg4E,CAA/E,EAA+EA;AAC7E,eAAS2B,CAAT,CAAcr+D,CAAd,EAAcA;AACZ,YAAI3F,IAAUjV,UAAUxB,MAAVwB,IAAoB,CAApBA,IAAoB,KAAsBU,CAAtB,KAAKV,UAAU,CAAVA,CAAzBA,GAAsD,EAAtDA,GAA2DA,UAAU,CAAVA,CAAzE;AAAA,YAEIk5E,IAAgB5B,CAFpB;AAOA,gBAJIA,CAIJ,IAJc18D,KAAW08D,EAAO,CAAPA,CAIzB,IAJwC18D,MAAY0qB,EAAU4yC,WAAtBt9D,IAAmD,SAAd08D,EAAO,CAAPA,CAI7E,KAHE4B,IAAgB,CAACt+D,CAAD,EAAUtX,MAAV,CAAiBg0E,CAAjB,CAGlB,GAAOrZ,EAAG34B,CAAH24B,EAAcrjD,CAAdqjD,EAAuB34B,EAAU6zB,OAAjC8E,EAA0C34B,EAAUs9B,QAApD3E,EAA8DhpD,EAAQ5R,IAAR4R,IAAgB5R,CAA9E46D,EAAoF3+D,KAAe,CAAC2V,EAAQ3V,WAAT,EAAsBgE,MAAtB,CAA6BhE,CAA7B,CAAnG2+D,EAA8Iib,CAA9Ijb,CAAP;AAQF;;AAAA,cALAgb,IAAOT,EAAkBva,CAAlBua,EAAsBS,CAAtBT,EAA4BlzC,CAA5BkzC,EAAuClB,CAAvCkB,EAA+Cn1E,CAA/Cm1E,EAAqDl5E,CAArDk5E,CAKP,EAHKV,OAGL,GAHe37E,CAGf,EAFA88E,EAAKnO,KAALmO,GAAa3B,IAASA,EAAO94E,MAAhB84E,GAAyB,CAEtC,EADA2B,EAAK35E,WAAL25E,GAAmBlB,KAAuB,CAC1C,EAAOkB,CAAP;AA8DF;;AAAA,aAASnb,CAAT,GAASA;AACP,aAAO,EAAP;AAGF;;AAAA,aAASua,CAAT,CAAkBz9D,CAAlB,EAA2BvX,CAA3B,EAA2BA;AAKzB,aAJKA,KAAU,UAAUA,CAApBA,KAAoBA,CACvBA,IAAOA,IAAOwzE,EAAM13E,WAAN03E,CAAkBxzE,CAAlBwzE,CAAPxzE,GAAiC,EADjBA,EAElB7H,IAFkB6H,GAEXuX,CAFTvX,GAIEA,CAAP;AAGF;;AAAA,aAASm1E,CAAT,CAA2Bva,CAA3B,EAA+Bgb,CAA/B,EAAqC3zC,CAArC,EAAgDgyC,CAAhD,EAAwDj0E,CAAxD,EAA8D/D,CAA9D,EAA8DA;AAC5D,UAAI2+D,EAAGgZ,SAAP,EAAkB;AAChB,YAAIhrE,IAAQ,EAAZ;AACAgtE,YAAOhb,EAAGgZ,SAAHhZ,CAAagb,CAAbhb,EAAmBhyD,CAAnBgyD,EAA0B34B,CAA1B24B,EAAqCqZ,KAAUA,EAAO,CAAPA,CAA/CrZ,EAA0D56D,CAA1D46D,EAAgE3+D,CAAhE2+D,EAA6EqZ,CAA7ErZ,CAAPgb,EACAhE,EAAM72E,MAAN62E,CAAagE,CAAbhE,EAAmBhpE,CAAnBgpE,CADAgE;AAGF;;AAAA,aAAOA,CAAP;AAAOA;AAAAA,G;;;KC5TT;AAGAv9E,QAAQ6B,UAAR7B,GAAQ6B,CAAa,CAArB7B,EAEAA,EAAiBmC,OAAjBnC,GAAqB,UAAU64E,CAAV,EAAUA;AAE7B,YAAI/4E,SAAyB,CAAzBA,KAAcq3E,CAAdr3E,GAAuCq3E,CAAvCr3E,GAAgDO,MAApD;AAAA,YACIo9E,IAAc39E,EAAK+4E,UADvB;;AAGAA,UAAW6E,UAAX7E,GAAwB;AAItB,iBAHI/4E,EAAK+4E,UAAL/4E,KAAoB+4E,CAApB/4E,KACFA,EAAK+4E,UAAL/4E,GAAkB29E,CADhB39E,GAGG+4E,CAAP;AAAOA,SAJTA;AAISA,OAXX74E,EAeAC,EAAOD,OAAPC,GAAiBD,EAAiBmC,OAflCnC;AAekC,K;K5CRlC;CAVA","names":["root","factory","exports","module","define","amd","erudaCode","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","default","object","property","prototype","hasOwnProperty","p","s","extend","indexOf","array","len","length","escapeExpression","string","toHTML","possible","test","replace","badChars","escapeChar","isEmpty","isArray","createFrame","frame","_parent","blockParams","params","ids","path","appendContextPath","contextPath","id","escape","chr","obj","arguments","toString","isFunction","Array","errorProps","Exception","message","node","loc","line","undefined","endLineNumber","column","endColumn","start","end","tmp","Error","constructor","this","idx","captureStackTrace","lineNumber","nop","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","superPropBase","_get","target","receiver","Reflect","base","desc","getOwnPropertyDescriptor","g","Function","e","useSourceMap","list","map","item","content","cssMapping","btoa","sourceMapping","sourceMap","base64","unescape","encodeURIComponent","JSON","stringify","data","concat","sourceURLs","sources","source","sourceRoot","join","cssWithMappingToString","mediaQuery","push","_typeof","iterator","userAgent","navigator","platform","gecko","ie_upto10","ie_11up","exec","edge","ie","ie_version","document","documentMode","webkit","qtwebkit","chrome","presto","safari","vendor","mac_geMountainLion","phantom","ios","android","mobile","mac","chromeOS","windows","presto_version","match","Number","flipCtrlCmd","captureRightClick","classTest","cls","RegExp","range","rmClass","current","className","after","slice","index","removeChildren","count","childNodes","removeChild","firstChild","removeChildrenAndAdd","parent","appendChild","elt","tag","style","createElement","cssText","createTextNode","eltP","setAttribute","contains","child","nodeType","parentNode","host","activeElt","activeElement","body","shadowRoot","addClass","joinClasses","a","b","as","split","createRange","endNode","setEnd","setStart","createTextRange","moveToElementText","collapse","moveEnd","moveStart","selectInput","select","f","args","apply","copyObj","overwrite","prop","countColumn","tabSize","startIndex","startValue","search","nextTab","selectionStart","selectionEnd","_e","Delayed","time","handler","onTimeout","self","Date","setTimeout","set","ms","clearTimeout","Pass","sel_dontScroll","scroll","sel_mouse","origin","sel_move","findColumn","goal","pos","col","skipped","Math","min","spaceStrs","spaceStr","lst","arr","out","nothing","createObj","props","inst","nonASCIISingleCaseWordChar","isWordCharBasic","ch","toUpperCase","toLowerCase","isWordChar","helper","extendingChars","isExtendingChar","charCodeAt","skipExtendingChars","str","dir","charAt","findFirst","pred","from","to","midF","mid","ceil","floor","bidiOther","getBidiPartAt","order","sticky","found","cur","bidiOrdering","bidiRE","isNeutral","isStrong","countsAsLeft","countsAsNum","BidiSpan","level","direction","outerType","code","types","i$1","prev","type","i$2","type$1","i$3","prev$1","type$2","i$4","type$3","j","i$5","cur$1","type$4","i$6","end$1","before","replace$1","j$1","i$7","at","j$2","splice","nstart","unshift","reverse","getOrder","text","noHandlers","on","emitter","addEventListener","attachEvent","_handlers","getHandlers","off","removeEventListener","detachEvent","signal","handlers","signalDOMEvent","cm","override","preventDefault","defaultPrevented","e_defaultPrevented","codemirrorIgnore","signalCursorActivity","cursorActivity","curOp","cursorActivityHandlers","hasHandler","eventMixin","ctor","e_preventDefault","returnValue","e_stopPropagation","stopPropagation","cancelBubble","e_stop","e_target","srcElement","e_button","which","button","ctrlKey","zwspSupported","badBidiRects","dragAndDrop","div","zeroWidthElement","measure","offsetHeight","offsetWidth","hasBadBidiRects","txt","r0","getBoundingClientRect","r1","left","right","splitLinesAuto","result","nl","rt","hasSelection","getSelection","te","ownerDocument","selection","parentElement","compareEndPoints","hasCopyEvent","oncopy","badZoomedRects","modes","mimeModes","defineMode","dependencies","resolveMode","spec","getMode","options","mfactory","modeObj","modeExtensions","exts","helperType","modeProps","prop$1","extendMode","properties","copyState","state","nstate","val","innerMode","info","startState","a1","a2","StringStream","lineOracle","lastColumnPos","lastColumnValue","lineStart","getLine","doc","first","size","chunk","lines","children","sz","chunkSize","getBetween","iter","getLines","updateLineHeight","height","diff","lineNo","no","lineAtHeight","h","outer","lh","isLine","lineNumberFor","String","lineNumberFormatter","firstLineNumber","Pos","cmp","equalCursorPos","copyPos","x","maxPos","minPos","clipLine","max","clipPos","last","linelen","clipToLen","clipPosArray","eol","sol","peek","next","eat","eatWhile","eatSpace","skipToEnd","skipTo","backUp","indentation","pattern","consume","caseInsensitive","cased","substr","hideFirstChars","inner","lookAhead","oracle","baseToken","SavedContext","Context","maxLookAhead","baseTokens","baseTokenPos","highlightLine","context","forceToEnd","st","modeGen","lineClasses","runMode","loop","overlay","overlays","i_end","opaque","styles","classes","bgClass","textClass","getLineStyles","updateFrontier","getContextBefore","resetState","maxHighlightLength","stateAfter","save","styleClasses","highlightFrontier","modeFrontier","precise","display","minindent","minline","lim","indented","findStartLine","saved","fromSaved","processLine","viewFrom","viewTo","nextLine","startAt","stream","callBlankLine","readToken","blankLine","token","copy","Token","takeToken","asArray","tokens","extractLineClasses","output","lineClass","flattenSpans","curStart","curStyle","addModeClass","mName","sawReadOnlySpans","sawCollapsedSpans","MarkedSpan","marker","getMarkedSpanFor","spans","span","removeMarkedSpan","stretchSpansOverChange","change","full","oldFirst","markedSpans","oldLast","startCh","endCh","isInsert","old","nw","inclusiveLeft","insertLeft","endsAfter","inclusiveRight","markedSpansBefore","startsBefore","markedSpansAfter","sameLine","offset","span$1","clearEmptySpans","newMarkers","gapMarkers","gap","clearWhenEmpty","detachMarkedSpans","detachLine","attachMarkedSpans","attachLine","extraLeft","extraRight","compareCollapsedMarkers","lenDiff","aPos","find","bPos","fromCmp","toCmp","collapsedSpanAtSide","sps","sp","collapsed","collapsedSpanAtStart","collapsedSpanAtEnd","collapsedSpanAround","conflictingCollapsedRange","visualLine","merged","visualLineNo","lineN","vis","visualLineEndNo","lastLine","lineIsHidden","widgetNode","lineIsHiddenInner","heightAtLine","lineObj","lineLength","found$1","findMaxLine","maxLine","maxLineLength","maxLineChanged","Line","estimateHeight","cleanUpLine","styleToClassCache","styleToClassCacheWithMode","interpretTokenStyle","cache","buildLineContent","lineView","builder","pre","trailingSpace","splitSpaces","getOption","rest","addToken","buildToken","buildTokenBadBidi","insertLineContent","externalMeasured","maps","caches","lastChild","querySelector","defaultSpecialCharPlaceholder","title","startStyle","endStyle","css","attributes","displayText","trailingBefore","spaceBefore","special","specialChars","mustWrap","createDocumentFragment","lastIndex","txt$1","tabWidth","specialCharPlaceholder","fullStyle","attr","part","buildCollapsedSpan","ignoreWidget","widget","input","needsContentAttribute","setUneditable","allText","spanStyle","spanEndStyle","spanStartStyle","nextChange","Infinity","foundBookmarks","endStyles","upto","tokenText","LineView","visualLineContinued","hidden","buildViewArray","nextPos","view","operationGroup","orphanDelayedCallbacks","signalLater","delayedCallbacks","fireOrphanDelayed","delayed","updateLineForChanges","dims","changes","updateLineText","updateLineGutter","updateLineClasses","updateLineWidgets","ensureLineWrapped","replaceChild","zIndex","getLineContent","ext","built","background","wrap","insertBefore","updateLineBackground","wrapClass","gutter","gutterBackground","gutterClass","fixedGutter","fixedPos","gutterTotalWidth","markers","gutterMarkers","lineNumbers","wrap$1","gutterWrap","gutterLeft","lineNumInnerWidth","k","gutterSpecs","gutterWidth","alignable","isWidget","nextSibling","insertLineWidgets","buildLineElement","insertLineWidgetsFor","allowAbove","widgets","ws","handleMouseEvents","positionLineWidget","above","noHScroll","width","wrapperWidth","coverGutter","paddingLeft","position","marginLeft","widgetHeight","parentStyle","gutters","wrapper","clientWidth","eventInWidget","getAttribute","sizer","mover","paddingTop","lineSpace","offsetTop","paddingVert","paddingH","cachedPaddingH","getComputedStyle","currentStyle","parseInt","paddingRight","isNaN","scrollGap","nativeBarWidth","displayWidth","scroller","barWidth","displayHeight","clientHeight","barHeight","mapFromLineView","measureChar","bias","measureCharPrepared","prepareMeasureForLine","findViewForLine","findViewIndex","getDimensions","forceUpdate","lineMeasure","updateExternalMeasurement","rect","hasHeights","prepared","varHeight","wrapping","lineWrapping","curWidth","heights","rects","getClientRects","abs","bottom","top","ensureLineHeights","place","nodeAndOffsetInLineMap","coverStart","coverEnd","getUsefulRect","screen","logicalXDPI","deviceXDPI","normal","fromRange","hasBadZoomedRects","scaleX","scaleY","logicalYDPI","deviceYDPI","maybeUpdateRectForZooming","rSpan","charWidth","nullRect","rtop","rbot","bot","bogus","singleCursorHeightPerLine","rbottom","measureCharInner","measureText","mStart","mEnd","clearLineMeasurementCacheFor","clearLineMeasurementCache","externalMeasure","clearCaches","cachedCharWidth","cachedTextHeight","lineNumChars","pageScrollX","pageXOffset","documentElement","scrollLeft","pageScrollY","marginTop","pageYOffset","scrollTop","widgetTopHeight","intoCoordSystem","includeWidgets","yOff","viewOffset","lOff","xOff","fromCoordSystem","coords","localBox","lineSpaceBox","charCoords","cursorCoords","preparedMeasure","getBidi","partPos","invert","other","estimateCoords","PosWithInfo","outside","xRel","coordsChar","y","coordsCharInner","rangeEnd","wrappedLineExtent","begin","wrappedLineExtentChar","boxIsAfter","box","ltr","coordsBidiPartWrapped","coordsBidiPart","baseX","chAround","boxAround","atLeft","atStart","_lineNo","ref","closestDist","endX","dist","textHeight","anchor","clientLeft","offsetLeft","compensateForHScroll","th","perLine","widgetsHeight","estimateLineHeights","est","estHeight","posFromMouse","liberal","forRect","space","clientX","clientY","colDiff","round","regChange","lendiff","updateLineNumbers","viewChanged","resetView","cut","viewCuttingPoint","cut$1","cutTop","cutBot","regLineChange","oldN","newN","countDirtyView","dirty","updateSelection","showSelection","prepareSelection","primary","curFragment","cursors","selFragment","sel","ranges","primIndex","empty","showCursorWhenSelecting","drawSelectionCursor","head","drawSelectionRange","cursor","cursorHeight","otherCursor","cmpCoords","fragment","padding","leftSide","rightSide","sizerWidth","docLTR","add","drawForLine","fromArg","toArg","lineLen","wrapX","side","extent","iterateBidiSections","fromPos","toPos","openStart","openEnd","openRight","topLeft","topRight","botLeft","botRight","sFrom","sTo","fromLine","toLine","singleVLine","leftEnd","rightStart","restartBlink","focused","clearInterval","blinker","cursorDiv","visibility","cursorBlinkRate","setInterval","ensureFocus","focus","onFocus","delayBlurEvent","delayingBlurEvent","onBlur","readOnly","selForContextMenu","reset","receivedFocus","shift","updateHeightsInViewport","prevBottom","lineDiv","updateWidgetHeight","chWidth","w","visibleLines","viewport","ensure","ensureFrom","ensureTo","calculateScrollPos","snapMargin","screentop","docBottom","atTop","atBottom","newTop","screenleft","screenw","tooWide","addToScrollTop","resolveScrollToPos","ensureCursorVisible","getCursor","scrollToPos","margin","cursorScrollMargin","scrollToCoords","scrollToCoordsRange","sPos","updateScrollTop","updateDisplaySimple","setScrollTop","startWorker","forceScroll","scrollHeight","scrollbars","setScrollLeft","isScroller","scrollWidth","alignHorizontally","measureForScrollbars","gutterW","docH","viewHeight","viewWidth","barLeft","docHeight","NativeScrollbars","vert","horiz","tabIndex","checkedZeroWidth","minHeight","minWidth","update","needsH","needsV","sWidth","totalHeight","totalWidth","zeroWidthHack","disableHoriz","enableZeroWidthBar","disableVert","pointerEvents","bar","delay","maybeDisable","elementFromPoint","clear","NullScrollbars","updateScrollbars","startWidth","startHeight","updateScrollbarsInner","sizes","paddingBottom","heightForcer","borderBottom","scrollbarFiller","coverGutterNextToScrollbar","gutterFiller","scrollbarModel","native","null","initScrollbars","scrollbarStyle","axis","nextOpId","startOperation","op","updateInput","typing","changeObjs","cursorActivityCalled","selectionChanged","updateMaxLine","ops","ownsGroup","endOperation","endCb","group","callbacks","fireCallbacksForOps","finishOperation","endOperation_R1","endOperation_W1","endOperation_R2","endOperation_W2","endOperation_finish","endOperations","scrollbarsClipped","marginBottom","borderRightWidth","maybeClipScrollbars","mustUpdate","DisplayUpdate","updatedDisplay","updateDisplayIfNeeded","barMeasure","adjustWidthTo","maxScrollLeft","preparedSelection","takeFocus","setDocumentHeight","postUpdateDisplay","wheelStartX","wheelStartY","doScroll","innerHeight","scrollNode","scrollIntoView","maybeScrollWindow","limit","changed","endCoords","scrollPos","startTop","startLeft","scrollPosIntoView","maybeHiddenMarkers","unhidden","maybeUnhiddenMarkers","finish","runInOp","operation","methodOp","docMethodOp","highlight","highlightWorker","workTime","changedLines","oldStyles","highlighted","oldCls","newCls","ischange","workDelay","force","visible","editorIsHidden","wrapperHeight","oldDisplayWidth","events","renderedView","maybeUpdateLineNumberWidth","viewportMargin","different","lastWrapHeight","lastWrapWidth","adjustView","toUpdate","selSnapshot","hasFocus","active","anchorNode","anchorOffset","focusNode","focusOffset","selectionSnapshot","updateNumbersFrom","container","rm","currentWheelTarget","updateNumber","patchDisplay","snapshot","removeAllRanges","addRange","restoreSelection","selectionDiv","reportedViewFrom","reportedViewTo","updateGutterSpace","alignWidgets","comp","align","innerW","lineGutter","lineNumWidth","getGutters","sawLineNumbers","renderGutters","specs","gElt","updateGutters","Display","draggable","wheelDX","wheelDY","activeTouch","init","wheelSamples","wheelPixelsPerUnit","wheelEventDelta","dx","wheelDeltaX","dy","wheelDeltaY","detail","HORIZONTAL_AXIS","VERTICAL_AXIS","wheelDelta","wheelEventPixels","delta","onScrollWheel","canScrollX","canScrollY","pixels","movedX","movedY","sample","Selection","equals","here","there","deepCopy","Range","somethingSelected","normalizeSelection","mayTouch","selectionsMayTouch","prim","sort","inv","simpleSelection","changeEnd","adjustForChange","computeSelAfterChange","offsetPos","loadMode","modeOption","resetModeState","isWholeLineUpdate","wholeLineUpdateBefore","updateDoc","spansFor","updateLine","linesFor","firstLine","lastText","lastSpans","nlines","insert","remove","added","added$1","added$2","linkedDocs","sharedHistOnly","propagate","skip","sharedHist","linked","rel","shared","attachDoc","setDirectionClass","History","startGen","done","undone","undoDepth","lastModTime","lastSelTime","lastOp","lastSelOp","lastOrigin","lastSelOrigin","generation","maxGeneration","historyChangeFromChange","histChange","attachLocalSpans","clearSelectionEvents","pop","addChangeToHistory","selAfter","opId","hist","history","historyEventDelay","lastChangeEvent","pushSelectionToHistory","addSelectionToHistory","selectionEventCanBeMerged","clearRedo","dest","existing","removeClearedSpans","explicitlyCleared","mergeOldSpans","getOldSpans","stretched","oldCur","stretchCur","copyHistoryArray","newGroup","instantiateSel","event","newChanges","extendRange","posBefore","extendSelection","setSelection","extendSelections","heads","replaceOneSelection","setSimpleSelection","setSelectionReplaceHistory","setSelectionNoUndo","NaN","filterSelectionChange","setSelectionInner","skipAtomicInSelection","reCheckSelection","mayClear","newAnchor","skipAtomic","newHead","skipAtomicInner","oldPos","preventCursorLeft","selectLeft","preventCursorRight","selectRight","atomic","near","movePos","far","cantEdit","selectAll","filterChange","canceled","cancel","makeChange","ignoreReadOnly","suppressEdits","mark","parts","mk","newParts","dfrom","dto","removeReadOnlyRanges","makeChangeInner","makeChangeSingleDoc","rebased","rebaseHist","makeChangeFromHistory","allowSelectionOnly","suppress","antiChanges","filter","returned","v","shiftDoc","distance","removed","recomputeMaxLength","checkWidthStart","retreatFrontier","changesHandler","changeHandler","makeChangeSingleDocInEditor","replaceRange","assign","splitLines","rebaseHistSelSingle","rebaseHistArray","sub","ok","copied","changeLine","handle","changeType","LeafChunk","BranchChunk","removeInner","insertInner","iterN","oldHeight","remaining","leaf","maybeSpill","me","sibling","myIndex","used","LineWidget","opt","adjustScrollWhenAboveVisible","this$1","oldH","nextMarkerId","TextMarker","markText","cloneNode","isParent","SharedTextMarker","markTextShared","replacedWith","addToHistory","curLine","addMarkedSpan","clearOnEnter","clearHistory","withOp","visual","dHeight","findSharedMarkers","findMarks","detachSharedMarkers","subMarker","nextDocId","Doc","lineSep","cleanGeneration","getValue","lineSeparator","setValue","getRange","getLineHandle","getLineNumber","getLineHandleVisualStart","lineCount","listSelections","setCursor","extendSelectionsBy","setSelections","addSelection","getSelections","replaceSelection","dup","replaceSelections","newSel","hint","oldPrev","newPrev","computeReplacedSel","undo","redo","undoSelection","redoSelection","setExtending","getExtending","historySize","markClean","changeGeneration","forceSplit","isClean","gen","getHistory","setHistory","histData","setGutterMarker","gutterID","clearGutter","lineInfo","addLineClass","where","removeLineClass","addLineWidget","insertAt","aboveVisible","removeLineWidget","setBookmark","realOpts","findMarksAt","getAllMarks","posFromIndex","sepSize","indexFromPos","copyHistory","linkedDoc","mFrom","mTo","subMark","copySharedMarkers","unlinkDoc","CodeMirror","splitIds","iterLinkedDocs","getEditor","setDirection","eachLine","lastDrop","onDrop","clearDragCursor","files","dataTransfer","isReadOnly","FileReader","File","read","loadFile","file","allowDropFileTypes","reader","onload","readAsText","draggingText","text$1","getData","selected","dragCursor","forEachCodeMirror","getElementsByClassName","byClass","editors","globalsRegistered","ensureGlobalHandlers","resizeTimer","onResize","setSize","keyNames","3","8","9","13","16","17","18","19","20","27","32","33","34","35","36","37","38","39","40","44","45","46","59","61","91","92","93","106","107","109","110","111","145","173","186","187","188","189","190","191","192","219","220","221","222","63232","63233","63234","63235","63272","63273","63275","63276","63277","63302","fromCharCode","keyMap","normalizeKeyName","alt","ctrl","cmd","mod","normalizeKeyMap","keymap","keyname","keys","lookupKey","getKeyMap","fallthrough","isModifierKey","keyCode","addModifierNames","noShift","altKey","metaKey","shiftKey","keyName","char","altGraphKey","deleteNearSelection","compute","kill","toKill","replaced","moveCharLogically","moveLogically","endOfLine","visually","prep","targetTop","basic","Left","Right","Up","Down","End","Home","PageUp","PageDown","Delete","Backspace","Tab","Enter","Insert","Esc","pcDefault","emacsy","macDefault","commands","singleSelection","killLine","deleteLine","delLineLeft","delWrappedLineLeft","delWrappedLineRight","rightPos","goDocStart","goDocEnd","goLineStart","goLineStartSmart","lineStartSmart","goLineEnd","visualLineEnd","lineEnd","goLineRight","goLineLeft","goLineLeftSmart","goLineUp","moveV","goLineDown","goPageUp","goPageDown","goCharLeft","moveH","goCharRight","goColumnLeft","goColumnRight","goWordLeft","goGroupRight","goGroupLeft","goWordRight","delCharBefore","deleteH","delCharAfter","delWordBefore","delWordAfter","delGroupBefore","delGroupAfter","indentAuto","indentSelection","indentMore","indentLess","insertTab","insertSoftTab","spaces","defaultTab","execCommand","transposeChars","newlineAndIndent","sels","indentLine","openLine","toggleOverwrite","firstNonWS","inWS","doHandleBinding","bound","dropShift","ensurePolled","prevShift","stopSeq","dispatchKey","seq","keySeq","dispatchKeyInner","keyMaps","extraKeys","lookupKeyForEditor","handleKeyBinding","motion","lastStoppedKey","onKeyDown","handled","up","showCrossHair","onKeyUp","onKeyPress","charCode","handleCharBinding","lastClick","lastDoubleClick","PastClick","onMouseDown","supportsTouch","clickInGutter","repeat","now","compare","clickRepeat","selectingText","handleMappedButton","contained","behavior","option","unit","addNew","moveOnDrag","configureMouse","dragDrop","moved","dragEnd","mouseMove","dragStart","e2","leftButtonStartDrag","ourRange","ourIndex","startSel","rangeForUnit","lastPos","extendTo","startCol","posCol","leftPos","oldRange","ranges$1","anchorLine","boundary","headIndex","usePart","bidiSimplify","editorSize","counter","move","buttons","curCount","leftButtonSelect","leftButtonDown","onContextMenu","findWordAt","gutterEvent","prevent","mX","mY","touches","lineBox","contextMenuInGutter","themeChanged","theme","Init","defaults","optionHandlers","dragDropChanged","funcs","dragFunctions","toggle","enter","over","leave","drop","wrappingChanged","inputStyles","inputStyle","pasteIncoming","cutIncoming","autofocus","word","touchFinished","prevTouch","finishTouch","farAway","touch","radiusX","radiusY","isMouseLikeTouchEvent","pageX","pageY","frag","onDragOver","setData","effectAllowed","setDragImage","img","src","_top","onDragStart","inp","getField","registerEventHandlers","finishInit","initHooks","textRendering","how","aggressive","indent","curSpace","curSpaceString","indentUnit","indentString","indentWithTabs","pos$1","defineInitHook","lastCopied","setLastCopied","newLastCopied","applyTextInput","inserted","deleted","recent","paste","textLines","multiPaste","pasteLinesPerSelection","lineWise","changeEvent","triggerElectric","handlePaste","pasted","clipboardData","disableInput","electricChars","smartIndent","getModeAt","electricInput","copyableRanges","lineRange","disableBrowserMagic","field","spellcheck","autocorrect","autocapitalize","hiddenTextarea","border","findPosH","origDir","moveOnce","boundToLine","bidi","mv","getWrappedLineExtent","moveInStorageOrder","searchInVisualLine","getRes","res","nextCh","moveVisually","sawType","getHelper","hitSide","findPosV","pageSize","moveAmount","ContentEditableInput","lastAnchorNode","lastAnchorOffset","lastFocusNode","lastFocusOffset","polling","composing","gracePeriod","readDOMTimeout","posToDOM","badPos","bad","domToPos","lineNode","locateNodeInLineView","textNode","topNode","nodeValue","curNode","textContent","previousSibling","dist$1","onCopyCut","lineWiseCopyCut","clearData","kludge","hadFocus","showPrimarySelection","updateFromDOM","readFromDOMSoon","forceCompositionEnd","showMultipleSelections","curAnchor","curFocus","rng","rangeCount","getRangeAt","startGracePeriod","rememberSelection","selectionInEditor","commonAncestorContainer","blur","pollSelection","pollInterval","poll","scan","isInGutter","triggerOnKeyDown","pollContent","fromIndex","fromNode","toNode","toIndex","newText","closing","extraLinebreak","close","addText","walk","cmText","markerID","isBlock","nodeName","domTextBetween","oldText","cutFront","cutEnd","oldTop","maxCutFront","newBot","oldBot","maxCutEnd","chFrom","chTo","contentEditable","readOnlyChanged","resetPosition","TextareaInput","prevInput","pollingFast","createField","textarea","prepareCopyCut","fastPoll","dispatchEvent","Event","_display","moveInputWithCursor","headPos","wrapOff","lineOff","teTop","teLeft","drawn","contextMenuPending","slowPoll","missed","same","resetSelectionOnContextMenu","oldScrollY","oldCSS","oldWrapperCSS","wrapperBox","offsetParent","scrollY","scrollTo","rehide","detectingSelectAll","prepareSelectAllHack","mouseup","extval","disabled","deflt","notOnInit","defineOption","newBreaks","refresh","getInputField","detach","attach","integer","defineOptions","helpers","setOption","getDoc","addKeyMap","removeKeyMap","addOverlay","score","priority","insertSorted","modeSpec","removeOverlay","newRanges","getTokenAt","getLineTokens","getTokenTypeAt","getHelpers","help","_global","getStateAfter","defaultTextHeight","defaultCharWidth","getViewport","addWidget","vspace","hspace","triggerOnKeyPress","triggerOnKeyUp","triggerOnMouseDown","amount","rtlMoveVisually","goalColumn","goals","startChar","check","getScrollInfo","scrollToRange","interpret","swapDoc","phrase","phraseText","phrases","getWrapperElement","getScrollerElement","getGutterElement","registerHelper","registerGlobalHelper","predicate","addEditorMethods","dontDelegate","method","contenteditable","defineMIME","mime","defineExtension","func","defineDocExtension","fromTextArea","tabindex","placeholder","realSubmit","form","leaveSubmitMethodAlone","submit","wrappedSubmit","getTextArea","toTextArea","cmpPos","addLegacyProps","version","hasOwnProp","ObjToStr","MAX_ARR_IDX","_","allKeys","ret","noop","isUndef","optimizeCb","fn","ctx","argCount","collection","accumulator","has","objToStr","isFn","objStr","isNum","isArrLike","pow","each","iteratee","_keys","createAssigner","keysFn","cb","el","fontSize","setSelectionRange","nextTick","ensureCallable","TypeError","process","setImmediate","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","runClearTimeout","Item","browser","env","argv","versions","addListener","once","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","_interopRequireDefault","HandlebarsEnvironment","_utils","_exception2","_helpers","_decorators","_logger2","VERSION","COMPILER_REVISION","LAST_COMPATIBLE_COMPILER_REVISION","REVISION_CHANGES","1","2","4","5","6","7","partials","decorators","registerDefaultHelpers","registerDefaultDecorators","logger","log","unregisterHelper","registerPartial","partial","unregisterPartial","registerDecorator","unregisterDecorator","instance","_helpersBlockHelperMissing2","_helpersEach2","_helpersHelperMissing2","_helpersIf2","_helpersLog2","_helpersLookup2","_helpersWith2","moveHelperToHooks","helperName","keepHelper","hooks","Constructor","_defineProperties","descriptor","configurable","writable","protoProps","staticProps","assertThisInitialized","subClass","superClass","eruda","util","evalCss","beautify","Code","_style","require","_CodeMirrorStyle","_CodeMirrorCustomStyle","_editor","$el","html","_bindEvent","_$el","evalJs","console","error","editor","Tool","eval","ReferenceError","_setPrototypeOf","config","parserConfig","statementIndent","jsonldMode","jsonld","jsonMode","json","isTS","typescript","wordRE","wordCharacters","keywords","kw","A","B","C","D","operator","atom","if","while","with","else","do","try","finally","return","break","continue","new","delete","void","throw","debugger","var","const","let","function","catch","for","switch","case","in","typeof","instanceof","true","false","class","super","yield","export","import","extends","await","isOperatorChar","isJsonldKeyword","tp","cont","tokenBase","quote","tokenize","escaped","tokenComment","expressionAllowed","inSet","readRegexp","tokenQuasi","lexical","lastType","propertyIsEnumerable","maybeEnd","findFatArrow","fatArrowAt","arrow","depth","sawSomething","bracket","atomicTypes","number","variable","regexp","JSLexical","inScope","varname","localVars","cx","vars","marked","cc","pass","inList","register","block","newContext","registerVarScoped","Var","globalVars","isModifier","defaultVars","pushcontext","pushblockcontext","popcontext","pushlex","lex","poplex","expect","wanted","exp","statement","vardef","parenExpr","maybeexpression","maybeelse","functiondef","forspec","enumdef","typename","typeexpr","expression","maybelabel","maybeCatchBinding","afterExport","afterImport","funarg","expressionInner","expressionNoComma","noComma","arrowBodyNoComma","arrowBody","commasep","maybeop","maybeoperatorNoComma","maybeoperatorComma","classExpression","arrayLiteral","contCommasep","objprop","quasi","targetNoComma","maybeTypeArgs","maybeTarget","expr","continueQuasi","getterSetter","afterprop","maybetype","what","sep","proceed","maybetypeOrIn","mayberettype","isKW","afterType","typeprop","typearg","maybeReturnType","functiondecl","typeparam","maybeTypeDefault","maybeAssign","vardefCont","eltpattern","proppattern","_type","forspec1","forspec2","classNameAfter","classBody","classfield","maybeFrom","exportField","importSpec","maybeMoreImports","maybeAs","enummember","basecolumn","parseJS","textAfter","firstChar","isContinuedStatement","doubleIndentSwitch","blockCommentStart","blockCommentEnd","blockCommentContinue","lineComment","fold","closeBrackets","skipExpression","Timeout","clearFn","_id","_clearFn","scope","unref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","_onTimeout","global","clearImmediate","registerImmediate","channel","messagePrefix","onGlobalMessage","nextHandle","tasksByHandle","currentlyRunningATask","attachTo","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","MessageChannel","port1","port2","script","onreadystatechange","random","callback","task","___CSS_LOADER_API_IMPORT___","Handlebars","template","compiler","main","depth0","useData","_interopRequireWildcard","newObj","_handlebarsSafeString2","_handlebarsException2","Utils","runtime","_handlebarsNoConflict2","hb","SafeString","VM","inverse","_exception","priorKey","execIteration","it","forEach","conditional","hash","includeZero","dangerousPropertyRegex","_decoratorsInline2","_decoratorsInline","original","methodMap","lookupLevel","levelMap","_len","_key","checkRevision","compilerInfo","compilerRevision","currentRevision","_base","runtimeVersions","compilerVersions","templateSpec","decorator","main_d","templateWasPrecompiledWithCompilerV7","strict","lookup","depths","lambda","invokePartial","resolvePartial","optionsWithHooks","compile","compilerOptions","programs","program","declaredBlockParams","programWrapper","wrapProgram","nullContext","seal","_setup","initData","useBlockParams","useDepths","executeDecorators","isTop","usePartial","useDecorators","keepHelperInHelpers","allowCallsToHelperMissing","_child","currentPartialBlock","partialBlock","prog","currentDepths","$Handlebars","noConflict"],"sourceRoot":"","sources":["webpack://erudaCode/webpack/universalModuleDefinition","webpack://erudaCode/webpack/bootstrap","webpack://erudaCode/./node_modules/_handlebars@4.5.3@handlebars/dist/cjs/handlebars/utils.js","webpack://erudaCode/./node_modules/_handlebars@4.5.3@handlebars/dist/cjs/handlebars/exception.js","webpack://erudaCode/./node_modules/_@babel_runtime@7.7.7@@babel/runtime/helpers/getPrototypeOf.js","webpack://erudaCode/./node_modules/_@babel_runtime@7.7.7@@babel/runtime/helpers/get.js","webpack://erudaCode/(webpack)/buildin/global.js","webpack://erudaCode/./node_modules/_css-loader@3.4.1@css-loader/dist/runtime/api.js","webpack://erudaCode/./node_modules/_@babel_runtime@7.7.7@@babel/runtime/helpers/typeof.js","webpack://erudaCode/./node_modules/_codemirror@5.50.2@codemirror/lib/codemirror.js","webpack://erudaCode/./src/util.js","webpack://erudaCode/./node_modules/_process@0.11.10@process/browser.js","webpack://erudaCode/./node_modules/_handlebars@4.5.3@handlebars/dist/cjs/handlebars/base.js","webpack://erudaCode/./node_modules/_handlebars@4.5.3@handlebars/dist/cjs/handlebars/helpers.js","webpack://erudaCode/./node_modules/_@babel_runtime@7.7.7@@babel/runtime/helpers/classCallCheck.js","webpack://erudaCode/./node_modules/_@babel_runtime@7.7.7@@babel/runtime/helpers/createClass.js","webpack://erudaCode/./node_modules/_@babel_runtime@7.7.7@@babel/runtime/helpers/possibleConstructorReturn.js","webpack://erudaCode/./node_modules/_@babel_runtime@7.7.7@@babel/runtime/helpers/inherits.js","webpack://erudaCode/./src/index.js","webpack://erudaCode/./src/code.js","webpack://erudaCode/./node_modules/_@babel_runtime@7.7.7@@babel/runtime/helpers/assertThisInitialized.js","webpack://erudaCode/./node_modules/_@babel_runtime@7.7.7@@babel/runtime/helpers/superPropBase.js","webpack://erudaCode/./node_modules/_@babel_runtime@7.7.7@@babel/runtime/helpers/setPrototypeOf.js","webpack://erudaCode/./node_modules/_codemirror@5.50.2@codemirror/mode/javascript/javascript.js","webpack://erudaCode/./node_modules/_timers-browserify@2.0.11@timers-browserify/main.js","webpack://erudaCode/./node_modules/_setimmediate@1.0.5@setimmediate/setImmediate.js","webpack://erudaCode/./src/style.scss","webpack://erudaCode/./node_modules/_codemirror@5.50.2@codemirror/lib/codemirror.css","webpack://erudaCode/./src/CodeMirror.css","webpack://erudaCode/./src/template.hbs","webpack://erudaCode/./node_modules/_handlebars@4.5.3@handlebars/runtime.js","webpack://erudaCode/./node_modules/_handlebars@4.5.3@handlebars/dist/cjs/handlebars.runtime.js","webpack://erudaCode/./node_modules/_handlebars@4.5.3@handlebars/dist/cjs/handlebars/helpers/block-helper-missing.js","webpack://erudaCode/./node_modules/_handlebars@4.5.3@handlebars/dist/cjs/handlebars/helpers/each.js","webpack://erudaCode/./node_modules/_handlebars@4.5.3@handlebars/dist/cjs/handlebars/helpers/helper-missing.js","webpack://erudaCode/./node_modules/_handlebars@4.5.3@handlebars/dist/cjs/handlebars/helpers/if.js","webpack://erudaCode/./node_modules/_handlebars@4.5.3@handlebars/dist/cjs/handlebars/helpers/log.js","webpack://erudaCode/./node_modules/_handlebars@4.5.3@handlebars/dist/cjs/handlebars/helpers/lookup.js","webpack://erudaCode/./node_modules/_handlebars@4.5.3@handlebars/dist/cjs/handlebars/helpers/with.js","webpack://erudaCode/./node_modules/_handlebars@4.5.3@handlebars/dist/cjs/handlebars/decorators.js","webpack://erudaCode/./node_modules/_handlebars@4.5.3@handlebars/dist/cjs/handlebars/decorators/inline.js","webpack://erudaCode/./node_modules/_handlebars@4.5.3@handlebars/dist/cjs/handlebars/logger.js","webpack://erudaCode/./node_modules/_handlebars@4.5.3@handlebars/dist/cjs/handlebars/safe-string.js","webpack://erudaCode/./node_modules/_handlebars@4.5.3@handlebars/dist/cjs/handlebars/runtime.js","webpack://erudaCode/./node_modules/_handlebars@4.5.3@handlebars/dist/cjs/handlebars/no-conflict.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"erudaCode\"] = factory();\n\telse\n\t\troot[\"erudaCode\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/assets/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 16);\n","'use strict';\n\nexports.__esModule = true;\nexports.extend = extend;\nexports.indexOf = indexOf;\nexports.escapeExpression = escapeExpression;\nexports.isEmpty = isEmpty;\nexports.createFrame = createFrame;\nexports.blockParams = blockParams;\nexports.appendContextPath = appendContextPath;\n\nvar escape = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#x27;',\n  '`': '&#x60;',\n  '=': '&#x3D;'\n};\n\nvar badChars = /[&<>\"'`=]/g,\n    possible = /[&<>\"'`=]/;\n\nfunction escapeChar(chr) {\n  return escape[chr];\n}\n\nfunction extend(obj /* , ...source */) {\n  for (var i = 1; i < arguments.length; i++) {\n    for (var key in arguments[i]) {\n      if (Object.prototype.hasOwnProperty.call(arguments[i], key)) {\n        obj[key] = arguments[i][key];\n      }\n    }\n  }\n\n  return obj;\n}\n\nvar toString = Object.prototype.toString;\n\nexports.toString = toString;\n// Sourced from lodash\n// https://github.com/bestiejs/lodash/blob/master/LICENSE.txt\n/* eslint-disable func-style */\nvar isFunction = function isFunction(value) {\n  return typeof value === 'function';\n};\n// fallback for older versions of Chrome and Safari\n/* istanbul ignore next */\nif (isFunction(/x/)) {\n  exports.isFunction = isFunction = function (value) {\n    return typeof value === 'function' && toString.call(value) === '[object Function]';\n  };\n}\nexports.isFunction = isFunction;\n\n/* eslint-enable func-style */\n\n/* istanbul ignore next */\nvar isArray = Array.isArray || function (value) {\n  return value && typeof value === 'object' ? toString.call(value) === '[object Array]' : false;\n};\n\nexports.isArray = isArray;\n// Older IE versions do not directly support indexOf so we must implement our own, sadly.\n\nfunction indexOf(array, value) {\n  for (var i = 0, len = array.length; i < len; i++) {\n    if (array[i] === value) {\n      return i;\n    }\n  }\n  return -1;\n}\n\nfunction escapeExpression(string) {\n  if (typeof string !== 'string') {\n    // don't escape SafeStrings, since they're already safe\n    if (string && string.toHTML) {\n      return string.toHTML();\n    } else if (string == null) {\n      return '';\n    } else if (!string) {\n      return string + '';\n    }\n\n    // Force a string conversion as this will be done by the append regardless and\n    // the regex test will do this transparently behind the scenes, causing issues if\n    // an object's to string has escaped characters in it.\n    string = '' + string;\n  }\n\n  if (!possible.test(string)) {\n    return string;\n  }\n  return string.replace(badChars, escapeChar);\n}\n\nfunction isEmpty(value) {\n  if (!value && value !== 0) {\n    return true;\n  } else if (isArray(value) && value.length === 0) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nfunction createFrame(object) {\n  var frame = extend({}, object);\n  frame._parent = object;\n  return frame;\n}\n\nfunction blockParams(params, ids) {\n  params.path = ids;\n  return params;\n}\n\nfunction appendContextPath(contextPath, id) {\n  return (contextPath ? contextPath + '.' : '') + id;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL3V0aWxzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQ0EsSUFBTSxNQUFNLEdBQUc7QUFDYixLQUFHLEVBQUUsT0FBTztBQUNaLEtBQUcsRUFBRSxNQUFNO0FBQ1gsS0FBRyxFQUFFLE1BQU07QUFDWCxLQUFHLEVBQUUsUUFBUTtBQUNiLEtBQUcsRUFBRSxRQUFRO0FBQ2IsS0FBRyxFQUFFLFFBQVE7QUFDYixLQUFHLEVBQUUsUUFBUTtDQUNkLENBQUM7O0FBRUYsSUFBTSxRQUFRLEdBQUcsWUFBWTtJQUN2QixRQUFRLEdBQUcsV0FBVyxDQUFDOztBQUU3QixTQUFTLFVBQVUsQ0FBQyxHQUFHLEVBQUU7QUFDdkIsU0FBTyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7Q0FDcEI7O0FBRU0sU0FBUyxNQUFNLENBQUMsR0FBRyxvQkFBbUI7QUFDM0MsT0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDekMsU0FBSyxJQUFJLEdBQUcsSUFBSSxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUU7QUFDNUIsVUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxFQUFFO0FBQzNELFdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7T0FDOUI7S0FDRjtHQUNGOztBQUVELFNBQU8sR0FBRyxDQUFDO0NBQ1o7O0FBRU0sSUFBSSxRQUFRLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUM7Ozs7OztBQUtoRCxJQUFJLFVBQVUsR0FBRyxvQkFBUyxLQUFLLEVBQUU7QUFDL0IsU0FBTyxPQUFPLEtBQUssS0FBSyxVQUFVLENBQUM7Q0FDcEMsQ0FBQzs7O0FBR0YsSUFBSSxVQUFVLENBQUMsR0FBRyxDQUFDLEVBQUU7QUFDbkIsVUFJTSxVQUFVLEdBSmhCLFVBQVUsR0FBRyxVQUFTLEtBQUssRUFBRTtBQUMzQixXQUFPLE9BQU8sS0FBSyxLQUFLLFVBQVUsSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLG1CQUFtQixDQUFDO0dBQ3BGLENBQUM7Q0FDSDtRQUNPLFVBQVUsR0FBVixVQUFVOzs7OztBQUlYLElBQU0sT0FBTyxHQUFHLEtBQUssQ0FBQyxPQUFPLElBQUksVUFBUyxLQUFLLEVBQUU7QUFDdEQsU0FBTyxBQUFDLEtBQUssSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRLEdBQUksUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxnQkFBZ0IsR0FBRyxLQUFLLENBQUM7Q0FDakcsQ0FBQzs7Ozs7QUFHSyxTQUFTLE9BQU8sQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFO0FBQ3BDLE9BQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDaEQsUUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssS0FBSyxFQUFFO0FBQ3RCLGFBQU8sQ0FBQyxDQUFDO0tBQ1Y7R0FDRjtBQUNELFNBQU8sQ0FBQyxDQUFDLENBQUM7Q0FDWDs7QUFHTSxTQUFTLGdCQUFnQixDQUFDLE1BQU0sRUFBRTtBQUN2QyxNQUFJLE9BQU8sTUFBTSxLQUFLLFFBQVEsRUFBRTs7QUFFOUIsUUFBSSxNQUFNLElBQUksTUFBTSxDQUFDLE1BQU0sRUFBRTtBQUMzQixhQUFPLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztLQUN4QixNQUFNLElBQUksTUFBTSxJQUFJLElBQUksRUFBRTtBQUN6QixhQUFPLEVBQUUsQ0FBQztLQUNYLE1BQU0sSUFBSSxDQUFDLE1BQU0sRUFBRTtBQUNsQixhQUFPLE1BQU0sR0FBRyxFQUFFLENBQUM7S0FDcEI7Ozs7O0FBS0QsVUFBTSxHQUFHLEVBQUUsR0FBRyxNQUFNLENBQUM7R0FDdEI7O0FBRUQsTUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUU7QUFBRSxXQUFPLE1BQU0sQ0FBQztHQUFFO0FBQzlDLFNBQU8sTUFBTSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsVUFBVSxDQUFDLENBQUM7Q0FDN0M7O0FBRU0sU0FBUyxPQUFPLENBQUMsS0FBSyxFQUFFO0FBQzdCLE1BQUksQ0FBQyxLQUFLLElBQUksS0FBSyxLQUFLLENBQUMsRUFBRTtBQUN6QixXQUFPLElBQUksQ0FBQztHQUNiLE1BQU0sSUFBSSxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksS0FBSyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7QUFDL0MsV0FBTyxJQUFJLENBQUM7R0FDYixNQUFNO0FBQ0wsV0FBTyxLQUFLLENBQUM7R0FDZDtDQUNGOztBQUVNLFNBQVMsV0FBVyxDQUFDLE1BQU0sRUFBRTtBQUNsQyxNQUFJLEtBQUssR0FBRyxNQUFNLENBQUMsRUFBRSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQy9CLE9BQUssQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDO0FBQ3ZCLFNBQU8sS0FBSyxDQUFDO0NBQ2Q7O0FBRU0sU0FBUyxXQUFXLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRTtBQUN2QyxRQUFNLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztBQUNsQixTQUFPLE1BQU0sQ0FBQztDQUNmOztBQUVNLFNBQVMsaUJBQWlCLENBQUMsV0FBVyxFQUFFLEVBQUUsRUFBRTtBQUNqRCxTQUFPLENBQUMsV0FBVyxHQUFHLFdBQVcsR0FBRyxHQUFHLEdBQUcsRUFBRSxDQUFBLEdBQUksRUFBRSxDQUFDO0NBQ3BEIiwiZmlsZSI6InV0aWxzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5jb25zdCBlc2NhcGUgPSB7XG4gICcmJzogJyZhbXA7JyxcbiAgJzwnOiAnJmx0OycsXG4gICc+JzogJyZndDsnLFxuICAnXCInOiAnJnF1b3Q7JyxcbiAgXCInXCI6ICcmI3gyNzsnLFxuICAnYCc6ICcmI3g2MDsnLFxuICAnPSc6ICcmI3gzRDsnXG59O1xuXG5jb25zdCBiYWRDaGFycyA9IC9bJjw+XCInYD1dL2csXG4gICAgICBwb3NzaWJsZSA9IC9bJjw+XCInYD1dLztcblxuZnVuY3Rpb24gZXNjYXBlQ2hhcihjaHIpIHtcbiAgcmV0dXJuIGVzY2FwZVtjaHJdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kKG9iai8qICwgLi4uc291cmNlICovKSB7XG4gIGZvciAobGV0IGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgZm9yIChsZXQga2V5IGluIGFyZ3VtZW50c1tpXSkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhcmd1bWVudHNbaV0sIGtleSkpIHtcbiAgICAgICAgb2JqW2tleV0gPSBhcmd1bWVudHNbaV1ba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5leHBvcnQgbGV0IHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuLy8gU291cmNlZCBmcm9tIGxvZGFzaFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Jlc3RpZWpzL2xvZGFzaC9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dFxuLyogZXNsaW50LWRpc2FibGUgZnVuYy1zdHlsZSAqL1xubGV0IGlzRnVuY3Rpb24gPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xufTtcbi8vIGZhbGxiYWNrIGZvciBvbGRlciB2ZXJzaW9ucyBvZiBDaHJvbWUgYW5kIFNhZmFyaVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmlmIChpc0Z1bmN0aW9uKC94LykpIHtcbiAgaXNGdW5jdGlvbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbiAgfTtcbn1cbmV4cG9ydCB7aXNGdW5jdGlvbn07XG4vKiBlc2xpbnQtZW5hYmxlIGZ1bmMtc3R5bGUgKi9cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmV4cG9ydCBjb25zdCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpID8gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEFycmF5XScgOiBmYWxzZTtcbn07XG5cbi8vIE9sZGVyIElFIHZlcnNpb25zIGRvIG5vdCBkaXJlY3RseSBzdXBwb3J0IGluZGV4T2Ygc28gd2UgbXVzdCBpbXBsZW1lbnQgb3VyIG93biwgc2FkbHkuXG5leHBvcnQgZnVuY3Rpb24gaW5kZXhPZihhcnJheSwgdmFsdWUpIHtcbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKGFycmF5W2ldID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlRXhwcmVzc2lvbihzdHJpbmcpIHtcbiAgaWYgKHR5cGVvZiBzdHJpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgLy8gZG9uJ3QgZXNjYXBlIFNhZmVTdHJpbmdzLCBzaW5jZSB0aGV5J3JlIGFscmVhZHkgc2FmZVxuICAgIGlmIChzdHJpbmcgJiYgc3RyaW5nLnRvSFRNTCkge1xuICAgICAgcmV0dXJuIHN0cmluZy50b0hUTUwoKTtcbiAgICB9IGVsc2UgaWYgKHN0cmluZyA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfSBlbHNlIGlmICghc3RyaW5nKSB7XG4gICAgICByZXR1cm4gc3RyaW5nICsgJyc7XG4gICAgfVxuXG4gICAgLy8gRm9yY2UgYSBzdHJpbmcgY29udmVyc2lvbiBhcyB0aGlzIHdpbGwgYmUgZG9uZSBieSB0aGUgYXBwZW5kIHJlZ2FyZGxlc3MgYW5kXG4gICAgLy8gdGhlIHJlZ2V4IHRlc3Qgd2lsbCBkbyB0aGlzIHRyYW5zcGFyZW50bHkgYmVoaW5kIHRoZSBzY2VuZXMsIGNhdXNpbmcgaXNzdWVzIGlmXG4gICAgLy8gYW4gb2JqZWN0J3MgdG8gc3RyaW5nIGhhcyBlc2NhcGVkIGNoYXJhY3RlcnMgaW4gaXQuXG4gICAgc3RyaW5nID0gJycgKyBzdHJpbmc7XG4gIH1cblxuICBpZiAoIXBvc3NpYmxlLnRlc3Qoc3RyaW5nKSkgeyByZXR1cm4gc3RyaW5nOyB9XG4gIHJldHVybiBzdHJpbmcucmVwbGFjZShiYWRDaGFycywgZXNjYXBlQ2hhcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0VtcHR5KHZhbHVlKSB7XG4gIGlmICghdmFsdWUgJiYgdmFsdWUgIT09IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIGlmIChpc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZyYW1lKG9iamVjdCkge1xuICBsZXQgZnJhbWUgPSBleHRlbmQoe30sIG9iamVjdCk7XG4gIGZyYW1lLl9wYXJlbnQgPSBvYmplY3Q7XG4gIHJldHVybiBmcmFtZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJsb2NrUGFyYW1zKHBhcmFtcywgaWRzKSB7XG4gIHBhcmFtcy5wYXRoID0gaWRzO1xuICByZXR1cm4gcGFyYW1zO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kQ29udGV4dFBhdGgoY29udGV4dFBhdGgsIGlkKSB7XG4gIHJldHVybiAoY29udGV4dFBhdGggPyBjb250ZXh0UGF0aCArICcuJyA6ICcnKSArIGlkO1xufVxuIl19\n","'use strict';\n\nexports.__esModule = true;\n\nvar errorProps = ['description', 'fileName', 'lineNumber', 'endLineNumber', 'message', 'name', 'number', 'stack'];\n\nfunction Exception(message, node) {\n  var loc = node && node.loc,\n      line = undefined,\n      endLineNumber = undefined,\n      column = undefined,\n      endColumn = undefined;\n\n  if (loc) {\n    line = loc.start.line;\n    endLineNumber = loc.end.line;\n    column = loc.start.column;\n    endColumn = loc.end.column;\n\n    message += ' - ' + line + ':' + column;\n  }\n\n  var tmp = Error.prototype.constructor.call(this, message);\n\n  // Unfortunately errors are not enumerable in Chrome (at least), so `for prop in tmp` doesn't work.\n  for (var idx = 0; idx < errorProps.length; idx++) {\n    this[errorProps[idx]] = tmp[errorProps[idx]];\n  }\n\n  /* istanbul ignore else */\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, Exception);\n  }\n\n  try {\n    if (loc) {\n      this.lineNumber = line;\n      this.endLineNumber = endLineNumber;\n\n      // Work around issue under safari where we can't directly set the column value\n      /* istanbul ignore next */\n      if (Object.defineProperty) {\n        Object.defineProperty(this, 'column', {\n          value: column,\n          enumerable: true\n        });\n        Object.defineProperty(this, 'endColumn', {\n          value: endColumn,\n          enumerable: true\n        });\n      } else {\n        this.column = column;\n        this.endColumn = endColumn;\n      }\n    }\n  } catch (nop) {\n    /* Ignore if the browser is very particular */\n  }\n}\n\nException.prototype = new Error();\n\nexports['default'] = Exception;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2V4Y2VwdGlvbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQ0EsSUFBTSxVQUFVLEdBQUcsQ0FBQyxhQUFhLEVBQUUsVUFBVSxFQUFFLFlBQVksRUFBRSxlQUFlLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsT0FBTyxDQUFDLENBQUM7O0FBRXBILFNBQVMsU0FBUyxDQUFDLE9BQU8sRUFBRSxJQUFJLEVBQUU7QUFDaEMsTUFBSSxHQUFHLEdBQUcsSUFBSSxJQUFJLElBQUksQ0FBQyxHQUFHO01BQ3RCLElBQUksWUFBQTtNQUNKLGFBQWEsWUFBQTtNQUNiLE1BQU0sWUFBQTtNQUNOLFNBQVMsWUFBQSxDQUFDOztBQUVkLE1BQUksR0FBRyxFQUFFO0FBQ1AsUUFBSSxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDO0FBQ3RCLGlCQUFhLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUM7QUFDN0IsVUFBTSxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDO0FBQzFCLGFBQVMsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQzs7QUFFM0IsV0FBTyxJQUFJLEtBQUssR0FBRyxJQUFJLEdBQUcsR0FBRyxHQUFHLE1BQU0sQ0FBQztHQUN4Qzs7QUFFRCxNQUFJLEdBQUcsR0FBRyxLQUFLLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDOzs7QUFHMUQsT0FBSyxJQUFJLEdBQUcsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLFVBQVUsQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFLEVBQUU7QUFDaEQsUUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztHQUM5Qzs7O0FBR0QsTUFBSSxLQUFLLENBQUMsaUJBQWlCLEVBQUU7QUFDM0IsU0FBSyxDQUFDLGlCQUFpQixDQUFDLElBQUksRUFBRSxTQUFTLENBQUMsQ0FBQztHQUMxQzs7QUFFRCxNQUFJO0FBQ0YsUUFBSSxHQUFHLEVBQUU7QUFDUCxVQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQztBQUN2QixVQUFJLENBQUMsYUFBYSxHQUFHLGFBQWEsQ0FBQzs7OztBQUluQyxVQUFJLE1BQU0sQ0FBQyxjQUFjLEVBQUU7QUFDekIsY0FBTSxDQUFDLGNBQWMsQ0FBQyxJQUFJLEVBQUUsUUFBUSxFQUFFO0FBQ3BDLGVBQUssRUFBRSxNQUFNO0FBQ2Isb0JBQVUsRUFBRSxJQUFJO1NBQ2pCLENBQUMsQ0FBQztBQUNILGNBQU0sQ0FBQyxjQUFjLENBQUMsSUFBSSxFQUFFLFdBQVcsRUFBRTtBQUN2QyxlQUFLLEVBQUUsU0FBUztBQUNoQixvQkFBVSxFQUFFLElBQUk7U0FDakIsQ0FBQyxDQUFDO09BQ0osTUFBTTtBQUNMLFlBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0FBQ3JCLFlBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO09BQzVCO0tBQ0Y7R0FDRixDQUFDLE9BQU8sR0FBRyxFQUFFOztHQUViO0NBQ0Y7O0FBRUQsU0FBUyxDQUFDLFNBQVMsR0FBRyxJQUFJLEtBQUssRUFBRSxDQUFDOztxQkFFbkIsU0FBUyIsImZpbGUiOiJleGNlcHRpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbmNvbnN0IGVycm9yUHJvcHMgPSBbJ2Rlc2NyaXB0aW9uJywgJ2ZpbGVOYW1lJywgJ2xpbmVOdW1iZXInLCAnZW5kTGluZU51bWJlcicsICdtZXNzYWdlJywgJ25hbWUnLCAnbnVtYmVyJywgJ3N0YWNrJ107XG5cbmZ1bmN0aW9uIEV4Y2VwdGlvbihtZXNzYWdlLCBub2RlKSB7XG4gIGxldCBsb2MgPSBub2RlICYmIG5vZGUubG9jLFxuICAgICAgbGluZSxcbiAgICAgIGVuZExpbmVOdW1iZXIsXG4gICAgICBjb2x1bW4sXG4gICAgICBlbmRDb2x1bW47XG5cbiAgaWYgKGxvYykge1xuICAgIGxpbmUgPSBsb2Muc3RhcnQubGluZTtcbiAgICBlbmRMaW5lTnVtYmVyID0gbG9jLmVuZC5saW5lO1xuICAgIGNvbHVtbiA9IGxvYy5zdGFydC5jb2x1bW47XG4gICAgZW5kQ29sdW1uID0gbG9jLmVuZC5jb2x1bW47XG5cbiAgICBtZXNzYWdlICs9ICcgLSAnICsgbGluZSArICc6JyArIGNvbHVtbjtcbiAgfVxuXG4gIGxldCB0bXAgPSBFcnJvci5wcm90b3R5cGUuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBtZXNzYWdlKTtcblxuICAvLyBVbmZvcnR1bmF0ZWx5IGVycm9ycyBhcmUgbm90IGVudW1lcmFibGUgaW4gQ2hyb21lIChhdCBsZWFzdCksIHNvIGBmb3IgcHJvcCBpbiB0bXBgIGRvZXNuJ3Qgd29yay5cbiAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgZXJyb3JQcm9wcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgdGhpc1tlcnJvclByb3BzW2lkeF1dID0gdG1wW2Vycm9yUHJvcHNbaWR4XV07XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcbiAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBFeGNlcHRpb24pO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBpZiAobG9jKSB7XG4gICAgICB0aGlzLmxpbmVOdW1iZXIgPSBsaW5lO1xuICAgICAgdGhpcy5lbmRMaW5lTnVtYmVyID0gZW5kTGluZU51bWJlcjtcblxuICAgICAgLy8gV29yayBhcm91bmQgaXNzdWUgdW5kZXIgc2FmYXJpIHdoZXJlIHdlIGNhbid0IGRpcmVjdGx5IHNldCB0aGUgY29sdW1uIHZhbHVlXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2NvbHVtbicsIHtcbiAgICAgICAgICB2YWx1ZTogY29sdW1uLFxuICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnZW5kQ29sdW1uJywge1xuICAgICAgICAgIHZhbHVlOiBlbmRDb2x1bW4sXG4gICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY29sdW1uID0gY29sdW1uO1xuICAgICAgICB0aGlzLmVuZENvbHVtbiA9IGVuZENvbHVtbjtcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKG5vcCkge1xuICAgIC8qIElnbm9yZSBpZiB0aGUgYnJvd3NlciBpcyB2ZXJ5IHBhcnRpY3VsYXIgKi9cbiAgfVxufVxuXG5FeGNlcHRpb24ucHJvdG90eXBlID0gbmV3IEVycm9yKCk7XG5cbmV4cG9ydCBkZWZhdWx0IEV4Y2VwdGlvbjtcbiJdfQ==\n","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var superPropBase = require(\"./superPropBase\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    for (var i = 0; i < modules.length; i++) {\n      var item = [].concat(modules[i]);\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// This is CodeMirror (https://codemirror.net), a code editor\n// implemented in JavaScript on top of the browser's DOM.\n//\n// You can find some technical background for some of the code below\n// at http://marijnhaverbeke.nl/blog/#cm-internals .\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.CodeMirror = factory());\n}(this, (function () { 'use strict';\n\n  // Kludges for bugs and behavior differences that can't be feature\n  // detected are enabled based on userAgent etc sniffing.\n  var userAgent = navigator.userAgent;\n  var platform = navigator.platform;\n\n  var gecko = /gecko\\/\\d/i.test(userAgent);\n  var ie_upto10 = /MSIE \\d/.test(userAgent);\n  var ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent);\n  var edge = /Edge\\/(\\d+)/.exec(userAgent);\n  var ie = ie_upto10 || ie_11up || edge;\n  var ie_version = ie && (ie_upto10 ? document.documentMode || 6 : +(edge || ie_11up)[1]);\n  var webkit = !edge && /WebKit\\//.test(userAgent);\n  var qtwebkit = webkit && /Qt\\/\\d+\\.\\d+/.test(userAgent);\n  var chrome = !edge && /Chrome\\//.test(userAgent);\n  var presto = /Opera\\//.test(userAgent);\n  var safari = /Apple Computer/.test(navigator.vendor);\n  var mac_geMountainLion = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent);\n  var phantom = /PhantomJS/.test(userAgent);\n\n  var ios = !edge && /AppleWebKit/.test(userAgent) && /Mobile\\/\\w+/.test(userAgent);\n  var android = /Android/.test(userAgent);\n  // This is woefully incomplete. Suggestions for alternative methods welcome.\n  var mobile = ios || android || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);\n  var mac = ios || /Mac/.test(platform);\n  var chromeOS = /\\bCrOS\\b/.test(userAgent);\n  var windows = /win/i.test(platform);\n\n  var presto_version = presto && userAgent.match(/Version\\/(\\d*\\.\\d*)/);\n  if (presto_version) { presto_version = Number(presto_version[1]); }\n  if (presto_version && presto_version >= 15) { presto = false; webkit = true; }\n  // Some browsers use the wrong event properties to signal cmd/ctrl on OS X\n  var flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));\n  var captureRightClick = gecko || (ie && ie_version >= 9);\n\n  function classTest(cls) { return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\") }\n\n  var rmClass = function(node, cls) {\n    var current = node.className;\n    var match = classTest(cls).exec(current);\n    if (match) {\n      var after = current.slice(match.index + match[0].length);\n      node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\");\n    }\n  };\n\n  function removeChildren(e) {\n    for (var count = e.childNodes.length; count > 0; --count)\n      { e.removeChild(e.firstChild); }\n    return e\n  }\n\n  function removeChildrenAndAdd(parent, e) {\n    return removeChildren(parent).appendChild(e)\n  }\n\n  function elt(tag, content, className, style) {\n    var e = document.createElement(tag);\n    if (className) { e.className = className; }\n    if (style) { e.style.cssText = style; }\n    if (typeof content == \"string\") { e.appendChild(document.createTextNode(content)); }\n    else if (content) { for (var i = 0; i < content.length; ++i) { e.appendChild(content[i]); } }\n    return e\n  }\n  // wrapper for elt, which removes the elt from the accessibility tree\n  function eltP(tag, content, className, style) {\n    var e = elt(tag, content, className, style);\n    e.setAttribute(\"role\", \"presentation\");\n    return e\n  }\n\n  var range;\n  if (document.createRange) { range = function(node, start, end, endNode) {\n    var r = document.createRange();\n    r.setEnd(endNode || node, end);\n    r.setStart(node, start);\n    return r\n  }; }\n  else { range = function(node, start, end) {\n    var r = document.body.createTextRange();\n    try { r.moveToElementText(node.parentNode); }\n    catch(e) { return r }\n    r.collapse(true);\n    r.moveEnd(\"character\", end);\n    r.moveStart(\"character\", start);\n    return r\n  }; }\n\n  function contains(parent, child) {\n    if (child.nodeType == 3) // Android browser always returns false when child is a textnode\n      { child = child.parentNode; }\n    if (parent.contains)\n      { return parent.contains(child) }\n    do {\n      if (child.nodeType == 11) { child = child.host; }\n      if (child == parent) { return true }\n    } while (child = child.parentNode)\n  }\n\n  function activeElt() {\n    // IE and Edge may throw an \"Unspecified Error\" when accessing document.activeElement.\n    // IE < 10 will throw when accessed while the page is loading or in an iframe.\n    // IE > 9 and Edge will throw when accessed in an iframe if document.body is unavailable.\n    var activeElement;\n    try {\n      activeElement = document.activeElement;\n    } catch(e) {\n      activeElement = document.body || null;\n    }\n    while (activeElement && activeElement.shadowRoot && activeElement.shadowRoot.activeElement)\n      { activeElement = activeElement.shadowRoot.activeElement; }\n    return activeElement\n  }\n\n  function addClass(node, cls) {\n    var current = node.className;\n    if (!classTest(cls).test(current)) { node.className += (current ? \" \" : \"\") + cls; }\n  }\n  function joinClasses(a, b) {\n    var as = a.split(\" \");\n    for (var i = 0; i < as.length; i++)\n      { if (as[i] && !classTest(as[i]).test(b)) { b += \" \" + as[i]; } }\n    return b\n  }\n\n  var selectInput = function(node) { node.select(); };\n  if (ios) // Mobile Safari apparently has a bug where select() is broken.\n    { selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length; }; }\n  else if (ie) // Suppress mysterious IE10 errors\n    { selectInput = function(node) { try { node.select(); } catch(_e) {} }; }\n\n  function bind(f) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return function(){return f.apply(null, args)}\n  }\n\n  function copyObj(obj, target, overwrite) {\n    if (!target) { target = {}; }\n    for (var prop in obj)\n      { if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))\n        { target[prop] = obj[prop]; } }\n    return target\n  }\n\n  // Counts the column offset in a string, taking tabs into account.\n  // Used mostly to find indentation.\n  function countColumn(string, end, tabSize, startIndex, startValue) {\n    if (end == null) {\n      end = string.search(/[^\\s\\u00a0]/);\n      if (end == -1) { end = string.length; }\n    }\n    for (var i = startIndex || 0, n = startValue || 0;;) {\n      var nextTab = string.indexOf(\"\\t\", i);\n      if (nextTab < 0 || nextTab >= end)\n        { return n + (end - i) }\n      n += nextTab - i;\n      n += tabSize - (n % tabSize);\n      i = nextTab + 1;\n    }\n  }\n\n  var Delayed = function() {\n    this.id = null;\n    this.f = null;\n    this.time = 0;\n    this.handler = bind(this.onTimeout, this);\n  };\n  Delayed.prototype.onTimeout = function (self) {\n    self.id = 0;\n    if (self.time <= +new Date) {\n      self.f();\n    } else {\n      setTimeout(self.handler, self.time - +new Date);\n    }\n  };\n  Delayed.prototype.set = function (ms, f) {\n    this.f = f;\n    var time = +new Date + ms;\n    if (!this.id || time < this.time) {\n      clearTimeout(this.id);\n      this.id = setTimeout(this.handler, ms);\n      this.time = time;\n    }\n  };\n\n  function indexOf(array, elt) {\n    for (var i = 0; i < array.length; ++i)\n      { if (array[i] == elt) { return i } }\n    return -1\n  }\n\n  // Number of pixels added to scroller and sizer to hide scrollbar\n  var scrollerGap = 30;\n\n  // Returned or thrown by various protocols to signal 'I'm not\n  // handling this'.\n  var Pass = {toString: function(){return \"CodeMirror.Pass\"}};\n\n  // Reused option objects for setSelection & friends\n  var sel_dontScroll = {scroll: false}, sel_mouse = {origin: \"*mouse\"}, sel_move = {origin: \"+move\"};\n\n  // The inverse of countColumn -- find the offset that corresponds to\n  // a particular column.\n  function findColumn(string, goal, tabSize) {\n    for (var pos = 0, col = 0;;) {\n      var nextTab = string.indexOf(\"\\t\", pos);\n      if (nextTab == -1) { nextTab = string.length; }\n      var skipped = nextTab - pos;\n      if (nextTab == string.length || col + skipped >= goal)\n        { return pos + Math.min(skipped, goal - col) }\n      col += nextTab - pos;\n      col += tabSize - (col % tabSize);\n      pos = nextTab + 1;\n      if (col >= goal) { return pos }\n    }\n  }\n\n  var spaceStrs = [\"\"];\n  function spaceStr(n) {\n    while (spaceStrs.length <= n)\n      { spaceStrs.push(lst(spaceStrs) + \" \"); }\n    return spaceStrs[n]\n  }\n\n  function lst(arr) { return arr[arr.length-1] }\n\n  function map(array, f) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = f(array[i], i); }\n    return out\n  }\n\n  function insertSorted(array, value, score) {\n    var pos = 0, priority = score(value);\n    while (pos < array.length && score(array[pos]) <= priority) { pos++; }\n    array.splice(pos, 0, value);\n  }\n\n  function nothing() {}\n\n  function createObj(base, props) {\n    var inst;\n    if (Object.create) {\n      inst = Object.create(base);\n    } else {\n      nothing.prototype = base;\n      inst = new nothing();\n    }\n    if (props) { copyObj(props, inst); }\n    return inst\n  }\n\n  var nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\n  function isWordCharBasic(ch) {\n    return /\\w/.test(ch) || ch > \"\\x80\" &&\n      (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch))\n  }\n  function isWordChar(ch, helper) {\n    if (!helper) { return isWordCharBasic(ch) }\n    if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) { return true }\n    return helper.test(ch)\n  }\n\n  function isEmpty(obj) {\n    for (var n in obj) { if (obj.hasOwnProperty(n) && obj[n]) { return false } }\n    return true\n  }\n\n  // Extending unicode characters. A series of a non-extending char +\n  // any number of extending chars is treated as a single unit as far\n  // as editing and measuring is concerned. This is not fully correct,\n  // since some scripts/fonts/browsers also treat other configurations\n  // of code points as a group.\n  var extendingChars = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;\n  function isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch) }\n\n  // Returns a number from the range [`0`; `str.length`] unless `pos` is outside that range.\n  function skipExtendingChars(str, pos, dir) {\n    while ((dir < 0 ? pos > 0 : pos < str.length) && isExtendingChar(str.charAt(pos))) { pos += dir; }\n    return pos\n  }\n\n  // Returns the value from the range [`from`; `to`] that satisfies\n  // `pred` and is closest to `from`. Assumes that at least `to`\n  // satisfies `pred`. Supports `from` being greater than `to`.\n  function findFirst(pred, from, to) {\n    // At any point we are certain `to` satisfies `pred`, don't know\n    // whether `from` does.\n    var dir = from > to ? -1 : 1;\n    for (;;) {\n      if (from == to) { return from }\n      var midF = (from + to) / 2, mid = dir < 0 ? Math.ceil(midF) : Math.floor(midF);\n      if (mid == from) { return pred(mid) ? from : to }\n      if (pred(mid)) { to = mid; }\n      else { from = mid + dir; }\n    }\n  }\n\n  // BIDI HELPERS\n\n  function iterateBidiSections(order, from, to, f) {\n    if (!order) { return f(from, to, \"ltr\", 0) }\n    var found = false;\n    for (var i = 0; i < order.length; ++i) {\n      var part = order[i];\n      if (part.from < to && part.to > from || from == to && part.to == from) {\n        f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\", i);\n        found = true;\n      }\n    }\n    if (!found) { f(from, to, \"ltr\"); }\n  }\n\n  var bidiOther = null;\n  function getBidiPartAt(order, ch, sticky) {\n    var found;\n    bidiOther = null;\n    for (var i = 0; i < order.length; ++i) {\n      var cur = order[i];\n      if (cur.from < ch && cur.to > ch) { return i }\n      if (cur.to == ch) {\n        if (cur.from != cur.to && sticky == \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n      if (cur.from == ch) {\n        if (cur.from != cur.to && sticky != \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n    }\n    return found != null ? found : bidiOther\n  }\n\n  // Bidirectional ordering algorithm\n  // See http://unicode.org/reports/tr9/tr9-13.html for the algorithm\n  // that this (partially) implements.\n\n  // One-char codes used for character types:\n  // L (L):   Left-to-Right\n  // R (R):   Right-to-Left\n  // r (AL):  Right-to-Left Arabic\n  // 1 (EN):  European Number\n  // + (ES):  European Number Separator\n  // % (ET):  European Number Terminator\n  // n (AN):  Arabic Number\n  // , (CS):  Common Number Separator\n  // m (NSM): Non-Spacing Mark\n  // b (BN):  Boundary Neutral\n  // s (B):   Paragraph Separator\n  // t (S):   Segment Separator\n  // w (WS):  Whitespace\n  // N (ON):  Other Neutrals\n\n  // Returns null if characters are ordered as they appear\n  // (left-to-right), or an array of sections ({from, to, level}\n  // objects) in the order in which they occur visually.\n  var bidiOrdering = (function() {\n    // Character types for codepoints 0 to 0xff\n    var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\";\n    // Character types for codepoints 0x600 to 0x6f9\n    var arabicTypes = \"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\";\n    function charType(code) {\n      if (code <= 0xf7) { return lowTypes.charAt(code) }\n      else if (0x590 <= code && code <= 0x5f4) { return \"R\" }\n      else if (0x600 <= code && code <= 0x6f9) { return arabicTypes.charAt(code - 0x600) }\n      else if (0x6ee <= code && code <= 0x8ac) { return \"r\" }\n      else if (0x2000 <= code && code <= 0x200b) { return \"w\" }\n      else if (code == 0x200c) { return \"b\" }\n      else { return \"L\" }\n    }\n\n    var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n    var isNeutral = /[stwN]/, isStrong = /[LRr]/, countsAsLeft = /[Lb1n]/, countsAsNum = /[1n]/;\n\n    function BidiSpan(level, from, to) {\n      this.level = level;\n      this.from = from; this.to = to;\n    }\n\n    return function(str, direction) {\n      var outerType = direction == \"ltr\" ? \"L\" : \"R\";\n\n      if (str.length == 0 || direction == \"ltr\" && !bidiRE.test(str)) { return false }\n      var len = str.length, types = [];\n      for (var i = 0; i < len; ++i)\n        { types.push(charType(str.charCodeAt(i))); }\n\n      // W1. Examine each non-spacing mark (NSM) in the level run, and\n      // change the type of the NSM to the type of the previous\n      // character. If the NSM is at the start of the level run, it will\n      // get the type of sor.\n      for (var i$1 = 0, prev = outerType; i$1 < len; ++i$1) {\n        var type = types[i$1];\n        if (type == \"m\") { types[i$1] = prev; }\n        else { prev = type; }\n      }\n\n      // W2. Search backwards from each instance of a European number\n      // until the first strong type (R, L, AL, or sor) is found. If an\n      // AL is found, change the type of the European number to Arabic\n      // number.\n      // W3. Change all ALs to R.\n      for (var i$2 = 0, cur = outerType; i$2 < len; ++i$2) {\n        var type$1 = types[i$2];\n        if (type$1 == \"1\" && cur == \"r\") { types[i$2] = \"n\"; }\n        else if (isStrong.test(type$1)) { cur = type$1; if (type$1 == \"r\") { types[i$2] = \"R\"; } }\n      }\n\n      // W4. A single European separator between two European numbers\n      // changes to a European number. A single common separator between\n      // two numbers of the same type changes to that type.\n      for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {\n        var type$2 = types[i$3];\n        if (type$2 == \"+\" && prev$1 == \"1\" && types[i$3+1] == \"1\") { types[i$3] = \"1\"; }\n        else if (type$2 == \",\" && prev$1 == types[i$3+1] &&\n                 (prev$1 == \"1\" || prev$1 == \"n\")) { types[i$3] = prev$1; }\n        prev$1 = type$2;\n      }\n\n      // W5. A sequence of European terminators adjacent to European\n      // numbers changes to all European numbers.\n      // W6. Otherwise, separators and terminators change to Other\n      // Neutral.\n      for (var i$4 = 0; i$4 < len; ++i$4) {\n        var type$3 = types[i$4];\n        if (type$3 == \",\") { types[i$4] = \"N\"; }\n        else if (type$3 == \"%\") {\n          var end = (void 0);\n          for (end = i$4 + 1; end < len && types[end] == \"%\"; ++end) {}\n          var replace = (i$4 && types[i$4-1] == \"!\") || (end < len && types[end] == \"1\") ? \"1\" : \"N\";\n          for (var j = i$4; j < end; ++j) { types[j] = replace; }\n          i$4 = end - 1;\n        }\n      }\n\n      // W7. Search backwards from each instance of a European number\n      // until the first strong type (R, L, or sor) is found. If an L is\n      // found, then change the type of the European number to L.\n      for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {\n        var type$4 = types[i$5];\n        if (cur$1 == \"L\" && type$4 == \"1\") { types[i$5] = \"L\"; }\n        else if (isStrong.test(type$4)) { cur$1 = type$4; }\n      }\n\n      // N1. A sequence of neutrals takes the direction of the\n      // surrounding strong text if the text on both sides has the same\n      // direction. European and Arabic numbers act as if they were R in\n      // terms of their influence on neutrals. Start-of-level-run (sor)\n      // and end-of-level-run (eor) are used at level run boundaries.\n      // N2. Any remaining neutrals take the embedding direction.\n      for (var i$6 = 0; i$6 < len; ++i$6) {\n        if (isNeutral.test(types[i$6])) {\n          var end$1 = (void 0);\n          for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {}\n          var before = (i$6 ? types[i$6-1] : outerType) == \"L\";\n          var after = (end$1 < len ? types[end$1] : outerType) == \"L\";\n          var replace$1 = before == after ? (before ? \"L\" : \"R\") : outerType;\n          for (var j$1 = i$6; j$1 < end$1; ++j$1) { types[j$1] = replace$1; }\n          i$6 = end$1 - 1;\n        }\n      }\n\n      // Here we depart from the documented algorithm, in order to avoid\n      // building up an actual levels array. Since there are only three\n      // levels (0, 1, 2) in an implementation that doesn't take\n      // explicit embedding into account, we can build up the order on\n      // the fly, without following the level-based algorithm.\n      var order = [], m;\n      for (var i$7 = 0; i$7 < len;) {\n        if (countsAsLeft.test(types[i$7])) {\n          var start = i$7;\n          for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {}\n          order.push(new BidiSpan(0, start, i$7));\n        } else {\n          var pos = i$7, at = order.length;\n          for (++i$7; i$7 < len && types[i$7] != \"L\"; ++i$7) {}\n          for (var j$2 = pos; j$2 < i$7;) {\n            if (countsAsNum.test(types[j$2])) {\n              if (pos < j$2) { order.splice(at, 0, new BidiSpan(1, pos, j$2)); }\n              var nstart = j$2;\n              for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {}\n              order.splice(at, 0, new BidiSpan(2, nstart, j$2));\n              pos = j$2;\n            } else { ++j$2; }\n          }\n          if (pos < i$7) { order.splice(at, 0, new BidiSpan(1, pos, i$7)); }\n        }\n      }\n      if (direction == \"ltr\") {\n        if (order[0].level == 1 && (m = str.match(/^\\s+/))) {\n          order[0].from = m[0].length;\n          order.unshift(new BidiSpan(0, 0, m[0].length));\n        }\n        if (lst(order).level == 1 && (m = str.match(/\\s+$/))) {\n          lst(order).to -= m[0].length;\n          order.push(new BidiSpan(0, len - m[0].length, len));\n        }\n      }\n\n      return direction == \"rtl\" ? order.reverse() : order\n    }\n  })();\n\n  // Get the bidi ordering for the given line (and cache it). Returns\n  // false for lines that are fully left-to-right, and an array of\n  // BidiSpan objects otherwise.\n  function getOrder(line, direction) {\n    var order = line.order;\n    if (order == null) { order = line.order = bidiOrdering(line.text, direction); }\n    return order\n  }\n\n  // EVENT HANDLING\n\n  // Lightweight event framework. on/off also work on DOM nodes,\n  // registering native DOM handlers.\n\n  var noHandlers = [];\n\n  var on = function(emitter, type, f) {\n    if (emitter.addEventListener) {\n      emitter.addEventListener(type, f, false);\n    } else if (emitter.attachEvent) {\n      emitter.attachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers || (emitter._handlers = {});\n      map[type] = (map[type] || noHandlers).concat(f);\n    }\n  };\n\n  function getHandlers(emitter, type) {\n    return emitter._handlers && emitter._handlers[type] || noHandlers\n  }\n\n  function off(emitter, type, f) {\n    if (emitter.removeEventListener) {\n      emitter.removeEventListener(type, f, false);\n    } else if (emitter.detachEvent) {\n      emitter.detachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers, arr = map && map[type];\n      if (arr) {\n        var index = indexOf(arr, f);\n        if (index > -1)\n          { map[type] = arr.slice(0, index).concat(arr.slice(index + 1)); }\n      }\n    }\n  }\n\n  function signal(emitter, type /*, values...*/) {\n    var handlers = getHandlers(emitter, type);\n    if (!handlers.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2);\n    for (var i = 0; i < handlers.length; ++i) { handlers[i].apply(null, args); }\n  }\n\n  // The DOM events that CodeMirror handles can be overridden by\n  // registering a (non-DOM) handler on the editor for the event name,\n  // and preventDefault-ing the event in that handler.\n  function signalDOMEvent(cm, e, override) {\n    if (typeof e == \"string\")\n      { e = {type: e, preventDefault: function() { this.defaultPrevented = true; }}; }\n    signal(cm, override || e.type, cm, e);\n    return e_defaultPrevented(e) || e.codemirrorIgnore\n  }\n\n  function signalCursorActivity(cm) {\n    var arr = cm._handlers && cm._handlers.cursorActivity;\n    if (!arr) { return }\n    var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = []);\n    for (var i = 0; i < arr.length; ++i) { if (indexOf(set, arr[i]) == -1)\n      { set.push(arr[i]); } }\n  }\n\n  function hasHandler(emitter, type) {\n    return getHandlers(emitter, type).length > 0\n  }\n\n  // Add on and off methods to a constructor's prototype, to make\n  // registering events on such objects more convenient.\n  function eventMixin(ctor) {\n    ctor.prototype.on = function(type, f) {on(this, type, f);};\n    ctor.prototype.off = function(type, f) {off(this, type, f);};\n  }\n\n  // Due to the fact that we still support jurassic IE versions, some\n  // compatibility wrappers are needed.\n\n  function e_preventDefault(e) {\n    if (e.preventDefault) { e.preventDefault(); }\n    else { e.returnValue = false; }\n  }\n  function e_stopPropagation(e) {\n    if (e.stopPropagation) { e.stopPropagation(); }\n    else { e.cancelBubble = true; }\n  }\n  function e_defaultPrevented(e) {\n    return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false\n  }\n  function e_stop(e) {e_preventDefault(e); e_stopPropagation(e);}\n\n  function e_target(e) {return e.target || e.srcElement}\n  function e_button(e) {\n    var b = e.which;\n    if (b == null) {\n      if (e.button & 1) { b = 1; }\n      else if (e.button & 2) { b = 3; }\n      else if (e.button & 4) { b = 2; }\n    }\n    if (mac && e.ctrlKey && b == 1) { b = 3; }\n    return b\n  }\n\n  // Detect drag-and-drop\n  var dragAndDrop = function() {\n    // There is *some* kind of drag-and-drop support in IE6-8, but I\n    // couldn't get it to work yet.\n    if (ie && ie_version < 9) { return false }\n    var div = elt('div');\n    return \"draggable\" in div || \"dragDrop\" in div\n  }();\n\n  var zwspSupported;\n  function zeroWidthElement(measure) {\n    if (zwspSupported == null) {\n      var test = elt(\"span\", \"\\u200b\");\n      removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]));\n      if (measure.firstChild.offsetHeight != 0)\n        { zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8); }\n    }\n    var node = zwspSupported ? elt(\"span\", \"\\u200b\") :\n      elt(\"span\", \"\\u00a0\", null, \"display: inline-block; width: 1px; margin-right: -1px\");\n    node.setAttribute(\"cm-text\", \"\");\n    return node\n  }\n\n  // Feature-detect IE's crummy client rect reporting for bidi text\n  var badBidiRects;\n  function hasBadBidiRects(measure) {\n    if (badBidiRects != null) { return badBidiRects }\n    var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062eA\"));\n    var r0 = range(txt, 0, 1).getBoundingClientRect();\n    var r1 = range(txt, 1, 2).getBoundingClientRect();\n    removeChildren(measure);\n    if (!r0 || r0.left == r0.right) { return false } // Safari returns null in some cases (#2780)\n    return badBidiRects = (r1.right - r0.right < 3)\n  }\n\n  // See if \"\".split is the broken IE version, if so, provide an\n  // alternative way to split lines.\n  var splitLinesAuto = \"\\n\\nb\".split(/\\n/).length != 3 ? function (string) {\n    var pos = 0, result = [], l = string.length;\n    while (pos <= l) {\n      var nl = string.indexOf(\"\\n\", pos);\n      if (nl == -1) { nl = string.length; }\n      var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl);\n      var rt = line.indexOf(\"\\r\");\n      if (rt != -1) {\n        result.push(line.slice(0, rt));\n        pos += rt + 1;\n      } else {\n        result.push(line);\n        pos = nl + 1;\n      }\n    }\n    return result\n  } : function (string) { return string.split(/\\r\\n?|\\n/); };\n\n  var hasSelection = window.getSelection ? function (te) {\n    try { return te.selectionStart != te.selectionEnd }\n    catch(e) { return false }\n  } : function (te) {\n    var range;\n    try {range = te.ownerDocument.selection.createRange();}\n    catch(e) {}\n    if (!range || range.parentElement() != te) { return false }\n    return range.compareEndPoints(\"StartToEnd\", range) != 0\n  };\n\n  var hasCopyEvent = (function () {\n    var e = elt(\"div\");\n    if (\"oncopy\" in e) { return true }\n    e.setAttribute(\"oncopy\", \"return;\");\n    return typeof e.oncopy == \"function\"\n  })();\n\n  var badZoomedRects = null;\n  function hasBadZoomedRects(measure) {\n    if (badZoomedRects != null) { return badZoomedRects }\n    var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"));\n    var normal = node.getBoundingClientRect();\n    var fromRange = range(node, 0, 1).getBoundingClientRect();\n    return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1\n  }\n\n  // Known modes, by name and by MIME\n  var modes = {}, mimeModes = {};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  function defineMode(name, mode) {\n    if (arguments.length > 2)\n      { mode.dependencies = Array.prototype.slice.call(arguments, 2); }\n    modes[name] = mode;\n  }\n\n  function defineMIME(mime, spec) {\n    mimeModes[mime] = spec;\n  }\n\n  // Given a MIME type, a {name, ...options} config object, or a name\n  // string, return a mode config object.\n  function resolveMode(spec) {\n    if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\n      spec = mimeModes[spec];\n    } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\n      var found = mimeModes[spec.name];\n      if (typeof found == \"string\") { found = {name: found}; }\n      spec = createObj(found, spec);\n      spec.name = found.name;\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)) {\n      return resolveMode(\"application/xml\")\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(spec)) {\n      return resolveMode(\"application/json\")\n    }\n    if (typeof spec == \"string\") { return {name: spec} }\n    else { return spec || {name: \"null\"} }\n  }\n\n  // Given a mode spec (anything that resolveMode accepts), find and\n  // initialize an actual mode object.\n  function getMode(options, spec) {\n    spec = resolveMode(spec);\n    var mfactory = modes[spec.name];\n    if (!mfactory) { return getMode(options, \"text/plain\") }\n    var modeObj = mfactory(options, spec);\n    if (modeExtensions.hasOwnProperty(spec.name)) {\n      var exts = modeExtensions[spec.name];\n      for (var prop in exts) {\n        if (!exts.hasOwnProperty(prop)) { continue }\n        if (modeObj.hasOwnProperty(prop)) { modeObj[\"_\" + prop] = modeObj[prop]; }\n        modeObj[prop] = exts[prop];\n      }\n    }\n    modeObj.name = spec.name;\n    if (spec.helperType) { modeObj.helperType = spec.helperType; }\n    if (spec.modeProps) { for (var prop$1 in spec.modeProps)\n      { modeObj[prop$1] = spec.modeProps[prop$1]; } }\n\n    return modeObj\n  }\n\n  // This can be used to attach properties to mode objects from\n  // outside the actual mode definition.\n  var modeExtensions = {};\n  function extendMode(mode, properties) {\n    var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {});\n    copyObj(properties, exts);\n  }\n\n  function copyState(mode, state) {\n    if (state === true) { return state }\n    if (mode.copyState) { return mode.copyState(state) }\n    var nstate = {};\n    for (var n in state) {\n      var val = state[n];\n      if (val instanceof Array) { val = val.concat([]); }\n      nstate[n] = val;\n    }\n    return nstate\n  }\n\n  // Given a mode and a state (for that mode), find the inner mode and\n  // state at the position that the state refers to.\n  function innerMode(mode, state) {\n    var info;\n    while (mode.innerMode) {\n      info = mode.innerMode(state);\n      if (!info || info.mode == mode) { break }\n      state = info.state;\n      mode = info.mode;\n    }\n    return info || {mode: mode, state: state}\n  }\n\n  function startState(mode, a1, a2) {\n    return mode.startState ? mode.startState(a1, a2) : true\n  }\n\n  // STRING STREAM\n\n  // Fed to the mode parsers, provides helper functions to make\n  // parsers more succinct.\n\n  var StringStream = function(string, tabSize, lineOracle) {\n    this.pos = this.start = 0;\n    this.string = string;\n    this.tabSize = tabSize || 8;\n    this.lastColumnPos = this.lastColumnValue = 0;\n    this.lineStart = 0;\n    this.lineOracle = lineOracle;\n  };\n\n  StringStream.prototype.eol = function () {return this.pos >= this.string.length};\n  StringStream.prototype.sol = function () {return this.pos == this.lineStart};\n  StringStream.prototype.peek = function () {return this.string.charAt(this.pos) || undefined};\n  StringStream.prototype.next = function () {\n    if (this.pos < this.string.length)\n      { return this.string.charAt(this.pos++) }\n  };\n  StringStream.prototype.eat = function (match) {\n    var ch = this.string.charAt(this.pos);\n    var ok;\n    if (typeof match == \"string\") { ok = ch == match; }\n    else { ok = ch && (match.test ? match.test(ch) : match(ch)); }\n    if (ok) {++this.pos; return ch}\n  };\n  StringStream.prototype.eatWhile = function (match) {\n    var start = this.pos;\n    while (this.eat(match)){}\n    return this.pos > start\n  };\n  StringStream.prototype.eatSpace = function () {\n    var start = this.pos;\n    while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) { ++this.pos; }\n    return this.pos > start\n  };\n  StringStream.prototype.skipToEnd = function () {this.pos = this.string.length;};\n  StringStream.prototype.skipTo = function (ch) {\n    var found = this.string.indexOf(ch, this.pos);\n    if (found > -1) {this.pos = found; return true}\n  };\n  StringStream.prototype.backUp = function (n) {this.pos -= n;};\n  StringStream.prototype.column = function () {\n    if (this.lastColumnPos < this.start) {\n      this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);\n      this.lastColumnPos = this.start;\n    }\n    return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.indentation = function () {\n    return countColumn(this.string, null, this.tabSize) -\n      (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.match = function (pattern, consume, caseInsensitive) {\n    if (typeof pattern == \"string\") {\n      var cased = function (str) { return caseInsensitive ? str.toLowerCase() : str; };\n      var substr = this.string.substr(this.pos, pattern.length);\n      if (cased(substr) == cased(pattern)) {\n        if (consume !== false) { this.pos += pattern.length; }\n        return true\n      }\n    } else {\n      var match = this.string.slice(this.pos).match(pattern);\n      if (match && match.index > 0) { return null }\n      if (match && consume !== false) { this.pos += match[0].length; }\n      return match\n    }\n  };\n  StringStream.prototype.current = function (){return this.string.slice(this.start, this.pos)};\n  StringStream.prototype.hideFirstChars = function (n, inner) {\n    this.lineStart += n;\n    try { return inner() }\n    finally { this.lineStart -= n; }\n  };\n  StringStream.prototype.lookAhead = function (n) {\n    var oracle = this.lineOracle;\n    return oracle && oracle.lookAhead(n)\n  };\n  StringStream.prototype.baseToken = function () {\n    var oracle = this.lineOracle;\n    return oracle && oracle.baseToken(this.pos)\n  };\n\n  // Find the line object corresponding to the given line number.\n  function getLine(doc, n) {\n    n -= doc.first;\n    if (n < 0 || n >= doc.size) { throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\") }\n    var chunk = doc;\n    while (!chunk.lines) {\n      for (var i = 0;; ++i) {\n        var child = chunk.children[i], sz = child.chunkSize();\n        if (n < sz) { chunk = child; break }\n        n -= sz;\n      }\n    }\n    return chunk.lines[n]\n  }\n\n  // Get the part of a document between two positions, as an array of\n  // strings.\n  function getBetween(doc, start, end) {\n    var out = [], n = start.line;\n    doc.iter(start.line, end.line + 1, function (line) {\n      var text = line.text;\n      if (n == end.line) { text = text.slice(0, end.ch); }\n      if (n == start.line) { text = text.slice(start.ch); }\n      out.push(text);\n      ++n;\n    });\n    return out\n  }\n  // Get the lines between from and to, as array of strings.\n  function getLines(doc, from, to) {\n    var out = [];\n    doc.iter(from, to, function (line) { out.push(line.text); }); // iter aborts when callback returns truthy value\n    return out\n  }\n\n  // Update the height of a line, propagating the height change\n  // upwards to parent nodes.\n  function updateLineHeight(line, height) {\n    var diff = height - line.height;\n    if (diff) { for (var n = line; n; n = n.parent) { n.height += diff; } }\n  }\n\n  // Given a line object, find its line number by walking up through\n  // its parent links.\n  function lineNo(line) {\n    if (line.parent == null) { return null }\n    var cur = line.parent, no = indexOf(cur.lines, line);\n    for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n      for (var i = 0;; ++i) {\n        if (chunk.children[i] == cur) { break }\n        no += chunk.children[i].chunkSize();\n      }\n    }\n    return no + cur.first\n  }\n\n  // Find the line at the given vertical position, using the height\n  // information in the document tree.\n  function lineAtHeight(chunk, h) {\n    var n = chunk.first;\n    outer: do {\n      for (var i$1 = 0; i$1 < chunk.children.length; ++i$1) {\n        var child = chunk.children[i$1], ch = child.height;\n        if (h < ch) { chunk = child; continue outer }\n        h -= ch;\n        n += child.chunkSize();\n      }\n      return n\n    } while (!chunk.lines)\n    var i = 0;\n    for (; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i], lh = line.height;\n      if (h < lh) { break }\n      h -= lh;\n    }\n    return n + i\n  }\n\n  function isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size}\n\n  function lineNumberFor(options, i) {\n    return String(options.lineNumberFormatter(i + options.firstLineNumber))\n  }\n\n  // A Pos instance represents a position within the text.\n  function Pos(line, ch, sticky) {\n    if ( sticky === void 0 ) sticky = null;\n\n    if (!(this instanceof Pos)) { return new Pos(line, ch, sticky) }\n    this.line = line;\n    this.ch = ch;\n    this.sticky = sticky;\n  }\n\n  // Compare two positions, return 0 if they are the same, a negative\n  // number when a is less, and a positive number otherwise.\n  function cmp(a, b) { return a.line - b.line || a.ch - b.ch }\n\n  function equalCursorPos(a, b) { return a.sticky == b.sticky && cmp(a, b) == 0 }\n\n  function copyPos(x) {return Pos(x.line, x.ch)}\n  function maxPos(a, b) { return cmp(a, b) < 0 ? b : a }\n  function minPos(a, b) { return cmp(a, b) < 0 ? a : b }\n\n  // Most of the external API clips given positions to make sure they\n  // actually exist within the document.\n  function clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1))}\n  function clipPos(doc, pos) {\n    if (pos.line < doc.first) { return Pos(doc.first, 0) }\n    var last = doc.first + doc.size - 1;\n    if (pos.line > last) { return Pos(last, getLine(doc, last).text.length) }\n    return clipToLen(pos, getLine(doc, pos.line).text.length)\n  }\n  function clipToLen(pos, linelen) {\n    var ch = pos.ch;\n    if (ch == null || ch > linelen) { return Pos(pos.line, linelen) }\n    else if (ch < 0) { return Pos(pos.line, 0) }\n    else { return pos }\n  }\n  function clipPosArray(doc, array) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = clipPos(doc, array[i]); }\n    return out\n  }\n\n  var SavedContext = function(state, lookAhead) {\n    this.state = state;\n    this.lookAhead = lookAhead;\n  };\n\n  var Context = function(doc, state, line, lookAhead) {\n    this.state = state;\n    this.doc = doc;\n    this.line = line;\n    this.maxLookAhead = lookAhead || 0;\n    this.baseTokens = null;\n    this.baseTokenPos = 1;\n  };\n\n  Context.prototype.lookAhead = function (n) {\n    var line = this.doc.getLine(this.line + n);\n    if (line != null && n > this.maxLookAhead) { this.maxLookAhead = n; }\n    return line\n  };\n\n  Context.prototype.baseToken = function (n) {\n    if (!this.baseTokens) { return null }\n    while (this.baseTokens[this.baseTokenPos] <= n)\n      { this.baseTokenPos += 2; }\n    var type = this.baseTokens[this.baseTokenPos + 1];\n    return {type: type && type.replace(/( |^)overlay .*/, \"\"),\n            size: this.baseTokens[this.baseTokenPos] - n}\n  };\n\n  Context.prototype.nextLine = function () {\n    this.line++;\n    if (this.maxLookAhead > 0) { this.maxLookAhead--; }\n  };\n\n  Context.fromSaved = function (doc, saved, line) {\n    if (saved instanceof SavedContext)\n      { return new Context(doc, copyState(doc.mode, saved.state), line, saved.lookAhead) }\n    else\n      { return new Context(doc, copyState(doc.mode, saved), line) }\n  };\n\n  Context.prototype.save = function (copy) {\n    var state = copy !== false ? copyState(this.doc.mode, this.state) : this.state;\n    return this.maxLookAhead > 0 ? new SavedContext(state, this.maxLookAhead) : state\n  };\n\n\n  // Compute a style array (an array starting with a mode generation\n  // -- for invalidation -- followed by pairs of end positions and\n  // style strings), which is used to highlight the tokens on the\n  // line.\n  function highlightLine(cm, line, context, forceToEnd) {\n    // A styles array always starts with a number identifying the\n    // mode/overlays that it is based on (for easy invalidation).\n    var st = [cm.state.modeGen], lineClasses = {};\n    // Compute the base array of styles\n    runMode(cm, line.text, cm.doc.mode, context, function (end, style) { return st.push(end, style); },\n            lineClasses, forceToEnd);\n    var state = context.state;\n\n    // Run overlays, adjust style array.\n    var loop = function ( o ) {\n      context.baseTokens = st;\n      var overlay = cm.state.overlays[o], i = 1, at = 0;\n      context.state = true;\n      runMode(cm, line.text, overlay.mode, context, function (end, style) {\n        var start = i;\n        // Ensure there's a token end at the current position, and that i points at it\n        while (at < end) {\n          var i_end = st[i];\n          if (i_end > end)\n            { st.splice(i, 1, end, st[i+1], i_end); }\n          i += 2;\n          at = Math.min(end, i_end);\n        }\n        if (!style) { return }\n        if (overlay.opaque) {\n          st.splice(start, i - start, end, \"overlay \" + style);\n          i = start + 2;\n        } else {\n          for (; start < i; start += 2) {\n            var cur = st[start+1];\n            st[start+1] = (cur ? cur + \" \" : \"\") + \"overlay \" + style;\n          }\n        }\n      }, lineClasses);\n      context.state = state;\n      context.baseTokens = null;\n      context.baseTokenPos = 1;\n    };\n\n    for (var o = 0; o < cm.state.overlays.length; ++o) loop( o );\n\n    return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null}\n  }\n\n  function getLineStyles(cm, line, updateFrontier) {\n    if (!line.styles || line.styles[0] != cm.state.modeGen) {\n      var context = getContextBefore(cm, lineNo(line));\n      var resetState = line.text.length > cm.options.maxHighlightLength && copyState(cm.doc.mode, context.state);\n      var result = highlightLine(cm, line, context);\n      if (resetState) { context.state = resetState; }\n      line.stateAfter = context.save(!resetState);\n      line.styles = result.styles;\n      if (result.classes) { line.styleClasses = result.classes; }\n      else if (line.styleClasses) { line.styleClasses = null; }\n      if (updateFrontier === cm.doc.highlightFrontier)\n        { cm.doc.modeFrontier = Math.max(cm.doc.modeFrontier, ++cm.doc.highlightFrontier); }\n    }\n    return line.styles\n  }\n\n  function getContextBefore(cm, n, precise) {\n    var doc = cm.doc, display = cm.display;\n    if (!doc.mode.startState) { return new Context(doc, true, n) }\n    var start = findStartLine(cm, n, precise);\n    var saved = start > doc.first && getLine(doc, start - 1).stateAfter;\n    var context = saved ? Context.fromSaved(doc, saved, start) : new Context(doc, startState(doc.mode), start);\n\n    doc.iter(start, n, function (line) {\n      processLine(cm, line.text, context);\n      var pos = context.line;\n      line.stateAfter = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo ? context.save() : null;\n      context.nextLine();\n    });\n    if (precise) { doc.modeFrontier = context.line; }\n    return context\n  }\n\n  // Lightweight form of highlight -- proceed over this line and\n  // update state, but don't save a style array. Used for lines that\n  // aren't currently visible.\n  function processLine(cm, text, context, startAt) {\n    var mode = cm.doc.mode;\n    var stream = new StringStream(text, cm.options.tabSize, context);\n    stream.start = stream.pos = startAt || 0;\n    if (text == \"\") { callBlankLine(mode, context.state); }\n    while (!stream.eol()) {\n      readToken(mode, stream, context.state);\n      stream.start = stream.pos;\n    }\n  }\n\n  function callBlankLine(mode, state) {\n    if (mode.blankLine) { return mode.blankLine(state) }\n    if (!mode.innerMode) { return }\n    var inner = innerMode(mode, state);\n    if (inner.mode.blankLine) { return inner.mode.blankLine(inner.state) }\n  }\n\n  function readToken(mode, stream, state, inner) {\n    for (var i = 0; i < 10; i++) {\n      if (inner) { inner[0] = innerMode(mode, state).mode; }\n      var style = mode.token(stream, state);\n      if (stream.pos > stream.start) { return style }\n    }\n    throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\")\n  }\n\n  var Token = function(stream, type, state) {\n    this.start = stream.start; this.end = stream.pos;\n    this.string = stream.current();\n    this.type = type || null;\n    this.state = state;\n  };\n\n  // Utility for getTokenAt and getLineTokens\n  function takeToken(cm, pos, precise, asArray) {\n    var doc = cm.doc, mode = doc.mode, style;\n    pos = clipPos(doc, pos);\n    var line = getLine(doc, pos.line), context = getContextBefore(cm, pos.line, precise);\n    var stream = new StringStream(line.text, cm.options.tabSize, context), tokens;\n    if (asArray) { tokens = []; }\n    while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\n      stream.start = stream.pos;\n      style = readToken(mode, stream, context.state);\n      if (asArray) { tokens.push(new Token(stream, style, copyState(doc.mode, context.state))); }\n    }\n    return asArray ? tokens : new Token(stream, style, context.state)\n  }\n\n  function extractLineClasses(type, output) {\n    if (type) { for (;;) {\n      var lineClass = type.match(/(?:^|\\s+)line-(background-)?(\\S+)/);\n      if (!lineClass) { break }\n      type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length);\n      var prop = lineClass[1] ? \"bgClass\" : \"textClass\";\n      if (output[prop] == null)\n        { output[prop] = lineClass[2]; }\n      else if (!(new RegExp(\"(?:^|\\s)\" + lineClass[2] + \"(?:$|\\s)\")).test(output[prop]))\n        { output[prop] += \" \" + lineClass[2]; }\n    } }\n    return type\n  }\n\n  // Run the given mode's parser over a line, calling f for each token.\n  function runMode(cm, text, mode, context, f, lineClasses, forceToEnd) {\n    var flattenSpans = mode.flattenSpans;\n    if (flattenSpans == null) { flattenSpans = cm.options.flattenSpans; }\n    var curStart = 0, curStyle = null;\n    var stream = new StringStream(text, cm.options.tabSize, context), style;\n    var inner = cm.options.addModeClass && [null];\n    if (text == \"\") { extractLineClasses(callBlankLine(mode, context.state), lineClasses); }\n    while (!stream.eol()) {\n      if (stream.pos > cm.options.maxHighlightLength) {\n        flattenSpans = false;\n        if (forceToEnd) { processLine(cm, text, context, stream.pos); }\n        stream.pos = text.length;\n        style = null;\n      } else {\n        style = extractLineClasses(readToken(mode, stream, context.state, inner), lineClasses);\n      }\n      if (inner) {\n        var mName = inner[0].name;\n        if (mName) { style = \"m-\" + (style ? mName + \" \" + style : mName); }\n      }\n      if (!flattenSpans || curStyle != style) {\n        while (curStart < stream.start) {\n          curStart = Math.min(stream.start, curStart + 5000);\n          f(curStart, curStyle);\n        }\n        curStyle = style;\n      }\n      stream.start = stream.pos;\n    }\n    while (curStart < stream.pos) {\n      // Webkit seems to refuse to render text nodes longer than 57444\n      // characters, and returns inaccurate measurements in nodes\n      // starting around 5000 chars.\n      var pos = Math.min(stream.pos, curStart + 5000);\n      f(pos, curStyle);\n      curStart = pos;\n    }\n  }\n\n  // Finds the line to start with when starting a parse. Tries to\n  // find a line with a stateAfter, so that it can start with a\n  // valid state. If that fails, it returns the line with the\n  // smallest indentation, which tends to need the least context to\n  // parse correctly.\n  function findStartLine(cm, n, precise) {\n    var minindent, minline, doc = cm.doc;\n    var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100);\n    for (var search = n; search > lim; --search) {\n      if (search <= doc.first) { return doc.first }\n      var line = getLine(doc, search - 1), after = line.stateAfter;\n      if (after && (!precise || search + (after instanceof SavedContext ? after.lookAhead : 0) <= doc.modeFrontier))\n        { return search }\n      var indented = countColumn(line.text, null, cm.options.tabSize);\n      if (minline == null || minindent > indented) {\n        minline = search - 1;\n        minindent = indented;\n      }\n    }\n    return minline\n  }\n\n  function retreatFrontier(doc, n) {\n    doc.modeFrontier = Math.min(doc.modeFrontier, n);\n    if (doc.highlightFrontier < n - 10) { return }\n    var start = doc.first;\n    for (var line = n - 1; line > start; line--) {\n      var saved = getLine(doc, line).stateAfter;\n      // change is on 3\n      // state on line 1 looked ahead 2 -- so saw 3\n      // test 1 + 2 < 3 should cover this\n      if (saved && (!(saved instanceof SavedContext) || line + saved.lookAhead < n)) {\n        start = line + 1;\n        break\n      }\n    }\n    doc.highlightFrontier = Math.min(doc.highlightFrontier, start);\n  }\n\n  // Optimize some code when these features are not used.\n  var sawReadOnlySpans = false, sawCollapsedSpans = false;\n\n  function seeReadOnlySpans() {\n    sawReadOnlySpans = true;\n  }\n\n  function seeCollapsedSpans() {\n    sawCollapsedSpans = true;\n  }\n\n  // TEXTMARKER SPANS\n\n  function MarkedSpan(marker, from, to) {\n    this.marker = marker;\n    this.from = from; this.to = to;\n  }\n\n  // Search an array of spans for a span matching the given marker.\n  function getMarkedSpanFor(spans, marker) {\n    if (spans) { for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.marker == marker) { return span }\n    } }\n  }\n  // Remove a span from an array, returning undefined if no spans are\n  // left (we don't store arrays for lines without spans).\n  function removeMarkedSpan(spans, span) {\n    var r;\n    for (var i = 0; i < spans.length; ++i)\n      { if (spans[i] != span) { (r || (r = [])).push(spans[i]); } }\n    return r\n  }\n  // Add a span to a line.\n  function addMarkedSpan(line, span) {\n    line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span];\n    span.marker.attachLine(line);\n  }\n\n  // Used for the algorithm that adjusts markers for a change in the\n  // document. These functions cut an array of spans at a given\n  // character position, returning an array of remaining chunks (or\n  // undefined if nothing remains).\n  function markedSpansBefore(old, startCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);\n      if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\n        var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to));\n      }\n    } }\n    return nw\n  }\n  function markedSpansAfter(old, endCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);\n      if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\n        var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,\n                                              span.to == null ? null : span.to - endCh));\n      }\n    } }\n    return nw\n  }\n\n  // Given a change object, compute the new set of marker spans that\n  // cover the line in which the change took place. Removes spans\n  // entirely within the change, reconnects spans belonging to the\n  // same marker that appear on both sides of the change, and cuts off\n  // spans partially within the change. Returns an array of span\n  // arrays with one element for each line in (after) the change.\n  function stretchSpansOverChange(doc, change) {\n    if (change.full) { return null }\n    var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans;\n    var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans;\n    if (!oldFirst && !oldLast) { return null }\n\n    var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0;\n    // Get the spans that 'stick out' on both sides\n    var first = markedSpansBefore(oldFirst, startCh, isInsert);\n    var last = markedSpansAfter(oldLast, endCh, isInsert);\n\n    // Next, merge those two ends\n    var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0);\n    if (first) {\n      // Fix up .to properties of first\n      for (var i = 0; i < first.length; ++i) {\n        var span = first[i];\n        if (span.to == null) {\n          var found = getMarkedSpanFor(last, span.marker);\n          if (!found) { span.to = startCh; }\n          else if (sameLine) { span.to = found.to == null ? null : found.to + offset; }\n        }\n      }\n    }\n    if (last) {\n      // Fix up .from in last (or move them into first in case of sameLine)\n      for (var i$1 = 0; i$1 < last.length; ++i$1) {\n        var span$1 = last[i$1];\n        if (span$1.to != null) { span$1.to += offset; }\n        if (span$1.from == null) {\n          var found$1 = getMarkedSpanFor(first, span$1.marker);\n          if (!found$1) {\n            span$1.from = offset;\n            if (sameLine) { (first || (first = [])).push(span$1); }\n          }\n        } else {\n          span$1.from += offset;\n          if (sameLine) { (first || (first = [])).push(span$1); }\n        }\n      }\n    }\n    // Make sure we didn't create any zero-length spans\n    if (first) { first = clearEmptySpans(first); }\n    if (last && last != first) { last = clearEmptySpans(last); }\n\n    var newMarkers = [first];\n    if (!sameLine) {\n      // Fill gap with whole-line-spans\n      var gap = change.text.length - 2, gapMarkers;\n      if (gap > 0 && first)\n        { for (var i$2 = 0; i$2 < first.length; ++i$2)\n          { if (first[i$2].to == null)\n            { (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$2].marker, null, null)); } } }\n      for (var i$3 = 0; i$3 < gap; ++i$3)\n        { newMarkers.push(gapMarkers); }\n      newMarkers.push(last);\n    }\n    return newMarkers\n  }\n\n  // Remove spans that are empty and don't have a clearWhenEmpty\n  // option of false.\n  function clearEmptySpans(spans) {\n    for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)\n        { spans.splice(i--, 1); }\n    }\n    if (!spans.length) { return null }\n    return spans\n  }\n\n  // Used to 'clip' out readOnly ranges when making a change.\n  function removeReadOnlyRanges(doc, from, to) {\n    var markers = null;\n    doc.iter(from.line, to.line + 1, function (line) {\n      if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n        var mark = line.markedSpans[i].marker;\n        if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))\n          { (markers || (markers = [])).push(mark); }\n      } }\n    });\n    if (!markers) { return null }\n    var parts = [{from: from, to: to}];\n    for (var i = 0; i < markers.length; ++i) {\n      var mk = markers[i], m = mk.find(0);\n      for (var j = 0; j < parts.length; ++j) {\n        var p = parts[j];\n        if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) { continue }\n        var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to);\n        if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)\n          { newParts.push({from: p.from, to: m.from}); }\n        if (dto > 0 || !mk.inclusiveRight && !dto)\n          { newParts.push({from: m.to, to: p.to}); }\n        parts.splice.apply(parts, newParts);\n        j += newParts.length - 3;\n      }\n    }\n    return parts\n  }\n\n  // Connect or disconnect spans from a line.\n  function detachMarkedSpans(line) {\n    var spans = line.markedSpans;\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.detachLine(line); }\n    line.markedSpans = null;\n  }\n  function attachMarkedSpans(line, spans) {\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.attachLine(line); }\n    line.markedSpans = spans;\n  }\n\n  // Helpers used when computing which overlapping collapsed span\n  // counts as the larger one.\n  function extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0 }\n  function extraRight(marker) { return marker.inclusiveRight ? 1 : 0 }\n\n  // Returns a number indicating which of two overlapping collapsed\n  // spans is larger (and thus includes the other). Falls back to\n  // comparing ids when the spans cover exactly the same range.\n  function compareCollapsedMarkers(a, b) {\n    var lenDiff = a.lines.length - b.lines.length;\n    if (lenDiff != 0) { return lenDiff }\n    var aPos = a.find(), bPos = b.find();\n    var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b);\n    if (fromCmp) { return -fromCmp }\n    var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b);\n    if (toCmp) { return toCmp }\n    return b.id - a.id\n  }\n\n  // Find out whether a line ends or starts in a collapsed span. If\n  // so, return the marker for that span.\n  function collapsedSpanAtSide(line, start) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0))\n        { found = sp.marker; }\n    } }\n    return found\n  }\n  function collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true) }\n  function collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false) }\n\n  function collapsedSpanAround(line, ch) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (sp.marker.collapsed && (sp.from == null || sp.from < ch) && (sp.to == null || sp.to > ch) &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0)) { found = sp.marker; }\n    } }\n    return found\n  }\n\n  // Test whether there exists a collapsed span that partially\n  // overlaps (covers the start or end, but not both) of a new span.\n  // Such overlap is not allowed.\n  function conflictingCollapsedRange(doc, lineNo, from, to, marker) {\n    var line = getLine(doc, lineNo);\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      var found = sp.marker.find(0);\n      var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker);\n      var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker);\n      if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) { continue }\n      if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) ||\n          fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0))\n        { return true }\n    } }\n  }\n\n  // A visual line is a line as drawn on the screen. Folding, for\n  // example, can cause multiple logical lines to appear on the same\n  // visual line. This finds the start of the visual line that the\n  // given line is part of (usually that is the line itself).\n  function visualLine(line) {\n    var merged;\n    while (merged = collapsedSpanAtStart(line))\n      { line = merged.find(-1, true).line; }\n    return line\n  }\n\n  function visualLineEnd(line) {\n    var merged;\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return line\n  }\n\n  // Returns an array of logical lines that continue the visual line\n  // started by the argument, or undefined if there are no such lines.\n  function visualLineContinued(line) {\n    var merged, lines;\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line\n      ;(lines || (lines = [])).push(line);\n    }\n    return lines\n  }\n\n  // Get the line number of the start of the visual line that the\n  // given line number is part of.\n  function visualLineNo(doc, lineN) {\n    var line = getLine(doc, lineN), vis = visualLine(line);\n    if (line == vis) { return lineN }\n    return lineNo(vis)\n  }\n\n  // Get the line number of the start of the next visual line after\n  // the given line.\n  function visualLineEndNo(doc, lineN) {\n    if (lineN > doc.lastLine()) { return lineN }\n    var line = getLine(doc, lineN), merged;\n    if (!lineIsHidden(doc, line)) { return lineN }\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return lineNo(line) + 1\n  }\n\n  // Compute whether a line is hidden. Lines count as hidden when they\n  // are part of a visual line that starts with another line, or when\n  // they are entirely covered by collapsed, non-widget span.\n  function lineIsHidden(doc, line) {\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      if (sp.from == null) { return true }\n      if (sp.marker.widgetNode) { continue }\n      if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))\n        { return true }\n    } }\n  }\n  function lineIsHiddenInner(doc, line, span) {\n    if (span.to == null) {\n      var end = span.marker.find(1, true);\n      return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker))\n    }\n    if (span.marker.inclusiveRight && span.to == line.text.length)\n      { return true }\n    for (var sp = (void 0), i = 0; i < line.markedSpans.length; ++i) {\n      sp = line.markedSpans[i];\n      if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&\n          (sp.to == null || sp.to != span.from) &&\n          (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&\n          lineIsHiddenInner(doc, line, sp)) { return true }\n    }\n  }\n\n  // Find the height above the given line.\n  function heightAtLine(lineObj) {\n    lineObj = visualLine(lineObj);\n\n    var h = 0, chunk = lineObj.parent;\n    for (var i = 0; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i];\n      if (line == lineObj) { break }\n      else { h += line.height; }\n    }\n    for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\n      for (var i$1 = 0; i$1 < p.children.length; ++i$1) {\n        var cur = p.children[i$1];\n        if (cur == chunk) { break }\n        else { h += cur.height; }\n      }\n    }\n    return h\n  }\n\n  // Compute the character length of a line, taking into account\n  // collapsed ranges (see markText) that might hide parts, and join\n  // other lines onto it.\n  function lineLength(line) {\n    if (line.height == 0) { return 0 }\n    var len = line.text.length, merged, cur = line;\n    while (merged = collapsedSpanAtStart(cur)) {\n      var found = merged.find(0, true);\n      cur = found.from.line;\n      len += found.from.ch - found.to.ch;\n    }\n    cur = line;\n    while (merged = collapsedSpanAtEnd(cur)) {\n      var found$1 = merged.find(0, true);\n      len -= cur.text.length - found$1.from.ch;\n      cur = found$1.to.line;\n      len += cur.text.length - found$1.to.ch;\n    }\n    return len\n  }\n\n  // Find the longest line in the document.\n  function findMaxLine(cm) {\n    var d = cm.display, doc = cm.doc;\n    d.maxLine = getLine(doc, doc.first);\n    d.maxLineLength = lineLength(d.maxLine);\n    d.maxLineChanged = true;\n    doc.iter(function (line) {\n      var len = lineLength(line);\n      if (len > d.maxLineLength) {\n        d.maxLineLength = len;\n        d.maxLine = line;\n      }\n    });\n  }\n\n  // LINE DATA STRUCTURE\n\n  // Line objects. These hold state related to a line, including\n  // highlighting info (the styles array).\n  var Line = function(text, markedSpans, estimateHeight) {\n    this.text = text;\n    attachMarkedSpans(this, markedSpans);\n    this.height = estimateHeight ? estimateHeight(this) : 1;\n  };\n\n  Line.prototype.lineNo = function () { return lineNo(this) };\n  eventMixin(Line);\n\n  // Change the content (text, markers) of a line. Automatically\n  // invalidates cached information and tries to re-estimate the\n  // line's height.\n  function updateLine(line, text, markedSpans, estimateHeight) {\n    line.text = text;\n    if (line.stateAfter) { line.stateAfter = null; }\n    if (line.styles) { line.styles = null; }\n    if (line.order != null) { line.order = null; }\n    detachMarkedSpans(line);\n    attachMarkedSpans(line, markedSpans);\n    var estHeight = estimateHeight ? estimateHeight(line) : 1;\n    if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n  }\n\n  // Detach a line from the document tree and its markers.\n  function cleanUpLine(line) {\n    line.parent = null;\n    detachMarkedSpans(line);\n  }\n\n  // Convert a style as returned by a mode (either null, or a string\n  // containing one or more styles) to a CSS style. This is cached,\n  // and also looks for line-wide styles.\n  var styleToClassCache = {}, styleToClassCacheWithMode = {};\n  function interpretTokenStyle(style, options) {\n    if (!style || /^\\s*$/.test(style)) { return null }\n    var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache;\n    return cache[style] ||\n      (cache[style] = style.replace(/\\S+/g, \"cm-$&\"))\n  }\n\n  // Render the DOM representation of the text of a line. Also builds\n  // up a 'line map', which points at the DOM nodes that represent\n  // specific stretches of text, and is used by the measuring code.\n  // The returned object contains the DOM node, this map, and\n  // information about line-wide styles that were set by the mode.\n  function buildLineContent(cm, lineView) {\n    // The padding-right forces the element to have a 'border', which\n    // is needed on Webkit to be able to get line-level bounding\n    // rectangles for it (in measureChar).\n    var content = eltP(\"span\", null, null, webkit ? \"padding-right: .1px\" : null);\n    var builder = {pre: eltP(\"pre\", [content], \"CodeMirror-line\"), content: content,\n                   col: 0, pos: 0, cm: cm,\n                   trailingSpace: false,\n                   splitSpaces: cm.getOption(\"lineWrapping\")};\n    lineView.measure = {};\n\n    // Iterate over the logical lines that make up this visual line.\n    for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\n      var line = i ? lineView.rest[i - 1] : lineView.line, order = (void 0);\n      builder.pos = 0;\n      builder.addToken = buildToken;\n      // Optionally wire in some hacks into the token-rendering\n      // algorithm, to deal with browser quirks.\n      if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line, cm.doc.direction)))\n        { builder.addToken = buildTokenBadBidi(builder.addToken, order); }\n      builder.map = [];\n      var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line);\n      insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate));\n      if (line.styleClasses) {\n        if (line.styleClasses.bgClass)\n          { builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\"); }\n        if (line.styleClasses.textClass)\n          { builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\"); }\n      }\n\n      // Ensure at least a single node is present, for measuring.\n      if (builder.map.length == 0)\n        { builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure))); }\n\n      // Store the map and a cache object for the current logical line\n      if (i == 0) {\n        lineView.measure.map = builder.map;\n        lineView.measure.cache = {};\n      } else {\n  (lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map)\n        ;(lineView.measure.caches || (lineView.measure.caches = [])).push({});\n      }\n    }\n\n    // See issue #2901\n    if (webkit) {\n      var last = builder.content.lastChild;\n      if (/\\bcm-tab\\b/.test(last.className) || (last.querySelector && last.querySelector(\".cm-tab\")))\n        { builder.content.className = \"cm-tab-wrap-hack\"; }\n    }\n\n    signal(cm, \"renderLine\", cm, lineView.line, builder.pre);\n    if (builder.pre.className)\n      { builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\"); }\n\n    return builder\n  }\n\n  function defaultSpecialCharPlaceholder(ch) {\n    var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\");\n    token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16);\n    token.setAttribute(\"aria-label\", token.title);\n    return token\n  }\n\n  // Build up the DOM representation for a single token, and add it to\n  // the line map. Takes care to render special characters separately.\n  function buildToken(builder, text, style, startStyle, endStyle, css, attributes) {\n    if (!text) { return }\n    var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text;\n    var special = builder.cm.state.specialChars, mustWrap = false;\n    var content;\n    if (!special.test(text)) {\n      builder.col += text.length;\n      content = document.createTextNode(displayText);\n      builder.map.push(builder.pos, builder.pos + text.length, content);\n      if (ie && ie_version < 9) { mustWrap = true; }\n      builder.pos += text.length;\n    } else {\n      content = document.createDocumentFragment();\n      var pos = 0;\n      while (true) {\n        special.lastIndex = pos;\n        var m = special.exec(text);\n        var skipped = m ? m.index - pos : text.length - pos;\n        if (skipped) {\n          var txt = document.createTextNode(displayText.slice(pos, pos + skipped));\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt])); }\n          else { content.appendChild(txt); }\n          builder.map.push(builder.pos, builder.pos + skipped, txt);\n          builder.col += skipped;\n          builder.pos += skipped;\n        }\n        if (!m) { break }\n        pos += skipped + 1;\n        var txt$1 = (void 0);\n        if (m[0] == \"\\t\") {\n          var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize;\n          txt$1 = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"));\n          txt$1.setAttribute(\"role\", \"presentation\");\n          txt$1.setAttribute(\"cm-text\", \"\\t\");\n          builder.col += tabWidth;\n        } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\n          txt$1 = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240d\" : \"\\u2424\", \"cm-invalidchar\"));\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          builder.col += 1;\n        } else {\n          txt$1 = builder.cm.options.specialCharPlaceholder(m[0]);\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt$1])); }\n          else { content.appendChild(txt$1); }\n          builder.col += 1;\n        }\n        builder.map.push(builder.pos, builder.pos + 1, txt$1);\n        builder.pos++;\n      }\n    }\n    builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32;\n    if (style || startStyle || endStyle || mustWrap || css) {\n      var fullStyle = style || \"\";\n      if (startStyle) { fullStyle += startStyle; }\n      if (endStyle) { fullStyle += endStyle; }\n      var token = elt(\"span\", [content], fullStyle, css);\n      if (attributes) {\n        for (var attr in attributes) { if (attributes.hasOwnProperty(attr) && attr != \"style\" && attr != \"class\")\n          { token.setAttribute(attr, attributes[attr]); } }\n      }\n      return builder.content.appendChild(token)\n    }\n    builder.content.appendChild(content);\n  }\n\n  // Change some spaces to NBSP to prevent the browser from collapsing\n  // trailing spaces at the end of a line when rendering text (issue #1362).\n  function splitSpaces(text, trailingBefore) {\n    if (text.length > 1 && !/  /.test(text)) { return text }\n    var spaceBefore = trailingBefore, result = \"\";\n    for (var i = 0; i < text.length; i++) {\n      var ch = text.charAt(i);\n      if (ch == \" \" && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32))\n        { ch = \"\\u00a0\"; }\n      result += ch;\n      spaceBefore = ch == \" \";\n    }\n    return result\n  }\n\n  // Work around nonsense dimensions being reported for stretches of\n  // right-to-left text.\n  function buildTokenBadBidi(inner, order) {\n    return function (builder, text, style, startStyle, endStyle, css, attributes) {\n      style = style ? style + \" cm-force-border\" : \"cm-force-border\";\n      var start = builder.pos, end = start + text.length;\n      for (;;) {\n        // Find the part that overlaps with the start of this text\n        var part = (void 0);\n        for (var i = 0; i < order.length; i++) {\n          part = order[i];\n          if (part.to > start && part.from <= start) { break }\n        }\n        if (part.to >= end) { return inner(builder, text, style, startStyle, endStyle, css, attributes) }\n        inner(builder, text.slice(0, part.to - start), style, startStyle, null, css, attributes);\n        startStyle = null;\n        text = text.slice(part.to - start);\n        start = part.to;\n      }\n    }\n  }\n\n  function buildCollapsedSpan(builder, size, marker, ignoreWidget) {\n    var widget = !ignoreWidget && marker.widgetNode;\n    if (widget) { builder.map.push(builder.pos, builder.pos + size, widget); }\n    if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\n      if (!widget)\n        { widget = builder.content.appendChild(document.createElement(\"span\")); }\n      widget.setAttribute(\"cm-marker\", marker.id);\n    }\n    if (widget) {\n      builder.cm.display.input.setUneditable(widget);\n      builder.content.appendChild(widget);\n    }\n    builder.pos += size;\n    builder.trailingSpace = false;\n  }\n\n  // Outputs a number of spans to make up a line, taking highlighting\n  // and marked text into account.\n  function insertLineContent(line, builder, styles) {\n    var spans = line.markedSpans, allText = line.text, at = 0;\n    if (!spans) {\n      for (var i$1 = 1; i$1 < styles.length; i$1+=2)\n        { builder.addToken(builder, allText.slice(at, at = styles[i$1]), interpretTokenStyle(styles[i$1+1], builder.cm.options)); }\n      return\n    }\n\n    var len = allText.length, pos = 0, i = 1, text = \"\", style, css;\n    var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, collapsed, attributes;\n    for (;;) {\n      if (nextChange == pos) { // Update current marker set\n        spanStyle = spanEndStyle = spanStartStyle = css = \"\";\n        attributes = null;\n        collapsed = null; nextChange = Infinity;\n        var foundBookmarks = [], endStyles = (void 0);\n        for (var j = 0; j < spans.length; ++j) {\n          var sp = spans[j], m = sp.marker;\n          if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\n            foundBookmarks.push(m);\n          } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\n            if (sp.to != null && sp.to != pos && nextChange > sp.to) {\n              nextChange = sp.to;\n              spanEndStyle = \"\";\n            }\n            if (m.className) { spanStyle += \" \" + m.className; }\n            if (m.css) { css = (css ? css + \";\" : \"\") + m.css; }\n            if (m.startStyle && sp.from == pos) { spanStartStyle += \" \" + m.startStyle; }\n            if (m.endStyle && sp.to == nextChange) { (endStyles || (endStyles = [])).push(m.endStyle, sp.to); }\n            // support for the old title property\n            // https://github.com/codemirror/CodeMirror/pull/5673\n            if (m.title) { (attributes || (attributes = {})).title = m.title; }\n            if (m.attributes) {\n              for (var attr in m.attributes)\n                { (attributes || (attributes = {}))[attr] = m.attributes[attr]; }\n            }\n            if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))\n              { collapsed = sp; }\n          } else if (sp.from > pos && nextChange > sp.from) {\n            nextChange = sp.from;\n          }\n        }\n        if (endStyles) { for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2)\n          { if (endStyles[j$1 + 1] == nextChange) { spanEndStyle += \" \" + endStyles[j$1]; } } }\n\n        if (!collapsed || collapsed.from == pos) { for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2)\n          { buildCollapsedSpan(builder, 0, foundBookmarks[j$2]); } }\n        if (collapsed && (collapsed.from || 0) == pos) {\n          buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,\n                             collapsed.marker, collapsed.from == null);\n          if (collapsed.to == null) { return }\n          if (collapsed.to == pos) { collapsed = false; }\n        }\n      }\n      if (pos >= len) { break }\n\n      var upto = Math.min(len, nextChange);\n      while (true) {\n        if (text) {\n          var end = pos + text.length;\n          if (!collapsed) {\n            var tokenText = end > upto ? text.slice(0, upto - pos) : text;\n            builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,\n                             spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", css, attributes);\n          }\n          if (end >= upto) {text = text.slice(upto - pos); pos = upto; break}\n          pos = end;\n          spanStartStyle = \"\";\n        }\n        text = allText.slice(at, at = styles[i++]);\n        style = interpretTokenStyle(styles[i++], builder.cm.options);\n      }\n    }\n  }\n\n\n  // These objects are used to represent the visible (currently drawn)\n  // part of the document. A LineView may correspond to multiple\n  // logical lines, if those are connected by collapsed ranges.\n  function LineView(doc, line, lineN) {\n    // The starting line\n    this.line = line;\n    // Continuing lines, if any\n    this.rest = visualLineContinued(line);\n    // Number of logical lines in this visual line\n    this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1;\n    this.node = this.text = null;\n    this.hidden = lineIsHidden(doc, line);\n  }\n\n  // Create a range of LineView objects for the given lines.\n  function buildViewArray(cm, from, to) {\n    var array = [], nextPos;\n    for (var pos = from; pos < to; pos = nextPos) {\n      var view = new LineView(cm.doc, getLine(cm.doc, pos), pos);\n      nextPos = pos + view.size;\n      array.push(view);\n    }\n    return array\n  }\n\n  var operationGroup = null;\n\n  function pushOperation(op) {\n    if (operationGroup) {\n      operationGroup.ops.push(op);\n    } else {\n      op.ownsGroup = operationGroup = {\n        ops: [op],\n        delayedCallbacks: []\n      };\n    }\n  }\n\n  function fireCallbacksForOps(group) {\n    // Calls delayed callbacks and cursorActivity handlers until no\n    // new ones appear\n    var callbacks = group.delayedCallbacks, i = 0;\n    do {\n      for (; i < callbacks.length; i++)\n        { callbacks[i].call(null); }\n      for (var j = 0; j < group.ops.length; j++) {\n        var op = group.ops[j];\n        if (op.cursorActivityHandlers)\n          { while (op.cursorActivityCalled < op.cursorActivityHandlers.length)\n            { op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm); } }\n      }\n    } while (i < callbacks.length)\n  }\n\n  function finishOperation(op, endCb) {\n    var group = op.ownsGroup;\n    if (!group) { return }\n\n    try { fireCallbacksForOps(group); }\n    finally {\n      operationGroup = null;\n      endCb(group);\n    }\n  }\n\n  var orphanDelayedCallbacks = null;\n\n  // Often, we want to signal events at a point where we are in the\n  // middle of some work, but don't want the handler to start calling\n  // other methods on the editor, which might be in an inconsistent\n  // state or simply not expect any other events to happen.\n  // signalLater looks whether there are any handlers, and schedules\n  // them to be executed when the last operation ends, or, if no\n  // operation is active, when a timeout fires.\n  function signalLater(emitter, type /*, values...*/) {\n    var arr = getHandlers(emitter, type);\n    if (!arr.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2), list;\n    if (operationGroup) {\n      list = operationGroup.delayedCallbacks;\n    } else if (orphanDelayedCallbacks) {\n      list = orphanDelayedCallbacks;\n    } else {\n      list = orphanDelayedCallbacks = [];\n      setTimeout(fireOrphanDelayed, 0);\n    }\n    var loop = function ( i ) {\n      list.push(function () { return arr[i].apply(null, args); });\n    };\n\n    for (var i = 0; i < arr.length; ++i)\n      loop( i );\n  }\n\n  function fireOrphanDelayed() {\n    var delayed = orphanDelayedCallbacks;\n    orphanDelayedCallbacks = null;\n    for (var i = 0; i < delayed.length; ++i) { delayed[i](); }\n  }\n\n  // When an aspect of a line changes, a string is added to\n  // lineView.changes. This updates the relevant part of the line's\n  // DOM structure.\n  function updateLineForChanges(cm, lineView, lineN, dims) {\n    for (var j = 0; j < lineView.changes.length; j++) {\n      var type = lineView.changes[j];\n      if (type == \"text\") { updateLineText(cm, lineView); }\n      else if (type == \"gutter\") { updateLineGutter(cm, lineView, lineN, dims); }\n      else if (type == \"class\") { updateLineClasses(cm, lineView); }\n      else if (type == \"widget\") { updateLineWidgets(cm, lineView, dims); }\n    }\n    lineView.changes = null;\n  }\n\n  // Lines with gutter elements, widgets or a background class need to\n  // be wrapped, and have the extra elements added to the wrapper div\n  function ensureLineWrapped(lineView) {\n    if (lineView.node == lineView.text) {\n      lineView.node = elt(\"div\", null, null, \"position: relative\");\n      if (lineView.text.parentNode)\n        { lineView.text.parentNode.replaceChild(lineView.node, lineView.text); }\n      lineView.node.appendChild(lineView.text);\n      if (ie && ie_version < 8) { lineView.node.style.zIndex = 2; }\n    }\n    return lineView.node\n  }\n\n  function updateLineBackground(cm, lineView) {\n    var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass;\n    if (cls) { cls += \" CodeMirror-linebackground\"; }\n    if (lineView.background) {\n      if (cls) { lineView.background.className = cls; }\n      else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null; }\n    } else if (cls) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild);\n      cm.display.input.setUneditable(lineView.background);\n    }\n  }\n\n  // Wrapper around buildLineContent which will reuse the structure\n  // in display.externalMeasured when possible.\n  function getLineContent(cm, lineView) {\n    var ext = cm.display.externalMeasured;\n    if (ext && ext.line == lineView.line) {\n      cm.display.externalMeasured = null;\n      lineView.measure = ext.measure;\n      return ext.built\n    }\n    return buildLineContent(cm, lineView)\n  }\n\n  // Redraw the line's text. Interacts with the background and text\n  // classes because the mode may output tokens that influence these\n  // classes.\n  function updateLineText(cm, lineView) {\n    var cls = lineView.text.className;\n    var built = getLineContent(cm, lineView);\n    if (lineView.text == lineView.node) { lineView.node = built.pre; }\n    lineView.text.parentNode.replaceChild(built.pre, lineView.text);\n    lineView.text = built.pre;\n    if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\n      lineView.bgClass = built.bgClass;\n      lineView.textClass = built.textClass;\n      updateLineClasses(cm, lineView);\n    } else if (cls) {\n      lineView.text.className = cls;\n    }\n  }\n\n  function updateLineClasses(cm, lineView) {\n    updateLineBackground(cm, lineView);\n    if (lineView.line.wrapClass)\n      { ensureLineWrapped(lineView).className = lineView.line.wrapClass; }\n    else if (lineView.node != lineView.text)\n      { lineView.node.className = \"\"; }\n    var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass;\n    lineView.text.className = textClass || \"\";\n  }\n\n  function updateLineGutter(cm, lineView, lineN, dims) {\n    if (lineView.gutter) {\n      lineView.node.removeChild(lineView.gutter);\n      lineView.gutter = null;\n    }\n    if (lineView.gutterBackground) {\n      lineView.node.removeChild(lineView.gutterBackground);\n      lineView.gutterBackground = null;\n    }\n    if (lineView.line.gutterClass) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass,\n                                      (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px; width: \" + (dims.gutterTotalWidth) + \"px\"));\n      cm.display.input.setUneditable(lineView.gutterBackground);\n      wrap.insertBefore(lineView.gutterBackground, lineView.text);\n    }\n    var markers = lineView.line.gutterMarkers;\n    if (cm.options.lineNumbers || markers) {\n      var wrap$1 = ensureLineWrapped(lineView);\n      var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\"));\n      cm.display.input.setUneditable(gutterWrap);\n      wrap$1.insertBefore(gutterWrap, lineView.text);\n      if (lineView.line.gutterClass)\n        { gutterWrap.className += \" \" + lineView.line.gutterClass; }\n      if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"]))\n        { lineView.lineNumber = gutterWrap.appendChild(\n          elt(\"div\", lineNumberFor(cm.options, lineN),\n              \"CodeMirror-linenumber CodeMirror-gutter-elt\",\n              (\"left: \" + (dims.gutterLeft[\"CodeMirror-linenumbers\"]) + \"px; width: \" + (cm.display.lineNumInnerWidth) + \"px\"))); }\n      if (markers) { for (var k = 0; k < cm.display.gutterSpecs.length; ++k) {\n        var id = cm.display.gutterSpecs[k].className, found = markers.hasOwnProperty(id) && markers[id];\n        if (found)\n          { gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\",\n                                     (\"left: \" + (dims.gutterLeft[id]) + \"px; width: \" + (dims.gutterWidth[id]) + \"px\"))); }\n      } }\n    }\n  }\n\n  function updateLineWidgets(cm, lineView, dims) {\n    if (lineView.alignable) { lineView.alignable = null; }\n    var isWidget = classTest(\"CodeMirror-linewidget\");\n    for (var node = lineView.node.firstChild, next = (void 0); node; node = next) {\n      next = node.nextSibling;\n      if (isWidget.test(node.className)) { lineView.node.removeChild(node); }\n    }\n    insertLineWidgets(cm, lineView, dims);\n  }\n\n  // Build a line's DOM representation from scratch\n  function buildLineElement(cm, lineView, lineN, dims) {\n    var built = getLineContent(cm, lineView);\n    lineView.text = lineView.node = built.pre;\n    if (built.bgClass) { lineView.bgClass = built.bgClass; }\n    if (built.textClass) { lineView.textClass = built.textClass; }\n\n    updateLineClasses(cm, lineView);\n    updateLineGutter(cm, lineView, lineN, dims);\n    insertLineWidgets(cm, lineView, dims);\n    return lineView.node\n  }\n\n  // A lineView may contain multiple logical lines (when merged by\n  // collapsed spans). The widgets for all of them need to be drawn.\n  function insertLineWidgets(cm, lineView, dims) {\n    insertLineWidgetsFor(cm, lineView.line, lineView, dims, true);\n    if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n      { insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false); } }\n  }\n\n  function insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\n    if (!line.widgets) { return }\n    var wrap = ensureLineWrapped(lineView);\n    for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\n      var widget = ws[i], node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\" + (widget.className ? \" \" + widget.className : \"\"));\n      if (!widget.handleMouseEvents) { node.setAttribute(\"cm-ignore-events\", \"true\"); }\n      positionLineWidget(widget, node, lineView, dims);\n      cm.display.input.setUneditable(node);\n      if (allowAbove && widget.above)\n        { wrap.insertBefore(node, lineView.gutter || lineView.text); }\n      else\n        { wrap.appendChild(node); }\n      signalLater(widget, \"redraw\");\n    }\n  }\n\n  function positionLineWidget(widget, node, lineView, dims) {\n    if (widget.noHScroll) {\n  (lineView.alignable || (lineView.alignable = [])).push(node);\n      var width = dims.wrapperWidth;\n      node.style.left = dims.fixedPos + \"px\";\n      if (!widget.coverGutter) {\n        width -= dims.gutterTotalWidth;\n        node.style.paddingLeft = dims.gutterTotalWidth + \"px\";\n      }\n      node.style.width = width + \"px\";\n    }\n    if (widget.coverGutter) {\n      node.style.zIndex = 5;\n      node.style.position = \"relative\";\n      if (!widget.noHScroll) { node.style.marginLeft = -dims.gutterTotalWidth + \"px\"; }\n    }\n  }\n\n  function widgetHeight(widget) {\n    if (widget.height != null) { return widget.height }\n    var cm = widget.doc.cm;\n    if (!cm) { return 0 }\n    if (!contains(document.body, widget.node)) {\n      var parentStyle = \"position: relative;\";\n      if (widget.coverGutter)\n        { parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\"; }\n      if (widget.noHScroll)\n        { parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\"; }\n      removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle));\n    }\n    return widget.height = widget.node.parentNode.offsetHeight\n  }\n\n  // Return true when the given mouse event happened in a widget\n  function eventInWidget(display, e) {\n    for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\n      if (!n || (n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\") ||\n          (n.parentNode == display.sizer && n != display.mover))\n        { return true }\n    }\n  }\n\n  // POSITION MEASUREMENT\n\n  function paddingTop(display) {return display.lineSpace.offsetTop}\n  function paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight}\n  function paddingH(display) {\n    if (display.cachedPaddingH) { return display.cachedPaddingH }\n    var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\", \"CodeMirror-line-like\"));\n    var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle;\n    var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)};\n    if (!isNaN(data.left) && !isNaN(data.right)) { display.cachedPaddingH = data; }\n    return data\n  }\n\n  function scrollGap(cm) { return scrollerGap - cm.display.nativeBarWidth }\n  function displayWidth(cm) {\n    return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth\n  }\n  function displayHeight(cm) {\n    return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight\n  }\n\n  // Ensure the lineView.wrapping.heights array is populated. This is\n  // an array of bottom offsets for the lines that make up a drawn\n  // line. When lineWrapping is on, there might be more than one\n  // height.\n  function ensureLineHeights(cm, lineView, rect) {\n    var wrapping = cm.options.lineWrapping;\n    var curWidth = wrapping && displayWidth(cm);\n    if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\n      var heights = lineView.measure.heights = [];\n      if (wrapping) {\n        lineView.measure.width = curWidth;\n        var rects = lineView.text.firstChild.getClientRects();\n        for (var i = 0; i < rects.length - 1; i++) {\n          var cur = rects[i], next = rects[i + 1];\n          if (Math.abs(cur.bottom - next.bottom) > 2)\n            { heights.push((cur.bottom + next.top) / 2 - rect.top); }\n        }\n      }\n      heights.push(rect.bottom - rect.top);\n    }\n  }\n\n  // Find a line map (mapping character offsets to text nodes) and a\n  // measurement cache for the given line number. (A line view might\n  // contain multiple lines when collapsed ranges are present.)\n  function mapFromLineView(lineView, line, lineN) {\n    if (lineView.line == line)\n      { return {map: lineView.measure.map, cache: lineView.measure.cache} }\n    for (var i = 0; i < lineView.rest.length; i++)\n      { if (lineView.rest[i] == line)\n        { return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]} } }\n    for (var i$1 = 0; i$1 < lineView.rest.length; i$1++)\n      { if (lineNo(lineView.rest[i$1]) > lineN)\n        { return {map: lineView.measure.maps[i$1], cache: lineView.measure.caches[i$1], before: true} } }\n  }\n\n  // Render a line into the hidden node display.externalMeasured. Used\n  // when measurement is needed for a line that's not in the viewport.\n  function updateExternalMeasurement(cm, line) {\n    line = visualLine(line);\n    var lineN = lineNo(line);\n    var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN);\n    view.lineN = lineN;\n    var built = view.built = buildLineContent(cm, view);\n    view.text = built.pre;\n    removeChildrenAndAdd(cm.display.lineMeasure, built.pre);\n    return view\n  }\n\n  // Get a {top, bottom, left, right} box (in line-local coordinates)\n  // for a given character.\n  function measureChar(cm, line, ch, bias) {\n    return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias)\n  }\n\n  // Find a line view that corresponds to the given line number.\n  function findViewForLine(cm, lineN) {\n    if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)\n      { return cm.display.view[findViewIndex(cm, lineN)] }\n    var ext = cm.display.externalMeasured;\n    if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)\n      { return ext }\n  }\n\n  // Measurement can be split in two steps, the set-up work that\n  // applies to the whole line, and the measurement of the actual\n  // character. Functions like coordsChar, that need to do a lot of\n  // measurements in a row, can thus ensure that the set-up work is\n  // only done once.\n  function prepareMeasureForLine(cm, line) {\n    var lineN = lineNo(line);\n    var view = findViewForLine(cm, lineN);\n    if (view && !view.text) {\n      view = null;\n    } else if (view && view.changes) {\n      updateLineForChanges(cm, view, lineN, getDimensions(cm));\n      cm.curOp.forceUpdate = true;\n    }\n    if (!view)\n      { view = updateExternalMeasurement(cm, line); }\n\n    var info = mapFromLineView(view, line, lineN);\n    return {\n      line: line, view: view, rect: null,\n      map: info.map, cache: info.cache, before: info.before,\n      hasHeights: false\n    }\n  }\n\n  // Given a prepared measurement object, measures the position of an\n  // actual character (or fetches it from the cache).\n  function measureCharPrepared(cm, prepared, ch, bias, varHeight) {\n    if (prepared.before) { ch = -1; }\n    var key = ch + (bias || \"\"), found;\n    if (prepared.cache.hasOwnProperty(key)) {\n      found = prepared.cache[key];\n    } else {\n      if (!prepared.rect)\n        { prepared.rect = prepared.view.text.getBoundingClientRect(); }\n      if (!prepared.hasHeights) {\n        ensureLineHeights(cm, prepared.view, prepared.rect);\n        prepared.hasHeights = true;\n      }\n      found = measureCharInner(cm, prepared, ch, bias);\n      if (!found.bogus) { prepared.cache[key] = found; }\n    }\n    return {left: found.left, right: found.right,\n            top: varHeight ? found.rtop : found.top,\n            bottom: varHeight ? found.rbottom : found.bottom}\n  }\n\n  var nullRect = {left: 0, right: 0, top: 0, bottom: 0};\n\n  function nodeAndOffsetInLineMap(map, ch, bias) {\n    var node, start, end, collapse, mStart, mEnd;\n    // First, search the line map for the text node corresponding to,\n    // or closest to, the target character.\n    for (var i = 0; i < map.length; i += 3) {\n      mStart = map[i];\n      mEnd = map[i + 1];\n      if (ch < mStart) {\n        start = 0; end = 1;\n        collapse = \"left\";\n      } else if (ch < mEnd) {\n        start = ch - mStart;\n        end = start + 1;\n      } else if (i == map.length - 3 || ch == mEnd && map[i + 3] > ch) {\n        end = mEnd - mStart;\n        start = end - 1;\n        if (ch >= mEnd) { collapse = \"right\"; }\n      }\n      if (start != null) {\n        node = map[i + 2];\n        if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\"))\n          { collapse = bias; }\n        if (bias == \"left\" && start == 0)\n          { while (i && map[i - 2] == map[i - 3] && map[i - 1].insertLeft) {\n            node = map[(i -= 3) + 2];\n            collapse = \"left\";\n          } }\n        if (bias == \"right\" && start == mEnd - mStart)\n          { while (i < map.length - 3 && map[i + 3] == map[i + 4] && !map[i + 5].insertLeft) {\n            node = map[(i += 3) + 2];\n            collapse = \"right\";\n          } }\n        break\n      }\n    }\n    return {node: node, start: start, end: end, collapse: collapse, coverStart: mStart, coverEnd: mEnd}\n  }\n\n  function getUsefulRect(rects, bias) {\n    var rect = nullRect;\n    if (bias == \"left\") { for (var i = 0; i < rects.length; i++) {\n      if ((rect = rects[i]).left != rect.right) { break }\n    } } else { for (var i$1 = rects.length - 1; i$1 >= 0; i$1--) {\n      if ((rect = rects[i$1]).left != rect.right) { break }\n    } }\n    return rect\n  }\n\n  function measureCharInner(cm, prepared, ch, bias) {\n    var place = nodeAndOffsetInLineMap(prepared.map, ch, bias);\n    var node = place.node, start = place.start, end = place.end, collapse = place.collapse;\n\n    var rect;\n    if (node.nodeType == 3) { // If it is a text node, use a range to retrieve the coordinates.\n      for (var i$1 = 0; i$1 < 4; i$1++) { // Retry a maximum of 4 times when nonsense rectangles are returned\n        while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) { --start; }\n        while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) { ++end; }\n        if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart)\n          { rect = node.parentNode.getBoundingClientRect(); }\n        else\n          { rect = getUsefulRect(range(node, start, end).getClientRects(), bias); }\n        if (rect.left || rect.right || start == 0) { break }\n        end = start;\n        start = start - 1;\n        collapse = \"right\";\n      }\n      if (ie && ie_version < 11) { rect = maybeUpdateRectForZooming(cm.display.measure, rect); }\n    } else { // If it is a widget, simply get the box for the whole widget.\n      if (start > 0) { collapse = bias = \"right\"; }\n      var rects;\n      if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)\n        { rect = rects[bias == \"right\" ? rects.length - 1 : 0]; }\n      else\n        { rect = node.getBoundingClientRect(); }\n    }\n    if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\n      var rSpan = node.parentNode.getClientRects()[0];\n      if (rSpan)\n        { rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom}; }\n      else\n        { rect = nullRect; }\n    }\n\n    var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top;\n    var mid = (rtop + rbot) / 2;\n    var heights = prepared.view.measure.heights;\n    var i = 0;\n    for (; i < heights.length - 1; i++)\n      { if (mid < heights[i]) { break } }\n    var top = i ? heights[i - 1] : 0, bot = heights[i];\n    var result = {left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\n                  right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\n                  top: top, bottom: bot};\n    if (!rect.left && !rect.right) { result.bogus = true; }\n    if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot; }\n\n    return result\n  }\n\n  // Work around problem with bounding client rects on ranges being\n  // returned incorrectly when zoomed on IE10 and below.\n  function maybeUpdateRectForZooming(measure, rect) {\n    if (!window.screen || screen.logicalXDPI == null ||\n        screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))\n      { return rect }\n    var scaleX = screen.logicalXDPI / screen.deviceXDPI;\n    var scaleY = screen.logicalYDPI / screen.deviceYDPI;\n    return {left: rect.left * scaleX, right: rect.right * scaleX,\n            top: rect.top * scaleY, bottom: rect.bottom * scaleY}\n  }\n\n  function clearLineMeasurementCacheFor(lineView) {\n    if (lineView.measure) {\n      lineView.measure.cache = {};\n      lineView.measure.heights = null;\n      if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n        { lineView.measure.caches[i] = {}; } }\n    }\n  }\n\n  function clearLineMeasurementCache(cm) {\n    cm.display.externalMeasure = null;\n    removeChildren(cm.display.lineMeasure);\n    for (var i = 0; i < cm.display.view.length; i++)\n      { clearLineMeasurementCacheFor(cm.display.view[i]); }\n  }\n\n  function clearCaches(cm) {\n    clearLineMeasurementCache(cm);\n    cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null;\n    if (!cm.options.lineWrapping) { cm.display.maxLineChanged = true; }\n    cm.display.lineNumChars = null;\n  }\n\n  function pageScrollX() {\n    // Work around https://bugs.chromium.org/p/chromium/issues/detail?id=489206\n    // which causes page_Offset and bounding client rects to use\n    // different reference viewports and invalidate our calculations.\n    if (chrome && android) { return -(document.body.getBoundingClientRect().left - parseInt(getComputedStyle(document.body).marginLeft)) }\n    return window.pageXOffset || (document.documentElement || document.body).scrollLeft\n  }\n  function pageScrollY() {\n    if (chrome && android) { return -(document.body.getBoundingClientRect().top - parseInt(getComputedStyle(document.body).marginTop)) }\n    return window.pageYOffset || (document.documentElement || document.body).scrollTop\n  }\n\n  function widgetTopHeight(lineObj) {\n    var height = 0;\n    if (lineObj.widgets) { for (var i = 0; i < lineObj.widgets.length; ++i) { if (lineObj.widgets[i].above)\n      { height += widgetHeight(lineObj.widgets[i]); } } }\n    return height\n  }\n\n  // Converts a {top, bottom, left, right} box from line-local\n  // coordinates into another coordinate system. Context may be one of\n  // \"line\", \"div\" (display.lineDiv), \"local\"./null (editor), \"window\",\n  // or \"page\".\n  function intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {\n    if (!includeWidgets) {\n      var height = widgetTopHeight(lineObj);\n      rect.top += height; rect.bottom += height;\n    }\n    if (context == \"line\") { return rect }\n    if (!context) { context = \"local\"; }\n    var yOff = heightAtLine(lineObj);\n    if (context == \"local\") { yOff += paddingTop(cm.display); }\n    else { yOff -= cm.display.viewOffset; }\n    if (context == \"page\" || context == \"window\") {\n      var lOff = cm.display.lineSpace.getBoundingClientRect();\n      yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY());\n      var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX());\n      rect.left += xOff; rect.right += xOff;\n    }\n    rect.top += yOff; rect.bottom += yOff;\n    return rect\n  }\n\n  // Coverts a box from \"div\" coords to another coordinate system.\n  // Context may be \"window\", \"page\", \"div\", or \"local\"./null.\n  function fromCoordSystem(cm, coords, context) {\n    if (context == \"div\") { return coords }\n    var left = coords.left, top = coords.top;\n    // First move into \"page\" coordinate system\n    if (context == \"page\") {\n      left -= pageScrollX();\n      top -= pageScrollY();\n    } else if (context == \"local\" || !context) {\n      var localBox = cm.display.sizer.getBoundingClientRect();\n      left += localBox.left;\n      top += localBox.top;\n    }\n\n    var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect();\n    return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top}\n  }\n\n  function charCoords(cm, pos, context, lineObj, bias) {\n    if (!lineObj) { lineObj = getLine(cm.doc, pos.line); }\n    return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context)\n  }\n\n  // Returns a box for a given cursor position, which may have an\n  // 'other' property containing the position of the secondary cursor\n  // on a bidi boundary.\n  // A cursor Pos(line, char, \"before\") is on the same visual line as `char - 1`\n  // and after `char - 1` in writing order of `char - 1`\n  // A cursor Pos(line, char, \"after\") is on the same visual line as `char`\n  // and before `char` in writing order of `char`\n  // Examples (upper-case letters are RTL, lower-case are LTR):\n  //     Pos(0, 1, ...)\n  //     before   after\n  // ab     a|b     a|b\n  // aB     a|B     aB|\n  // Ab     |Ab     A|b\n  // AB     B|A     B|A\n  // Every position after the last character on a line is considered to stick\n  // to the last character on the line.\n  function cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\n    lineObj = lineObj || getLine(cm.doc, pos.line);\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    function get(ch, right) {\n      var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight);\n      if (right) { m.left = m.right; } else { m.right = m.left; }\n      return intoCoordSystem(cm, lineObj, m, context)\n    }\n    var order = getOrder(lineObj, cm.doc.direction), ch = pos.ch, sticky = pos.sticky;\n    if (ch >= lineObj.text.length) {\n      ch = lineObj.text.length;\n      sticky = \"before\";\n    } else if (ch <= 0) {\n      ch = 0;\n      sticky = \"after\";\n    }\n    if (!order) { return get(sticky == \"before\" ? ch - 1 : ch, sticky == \"before\") }\n\n    function getBidi(ch, partPos, invert) {\n      var part = order[partPos], right = part.level == 1;\n      return get(invert ? ch - 1 : ch, right != invert)\n    }\n    var partPos = getBidiPartAt(order, ch, sticky);\n    var other = bidiOther;\n    var val = getBidi(ch, partPos, sticky == \"before\");\n    if (other != null) { val.other = getBidi(ch, other, sticky != \"before\"); }\n    return val\n  }\n\n  // Used to cheaply estimate the coordinates for a position. Used for\n  // intermediate scroll updates.\n  function estimateCoords(cm, pos) {\n    var left = 0;\n    pos = clipPos(cm.doc, pos);\n    if (!cm.options.lineWrapping) { left = charWidth(cm.display) * pos.ch; }\n    var lineObj = getLine(cm.doc, pos.line);\n    var top = heightAtLine(lineObj) + paddingTop(cm.display);\n    return {left: left, right: left, top: top, bottom: top + lineObj.height}\n  }\n\n  // Positions returned by coordsChar contain some extra information.\n  // xRel is the relative x position of the input coordinates compared\n  // to the found position (so xRel > 0 means the coordinates are to\n  // the right of the character position, for example). When outside\n  // is true, that means the coordinates lie outside the line's\n  // vertical range.\n  function PosWithInfo(line, ch, sticky, outside, xRel) {\n    var pos = Pos(line, ch, sticky);\n    pos.xRel = xRel;\n    if (outside) { pos.outside = outside; }\n    return pos\n  }\n\n  // Compute the character position closest to the given coordinates.\n  // Input must be lineSpace-local (\"div\" coordinate system).\n  function coordsChar(cm, x, y) {\n    var doc = cm.doc;\n    y += cm.display.viewOffset;\n    if (y < 0) { return PosWithInfo(doc.first, 0, null, -1, -1) }\n    var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1;\n    if (lineN > last)\n      { return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, null, 1, 1) }\n    if (x < 0) { x = 0; }\n\n    var lineObj = getLine(doc, lineN);\n    for (;;) {\n      var found = coordsCharInner(cm, lineObj, lineN, x, y);\n      var collapsed = collapsedSpanAround(lineObj, found.ch + (found.xRel > 0 || found.outside > 0 ? 1 : 0));\n      if (!collapsed) { return found }\n      var rangeEnd = collapsed.find(1);\n      if (rangeEnd.line == lineN) { return rangeEnd }\n      lineObj = getLine(doc, lineN = rangeEnd.line);\n    }\n  }\n\n  function wrappedLineExtent(cm, lineObj, preparedMeasure, y) {\n    y -= widgetTopHeight(lineObj);\n    var end = lineObj.text.length;\n    var begin = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch - 1).bottom <= y; }, end, 0);\n    end = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch).top > y; }, begin, end);\n    return {begin: begin, end: end}\n  }\n\n  function wrappedLineExtentChar(cm, lineObj, preparedMeasure, target) {\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    var targetTop = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, target), \"line\").top;\n    return wrappedLineExtent(cm, lineObj, preparedMeasure, targetTop)\n  }\n\n  // Returns true if the given side of a box is after the given\n  // coordinates, in top-to-bottom, left-to-right order.\n  function boxIsAfter(box, x, y, left) {\n    return box.bottom <= y ? false : box.top > y ? true : (left ? box.left : box.right) > x\n  }\n\n  function coordsCharInner(cm, lineObj, lineNo, x, y) {\n    // Move y into line-local coordinate space\n    y -= heightAtLine(lineObj);\n    var preparedMeasure = prepareMeasureForLine(cm, lineObj);\n    // When directly calling `measureCharPrepared`, we have to adjust\n    // for the widgets at this line.\n    var widgetHeight = widgetTopHeight(lineObj);\n    var begin = 0, end = lineObj.text.length, ltr = true;\n\n    var order = getOrder(lineObj, cm.doc.direction);\n    // If the line isn't plain left-to-right text, first figure out\n    // which bidi section the coordinates fall into.\n    if (order) {\n      var part = (cm.options.lineWrapping ? coordsBidiPartWrapped : coordsBidiPart)\n                   (cm, lineObj, lineNo, preparedMeasure, order, x, y);\n      ltr = part.level != 1;\n      // The awkward -1 offsets are needed because findFirst (called\n      // on these below) will treat its first bound as inclusive,\n      // second as exclusive, but we want to actually address the\n      // characters in the part's range\n      begin = ltr ? part.from : part.to - 1;\n      end = ltr ? part.to : part.from - 1;\n    }\n\n    // A binary search to find the first character whose bounding box\n    // starts after the coordinates. If we run across any whose box wrap\n    // the coordinates, store that.\n    var chAround = null, boxAround = null;\n    var ch = findFirst(function (ch) {\n      var box = measureCharPrepared(cm, preparedMeasure, ch);\n      box.top += widgetHeight; box.bottom += widgetHeight;\n      if (!boxIsAfter(box, x, y, false)) { return false }\n      if (box.top <= y && box.left <= x) {\n        chAround = ch;\n        boxAround = box;\n      }\n      return true\n    }, begin, end);\n\n    var baseX, sticky, outside = false;\n    // If a box around the coordinates was found, use that\n    if (boxAround) {\n      // Distinguish coordinates nearer to the left or right side of the box\n      var atLeft = x - boxAround.left < boxAround.right - x, atStart = atLeft == ltr;\n      ch = chAround + (atStart ? 0 : 1);\n      sticky = atStart ? \"after\" : \"before\";\n      baseX = atLeft ? boxAround.left : boxAround.right;\n    } else {\n      // (Adjust for extended bound, if necessary.)\n      if (!ltr && (ch == end || ch == begin)) { ch++; }\n      // To determine which side to associate with, get the box to the\n      // left of the character and compare it's vertical position to the\n      // coordinates\n      sticky = ch == 0 ? \"after\" : ch == lineObj.text.length ? \"before\" :\n        (measureCharPrepared(cm, preparedMeasure, ch - (ltr ? 1 : 0)).bottom + widgetHeight <= y) == ltr ?\n        \"after\" : \"before\";\n      // Now get accurate coordinates for this place, in order to get a\n      // base X position\n      var coords = cursorCoords(cm, Pos(lineNo, ch, sticky), \"line\", lineObj, preparedMeasure);\n      baseX = coords.left;\n      outside = y < coords.top ? -1 : y >= coords.bottom ? 1 : 0;\n    }\n\n    ch = skipExtendingChars(lineObj.text, ch, 1);\n    return PosWithInfo(lineNo, ch, sticky, outside, x - baseX)\n  }\n\n  function coordsBidiPart(cm, lineObj, lineNo, preparedMeasure, order, x, y) {\n    // Bidi parts are sorted left-to-right, and in a non-line-wrapping\n    // situation, we can take this ordering to correspond to the visual\n    // ordering. This finds the first part whose end is after the given\n    // coordinates.\n    var index = findFirst(function (i) {\n      var part = order[i], ltr = part.level != 1;\n      return boxIsAfter(cursorCoords(cm, Pos(lineNo, ltr ? part.to : part.from, ltr ? \"before\" : \"after\"),\n                                     \"line\", lineObj, preparedMeasure), x, y, true)\n    }, 0, order.length - 1);\n    var part = order[index];\n    // If this isn't the first part, the part's start is also after\n    // the coordinates, and the coordinates aren't on the same line as\n    // that start, move one part back.\n    if (index > 0) {\n      var ltr = part.level != 1;\n      var start = cursorCoords(cm, Pos(lineNo, ltr ? part.from : part.to, ltr ? \"after\" : \"before\"),\n                               \"line\", lineObj, preparedMeasure);\n      if (boxIsAfter(start, x, y, true) && start.top > y)\n        { part = order[index - 1]; }\n    }\n    return part\n  }\n\n  function coordsBidiPartWrapped(cm, lineObj, _lineNo, preparedMeasure, order, x, y) {\n    // In a wrapped line, rtl text on wrapping boundaries can do things\n    // that don't correspond to the ordering in our `order` array at\n    // all, so a binary search doesn't work, and we want to return a\n    // part that only spans one line so that the binary search in\n    // coordsCharInner is safe. As such, we first find the extent of the\n    // wrapped line, and then do a flat search in which we discard any\n    // spans that aren't on the line.\n    var ref = wrappedLineExtent(cm, lineObj, preparedMeasure, y);\n    var begin = ref.begin;\n    var end = ref.end;\n    if (/\\s/.test(lineObj.text.charAt(end - 1))) { end--; }\n    var part = null, closestDist = null;\n    for (var i = 0; i < order.length; i++) {\n      var p = order[i];\n      if (p.from >= end || p.to <= begin) { continue }\n      var ltr = p.level != 1;\n      var endX = measureCharPrepared(cm, preparedMeasure, ltr ? Math.min(end, p.to) - 1 : Math.max(begin, p.from)).right;\n      // Weigh against spans ending before this, so that they are only\n      // picked if nothing ends after\n      var dist = endX < x ? x - endX + 1e9 : endX - x;\n      if (!part || closestDist > dist) {\n        part = p;\n        closestDist = dist;\n      }\n    }\n    if (!part) { part = order[order.length - 1]; }\n    // Clip the part to the wrapped line.\n    if (part.from < begin) { part = {from: begin, to: part.to, level: part.level}; }\n    if (part.to > end) { part = {from: part.from, to: end, level: part.level}; }\n    return part\n  }\n\n  var measureText;\n  // Compute the default text height.\n  function textHeight(display) {\n    if (display.cachedTextHeight != null) { return display.cachedTextHeight }\n    if (measureText == null) {\n      measureText = elt(\"pre\", null, \"CodeMirror-line-like\");\n      // Measure a bunch of lines, for browsers that compute\n      // fractional heights.\n      for (var i = 0; i < 49; ++i) {\n        measureText.appendChild(document.createTextNode(\"x\"));\n        measureText.appendChild(elt(\"br\"));\n      }\n      measureText.appendChild(document.createTextNode(\"x\"));\n    }\n    removeChildrenAndAdd(display.measure, measureText);\n    var height = measureText.offsetHeight / 50;\n    if (height > 3) { display.cachedTextHeight = height; }\n    removeChildren(display.measure);\n    return height || 1\n  }\n\n  // Compute the default character width.\n  function charWidth(display) {\n    if (display.cachedCharWidth != null) { return display.cachedCharWidth }\n    var anchor = elt(\"span\", \"xxxxxxxxxx\");\n    var pre = elt(\"pre\", [anchor], \"CodeMirror-line-like\");\n    removeChildrenAndAdd(display.measure, pre);\n    var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) / 10;\n    if (width > 2) { display.cachedCharWidth = width; }\n    return width || 10\n  }\n\n  // Do a bulk-read of the DOM positions and sizes needed to draw the\n  // view, so that we don't interleave reading and writing to the DOM.\n  function getDimensions(cm) {\n    var d = cm.display, left = {}, width = {};\n    var gutterLeft = d.gutters.clientLeft;\n    for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\n      var id = cm.display.gutterSpecs[i].className;\n      left[id] = n.offsetLeft + n.clientLeft + gutterLeft;\n      width[id] = n.clientWidth;\n    }\n    return {fixedPos: compensateForHScroll(d),\n            gutterTotalWidth: d.gutters.offsetWidth,\n            gutterLeft: left,\n            gutterWidth: width,\n            wrapperWidth: d.wrapper.clientWidth}\n  }\n\n  // Computes display.scroller.scrollLeft + display.gutters.offsetWidth,\n  // but using getBoundingClientRect to get a sub-pixel-accurate\n  // result.\n  function compensateForHScroll(display) {\n    return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left\n  }\n\n  // Returns a function that estimates the height of a line, to use as\n  // first approximation until the line becomes visible (and is thus\n  // properly measurable).\n  function estimateHeight(cm) {\n    var th = textHeight(cm.display), wrapping = cm.options.lineWrapping;\n    var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3);\n    return function (line) {\n      if (lineIsHidden(cm.doc, line)) { return 0 }\n\n      var widgetsHeight = 0;\n      if (line.widgets) { for (var i = 0; i < line.widgets.length; i++) {\n        if (line.widgets[i].height) { widgetsHeight += line.widgets[i].height; }\n      } }\n\n      if (wrapping)\n        { return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th }\n      else\n        { return widgetsHeight + th }\n    }\n  }\n\n  function estimateLineHeights(cm) {\n    var doc = cm.doc, est = estimateHeight(cm);\n    doc.iter(function (line) {\n      var estHeight = est(line);\n      if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n    });\n  }\n\n  // Given a mouse event, find the corresponding position. If liberal\n  // is false, it checks whether a gutter or scrollbar was clicked,\n  // and returns null if it was. forRect is used by rectangular\n  // selections, and tries to estimate a character position even for\n  // coordinates beyond the right of the text.\n  function posFromMouse(cm, e, liberal, forRect) {\n    var display = cm.display;\n    if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") { return null }\n\n    var x, y, space = display.lineSpace.getBoundingClientRect();\n    // Fails unpredictably on IE[67] when mouse is dragged around quickly.\n    try { x = e.clientX - space.left; y = e.clientY - space.top; }\n    catch (e) { return null }\n    var coords = coordsChar(cm, x, y), line;\n    if (forRect && coords.xRel > 0 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\n      var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length;\n      coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff));\n    }\n    return coords\n  }\n\n  // Find the view element corresponding to a given line. Return null\n  // when the line isn't visible.\n  function findViewIndex(cm, n) {\n    if (n >= cm.display.viewTo) { return null }\n    n -= cm.display.viewFrom;\n    if (n < 0) { return null }\n    var view = cm.display.view;\n    for (var i = 0; i < view.length; i++) {\n      n -= view[i].size;\n      if (n < 0) { return i }\n    }\n  }\n\n  // Updates the display.view data structure for a given change to the\n  // document. From and to are in pre-change coordinates. Lendiff is\n  // the amount of lines added or subtracted by the change. This is\n  // used for changes that span multiple lines, or change the way\n  // lines are divided into visual lines. regLineChange (below)\n  // registers single-line changes.\n  function regChange(cm, from, to, lendiff) {\n    if (from == null) { from = cm.doc.first; }\n    if (to == null) { to = cm.doc.first + cm.doc.size; }\n    if (!lendiff) { lendiff = 0; }\n\n    var display = cm.display;\n    if (lendiff && to < display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers > from))\n      { display.updateLineNumbers = from; }\n\n    cm.curOp.viewChanged = true;\n\n    if (from >= display.viewTo) { // Change after\n      if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)\n        { resetView(cm); }\n    } else if (to <= display.viewFrom) { // Change before\n      if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\n        resetView(cm);\n      } else {\n        display.viewFrom += lendiff;\n        display.viewTo += lendiff;\n      }\n    } else if (from <= display.viewFrom && to >= display.viewTo) { // Full overlap\n      resetView(cm);\n    } else if (from <= display.viewFrom) { // Top overlap\n      var cut = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cut) {\n        display.view = display.view.slice(cut.index);\n        display.viewFrom = cut.lineN;\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    } else if (to >= display.viewTo) { // Bottom overlap\n      var cut$1 = viewCuttingPoint(cm, from, from, -1);\n      if (cut$1) {\n        display.view = display.view.slice(0, cut$1.index);\n        display.viewTo = cut$1.lineN;\n      } else {\n        resetView(cm);\n      }\n    } else { // Gap in the middle\n      var cutTop = viewCuttingPoint(cm, from, from, -1);\n      var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cutTop && cutBot) {\n        display.view = display.view.slice(0, cutTop.index)\n          .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))\n          .concat(display.view.slice(cutBot.index));\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    }\n\n    var ext = display.externalMeasured;\n    if (ext) {\n      if (to < ext.lineN)\n        { ext.lineN += lendiff; }\n      else if (from < ext.lineN + ext.size)\n        { display.externalMeasured = null; }\n    }\n  }\n\n  // Register a change to a single line. Type must be one of \"text\",\n  // \"gutter\", \"class\", \"widget\"\n  function regLineChange(cm, line, type) {\n    cm.curOp.viewChanged = true;\n    var display = cm.display, ext = cm.display.externalMeasured;\n    if (ext && line >= ext.lineN && line < ext.lineN + ext.size)\n      { display.externalMeasured = null; }\n\n    if (line < display.viewFrom || line >= display.viewTo) { return }\n    var lineView = display.view[findViewIndex(cm, line)];\n    if (lineView.node == null) { return }\n    var arr = lineView.changes || (lineView.changes = []);\n    if (indexOf(arr, type) == -1) { arr.push(type); }\n  }\n\n  // Clear the view.\n  function resetView(cm) {\n    cm.display.viewFrom = cm.display.viewTo = cm.doc.first;\n    cm.display.view = [];\n    cm.display.viewOffset = 0;\n  }\n\n  function viewCuttingPoint(cm, oldN, newN, dir) {\n    var index = findViewIndex(cm, oldN), diff, view = cm.display.view;\n    if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)\n      { return {index: index, lineN: newN} }\n    var n = cm.display.viewFrom;\n    for (var i = 0; i < index; i++)\n      { n += view[i].size; }\n    if (n != oldN) {\n      if (dir > 0) {\n        if (index == view.length - 1) { return null }\n        diff = (n + view[index].size) - oldN;\n        index++;\n      } else {\n        diff = n - oldN;\n      }\n      oldN += diff; newN += diff;\n    }\n    while (visualLineNo(cm.doc, newN) != newN) {\n      if (index == (dir < 0 ? 0 : view.length - 1)) { return null }\n      newN += dir * view[index - (dir < 0 ? 1 : 0)].size;\n      index += dir;\n    }\n    return {index: index, lineN: newN}\n  }\n\n  // Force the view to cover a given range, adding empty view element\n  // or clipping off existing ones as needed.\n  function adjustView(cm, from, to) {\n    var display = cm.display, view = display.view;\n    if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\n      display.view = buildViewArray(cm, from, to);\n      display.viewFrom = from;\n    } else {\n      if (display.viewFrom > from)\n        { display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view); }\n      else if (display.viewFrom < from)\n        { display.view = display.view.slice(findViewIndex(cm, from)); }\n      display.viewFrom = from;\n      if (display.viewTo < to)\n        { display.view = display.view.concat(buildViewArray(cm, display.viewTo, to)); }\n      else if (display.viewTo > to)\n        { display.view = display.view.slice(0, findViewIndex(cm, to)); }\n    }\n    display.viewTo = to;\n  }\n\n  // Count the number of lines in the view whose DOM representation is\n  // out of date (or nonexistent).\n  function countDirtyView(cm) {\n    var view = cm.display.view, dirty = 0;\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (!lineView.hidden && (!lineView.node || lineView.changes)) { ++dirty; }\n    }\n    return dirty\n  }\n\n  function updateSelection(cm) {\n    cm.display.input.showSelection(cm.display.input.prepareSelection());\n  }\n\n  function prepareSelection(cm, primary) {\n    if ( primary === void 0 ) primary = true;\n\n    var doc = cm.doc, result = {};\n    var curFragment = result.cursors = document.createDocumentFragment();\n    var selFragment = result.selection = document.createDocumentFragment();\n\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      if (!primary && i == doc.sel.primIndex) { continue }\n      var range = doc.sel.ranges[i];\n      if (range.from().line >= cm.display.viewTo || range.to().line < cm.display.viewFrom) { continue }\n      var collapsed = range.empty();\n      if (collapsed || cm.options.showCursorWhenSelecting)\n        { drawSelectionCursor(cm, range.head, curFragment); }\n      if (!collapsed)\n        { drawSelectionRange(cm, range, selFragment); }\n    }\n    return result\n  }\n\n  // Draws a cursor for the given range\n  function drawSelectionCursor(cm, head, output) {\n    var pos = cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine);\n\n    var cursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor\"));\n    cursor.style.left = pos.left + \"px\";\n    cursor.style.top = pos.top + \"px\";\n    cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\";\n\n    if (pos.other) {\n      // Secondary cursor, shown when on a 'jump' in bi-directional text\n      var otherCursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"));\n      otherCursor.style.display = \"\";\n      otherCursor.style.left = pos.other.left + \"px\";\n      otherCursor.style.top = pos.other.top + \"px\";\n      otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\";\n    }\n  }\n\n  function cmpCoords(a, b) { return a.top - b.top || a.left - b.left }\n\n  // Draws the given range as a highlighted selection\n  function drawSelectionRange(cm, range, output) {\n    var display = cm.display, doc = cm.doc;\n    var fragment = document.createDocumentFragment();\n    var padding = paddingH(cm.display), leftSide = padding.left;\n    var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right;\n    var docLTR = doc.direction == \"ltr\";\n\n    function add(left, top, width, bottom) {\n      if (top < 0) { top = 0; }\n      top = Math.round(top);\n      bottom = Math.round(bottom);\n      fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", (\"position: absolute; left: \" + left + \"px;\\n                             top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) + \"px;\\n                             height: \" + (bottom - top) + \"px\")));\n    }\n\n    function drawForLine(line, fromArg, toArg) {\n      var lineObj = getLine(doc, line);\n      var lineLen = lineObj.text.length;\n      var start, end;\n      function coords(ch, bias) {\n        return charCoords(cm, Pos(line, ch), \"div\", lineObj, bias)\n      }\n\n      function wrapX(pos, dir, side) {\n        var extent = wrappedLineExtentChar(cm, lineObj, null, pos);\n        var prop = (dir == \"ltr\") == (side == \"after\") ? \"left\" : \"right\";\n        var ch = side == \"after\" ? extent.begin : extent.end - (/\\s/.test(lineObj.text.charAt(extent.end - 1)) ? 2 : 1);\n        return coords(ch, prop)[prop]\n      }\n\n      var order = getOrder(lineObj, doc.direction);\n      iterateBidiSections(order, fromArg || 0, toArg == null ? lineLen : toArg, function (from, to, dir, i) {\n        var ltr = dir == \"ltr\";\n        var fromPos = coords(from, ltr ? \"left\" : \"right\");\n        var toPos = coords(to - 1, ltr ? \"right\" : \"left\");\n\n        var openStart = fromArg == null && from == 0, openEnd = toArg == null && to == lineLen;\n        var first = i == 0, last = !order || i == order.length - 1;\n        if (toPos.top - fromPos.top <= 3) { // Single line\n          var openLeft = (docLTR ? openStart : openEnd) && first;\n          var openRight = (docLTR ? openEnd : openStart) && last;\n          var left = openLeft ? leftSide : (ltr ? fromPos : toPos).left;\n          var right = openRight ? rightSide : (ltr ? toPos : fromPos).right;\n          add(left, fromPos.top, right - left, fromPos.bottom);\n        } else { // Multiple lines\n          var topLeft, topRight, botLeft, botRight;\n          if (ltr) {\n            topLeft = docLTR && openStart && first ? leftSide : fromPos.left;\n            topRight = docLTR ? rightSide : wrapX(from, dir, \"before\");\n            botLeft = docLTR ? leftSide : wrapX(to, dir, \"after\");\n            botRight = docLTR && openEnd && last ? rightSide : toPos.right;\n          } else {\n            topLeft = !docLTR ? leftSide : wrapX(from, dir, \"before\");\n            topRight = !docLTR && openStart && first ? rightSide : fromPos.right;\n            botLeft = !docLTR && openEnd && last ? leftSide : toPos.left;\n            botRight = !docLTR ? rightSide : wrapX(to, dir, \"after\");\n          }\n          add(topLeft, fromPos.top, topRight - topLeft, fromPos.bottom);\n          if (fromPos.bottom < toPos.top) { add(leftSide, fromPos.bottom, null, toPos.top); }\n          add(botLeft, toPos.top, botRight - botLeft, toPos.bottom);\n        }\n\n        if (!start || cmpCoords(fromPos, start) < 0) { start = fromPos; }\n        if (cmpCoords(toPos, start) < 0) { start = toPos; }\n        if (!end || cmpCoords(fromPos, end) < 0) { end = fromPos; }\n        if (cmpCoords(toPos, end) < 0) { end = toPos; }\n      });\n      return {start: start, end: end}\n    }\n\n    var sFrom = range.from(), sTo = range.to();\n    if (sFrom.line == sTo.line) {\n      drawForLine(sFrom.line, sFrom.ch, sTo.ch);\n    } else {\n      var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line);\n      var singleVLine = visualLine(fromLine) == visualLine(toLine);\n      var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end;\n      var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start;\n      if (singleVLine) {\n        if (leftEnd.top < rightStart.top - 2) {\n          add(leftEnd.right, leftEnd.top, null, leftEnd.bottom);\n          add(leftSide, rightStart.top, rightStart.left, rightStart.bottom);\n        } else {\n          add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom);\n        }\n      }\n      if (leftEnd.bottom < rightStart.top)\n        { add(leftSide, leftEnd.bottom, null, rightStart.top); }\n    }\n\n    output.appendChild(fragment);\n  }\n\n  // Cursor-blinking\n  function restartBlink(cm) {\n    if (!cm.state.focused) { return }\n    var display = cm.display;\n    clearInterval(display.blinker);\n    var on = true;\n    display.cursorDiv.style.visibility = \"\";\n    if (cm.options.cursorBlinkRate > 0)\n      { display.blinker = setInterval(function () { return display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\"; },\n        cm.options.cursorBlinkRate); }\n    else if (cm.options.cursorBlinkRate < 0)\n      { display.cursorDiv.style.visibility = \"hidden\"; }\n  }\n\n  function ensureFocus(cm) {\n    if (!cm.state.focused) { cm.display.input.focus(); onFocus(cm); }\n  }\n\n  function delayBlurEvent(cm) {\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () { if (cm.state.delayingBlurEvent) {\n      cm.state.delayingBlurEvent = false;\n      onBlur(cm);\n    } }, 100);\n  }\n\n  function onFocus(cm, e) {\n    if (cm.state.delayingBlurEvent) { cm.state.delayingBlurEvent = false; }\n\n    if (cm.options.readOnly == \"nocursor\") { return }\n    if (!cm.state.focused) {\n      signal(cm, \"focus\", cm, e);\n      cm.state.focused = true;\n      addClass(cm.display.wrapper, \"CodeMirror-focused\");\n      // This test prevents this from firing when a context\n      // menu is closed (since the input reset would kill the\n      // select-all detection hack)\n      if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\n        cm.display.input.reset();\n        if (webkit) { setTimeout(function () { return cm.display.input.reset(true); }, 20); } // Issue #1730\n      }\n      cm.display.input.receivedFocus();\n    }\n    restartBlink(cm);\n  }\n  function onBlur(cm, e) {\n    if (cm.state.delayingBlurEvent) { return }\n\n    if (cm.state.focused) {\n      signal(cm, \"blur\", cm, e);\n      cm.state.focused = false;\n      rmClass(cm.display.wrapper, \"CodeMirror-focused\");\n    }\n    clearInterval(cm.display.blinker);\n    setTimeout(function () { if (!cm.state.focused) { cm.display.shift = false; } }, 150);\n  }\n\n  // Read the actual heights of the rendered lines, and update their\n  // stored heights to match.\n  function updateHeightsInViewport(cm) {\n    var display = cm.display;\n    var prevBottom = display.lineDiv.offsetTop;\n    for (var i = 0; i < display.view.length; i++) {\n      var cur = display.view[i], wrapping = cm.options.lineWrapping;\n      var height = (void 0), width = 0;\n      if (cur.hidden) { continue }\n      if (ie && ie_version < 8) {\n        var bot = cur.node.offsetTop + cur.node.offsetHeight;\n        height = bot - prevBottom;\n        prevBottom = bot;\n      } else {\n        var box = cur.node.getBoundingClientRect();\n        height = box.bottom - box.top;\n        // Check that lines don't extend past the right of the current\n        // editor width\n        if (!wrapping && cur.text.firstChild)\n          { width = cur.text.firstChild.getBoundingClientRect().right - box.left - 1; }\n      }\n      var diff = cur.line.height - height;\n      if (diff > .005 || diff < -.005) {\n        updateLineHeight(cur.line, height);\n        updateWidgetHeight(cur.line);\n        if (cur.rest) { for (var j = 0; j < cur.rest.length; j++)\n          { updateWidgetHeight(cur.rest[j]); } }\n      }\n      if (width > cm.display.sizerWidth) {\n        var chWidth = Math.ceil(width / charWidth(cm.display));\n        if (chWidth > cm.display.maxLineLength) {\n          cm.display.maxLineLength = chWidth;\n          cm.display.maxLine = cur.line;\n          cm.display.maxLineChanged = true;\n        }\n      }\n    }\n  }\n\n  // Read and store the height of line widgets associated with the\n  // given line.\n  function updateWidgetHeight(line) {\n    if (line.widgets) { for (var i = 0; i < line.widgets.length; ++i) {\n      var w = line.widgets[i], parent = w.node.parentNode;\n      if (parent) { w.height = parent.offsetHeight; }\n    } }\n  }\n\n  // Compute the lines that are visible in a given viewport (defaults\n  // the the current scroll position). viewport may contain top,\n  // height, and ensure (see op.scrollToPos) properties.\n  function visibleLines(display, doc, viewport) {\n    var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop;\n    top = Math.floor(top - paddingTop(display));\n    var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight;\n\n    var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom);\n    // Ensure is a {from: {line, ch}, to: {line, ch}} object, and\n    // forces those lines into the viewport (if possible).\n    if (viewport && viewport.ensure) {\n      var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line;\n      if (ensureFrom < from) {\n        from = ensureFrom;\n        to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight);\n      } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\n        from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight);\n        to = ensureTo;\n      }\n    }\n    return {from: from, to: Math.max(to, from + 1)}\n  }\n\n  // SCROLLING THINGS INTO VIEW\n\n  // If an editor sits on the top or bottom of the window, partially\n  // scrolled out of view, this ensures that the cursor is visible.\n  function maybeScrollWindow(cm, rect) {\n    if (signalDOMEvent(cm, \"scrollCursorIntoView\")) { return }\n\n    var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null;\n    if (rect.top + box.top < 0) { doScroll = true; }\n    else if (rect.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) { doScroll = false; }\n    if (doScroll != null && !phantom) {\n      var scrollNode = elt(\"div\", \"\\u200b\", null, (\"position: absolute;\\n                         top: \" + (rect.top - display.viewOffset - paddingTop(cm.display)) + \"px;\\n                         height: \" + (rect.bottom - rect.top + scrollGap(cm) + display.barHeight) + \"px;\\n                         left: \" + (rect.left) + \"px; width: \" + (Math.max(2, rect.right - rect.left)) + \"px;\"));\n      cm.display.lineSpace.appendChild(scrollNode);\n      scrollNode.scrollIntoView(doScroll);\n      cm.display.lineSpace.removeChild(scrollNode);\n    }\n  }\n\n  // Scroll a given position into view (immediately), verifying that\n  // it actually became visible (as line heights are accurately\n  // measured, the position of something may 'drift' during drawing).\n  function scrollPosIntoView(cm, pos, end, margin) {\n    if (margin == null) { margin = 0; }\n    var rect;\n    if (!cm.options.lineWrapping && pos == end) {\n      // Set pos and end to the cursor positions around the character pos sticks to\n      // If pos.sticky == \"before\", that is around pos.ch - 1, otherwise around pos.ch\n      // If pos == Pos(_, 0, \"before\"), pos and end are unchanged\n      pos = pos.ch ? Pos(pos.line, pos.sticky == \"before\" ? pos.ch - 1 : pos.ch, \"after\") : pos;\n      end = pos.sticky == \"before\" ? Pos(pos.line, pos.ch + 1, \"before\") : pos;\n    }\n    for (var limit = 0; limit < 5; limit++) {\n      var changed = false;\n      var coords = cursorCoords(cm, pos);\n      var endCoords = !end || end == pos ? coords : cursorCoords(cm, end);\n      rect = {left: Math.min(coords.left, endCoords.left),\n              top: Math.min(coords.top, endCoords.top) - margin,\n              right: Math.max(coords.left, endCoords.left),\n              bottom: Math.max(coords.bottom, endCoords.bottom) + margin};\n      var scrollPos = calculateScrollPos(cm, rect);\n      var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft;\n      if (scrollPos.scrollTop != null) {\n        updateScrollTop(cm, scrollPos.scrollTop);\n        if (Math.abs(cm.doc.scrollTop - startTop) > 1) { changed = true; }\n      }\n      if (scrollPos.scrollLeft != null) {\n        setScrollLeft(cm, scrollPos.scrollLeft);\n        if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) { changed = true; }\n      }\n      if (!changed) { break }\n    }\n    return rect\n  }\n\n  // Scroll a given set of coordinates into view (immediately).\n  function scrollIntoView(cm, rect) {\n    var scrollPos = calculateScrollPos(cm, rect);\n    if (scrollPos.scrollTop != null) { updateScrollTop(cm, scrollPos.scrollTop); }\n    if (scrollPos.scrollLeft != null) { setScrollLeft(cm, scrollPos.scrollLeft); }\n  }\n\n  // Calculate a new scroll position needed to scroll the given\n  // rectangle into view. Returns an object with scrollTop and\n  // scrollLeft properties. When these are undefined, the\n  // vertical/horizontal position does not need to be adjusted.\n  function calculateScrollPos(cm, rect) {\n    var display = cm.display, snapMargin = textHeight(cm.display);\n    if (rect.top < 0) { rect.top = 0; }\n    var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop;\n    var screen = displayHeight(cm), result = {};\n    if (rect.bottom - rect.top > screen) { rect.bottom = rect.top + screen; }\n    var docBottom = cm.doc.height + paddingVert(display);\n    var atTop = rect.top < snapMargin, atBottom = rect.bottom > docBottom - snapMargin;\n    if (rect.top < screentop) {\n      result.scrollTop = atTop ? 0 : rect.top;\n    } else if (rect.bottom > screentop + screen) {\n      var newTop = Math.min(rect.top, (atBottom ? docBottom : rect.bottom) - screen);\n      if (newTop != screentop) { result.scrollTop = newTop; }\n    }\n\n    var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft;\n    var screenw = displayWidth(cm) - (cm.options.fixedGutter ? display.gutters.offsetWidth : 0);\n    var tooWide = rect.right - rect.left > screenw;\n    if (tooWide) { rect.right = rect.left + screenw; }\n    if (rect.left < 10)\n      { result.scrollLeft = 0; }\n    else if (rect.left < screenleft)\n      { result.scrollLeft = Math.max(0, rect.left - (tooWide ? 0 : 10)); }\n    else if (rect.right > screenw + screenleft - 3)\n      { result.scrollLeft = rect.right + (tooWide ? 0 : 10) - screenw; }\n    return result\n  }\n\n  // Store a relative adjustment to the scroll position in the current\n  // operation (to be applied when the operation finishes).\n  function addToScrollTop(cm, top) {\n    if (top == null) { return }\n    resolveScrollToPos(cm);\n    cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top;\n  }\n\n  // Make sure that at the end of the operation the current cursor is\n  // shown.\n  function ensureCursorVisible(cm) {\n    resolveScrollToPos(cm);\n    var cur = cm.getCursor();\n    cm.curOp.scrollToPos = {from: cur, to: cur, margin: cm.options.cursorScrollMargin};\n  }\n\n  function scrollToCoords(cm, x, y) {\n    if (x != null || y != null) { resolveScrollToPos(cm); }\n    if (x != null) { cm.curOp.scrollLeft = x; }\n    if (y != null) { cm.curOp.scrollTop = y; }\n  }\n\n  function scrollToRange(cm, range) {\n    resolveScrollToPos(cm);\n    cm.curOp.scrollToPos = range;\n  }\n\n  // When an operation has its scrollToPos property set, and another\n  // scroll action is applied before the end of the operation, this\n  // 'simulates' scrolling that position into view in a cheap way, so\n  // that the effect of intermediate scroll commands is not ignored.\n  function resolveScrollToPos(cm) {\n    var range = cm.curOp.scrollToPos;\n    if (range) {\n      cm.curOp.scrollToPos = null;\n      var from = estimateCoords(cm, range.from), to = estimateCoords(cm, range.to);\n      scrollToCoordsRange(cm, from, to, range.margin);\n    }\n  }\n\n  function scrollToCoordsRange(cm, from, to, margin) {\n    var sPos = calculateScrollPos(cm, {\n      left: Math.min(from.left, to.left),\n      top: Math.min(from.top, to.top) - margin,\n      right: Math.max(from.right, to.right),\n      bottom: Math.max(from.bottom, to.bottom) + margin\n    });\n    scrollToCoords(cm, sPos.scrollLeft, sPos.scrollTop);\n  }\n\n  // Sync the scrollable area and scrollbars, ensure the viewport\n  // covers the visible area.\n  function updateScrollTop(cm, val) {\n    if (Math.abs(cm.doc.scrollTop - val) < 2) { return }\n    if (!gecko) { updateDisplaySimple(cm, {top: val}); }\n    setScrollTop(cm, val, true);\n    if (gecko) { updateDisplaySimple(cm); }\n    startWorker(cm, 100);\n  }\n\n  function setScrollTop(cm, val, forceScroll) {\n    val = Math.min(cm.display.scroller.scrollHeight - cm.display.scroller.clientHeight, val);\n    if (cm.display.scroller.scrollTop == val && !forceScroll) { return }\n    cm.doc.scrollTop = val;\n    cm.display.scrollbars.setScrollTop(val);\n    if (cm.display.scroller.scrollTop != val) { cm.display.scroller.scrollTop = val; }\n  }\n\n  // Sync scroller and scrollbar, ensure the gutter elements are\n  // aligned.\n  function setScrollLeft(cm, val, isScroller, forceScroll) {\n    val = Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth);\n    if ((isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) && !forceScroll) { return }\n    cm.doc.scrollLeft = val;\n    alignHorizontally(cm);\n    if (cm.display.scroller.scrollLeft != val) { cm.display.scroller.scrollLeft = val; }\n    cm.display.scrollbars.setScrollLeft(val);\n  }\n\n  // SCROLLBARS\n\n  // Prepare DOM reads needed to update the scrollbars. Done in one\n  // shot to minimize update/measure roundtrips.\n  function measureForScrollbars(cm) {\n    var d = cm.display, gutterW = d.gutters.offsetWidth;\n    var docH = Math.round(cm.doc.height + paddingVert(cm.display));\n    return {\n      clientHeight: d.scroller.clientHeight,\n      viewHeight: d.wrapper.clientHeight,\n      scrollWidth: d.scroller.scrollWidth, clientWidth: d.scroller.clientWidth,\n      viewWidth: d.wrapper.clientWidth,\n      barLeft: cm.options.fixedGutter ? gutterW : 0,\n      docHeight: docH,\n      scrollHeight: docH + scrollGap(cm) + d.barHeight,\n      nativeBarWidth: d.nativeBarWidth,\n      gutterWidth: gutterW\n    }\n  }\n\n  var NativeScrollbars = function(place, scroll, cm) {\n    this.cm = cm;\n    var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\");\n    var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\");\n    vert.tabIndex = horiz.tabIndex = -1;\n    place(vert); place(horiz);\n\n    on(vert, \"scroll\", function () {\n      if (vert.clientHeight) { scroll(vert.scrollTop, \"vertical\"); }\n    });\n    on(horiz, \"scroll\", function () {\n      if (horiz.clientWidth) { scroll(horiz.scrollLeft, \"horizontal\"); }\n    });\n\n    this.checkedZeroWidth = false;\n    // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\n    if (ie && ie_version < 8) { this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\"; }\n  };\n\n  NativeScrollbars.prototype.update = function (measure) {\n    var needsH = measure.scrollWidth > measure.clientWidth + 1;\n    var needsV = measure.scrollHeight > measure.clientHeight + 1;\n    var sWidth = measure.nativeBarWidth;\n\n    if (needsV) {\n      this.vert.style.display = \"block\";\n      this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\";\n      var totalHeight = measure.viewHeight - (needsH ? sWidth : 0);\n      // A bug in IE8 can cause this value to be negative, so guard it.\n      this.vert.firstChild.style.height =\n        Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\";\n    } else {\n      this.vert.style.display = \"\";\n      this.vert.firstChild.style.height = \"0\";\n    }\n\n    if (needsH) {\n      this.horiz.style.display = \"block\";\n      this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\";\n      this.horiz.style.left = measure.barLeft + \"px\";\n      var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0);\n      this.horiz.firstChild.style.width =\n        Math.max(0, measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\";\n    } else {\n      this.horiz.style.display = \"\";\n      this.horiz.firstChild.style.width = \"0\";\n    }\n\n    if (!this.checkedZeroWidth && measure.clientHeight > 0) {\n      if (sWidth == 0) { this.zeroWidthHack(); }\n      this.checkedZeroWidth = true;\n    }\n\n    return {right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0}\n  };\n\n  NativeScrollbars.prototype.setScrollLeft = function (pos) {\n    if (this.horiz.scrollLeft != pos) { this.horiz.scrollLeft = pos; }\n    if (this.disableHoriz) { this.enableZeroWidthBar(this.horiz, this.disableHoriz, \"horiz\"); }\n  };\n\n  NativeScrollbars.prototype.setScrollTop = function (pos) {\n    if (this.vert.scrollTop != pos) { this.vert.scrollTop = pos; }\n    if (this.disableVert) { this.enableZeroWidthBar(this.vert, this.disableVert, \"vert\"); }\n  };\n\n  NativeScrollbars.prototype.zeroWidthHack = function () {\n    var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\";\n    this.horiz.style.height = this.vert.style.width = w;\n    this.horiz.style.pointerEvents = this.vert.style.pointerEvents = \"none\";\n    this.disableHoriz = new Delayed;\n    this.disableVert = new Delayed;\n  };\n\n  NativeScrollbars.prototype.enableZeroWidthBar = function (bar, delay, type) {\n    bar.style.pointerEvents = \"auto\";\n    function maybeDisable() {\n      // To find out whether the scrollbar is still visible, we\n      // check whether the element under the pixel in the bottom\n      // right corner of the scrollbar box is the scrollbar box\n      // itself (when the bar is still visible) or its filler child\n      // (when the bar is hidden). If it is still visible, we keep\n      // it enabled, if it's hidden, we disable pointer events.\n      var box = bar.getBoundingClientRect();\n      var elt = type == \"vert\" ? document.elementFromPoint(box.right - 1, (box.top + box.bottom) / 2)\n          : document.elementFromPoint((box.right + box.left) / 2, box.bottom - 1);\n      if (elt != bar) { bar.style.pointerEvents = \"none\"; }\n      else { delay.set(1000, maybeDisable); }\n    }\n    delay.set(1000, maybeDisable);\n  };\n\n  NativeScrollbars.prototype.clear = function () {\n    var parent = this.horiz.parentNode;\n    parent.removeChild(this.horiz);\n    parent.removeChild(this.vert);\n  };\n\n  var NullScrollbars = function () {};\n\n  NullScrollbars.prototype.update = function () { return {bottom: 0, right: 0} };\n  NullScrollbars.prototype.setScrollLeft = function () {};\n  NullScrollbars.prototype.setScrollTop = function () {};\n  NullScrollbars.prototype.clear = function () {};\n\n  function updateScrollbars(cm, measure) {\n    if (!measure) { measure = measureForScrollbars(cm); }\n    var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight;\n    updateScrollbarsInner(cm, measure);\n    for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\n      if (startWidth != cm.display.barWidth && cm.options.lineWrapping)\n        { updateHeightsInViewport(cm); }\n      updateScrollbarsInner(cm, measureForScrollbars(cm));\n      startWidth = cm.display.barWidth; startHeight = cm.display.barHeight;\n    }\n  }\n\n  // Re-synchronize the fake scrollbars with the actual size of the\n  // content.\n  function updateScrollbarsInner(cm, measure) {\n    var d = cm.display;\n    var sizes = d.scrollbars.update(measure);\n\n    d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\";\n    d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\";\n    d.heightForcer.style.borderBottom = sizes.bottom + \"px solid transparent\";\n\n    if (sizes.right && sizes.bottom) {\n      d.scrollbarFiller.style.display = \"block\";\n      d.scrollbarFiller.style.height = sizes.bottom + \"px\";\n      d.scrollbarFiller.style.width = sizes.right + \"px\";\n    } else { d.scrollbarFiller.style.display = \"\"; }\n    if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\n      d.gutterFiller.style.display = \"block\";\n      d.gutterFiller.style.height = sizes.bottom + \"px\";\n      d.gutterFiller.style.width = measure.gutterWidth + \"px\";\n    } else { d.gutterFiller.style.display = \"\"; }\n  }\n\n  var scrollbarModel = {\"native\": NativeScrollbars, \"null\": NullScrollbars};\n\n  function initScrollbars(cm) {\n    if (cm.display.scrollbars) {\n      cm.display.scrollbars.clear();\n      if (cm.display.scrollbars.addClass)\n        { rmClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n    }\n\n    cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function (node) {\n      cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller);\n      // Prevent clicks in the scrollbars from killing focus\n      on(node, \"mousedown\", function () {\n        if (cm.state.focused) { setTimeout(function () { return cm.display.input.focus(); }, 0); }\n      });\n      node.setAttribute(\"cm-not-content\", \"true\");\n    }, function (pos, axis) {\n      if (axis == \"horizontal\") { setScrollLeft(cm, pos); }\n      else { updateScrollTop(cm, pos); }\n    }, cm);\n    if (cm.display.scrollbars.addClass)\n      { addClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n  }\n\n  // Operations are used to wrap a series of changes to the editor\n  // state in such a way that each change won't have to update the\n  // cursor and display (which would be awkward, slow, and\n  // error-prone). Instead, display updates are batched and then all\n  // combined and executed at once.\n\n  var nextOpId = 0;\n  // Start a new operation.\n  function startOperation(cm) {\n    cm.curOp = {\n      cm: cm,\n      viewChanged: false,      // Flag that indicates that lines might need to be redrawn\n      startHeight: cm.doc.height, // Used to detect need to update scrollbar\n      forceUpdate: false,      // Used to force a redraw\n      updateInput: 0,       // Whether to reset the input textarea\n      typing: false,           // Whether this reset should be careful to leave existing text (for compositing)\n      changeObjs: null,        // Accumulated changes, for firing change events\n      cursorActivityHandlers: null, // Set of handlers to fire cursorActivity on\n      cursorActivityCalled: 0, // Tracks which cursorActivity handlers have been called already\n      selectionChanged: false, // Whether the selection needs to be redrawn\n      updateMaxLine: false,    // Set when the widest line needs to be determined anew\n      scrollLeft: null, scrollTop: null, // Intermediate scroll position, not pushed to DOM yet\n      scrollToPos: null,       // Used to scroll to a specific position\n      focus: false,\n      id: ++nextOpId           // Unique ID\n    };\n    pushOperation(cm.curOp);\n  }\n\n  // Finish an operation, updating the display and signalling delayed events\n  function endOperation(cm) {\n    var op = cm.curOp;\n    if (op) { finishOperation(op, function (group) {\n      for (var i = 0; i < group.ops.length; i++)\n        { group.ops[i].cm.curOp = null; }\n      endOperations(group);\n    }); }\n  }\n\n  // The DOM updates done when an operation finishes are batched so\n  // that the minimum number of relayouts are required.\n  function endOperations(group) {\n    var ops = group.ops;\n    for (var i = 0; i < ops.length; i++) // Read DOM\n      { endOperation_R1(ops[i]); }\n    for (var i$1 = 0; i$1 < ops.length; i$1++) // Write DOM (maybe)\n      { endOperation_W1(ops[i$1]); }\n    for (var i$2 = 0; i$2 < ops.length; i$2++) // Read DOM\n      { endOperation_R2(ops[i$2]); }\n    for (var i$3 = 0; i$3 < ops.length; i$3++) // Write DOM (maybe)\n      { endOperation_W2(ops[i$3]); }\n    for (var i$4 = 0; i$4 < ops.length; i$4++) // Read DOM\n      { endOperation_finish(ops[i$4]); }\n  }\n\n  function endOperation_R1(op) {\n    var cm = op.cm, display = cm.display;\n    maybeClipScrollbars(cm);\n    if (op.updateMaxLine) { findMaxLine(cm); }\n\n    op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||\n      op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||\n                         op.scrollToPos.to.line >= display.viewTo) ||\n      display.maxLineChanged && cm.options.lineWrapping;\n    op.update = op.mustUpdate &&\n      new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate);\n  }\n\n  function endOperation_W1(op) {\n    op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update);\n  }\n\n  function endOperation_R2(op) {\n    var cm = op.cm, display = cm.display;\n    if (op.updatedDisplay) { updateHeightsInViewport(cm); }\n\n    op.barMeasure = measureForScrollbars(cm);\n\n    // If the max line changed since it was last measured, measure it,\n    // and ensure the document's width matches it.\n    // updateDisplay_W2 will use these properties to do the actual resizing\n    if (display.maxLineChanged && !cm.options.lineWrapping) {\n      op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3;\n      cm.display.sizerWidth = op.adjustWidthTo;\n      op.barMeasure.scrollWidth =\n        Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth);\n      op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm));\n    }\n\n    if (op.updatedDisplay || op.selectionChanged)\n      { op.preparedSelection = display.input.prepareSelection(); }\n  }\n\n  function endOperation_W2(op) {\n    var cm = op.cm;\n\n    if (op.adjustWidthTo != null) {\n      cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\";\n      if (op.maxScrollLeft < cm.doc.scrollLeft)\n        { setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true); }\n      cm.display.maxLineChanged = false;\n    }\n\n    var takeFocus = op.focus && op.focus == activeElt();\n    if (op.preparedSelection)\n      { cm.display.input.showSelection(op.preparedSelection, takeFocus); }\n    if (op.updatedDisplay || op.startHeight != cm.doc.height)\n      { updateScrollbars(cm, op.barMeasure); }\n    if (op.updatedDisplay)\n      { setDocumentHeight(cm, op.barMeasure); }\n\n    if (op.selectionChanged) { restartBlink(cm); }\n\n    if (cm.state.focused && op.updateInput)\n      { cm.display.input.reset(op.typing); }\n    if (takeFocus) { ensureFocus(op.cm); }\n  }\n\n  function endOperation_finish(op) {\n    var cm = op.cm, display = cm.display, doc = cm.doc;\n\n    if (op.updatedDisplay) { postUpdateDisplay(cm, op.update); }\n\n    // Abort mouse wheel delta measurement, when scrolling explicitly\n    if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))\n      { display.wheelStartX = display.wheelStartY = null; }\n\n    // Propagate the scroll position to the actual DOM scroller\n    if (op.scrollTop != null) { setScrollTop(cm, op.scrollTop, op.forceScroll); }\n\n    if (op.scrollLeft != null) { setScrollLeft(cm, op.scrollLeft, true, true); }\n    // If we need to scroll a specific position into view, do so.\n    if (op.scrollToPos) {\n      var rect = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),\n                                   clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin);\n      maybeScrollWindow(cm, rect);\n    }\n\n    // Fire events for markers that are hidden/unidden by editing or\n    // undoing\n    var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers;\n    if (hidden) { for (var i = 0; i < hidden.length; ++i)\n      { if (!hidden[i].lines.length) { signal(hidden[i], \"hide\"); } } }\n    if (unhidden) { for (var i$1 = 0; i$1 < unhidden.length; ++i$1)\n      { if (unhidden[i$1].lines.length) { signal(unhidden[i$1], \"unhide\"); } } }\n\n    if (display.wrapper.offsetHeight)\n      { doc.scrollTop = cm.display.scroller.scrollTop; }\n\n    // Fire change events, and delayed event handlers\n    if (op.changeObjs)\n      { signal(cm, \"changes\", cm, op.changeObjs); }\n    if (op.update)\n      { op.update.finish(); }\n  }\n\n  // Run the given function in an operation\n  function runInOp(cm, f) {\n    if (cm.curOp) { return f() }\n    startOperation(cm);\n    try { return f() }\n    finally { endOperation(cm); }\n  }\n  // Wraps a function in an operation. Returns the wrapped function.\n  function operation(cm, f) {\n    return function() {\n      if (cm.curOp) { return f.apply(cm, arguments) }\n      startOperation(cm);\n      try { return f.apply(cm, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n  // Used to add methods to editor and doc instances, wrapping them in\n  // operations.\n  function methodOp(f) {\n    return function() {\n      if (this.curOp) { return f.apply(this, arguments) }\n      startOperation(this);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(this); }\n    }\n  }\n  function docMethodOp(f) {\n    return function() {\n      var cm = this.cm;\n      if (!cm || cm.curOp) { return f.apply(this, arguments) }\n      startOperation(cm);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n\n  // HIGHLIGHT WORKER\n\n  function startWorker(cm, time) {\n    if (cm.doc.highlightFrontier < cm.display.viewTo)\n      { cm.state.highlight.set(time, bind(highlightWorker, cm)); }\n  }\n\n  function highlightWorker(cm) {\n    var doc = cm.doc;\n    if (doc.highlightFrontier >= cm.display.viewTo) { return }\n    var end = +new Date + cm.options.workTime;\n    var context = getContextBefore(cm, doc.highlightFrontier);\n    var changedLines = [];\n\n    doc.iter(context.line, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function (line) {\n      if (context.line >= cm.display.viewFrom) { // Visible\n        var oldStyles = line.styles;\n        var resetState = line.text.length > cm.options.maxHighlightLength ? copyState(doc.mode, context.state) : null;\n        var highlighted = highlightLine(cm, line, context, true);\n        if (resetState) { context.state = resetState; }\n        line.styles = highlighted.styles;\n        var oldCls = line.styleClasses, newCls = highlighted.classes;\n        if (newCls) { line.styleClasses = newCls; }\n        else if (oldCls) { line.styleClasses = null; }\n        var ischange = !oldStyles || oldStyles.length != line.styles.length ||\n          oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass);\n        for (var i = 0; !ischange && i < oldStyles.length; ++i) { ischange = oldStyles[i] != line.styles[i]; }\n        if (ischange) { changedLines.push(context.line); }\n        line.stateAfter = context.save();\n        context.nextLine();\n      } else {\n        if (line.text.length <= cm.options.maxHighlightLength)\n          { processLine(cm, line.text, context); }\n        line.stateAfter = context.line % 5 == 0 ? context.save() : null;\n        context.nextLine();\n      }\n      if (+new Date > end) {\n        startWorker(cm, cm.options.workDelay);\n        return true\n      }\n    });\n    doc.highlightFrontier = context.line;\n    doc.modeFrontier = Math.max(doc.modeFrontier, context.line);\n    if (changedLines.length) { runInOp(cm, function () {\n      for (var i = 0; i < changedLines.length; i++)\n        { regLineChange(cm, changedLines[i], \"text\"); }\n    }); }\n  }\n\n  // DISPLAY DRAWING\n\n  var DisplayUpdate = function(cm, viewport, force) {\n    var display = cm.display;\n\n    this.viewport = viewport;\n    // Store some values that we'll need later (but don't want to force a relayout for)\n    this.visible = visibleLines(display, cm.doc, viewport);\n    this.editorIsHidden = !display.wrapper.offsetWidth;\n    this.wrapperHeight = display.wrapper.clientHeight;\n    this.wrapperWidth = display.wrapper.clientWidth;\n    this.oldDisplayWidth = displayWidth(cm);\n    this.force = force;\n    this.dims = getDimensions(cm);\n    this.events = [];\n  };\n\n  DisplayUpdate.prototype.signal = function (emitter, type) {\n    if (hasHandler(emitter, type))\n      { this.events.push(arguments); }\n  };\n  DisplayUpdate.prototype.finish = function () {\n    for (var i = 0; i < this.events.length; i++)\n      { signal.apply(null, this.events[i]); }\n  };\n\n  function maybeClipScrollbars(cm) {\n    var display = cm.display;\n    if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\n      display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth;\n      display.heightForcer.style.height = scrollGap(cm) + \"px\";\n      display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\";\n      display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\";\n      display.scrollbarsClipped = true;\n    }\n  }\n\n  function selectionSnapshot(cm) {\n    if (cm.hasFocus()) { return null }\n    var active = activeElt();\n    if (!active || !contains(cm.display.lineDiv, active)) { return null }\n    var result = {activeElt: active};\n    if (window.getSelection) {\n      var sel = window.getSelection();\n      if (sel.anchorNode && sel.extend && contains(cm.display.lineDiv, sel.anchorNode)) {\n        result.anchorNode = sel.anchorNode;\n        result.anchorOffset = sel.anchorOffset;\n        result.focusNode = sel.focusNode;\n        result.focusOffset = sel.focusOffset;\n      }\n    }\n    return result\n  }\n\n  function restoreSelection(snapshot) {\n    if (!snapshot || !snapshot.activeElt || snapshot.activeElt == activeElt()) { return }\n    snapshot.activeElt.focus();\n    if (snapshot.anchorNode && contains(document.body, snapshot.anchorNode) && contains(document.body, snapshot.focusNode)) {\n      var sel = window.getSelection(), range = document.createRange();\n      range.setEnd(snapshot.anchorNode, snapshot.anchorOffset);\n      range.collapse(false);\n      sel.removeAllRanges();\n      sel.addRange(range);\n      sel.extend(snapshot.focusNode, snapshot.focusOffset);\n    }\n  }\n\n  // Does the actual updating of the line display. Bails out\n  // (returning false) when there is nothing to be done and forced is\n  // false.\n  function updateDisplayIfNeeded(cm, update) {\n    var display = cm.display, doc = cm.doc;\n\n    if (update.editorIsHidden) {\n      resetView(cm);\n      return false\n    }\n\n    // Bail out if the visible area is already rendered and nothing changed.\n    if (!update.force &&\n        update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&\n        display.renderedView == display.view && countDirtyView(cm) == 0)\n      { return false }\n\n    if (maybeUpdateLineNumberWidth(cm)) {\n      resetView(cm);\n      update.dims = getDimensions(cm);\n    }\n\n    // Compute a suitable new viewport (from & to)\n    var end = doc.first + doc.size;\n    var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first);\n    var to = Math.min(end, update.visible.to + cm.options.viewportMargin);\n    if (display.viewFrom < from && from - display.viewFrom < 20) { from = Math.max(doc.first, display.viewFrom); }\n    if (display.viewTo > to && display.viewTo - to < 20) { to = Math.min(end, display.viewTo); }\n    if (sawCollapsedSpans) {\n      from = visualLineNo(cm.doc, from);\n      to = visualLineEndNo(cm.doc, to);\n    }\n\n    var different = from != display.viewFrom || to != display.viewTo ||\n      display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth;\n    adjustView(cm, from, to);\n\n    display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom));\n    // Position the mover div to align with the current scroll position\n    cm.display.mover.style.top = display.viewOffset + \"px\";\n\n    var toUpdate = countDirtyView(cm);\n    if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))\n      { return false }\n\n    // For big changes, we hide the enclosing element during the\n    // update, since that speeds up the operations on most browsers.\n    var selSnapshot = selectionSnapshot(cm);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"none\"; }\n    patchDisplay(cm, display.updateLineNumbers, update.dims);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"\"; }\n    display.renderedView = display.view;\n    // There might have been a widget with a focused element that got\n    // hidden or updated, if so re-focus it.\n    restoreSelection(selSnapshot);\n\n    // Prevent selection and cursors from interfering with the scroll\n    // width and height.\n    removeChildren(display.cursorDiv);\n    removeChildren(display.selectionDiv);\n    display.gutters.style.height = display.sizer.style.minHeight = 0;\n\n    if (different) {\n      display.lastWrapHeight = update.wrapperHeight;\n      display.lastWrapWidth = update.wrapperWidth;\n      startWorker(cm, 400);\n    }\n\n    display.updateLineNumbers = null;\n\n    return true\n  }\n\n  function postUpdateDisplay(cm, update) {\n    var viewport = update.viewport;\n\n    for (var first = true;; first = false) {\n      if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\n        // Clip forced viewport to actual scrollable area.\n        if (viewport && viewport.top != null)\n          { viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)}; }\n        // Updated line heights might result in the drawn area not\n        // actually covering the viewport. Keep looping until it does.\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n        if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)\n          { break }\n      }\n      if (!updateDisplayIfNeeded(cm, update)) { break }\n      updateHeightsInViewport(cm);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.force = false;\n    }\n\n    update.signal(cm, \"update\", cm);\n    if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\n      update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo);\n      cm.display.reportedViewFrom = cm.display.viewFrom; cm.display.reportedViewTo = cm.display.viewTo;\n    }\n  }\n\n  function updateDisplaySimple(cm, viewport) {\n    var update = new DisplayUpdate(cm, viewport);\n    if (updateDisplayIfNeeded(cm, update)) {\n      updateHeightsInViewport(cm);\n      postUpdateDisplay(cm, update);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.finish();\n    }\n  }\n\n  // Sync the actual display DOM structure with display.view, removing\n  // nodes for lines that are no longer in view, and creating the ones\n  // that are not there yet, and updating the ones that are out of\n  // date.\n  function patchDisplay(cm, updateNumbersFrom, dims) {\n    var display = cm.display, lineNumbers = cm.options.lineNumbers;\n    var container = display.lineDiv, cur = container.firstChild;\n\n    function rm(node) {\n      var next = node.nextSibling;\n      // Works around a throw-scroll bug in OS X Webkit\n      if (webkit && mac && cm.display.currentWheelTarget == node)\n        { node.style.display = \"none\"; }\n      else\n        { node.parentNode.removeChild(node); }\n      return next\n    }\n\n    var view = display.view, lineN = display.viewFrom;\n    // Loop over the elements in the view, syncing cur (the DOM nodes\n    // in display.lineDiv) with the view as we go.\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (lineView.hidden) ; else if (!lineView.node || lineView.node.parentNode != container) { // Not drawn yet\n        var node = buildLineElement(cm, lineView, lineN, dims);\n        container.insertBefore(node, cur);\n      } else { // Already drawn\n        while (cur != lineView.node) { cur = rm(cur); }\n        var updateNumber = lineNumbers && updateNumbersFrom != null &&\n          updateNumbersFrom <= lineN && lineView.lineNumber;\n        if (lineView.changes) {\n          if (indexOf(lineView.changes, \"gutter\") > -1) { updateNumber = false; }\n          updateLineForChanges(cm, lineView, lineN, dims);\n        }\n        if (updateNumber) {\n          removeChildren(lineView.lineNumber);\n          lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)));\n        }\n        cur = lineView.node.nextSibling;\n      }\n      lineN += lineView.size;\n    }\n    while (cur) { cur = rm(cur); }\n  }\n\n  function updateGutterSpace(display) {\n    var width = display.gutters.offsetWidth;\n    display.sizer.style.marginLeft = width + \"px\";\n  }\n\n  function setDocumentHeight(cm, measure) {\n    cm.display.sizer.style.minHeight = measure.docHeight + \"px\";\n    cm.display.heightForcer.style.top = measure.docHeight + \"px\";\n    cm.display.gutters.style.height = (measure.docHeight + cm.display.barHeight + scrollGap(cm)) + \"px\";\n  }\n\n  // Re-align line numbers and gutter marks to compensate for\n  // horizontal scrolling.\n  function alignHorizontally(cm) {\n    var display = cm.display, view = display.view;\n    if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) { return }\n    var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft;\n    var gutterW = display.gutters.offsetWidth, left = comp + \"px\";\n    for (var i = 0; i < view.length; i++) { if (!view[i].hidden) {\n      if (cm.options.fixedGutter) {\n        if (view[i].gutter)\n          { view[i].gutter.style.left = left; }\n        if (view[i].gutterBackground)\n          { view[i].gutterBackground.style.left = left; }\n      }\n      var align = view[i].alignable;\n      if (align) { for (var j = 0; j < align.length; j++)\n        { align[j].style.left = left; } }\n    } }\n    if (cm.options.fixedGutter)\n      { display.gutters.style.left = (comp + gutterW) + \"px\"; }\n  }\n\n  // Used to ensure that the line number gutter is still the right\n  // size for the current document size. Returns true when an update\n  // is needed.\n  function maybeUpdateLineNumberWidth(cm) {\n    if (!cm.options.lineNumbers) { return false }\n    var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display;\n    if (last.length != display.lineNumChars) {\n      var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)],\n                                                 \"CodeMirror-linenumber CodeMirror-gutter-elt\"));\n      var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW;\n      display.lineGutter.style.width = \"\";\n      display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1;\n      display.lineNumWidth = display.lineNumInnerWidth + padding;\n      display.lineNumChars = display.lineNumInnerWidth ? last.length : -1;\n      display.lineGutter.style.width = display.lineNumWidth + \"px\";\n      updateGutterSpace(cm.display);\n      return true\n    }\n    return false\n  }\n\n  function getGutters(gutters, lineNumbers) {\n    var result = [], sawLineNumbers = false;\n    for (var i = 0; i < gutters.length; i++) {\n      var name = gutters[i], style = null;\n      if (typeof name != \"string\") { style = name.style; name = name.className; }\n      if (name == \"CodeMirror-linenumbers\") {\n        if (!lineNumbers) { continue }\n        else { sawLineNumbers = true; }\n      }\n      result.push({className: name, style: style});\n    }\n    if (lineNumbers && !sawLineNumbers) { result.push({className: \"CodeMirror-linenumbers\", style: null}); }\n    return result\n  }\n\n  // Rebuild the gutter elements, ensure the margin to the left of the\n  // code matches their width.\n  function renderGutters(display) {\n    var gutters = display.gutters, specs = display.gutterSpecs;\n    removeChildren(gutters);\n    display.lineGutter = null;\n    for (var i = 0; i < specs.length; ++i) {\n      var ref = specs[i];\n      var className = ref.className;\n      var style = ref.style;\n      var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + className));\n      if (style) { gElt.style.cssText = style; }\n      if (className == \"CodeMirror-linenumbers\") {\n        display.lineGutter = gElt;\n        gElt.style.width = (display.lineNumWidth || 1) + \"px\";\n      }\n    }\n    gutters.style.display = specs.length ? \"\" : \"none\";\n    updateGutterSpace(display);\n  }\n\n  function updateGutters(cm) {\n    renderGutters(cm.display);\n    regChange(cm);\n    alignHorizontally(cm);\n  }\n\n  // The display handles the DOM integration, both for input reading\n  // and content drawing. It holds references to DOM nodes and\n  // display-related state.\n\n  function Display(place, doc, input, options) {\n    var d = this;\n    this.input = input;\n\n    // Covers bottom-right square when both scrollbars are present.\n    d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\");\n    d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Covers bottom of gutter when coverGutterNextToScrollbar is on\n    // and h scrollbar is present.\n    d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\");\n    d.gutterFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Will contain the actual code, positioned to cover the viewport.\n    d.lineDiv = eltP(\"div\", null, \"CodeMirror-code\");\n    // Elements are added to these to represent selection and cursors.\n    d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\");\n    d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\");\n    // A visibility: hidden element used to find the size of things.\n    d.measure = elt(\"div\", null, \"CodeMirror-measure\");\n    // When lines outside of the viewport are measured, they are drawn in this.\n    d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\");\n    // Wraps everything that needs to exist inside the vertically-padded coordinate system\n    d.lineSpace = eltP(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],\n                      null, \"position: relative; outline: none\");\n    var lines = eltP(\"div\", [d.lineSpace], \"CodeMirror-lines\");\n    // Moved around its parent to cover visible view.\n    d.mover = elt(\"div\", [lines], null, \"position: relative\");\n    // Set to the height of the document, allowing scrolling.\n    d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\");\n    d.sizerWidth = null;\n    // Behavior of elts with overflow: auto and padding is\n    // inconsistent across browsers. This is used to ensure the\n    // scrollable area is big enough.\n    d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\");\n    // Will contain the gutters, if any.\n    d.gutters = elt(\"div\", null, \"CodeMirror-gutters\");\n    d.lineGutter = null;\n    // Actual scrollable element.\n    d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\");\n    d.scroller.setAttribute(\"tabIndex\", \"-1\");\n    // The element in which the editor lives.\n    d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\");\n\n    // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)\n    if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0; }\n    if (!webkit && !(gecko && mobile)) { d.scroller.draggable = true; }\n\n    if (place) {\n      if (place.appendChild) { place.appendChild(d.wrapper); }\n      else { place(d.wrapper); }\n    }\n\n    // Current rendered range (may be bigger than the view window).\n    d.viewFrom = d.viewTo = doc.first;\n    d.reportedViewFrom = d.reportedViewTo = doc.first;\n    // Information about the rendered lines.\n    d.view = [];\n    d.renderedView = null;\n    // Holds info about a single rendered line when it was rendered\n    // for measurement, while not in view.\n    d.externalMeasured = null;\n    // Empty space (in pixels) above the view\n    d.viewOffset = 0;\n    d.lastWrapHeight = d.lastWrapWidth = 0;\n    d.updateLineNumbers = null;\n\n    d.nativeBarWidth = d.barHeight = d.barWidth = 0;\n    d.scrollbarsClipped = false;\n\n    // Used to only resize the line number gutter when necessary (when\n    // the amount of lines crosses a boundary that makes its width change)\n    d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null;\n    // Set to true when a non-horizontal-scrolling line widget is\n    // added. As an optimization, line widget aligning is skipped when\n    // this is false.\n    d.alignWidgets = false;\n\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n\n    // Tracks the maximum line length so that the horizontal scrollbar\n    // can be kept static when scrolling.\n    d.maxLine = null;\n    d.maxLineLength = 0;\n    d.maxLineChanged = false;\n\n    // Used for measuring wheel scrolling granularity\n    d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null;\n\n    // True when shift is held down.\n    d.shift = false;\n\n    // Used to track whether anything happened since the context menu\n    // was opened.\n    d.selForContextMenu = null;\n\n    d.activeTouch = null;\n\n    d.gutterSpecs = getGutters(options.gutters, options.lineNumbers);\n    renderGutters(d);\n\n    input.init(d);\n  }\n\n  // Since the delta values reported on mouse wheel events are\n  // unstandardized between browsers and even browser versions, and\n  // generally horribly unpredictable, this code starts by measuring\n  // the scroll effect that the first few mouse wheel events have,\n  // and, from that, detects the way it can convert deltas to pixel\n  // offsets afterwards.\n  //\n  // The reason we want to know the amount a wheel event will scroll\n  // is that it gives us a chance to update the display before the\n  // actual scrolling happens, reducing flickering.\n\n  var wheelSamples = 0, wheelPixelsPerUnit = null;\n  // Fill in a browser-detected starting value on browsers where we\n  // know one. These don't have to be accurate -- the result of them\n  // being wrong would just be a slight flicker on the first wheel\n  // scroll (if it is large enough).\n  if (ie) { wheelPixelsPerUnit = -.53; }\n  else if (gecko) { wheelPixelsPerUnit = 15; }\n  else if (chrome) { wheelPixelsPerUnit = -.7; }\n  else if (safari) { wheelPixelsPerUnit = -1/3; }\n\n  function wheelEventDelta(e) {\n    var dx = e.wheelDeltaX, dy = e.wheelDeltaY;\n    if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) { dx = e.detail; }\n    if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) { dy = e.detail; }\n    else if (dy == null) { dy = e.wheelDelta; }\n    return {x: dx, y: dy}\n  }\n  function wheelEventPixels(e) {\n    var delta = wheelEventDelta(e);\n    delta.x *= wheelPixelsPerUnit;\n    delta.y *= wheelPixelsPerUnit;\n    return delta\n  }\n\n  function onScrollWheel(cm, e) {\n    var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y;\n\n    var display = cm.display, scroll = display.scroller;\n    // Quit if there's nothing to scroll here\n    var canScrollX = scroll.scrollWidth > scroll.clientWidth;\n    var canScrollY = scroll.scrollHeight > scroll.clientHeight;\n    if (!(dx && canScrollX || dy && canScrollY)) { return }\n\n    // Webkit browsers on OS X abort momentum scrolls when the target\n    // of the scroll event is removed from the scrollable element.\n    // This hack (see related code in patchDisplay) makes sure the\n    // element is kept around.\n    if (dy && mac && webkit) {\n      outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\n        for (var i = 0; i < view.length; i++) {\n          if (view[i].node == cur) {\n            cm.display.currentWheelTarget = cur;\n            break outer\n          }\n        }\n      }\n    }\n\n    // On some browsers, horizontal scrolling will cause redraws to\n    // happen before the gutter has been realigned, causing it to\n    // wriggle around in a most unseemly way. When we have an\n    // estimated pixels/delta value, we just handle horizontal\n    // scrolling entirely here. It'll be slightly off from native, but\n    // better than glitching out.\n    if (dx && !gecko && !presto && wheelPixelsPerUnit != null) {\n      if (dy && canScrollY)\n        { updateScrollTop(cm, Math.max(0, scroll.scrollTop + dy * wheelPixelsPerUnit)); }\n      setScrollLeft(cm, Math.max(0, scroll.scrollLeft + dx * wheelPixelsPerUnit));\n      // Only prevent default scrolling if vertical scrolling is\n      // actually possible. Otherwise, it causes vertical scroll\n      // jitter on OSX trackpads when deltaX is small and deltaY\n      // is large (issue #3579)\n      if (!dy || (dy && canScrollY))\n        { e_preventDefault(e); }\n      display.wheelStartX = null; // Abort measurement, if in progress\n      return\n    }\n\n    // 'Project' the visible viewport to cover the area that is being\n    // scrolled into view (if we know enough to estimate it).\n    if (dy && wheelPixelsPerUnit != null) {\n      var pixels = dy * wheelPixelsPerUnit;\n      var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight;\n      if (pixels < 0) { top = Math.max(0, top + pixels - 50); }\n      else { bot = Math.min(cm.doc.height, bot + pixels + 50); }\n      updateDisplaySimple(cm, {top: top, bottom: bot});\n    }\n\n    if (wheelSamples < 20) {\n      if (display.wheelStartX == null) {\n        display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop;\n        display.wheelDX = dx; display.wheelDY = dy;\n        setTimeout(function () {\n          if (display.wheelStartX == null) { return }\n          var movedX = scroll.scrollLeft - display.wheelStartX;\n          var movedY = scroll.scrollTop - display.wheelStartY;\n          var sample = (movedY && display.wheelDY && movedY / display.wheelDY) ||\n            (movedX && display.wheelDX && movedX / display.wheelDX);\n          display.wheelStartX = display.wheelStartY = null;\n          if (!sample) { return }\n          wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1);\n          ++wheelSamples;\n        }, 200);\n      } else {\n        display.wheelDX += dx; display.wheelDY += dy;\n      }\n    }\n  }\n\n  // Selection objects are immutable. A new one is created every time\n  // the selection changes. A selection is one or more non-overlapping\n  // (and non-touching) ranges, sorted, and an integer that indicates\n  // which one is the primary selection (the one that's scrolled into\n  // view, that getCursor returns, etc).\n  var Selection = function(ranges, primIndex) {\n    this.ranges = ranges;\n    this.primIndex = primIndex;\n  };\n\n  Selection.prototype.primary = function () { return this.ranges[this.primIndex] };\n\n  Selection.prototype.equals = function (other) {\n    if (other == this) { return true }\n    if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) { return false }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var here = this.ranges[i], there = other.ranges[i];\n      if (!equalCursorPos(here.anchor, there.anchor) || !equalCursorPos(here.head, there.head)) { return false }\n    }\n    return true\n  };\n\n  Selection.prototype.deepCopy = function () {\n    var out = [];\n    for (var i = 0; i < this.ranges.length; i++)\n      { out[i] = new Range(copyPos(this.ranges[i].anchor), copyPos(this.ranges[i].head)); }\n    return new Selection(out, this.primIndex)\n  };\n\n  Selection.prototype.somethingSelected = function () {\n    for (var i = 0; i < this.ranges.length; i++)\n      { if (!this.ranges[i].empty()) { return true } }\n    return false\n  };\n\n  Selection.prototype.contains = function (pos, end) {\n    if (!end) { end = pos; }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var range = this.ranges[i];\n      if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)\n        { return i }\n    }\n    return -1\n  };\n\n  var Range = function(anchor, head) {\n    this.anchor = anchor; this.head = head;\n  };\n\n  Range.prototype.from = function () { return minPos(this.anchor, this.head) };\n  Range.prototype.to = function () { return maxPos(this.anchor, this.head) };\n  Range.prototype.empty = function () { return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch };\n\n  // Take an unsorted, potentially overlapping set of ranges, and\n  // build a selection out of it. 'Consumes' ranges array (modifying\n  // it).\n  function normalizeSelection(cm, ranges, primIndex) {\n    var mayTouch = cm && cm.options.selectionsMayTouch;\n    var prim = ranges[primIndex];\n    ranges.sort(function (a, b) { return cmp(a.from(), b.from()); });\n    primIndex = indexOf(ranges, prim);\n    for (var i = 1; i < ranges.length; i++) {\n      var cur = ranges[i], prev = ranges[i - 1];\n      var diff = cmp(prev.to(), cur.from());\n      if (mayTouch && !cur.empty() ? diff > 0 : diff >= 0) {\n        var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to());\n        var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head;\n        if (i <= primIndex) { --primIndex; }\n        ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to));\n      }\n    }\n    return new Selection(ranges, primIndex)\n  }\n\n  function simpleSelection(anchor, head) {\n    return new Selection([new Range(anchor, head || anchor)], 0)\n  }\n\n  // Compute the position of the end of a change (its 'to' property\n  // refers to the pre-change end).\n  function changeEnd(change) {\n    if (!change.text) { return change.to }\n    return Pos(change.from.line + change.text.length - 1,\n               lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0))\n  }\n\n  // Adjust a position to refer to the post-change position of the\n  // same text, or the end of the change if the change covers it.\n  function adjustForChange(pos, change) {\n    if (cmp(pos, change.from) < 0) { return pos }\n    if (cmp(pos, change.to) <= 0) { return changeEnd(change) }\n\n    var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch;\n    if (pos.line == change.to.line) { ch += changeEnd(change).ch - change.to.ch; }\n    return Pos(line, ch)\n  }\n\n  function computeSelAfterChange(doc, change) {\n    var out = [];\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      var range = doc.sel.ranges[i];\n      out.push(new Range(adjustForChange(range.anchor, change),\n                         adjustForChange(range.head, change)));\n    }\n    return normalizeSelection(doc.cm, out, doc.sel.primIndex)\n  }\n\n  function offsetPos(pos, old, nw) {\n    if (pos.line == old.line)\n      { return Pos(nw.line, pos.ch - old.ch + nw.ch) }\n    else\n      { return Pos(nw.line + (pos.line - old.line), pos.ch) }\n  }\n\n  // Used by replaceSelections to allow moving the selection to the\n  // start or around the replaced test. Hint may be \"start\" or \"around\".\n  function computeReplacedSel(doc, changes, hint) {\n    var out = [];\n    var oldPrev = Pos(doc.first, 0), newPrev = oldPrev;\n    for (var i = 0; i < changes.length; i++) {\n      var change = changes[i];\n      var from = offsetPos(change.from, oldPrev, newPrev);\n      var to = offsetPos(changeEnd(change), oldPrev, newPrev);\n      oldPrev = change.to;\n      newPrev = to;\n      if (hint == \"around\") {\n        var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0;\n        out[i] = new Range(inv ? to : from, inv ? from : to);\n      } else {\n        out[i] = new Range(from, from);\n      }\n    }\n    return new Selection(out, doc.sel.primIndex)\n  }\n\n  // Used to get the editor into a consistent state again when options change.\n\n  function loadMode(cm) {\n    cm.doc.mode = getMode(cm.options, cm.doc.modeOption);\n    resetModeState(cm);\n  }\n\n  function resetModeState(cm) {\n    cm.doc.iter(function (line) {\n      if (line.stateAfter) { line.stateAfter = null; }\n      if (line.styles) { line.styles = null; }\n    });\n    cm.doc.modeFrontier = cm.doc.highlightFrontier = cm.doc.first;\n    startWorker(cm, 100);\n    cm.state.modeGen++;\n    if (cm.curOp) { regChange(cm); }\n  }\n\n  // DOCUMENT DATA STRUCTURE\n\n  // By default, updates that start and end at the beginning of a line\n  // are treated specially, in order to make the association of line\n  // widgets and marker elements with the text behave more intuitive.\n  function isWholeLineUpdate(doc, change) {\n    return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" &&\n      (!doc.cm || doc.cm.options.wholeLineUpdateBefore)\n  }\n\n  // Perform a change on the document data structure.\n  function updateDoc(doc, change, markedSpans, estimateHeight) {\n    function spansFor(n) {return markedSpans ? markedSpans[n] : null}\n    function update(line, text, spans) {\n      updateLine(line, text, spans, estimateHeight);\n      signalLater(line, \"change\", line, change);\n    }\n    function linesFor(start, end) {\n      var result = [];\n      for (var i = start; i < end; ++i)\n        { result.push(new Line(text[i], spansFor(i), estimateHeight)); }\n      return result\n    }\n\n    var from = change.from, to = change.to, text = change.text;\n    var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line);\n    var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line;\n\n    // Adjust the line structure\n    if (change.full) {\n      doc.insert(0, linesFor(0, text.length));\n      doc.remove(text.length, doc.size - text.length);\n    } else if (isWholeLineUpdate(doc, change)) {\n      // This is a whole-line replace. Treated specially to make\n      // sure line objects move the way they are supposed to.\n      var added = linesFor(0, text.length - 1);\n      update(lastLine, lastLine.text, lastSpans);\n      if (nlines) { doc.remove(from.line, nlines); }\n      if (added.length) { doc.insert(from.line, added); }\n    } else if (firstLine == lastLine) {\n      if (text.length == 1) {\n        update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans);\n      } else {\n        var added$1 = linesFor(1, text.length - 1);\n        added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight));\n        update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n        doc.insert(from.line + 1, added$1);\n      }\n    } else if (text.length == 1) {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0));\n      doc.remove(from.line + 1, nlines);\n    } else {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n      update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans);\n      var added$2 = linesFor(1, text.length - 1);\n      if (nlines > 1) { doc.remove(from.line + 1, nlines - 1); }\n      doc.insert(from.line + 1, added$2);\n    }\n\n    signalLater(doc, \"change\", doc, change);\n  }\n\n  // Call f for all linked documents.\n  function linkedDocs(doc, f, sharedHistOnly) {\n    function propagate(doc, skip, sharedHist) {\n      if (doc.linked) { for (var i = 0; i < doc.linked.length; ++i) {\n        var rel = doc.linked[i];\n        if (rel.doc == skip) { continue }\n        var shared = sharedHist && rel.sharedHist;\n        if (sharedHistOnly && !shared) { continue }\n        f(rel.doc, shared);\n        propagate(rel.doc, doc, shared);\n      } }\n    }\n    propagate(doc, null, true);\n  }\n\n  // Attach a document to an editor.\n  function attachDoc(cm, doc) {\n    if (doc.cm) { throw new Error(\"This document is already in use.\") }\n    cm.doc = doc;\n    doc.cm = cm;\n    estimateLineHeights(cm);\n    loadMode(cm);\n    setDirectionClass(cm);\n    if (!cm.options.lineWrapping) { findMaxLine(cm); }\n    cm.options.mode = doc.modeOption;\n    regChange(cm);\n  }\n\n  function setDirectionClass(cm) {\n  (cm.doc.direction == \"rtl\" ? addClass : rmClass)(cm.display.lineDiv, \"CodeMirror-rtl\");\n  }\n\n  function directionChanged(cm) {\n    runInOp(cm, function () {\n      setDirectionClass(cm);\n      regChange(cm);\n    });\n  }\n\n  function History(startGen) {\n    // Arrays of change events and selections. Doing something adds an\n    // event to done and clears undo. Undoing moves events from done\n    // to undone, redoing moves them in the other direction.\n    this.done = []; this.undone = [];\n    this.undoDepth = Infinity;\n    // Used to track when changes can be merged into a single undo\n    // event\n    this.lastModTime = this.lastSelTime = 0;\n    this.lastOp = this.lastSelOp = null;\n    this.lastOrigin = this.lastSelOrigin = null;\n    // Used by the isClean() method\n    this.generation = this.maxGeneration = startGen || 1;\n  }\n\n  // Create a history change event from an updateDoc-style change\n  // object.\n  function historyChangeFromChange(doc, change) {\n    var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)};\n    attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);\n    linkedDocs(doc, function (doc) { return attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1); }, true);\n    return histChange\n  }\n\n  // Pop all selection events off the end of a history array. Stop at\n  // a change event.\n  function clearSelectionEvents(array) {\n    while (array.length) {\n      var last = lst(array);\n      if (last.ranges) { array.pop(); }\n      else { break }\n    }\n  }\n\n  // Find the top change event in the history. Pop off selection\n  // events that are in the way.\n  function lastChangeEvent(hist, force) {\n    if (force) {\n      clearSelectionEvents(hist.done);\n      return lst(hist.done)\n    } else if (hist.done.length && !lst(hist.done).ranges) {\n      return lst(hist.done)\n    } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\n      hist.done.pop();\n      return lst(hist.done)\n    }\n  }\n\n  // Register a change in the history. Merges changes that are within\n  // a single operation, or are close together with an origin that\n  // allows merging (starting with \"+\") into a single event.\n  function addChangeToHistory(doc, change, selAfter, opId) {\n    var hist = doc.history;\n    hist.undone.length = 0;\n    var time = +new Date, cur;\n    var last;\n\n    if ((hist.lastOp == opId ||\n         hist.lastOrigin == change.origin && change.origin &&\n         ((change.origin.charAt(0) == \"+\" && hist.lastModTime > time - (doc.cm ? doc.cm.options.historyEventDelay : 500)) ||\n          change.origin.charAt(0) == \"*\")) &&\n        (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\n      // Merge this change into the last event\n      last = lst(cur.changes);\n      if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\n        // Optimized case for simple insertion -- don't want to add\n        // new changesets for every character typed\n        last.to = changeEnd(change);\n      } else {\n        // Add new sub-event\n        cur.changes.push(historyChangeFromChange(doc, change));\n      }\n    } else {\n      // Can not be merged, start a new event.\n      var before = lst(hist.done);\n      if (!before || !before.ranges)\n        { pushSelectionToHistory(doc.sel, hist.done); }\n      cur = {changes: [historyChangeFromChange(doc, change)],\n             generation: hist.generation};\n      hist.done.push(cur);\n      while (hist.done.length > hist.undoDepth) {\n        hist.done.shift();\n        if (!hist.done[0].ranges) { hist.done.shift(); }\n      }\n    }\n    hist.done.push(selAfter);\n    hist.generation = ++hist.maxGeneration;\n    hist.lastModTime = hist.lastSelTime = time;\n    hist.lastOp = hist.lastSelOp = opId;\n    hist.lastOrigin = hist.lastSelOrigin = change.origin;\n\n    if (!last) { signal(doc, \"historyAdded\"); }\n  }\n\n  function selectionEventCanBeMerged(doc, origin, prev, sel) {\n    var ch = origin.charAt(0);\n    return ch == \"*\" ||\n      ch == \"+\" &&\n      prev.ranges.length == sel.ranges.length &&\n      prev.somethingSelected() == sel.somethingSelected() &&\n      new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500)\n  }\n\n  // Called whenever the selection changes, sets the new selection as\n  // the pending selection in the history, and pushes the old pending\n  // selection into the 'done' array when it was significantly\n  // different (in number of selected ranges, emptiness, or time).\n  function addSelectionToHistory(doc, sel, opId, options) {\n    var hist = doc.history, origin = options && options.origin;\n\n    // A new event is started when the previous origin does not match\n    // the current, or the origins don't allow matching. Origins\n    // starting with * are always merged, those starting with + are\n    // merged when similar and close together in time.\n    if (opId == hist.lastSelOp ||\n        (origin && hist.lastSelOrigin == origin &&\n         (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||\n          selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))\n      { hist.done[hist.done.length - 1] = sel; }\n    else\n      { pushSelectionToHistory(sel, hist.done); }\n\n    hist.lastSelTime = +new Date;\n    hist.lastSelOrigin = origin;\n    hist.lastSelOp = opId;\n    if (options && options.clearRedo !== false)\n      { clearSelectionEvents(hist.undone); }\n  }\n\n  function pushSelectionToHistory(sel, dest) {\n    var top = lst(dest);\n    if (!(top && top.ranges && top.equals(sel)))\n      { dest.push(sel); }\n  }\n\n  // Used to store marked span information in the history.\n  function attachLocalSpans(doc, change, from, to) {\n    var existing = change[\"spans_\" + doc.id], n = 0;\n    doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function (line) {\n      if (line.markedSpans)\n        { (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans; }\n      ++n;\n    });\n  }\n\n  // When un/re-doing restores text containing marked spans, those\n  // that have been explicitly cleared should not be restored.\n  function removeClearedSpans(spans) {\n    if (!spans) { return null }\n    var out;\n    for (var i = 0; i < spans.length; ++i) {\n      if (spans[i].marker.explicitlyCleared) { if (!out) { out = spans.slice(0, i); } }\n      else if (out) { out.push(spans[i]); }\n    }\n    return !out ? spans : out.length ? out : null\n  }\n\n  // Retrieve and filter the old marked spans stored in a change event.\n  function getOldSpans(doc, change) {\n    var found = change[\"spans_\" + doc.id];\n    if (!found) { return null }\n    var nw = [];\n    for (var i = 0; i < change.text.length; ++i)\n      { nw.push(removeClearedSpans(found[i])); }\n    return nw\n  }\n\n  // Used for un/re-doing changes from the history. Combines the\n  // result of computing the existing spans with the set of spans that\n  // existed in the history (so that deleting around a span and then\n  // undoing brings back the span).\n  function mergeOldSpans(doc, change) {\n    var old = getOldSpans(doc, change);\n    var stretched = stretchSpansOverChange(doc, change);\n    if (!old) { return stretched }\n    if (!stretched) { return old }\n\n    for (var i = 0; i < old.length; ++i) {\n      var oldCur = old[i], stretchCur = stretched[i];\n      if (oldCur && stretchCur) {\n        spans: for (var j = 0; j < stretchCur.length; ++j) {\n          var span = stretchCur[j];\n          for (var k = 0; k < oldCur.length; ++k)\n            { if (oldCur[k].marker == span.marker) { continue spans } }\n          oldCur.push(span);\n        }\n      } else if (stretchCur) {\n        old[i] = stretchCur;\n      }\n    }\n    return old\n  }\n\n  // Used both to provide a JSON-safe object in .getHistory, and, when\n  // detaching a document, to split the history in two\n  function copyHistoryArray(events, newGroup, instantiateSel) {\n    var copy = [];\n    for (var i = 0; i < events.length; ++i) {\n      var event = events[i];\n      if (event.ranges) {\n        copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event);\n        continue\n      }\n      var changes = event.changes, newChanges = [];\n      copy.push({changes: newChanges});\n      for (var j = 0; j < changes.length; ++j) {\n        var change = changes[j], m = (void 0);\n        newChanges.push({from: change.from, to: change.to, text: change.text});\n        if (newGroup) { for (var prop in change) { if (m = prop.match(/^spans_(\\d+)$/)) {\n          if (indexOf(newGroup, Number(m[1])) > -1) {\n            lst(newChanges)[prop] = change[prop];\n            delete change[prop];\n          }\n        } } }\n      }\n    }\n    return copy\n  }\n\n  // The 'scroll' parameter given to many of these indicated whether\n  // the new cursor position should be scrolled into view after\n  // modifying the selection.\n\n  // If shift is held or the extend flag is set, extends a range to\n  // include a given position (and optionally a second position).\n  // Otherwise, simply returns the range between the given positions.\n  // Used for cursor motion and such.\n  function extendRange(range, head, other, extend) {\n    if (extend) {\n      var anchor = range.anchor;\n      if (other) {\n        var posBefore = cmp(head, anchor) < 0;\n        if (posBefore != (cmp(other, anchor) < 0)) {\n          anchor = head;\n          head = other;\n        } else if (posBefore != (cmp(head, other) < 0)) {\n          head = other;\n        }\n      }\n      return new Range(anchor, head)\n    } else {\n      return new Range(other || head, head)\n    }\n  }\n\n  // Extend the primary selection range, discard the rest.\n  function extendSelection(doc, head, other, options, extend) {\n    if (extend == null) { extend = doc.cm && (doc.cm.display.shift || doc.extend); }\n    setSelection(doc, new Selection([extendRange(doc.sel.primary(), head, other, extend)], 0), options);\n  }\n\n  // Extend all selections (pos is an array of selections with length\n  // equal the number of selections)\n  function extendSelections(doc, heads, options) {\n    var out = [];\n    var extend = doc.cm && (doc.cm.display.shift || doc.extend);\n    for (var i = 0; i < doc.sel.ranges.length; i++)\n      { out[i] = extendRange(doc.sel.ranges[i], heads[i], null, extend); }\n    var newSel = normalizeSelection(doc.cm, out, doc.sel.primIndex);\n    setSelection(doc, newSel, options);\n  }\n\n  // Updates a single range in the selection.\n  function replaceOneSelection(doc, i, range, options) {\n    var ranges = doc.sel.ranges.slice(0);\n    ranges[i] = range;\n    setSelection(doc, normalizeSelection(doc.cm, ranges, doc.sel.primIndex), options);\n  }\n\n  // Reset the selection to a single range.\n  function setSimpleSelection(doc, anchor, head, options) {\n    setSelection(doc, simpleSelection(anchor, head), options);\n  }\n\n  // Give beforeSelectionChange handlers a change to influence a\n  // selection update.\n  function filterSelectionChange(doc, sel, options) {\n    var obj = {\n      ranges: sel.ranges,\n      update: function(ranges) {\n        this.ranges = [];\n        for (var i = 0; i < ranges.length; i++)\n          { this.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),\n                                     clipPos(doc, ranges[i].head)); }\n      },\n      origin: options && options.origin\n    };\n    signal(doc, \"beforeSelectionChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj); }\n    if (obj.ranges != sel.ranges) { return normalizeSelection(doc.cm, obj.ranges, obj.ranges.length - 1) }\n    else { return sel }\n  }\n\n  function setSelectionReplaceHistory(doc, sel, options) {\n    var done = doc.history.done, last = lst(done);\n    if (last && last.ranges) {\n      done[done.length - 1] = sel;\n      setSelectionNoUndo(doc, sel, options);\n    } else {\n      setSelection(doc, sel, options);\n    }\n  }\n\n  // Set a new selection.\n  function setSelection(doc, sel, options) {\n    setSelectionNoUndo(doc, sel, options);\n    addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options);\n  }\n\n  function setSelectionNoUndo(doc, sel, options) {\n    if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\"))\n      { sel = filterSelectionChange(doc, sel, options); }\n\n    var bias = options && options.bias ||\n      (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1);\n    setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true));\n\n    if (!(options && options.scroll === false) && doc.cm)\n      { ensureCursorVisible(doc.cm); }\n  }\n\n  function setSelectionInner(doc, sel) {\n    if (sel.equals(doc.sel)) { return }\n\n    doc.sel = sel;\n\n    if (doc.cm) {\n      doc.cm.curOp.updateInput = 1;\n      doc.cm.curOp.selectionChanged = true;\n      signalCursorActivity(doc.cm);\n    }\n    signalLater(doc, \"cursorActivity\", doc);\n  }\n\n  // Verify that the selection does not partially select any atomic\n  // marked ranges.\n  function reCheckSelection(doc) {\n    setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false));\n  }\n\n  // Return a selection that does not partially select any atomic\n  // ranges.\n  function skipAtomicInSelection(doc, sel, bias, mayClear) {\n    var out;\n    for (var i = 0; i < sel.ranges.length; i++) {\n      var range = sel.ranges[i];\n      var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i];\n      var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear);\n      var newHead = skipAtomic(doc, range.head, old && old.head, bias, mayClear);\n      if (out || newAnchor != range.anchor || newHead != range.head) {\n        if (!out) { out = sel.ranges.slice(0, i); }\n        out[i] = new Range(newAnchor, newHead);\n      }\n    }\n    return out ? normalizeSelection(doc.cm, out, sel.primIndex) : sel\n  }\n\n  function skipAtomicInner(doc, pos, oldPos, dir, mayClear) {\n    var line = getLine(doc, pos.line);\n    if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n      var sp = line.markedSpans[i], m = sp.marker;\n\n      // Determine if we should prevent the cursor being placed to the left/right of an atomic marker\n      // Historically this was determined using the inclusiveLeft/Right option, but the new way to control it\n      // is with selectLeft/Right\n      var preventCursorLeft = (\"selectLeft\" in m) ? !m.selectLeft : m.inclusiveLeft;\n      var preventCursorRight = (\"selectRight\" in m) ? !m.selectRight : m.inclusiveRight;\n\n      if ((sp.from == null || (preventCursorLeft ? sp.from <= pos.ch : sp.from < pos.ch)) &&\n          (sp.to == null || (preventCursorRight ? sp.to >= pos.ch : sp.to > pos.ch))) {\n        if (mayClear) {\n          signal(m, \"beforeCursorEnter\");\n          if (m.explicitlyCleared) {\n            if (!line.markedSpans) { break }\n            else {--i; continue}\n          }\n        }\n        if (!m.atomic) { continue }\n\n        if (oldPos) {\n          var near = m.find(dir < 0 ? 1 : -1), diff = (void 0);\n          if (dir < 0 ? preventCursorRight : preventCursorLeft)\n            { near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null); }\n          if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0))\n            { return skipAtomicInner(doc, near, pos, dir, mayClear) }\n        }\n\n        var far = m.find(dir < 0 ? -1 : 1);\n        if (dir < 0 ? preventCursorLeft : preventCursorRight)\n          { far = movePos(doc, far, dir, far.line == pos.line ? line : null); }\n        return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null\n      }\n    } }\n    return pos\n  }\n\n  // Ensure a given position is not inside an atomic range.\n  function skipAtomic(doc, pos, oldPos, bias, mayClear) {\n    var dir = bias || 1;\n    var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, dir, true)) ||\n        skipAtomicInner(doc, pos, oldPos, -dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true));\n    if (!found) {\n      doc.cantEdit = true;\n      return Pos(doc.first, 0)\n    }\n    return found\n  }\n\n  function movePos(doc, pos, dir, line) {\n    if (dir < 0 && pos.ch == 0) {\n      if (pos.line > doc.first) { return clipPos(doc, Pos(pos.line - 1)) }\n      else { return null }\n    } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {\n      if (pos.line < doc.first + doc.size - 1) { return Pos(pos.line + 1, 0) }\n      else { return null }\n    } else {\n      return new Pos(pos.line, pos.ch + dir)\n    }\n  }\n\n  function selectAll(cm) {\n    cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll);\n  }\n\n  // UPDATING\n\n  // Allow \"beforeChange\" event handlers to influence a change\n  function filterChange(doc, change, update) {\n    var obj = {\n      canceled: false,\n      from: change.from,\n      to: change.to,\n      text: change.text,\n      origin: change.origin,\n      cancel: function () { return obj.canceled = true; }\n    };\n    if (update) { obj.update = function (from, to, text, origin) {\n      if (from) { obj.from = clipPos(doc, from); }\n      if (to) { obj.to = clipPos(doc, to); }\n      if (text) { obj.text = text; }\n      if (origin !== undefined) { obj.origin = origin; }\n    }; }\n    signal(doc, \"beforeChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeChange\", doc.cm, obj); }\n\n    if (obj.canceled) {\n      if (doc.cm) { doc.cm.curOp.updateInput = 2; }\n      return null\n    }\n    return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin}\n  }\n\n  // Apply a change to a document, and add it to the document's\n  // history, and propagating it to all linked documents.\n  function makeChange(doc, change, ignoreReadOnly) {\n    if (doc.cm) {\n      if (!doc.cm.curOp) { return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly) }\n      if (doc.cm.state.suppressEdits) { return }\n    }\n\n    if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\n      change = filterChange(doc, change, true);\n      if (!change) { return }\n    }\n\n    // Possibly split or suppress the update based on the presence\n    // of read-only spans in its range.\n    var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to);\n    if (split) {\n      for (var i = split.length - 1; i >= 0; --i)\n        { makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [\"\"] : change.text, origin: change.origin}); }\n    } else {\n      makeChangeInner(doc, change);\n    }\n  }\n\n  function makeChangeInner(doc, change) {\n    if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) { return }\n    var selAfter = computeSelAfterChange(doc, change);\n    addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN);\n\n    makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change));\n    var rebased = [];\n\n    linkedDocs(doc, function (doc, sharedHist) {\n      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n        rebaseHist(doc.history, change);\n        rebased.push(doc.history);\n      }\n      makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change));\n    });\n  }\n\n  // Revert a change stored in a document's history.\n  function makeChangeFromHistory(doc, type, allowSelectionOnly) {\n    var suppress = doc.cm && doc.cm.state.suppressEdits;\n    if (suppress && !allowSelectionOnly) { return }\n\n    var hist = doc.history, event, selAfter = doc.sel;\n    var source = type == \"undo\" ? hist.done : hist.undone, dest = type == \"undo\" ? hist.undone : hist.done;\n\n    // Verify that there is a useable event (so that ctrl-z won't\n    // needlessly clear selection events)\n    var i = 0;\n    for (; i < source.length; i++) {\n      event = source[i];\n      if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)\n        { break }\n    }\n    if (i == source.length) { return }\n    hist.lastOrigin = hist.lastSelOrigin = null;\n\n    for (;;) {\n      event = source.pop();\n      if (event.ranges) {\n        pushSelectionToHistory(event, dest);\n        if (allowSelectionOnly && !event.equals(doc.sel)) {\n          setSelection(doc, event, {clearRedo: false});\n          return\n        }\n        selAfter = event;\n      } else if (suppress) {\n        source.push(event);\n        return\n      } else { break }\n    }\n\n    // Build up a reverse change object to add to the opposite history\n    // stack (redo when undoing, and vice versa).\n    var antiChanges = [];\n    pushSelectionToHistory(selAfter, dest);\n    dest.push({changes: antiChanges, generation: hist.generation});\n    hist.generation = event.generation || ++hist.maxGeneration;\n\n    var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\");\n\n    var loop = function ( i ) {\n      var change = event.changes[i];\n      change.origin = type;\n      if (filter && !filterChange(doc, change, false)) {\n        source.length = 0;\n        return {}\n      }\n\n      antiChanges.push(historyChangeFromChange(doc, change));\n\n      var after = i ? computeSelAfterChange(doc, change) : lst(source);\n      makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change));\n      if (!i && doc.cm) { doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)}); }\n      var rebased = [];\n\n      // Propagate to the linked documents\n      linkedDocs(doc, function (doc, sharedHist) {\n        if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n          rebaseHist(doc.history, change);\n          rebased.push(doc.history);\n        }\n        makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change));\n      });\n    };\n\n    for (var i$1 = event.changes.length - 1; i$1 >= 0; --i$1) {\n      var returned = loop( i$1 );\n\n      if ( returned ) return returned.v;\n    }\n  }\n\n  // Sub-views need their line numbers shifted when text is added\n  // above or below them in the parent document.\n  function shiftDoc(doc, distance) {\n    if (distance == 0) { return }\n    doc.first += distance;\n    doc.sel = new Selection(map(doc.sel.ranges, function (range) { return new Range(\n      Pos(range.anchor.line + distance, range.anchor.ch),\n      Pos(range.head.line + distance, range.head.ch)\n    ); }), doc.sel.primIndex);\n    if (doc.cm) {\n      regChange(doc.cm, doc.first, doc.first - distance, distance);\n      for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)\n        { regLineChange(doc.cm, l, \"gutter\"); }\n    }\n  }\n\n  // More lower-level change function, handling only a single document\n  // (not linked ones).\n  function makeChangeSingleDoc(doc, change, selAfter, spans) {\n    if (doc.cm && !doc.cm.curOp)\n      { return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans) }\n\n    if (change.to.line < doc.first) {\n      shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line));\n      return\n    }\n    if (change.from.line > doc.lastLine()) { return }\n\n    // Clip the change to the size of this doc\n    if (change.from.line < doc.first) {\n      var shift = change.text.length - 1 - (doc.first - change.from.line);\n      shiftDoc(doc, shift);\n      change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),\n                text: [lst(change.text)], origin: change.origin};\n    }\n    var last = doc.lastLine();\n    if (change.to.line > last) {\n      change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),\n                text: [change.text[0]], origin: change.origin};\n    }\n\n    change.removed = getBetween(doc, change.from, change.to);\n\n    if (!selAfter) { selAfter = computeSelAfterChange(doc, change); }\n    if (doc.cm) { makeChangeSingleDocInEditor(doc.cm, change, spans); }\n    else { updateDoc(doc, change, spans); }\n    setSelectionNoUndo(doc, selAfter, sel_dontScroll);\n\n    if (doc.cantEdit && skipAtomic(doc, Pos(doc.firstLine(), 0)))\n      { doc.cantEdit = false; }\n  }\n\n  // Handle the interaction of a change to a document with the editor\n  // that this document is part of.\n  function makeChangeSingleDocInEditor(cm, change, spans) {\n    var doc = cm.doc, display = cm.display, from = change.from, to = change.to;\n\n    var recomputeMaxLength = false, checkWidthStart = from.line;\n    if (!cm.options.lineWrapping) {\n      checkWidthStart = lineNo(visualLine(getLine(doc, from.line)));\n      doc.iter(checkWidthStart, to.line + 1, function (line) {\n        if (line == display.maxLine) {\n          recomputeMaxLength = true;\n          return true\n        }\n      });\n    }\n\n    if (doc.sel.contains(change.from, change.to) > -1)\n      { signalCursorActivity(cm); }\n\n    updateDoc(doc, change, spans, estimateHeight(cm));\n\n    if (!cm.options.lineWrapping) {\n      doc.iter(checkWidthStart, from.line + change.text.length, function (line) {\n        var len = lineLength(line);\n        if (len > display.maxLineLength) {\n          display.maxLine = line;\n          display.maxLineLength = len;\n          display.maxLineChanged = true;\n          recomputeMaxLength = false;\n        }\n      });\n      if (recomputeMaxLength) { cm.curOp.updateMaxLine = true; }\n    }\n\n    retreatFrontier(doc, from.line);\n    startWorker(cm, 400);\n\n    var lendiff = change.text.length - (to.line - from.line) - 1;\n    // Remember that these lines changed, for updating the display\n    if (change.full)\n      { regChange(cm); }\n    else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))\n      { regLineChange(cm, from.line, \"text\"); }\n    else\n      { regChange(cm, from.line, to.line + 1, lendiff); }\n\n    var changesHandler = hasHandler(cm, \"changes\"), changeHandler = hasHandler(cm, \"change\");\n    if (changeHandler || changesHandler) {\n      var obj = {\n        from: from, to: to,\n        text: change.text,\n        removed: change.removed,\n        origin: change.origin\n      };\n      if (changeHandler) { signalLater(cm, \"change\", cm, obj); }\n      if (changesHandler) { (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj); }\n    }\n    cm.display.selForContextMenu = null;\n  }\n\n  function replaceRange(doc, code, from, to, origin) {\n    var assign;\n\n    if (!to) { to = from; }\n    if (cmp(to, from) < 0) { (assign = [to, from], from = assign[0], to = assign[1]); }\n    if (typeof code == \"string\") { code = doc.splitLines(code); }\n    makeChange(doc, {from: from, to: to, text: code, origin: origin});\n  }\n\n  // Rebasing/resetting history to deal with externally-sourced changes\n\n  function rebaseHistSelSingle(pos, from, to, diff) {\n    if (to < pos.line) {\n      pos.line += diff;\n    } else if (from < pos.line) {\n      pos.line = from;\n      pos.ch = 0;\n    }\n  }\n\n  // Tries to rebase an array of history events given a change in the\n  // document. If the change touches the same lines as the event, the\n  // event, and everything 'behind' it, is discarded. If the change is\n  // before the event, the event's positions are updated. Uses a\n  // copy-on-write scheme for the positions, to avoid having to\n  // reallocate them all on every rebase, but also avoid problems with\n  // shared position objects being unsafely updated.\n  function rebaseHistArray(array, from, to, diff) {\n    for (var i = 0; i < array.length; ++i) {\n      var sub = array[i], ok = true;\n      if (sub.ranges) {\n        if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true; }\n        for (var j = 0; j < sub.ranges.length; j++) {\n          rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff);\n          rebaseHistSelSingle(sub.ranges[j].head, from, to, diff);\n        }\n        continue\n      }\n      for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {\n        var cur = sub.changes[j$1];\n        if (to < cur.from.line) {\n          cur.from = Pos(cur.from.line + diff, cur.from.ch);\n          cur.to = Pos(cur.to.line + diff, cur.to.ch);\n        } else if (from <= cur.to.line) {\n          ok = false;\n          break\n        }\n      }\n      if (!ok) {\n        array.splice(0, i + 1);\n        i = 0;\n      }\n    }\n  }\n\n  function rebaseHist(hist, change) {\n    var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1;\n    rebaseHistArray(hist.done, from, to, diff);\n    rebaseHistArray(hist.undone, from, to, diff);\n  }\n\n  // Utility for applying a change to a line by handle or number,\n  // returning the number and optionally registering the line as\n  // changed.\n  function changeLine(doc, handle, changeType, op) {\n    var no = handle, line = handle;\n    if (typeof handle == \"number\") { line = getLine(doc, clipLine(doc, handle)); }\n    else { no = lineNo(handle); }\n    if (no == null) { return null }\n    if (op(line, no) && doc.cm) { regLineChange(doc.cm, no, changeType); }\n    return line\n  }\n\n  // The document is represented as a BTree consisting of leaves, with\n  // chunk of lines in them, and branches, with up to ten leaves or\n  // other branch nodes below them. The top node is always a branch\n  // node, and is the document object itself (meaning it has\n  // additional methods and properties).\n  //\n  // All nodes have parent links. The tree is used both to go from\n  // line numbers to line objects, and to go from objects to numbers.\n  // It also indexes by height, and is used to convert between height\n  // and line object, and to find the total height of the document.\n  //\n  // See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html\n\n  function LeafChunk(lines) {\n    this.lines = lines;\n    this.parent = null;\n    var height = 0;\n    for (var i = 0; i < lines.length; ++i) {\n      lines[i].parent = this;\n      height += lines[i].height;\n    }\n    this.height = height;\n  }\n\n  LeafChunk.prototype = {\n    chunkSize: function() { return this.lines.length },\n\n    // Remove the n lines at offset 'at'.\n    removeInner: function(at, n) {\n      for (var i = at, e = at + n; i < e; ++i) {\n        var line = this.lines[i];\n        this.height -= line.height;\n        cleanUpLine(line);\n        signalLater(line, \"delete\");\n      }\n      this.lines.splice(at, n);\n    },\n\n    // Helper used to collapse a small branch into a single leaf.\n    collapse: function(lines) {\n      lines.push.apply(lines, this.lines);\n    },\n\n    // Insert the given array of lines at offset 'at', count them as\n    // having the given height.\n    insertInner: function(at, lines, height) {\n      this.height += height;\n      this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));\n      for (var i = 0; i < lines.length; ++i) { lines[i].parent = this; }\n    },\n\n    // Used to iterate over a part of the tree.\n    iterN: function(at, n, op) {\n      for (var e = at + n; at < e; ++at)\n        { if (op(this.lines[at])) { return true } }\n    }\n  };\n\n  function BranchChunk(children) {\n    this.children = children;\n    var size = 0, height = 0;\n    for (var i = 0; i < children.length; ++i) {\n      var ch = children[i];\n      size += ch.chunkSize(); height += ch.height;\n      ch.parent = this;\n    }\n    this.size = size;\n    this.height = height;\n    this.parent = null;\n  }\n\n  BranchChunk.prototype = {\n    chunkSize: function() { return this.size },\n\n    removeInner: function(at, n) {\n      this.size -= n;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var rm = Math.min(n, sz - at), oldHeight = child.height;\n          child.removeInner(at, rm);\n          this.height -= oldHeight - child.height;\n          if (sz == rm) { this.children.splice(i--, 1); child.parent = null; }\n          if ((n -= rm) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n      // If the result is smaller than 25 lines, ensure that it is a\n      // single leaf node.\n      if (this.size - n < 25 &&\n          (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\n        var lines = [];\n        this.collapse(lines);\n        this.children = [new LeafChunk(lines)];\n        this.children[0].parent = this;\n      }\n    },\n\n    collapse: function(lines) {\n      for (var i = 0; i < this.children.length; ++i) { this.children[i].collapse(lines); }\n    },\n\n    insertInner: function(at, lines, height) {\n      this.size += lines.length;\n      this.height += height;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at <= sz) {\n          child.insertInner(at, lines, height);\n          if (child.lines && child.lines.length > 50) {\n            // To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.\n            // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\n            var remaining = child.lines.length % 25 + 25;\n            for (var pos = remaining; pos < child.lines.length;) {\n              var leaf = new LeafChunk(child.lines.slice(pos, pos += 25));\n              child.height -= leaf.height;\n              this.children.splice(++i, 0, leaf);\n              leaf.parent = this;\n            }\n            child.lines = child.lines.slice(0, remaining);\n            this.maybeSpill();\n          }\n          break\n        }\n        at -= sz;\n      }\n    },\n\n    // When a node has grown, check whether it should be split.\n    maybeSpill: function() {\n      if (this.children.length <= 10) { return }\n      var me = this;\n      do {\n        var spilled = me.children.splice(me.children.length - 5, 5);\n        var sibling = new BranchChunk(spilled);\n        if (!me.parent) { // Become the parent node\n          var copy = new BranchChunk(me.children);\n          copy.parent = me;\n          me.children = [copy, sibling];\n          me = copy;\n       } else {\n          me.size -= sibling.size;\n          me.height -= sibling.height;\n          var myIndex = indexOf(me.parent.children, me);\n          me.parent.children.splice(myIndex + 1, 0, sibling);\n        }\n        sibling.parent = me.parent;\n      } while (me.children.length > 10)\n      me.parent.maybeSpill();\n    },\n\n    iterN: function(at, n, op) {\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var used = Math.min(n, sz - at);\n          if (child.iterN(at, used, op)) { return true }\n          if ((n -= used) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n    }\n  };\n\n  // Line widgets are block elements displayed above or below a line.\n\n  var LineWidget = function(doc, node, options) {\n    if (options) { for (var opt in options) { if (options.hasOwnProperty(opt))\n      { this[opt] = options[opt]; } } }\n    this.doc = doc;\n    this.node = node;\n  };\n\n  LineWidget.prototype.clear = function () {\n    var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line);\n    if (no == null || !ws) { return }\n    for (var i = 0; i < ws.length; ++i) { if (ws[i] == this) { ws.splice(i--, 1); } }\n    if (!ws.length) { line.widgets = null; }\n    var height = widgetHeight(this);\n    updateLineHeight(line, Math.max(0, line.height - height));\n    if (cm) {\n      runInOp(cm, function () {\n        adjustScrollWhenAboveVisible(cm, line, -height);\n        regLineChange(cm, no, \"widget\");\n      });\n      signalLater(cm, \"lineWidgetCleared\", cm, this, no);\n    }\n  };\n\n  LineWidget.prototype.changed = function () {\n      var this$1 = this;\n\n    var oldH = this.height, cm = this.doc.cm, line = this.line;\n    this.height = null;\n    var diff = widgetHeight(this) - oldH;\n    if (!diff) { return }\n    if (!lineIsHidden(this.doc, line)) { updateLineHeight(line, line.height + diff); }\n    if (cm) {\n      runInOp(cm, function () {\n        cm.curOp.forceUpdate = true;\n        adjustScrollWhenAboveVisible(cm, line, diff);\n        signalLater(cm, \"lineWidgetChanged\", cm, this$1, lineNo(line));\n      });\n    }\n  };\n  eventMixin(LineWidget);\n\n  function adjustScrollWhenAboveVisible(cm, line, diff) {\n    if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))\n      { addToScrollTop(cm, diff); }\n  }\n\n  function addLineWidget(doc, handle, node, options) {\n    var widget = new LineWidget(doc, node, options);\n    var cm = doc.cm;\n    if (cm && widget.noHScroll) { cm.display.alignWidgets = true; }\n    changeLine(doc, handle, \"widget\", function (line) {\n      var widgets = line.widgets || (line.widgets = []);\n      if (widget.insertAt == null) { widgets.push(widget); }\n      else { widgets.splice(Math.min(widgets.length - 1, Math.max(0, widget.insertAt)), 0, widget); }\n      widget.line = line;\n      if (cm && !lineIsHidden(doc, line)) {\n        var aboveVisible = heightAtLine(line) < doc.scrollTop;\n        updateLineHeight(line, line.height + widgetHeight(widget));\n        if (aboveVisible) { addToScrollTop(cm, widget.height); }\n        cm.curOp.forceUpdate = true;\n      }\n      return true\n    });\n    if (cm) { signalLater(cm, \"lineWidgetAdded\", cm, widget, typeof handle == \"number\" ? handle : lineNo(handle)); }\n    return widget\n  }\n\n  // TEXTMARKERS\n\n  // Created with markText and setBookmark methods. A TextMarker is a\n  // handle that can be used to clear or find a marked position in the\n  // document. Line objects hold arrays (markedSpans) containing\n  // {from, to, marker} object pointing to such marker objects, and\n  // indicating that such a marker is present on that line. Multiple\n  // lines may point to the same marker when it spans across lines.\n  // The spans will have null for their from/to properties when the\n  // marker continues beyond the start/end of the line. Markers have\n  // links back to the lines they currently touch.\n\n  // Collapsed markers have unique ids, in order to be able to order\n  // them, which is needed for uniquely determining an outer marker\n  // when they overlap (they may nest, but not partially overlap).\n  var nextMarkerId = 0;\n\n  var TextMarker = function(doc, type) {\n    this.lines = [];\n    this.type = type;\n    this.doc = doc;\n    this.id = ++nextMarkerId;\n  };\n\n  // Clear the marker.\n  TextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) { return }\n    var cm = this.doc.cm, withOp = cm && !cm.curOp;\n    if (withOp) { startOperation(cm); }\n    if (hasHandler(this, \"clear\")) {\n      var found = this.find();\n      if (found) { signalLater(this, \"clear\", found.from, found.to); }\n    }\n    var min = null, max = null;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (cm && !this.collapsed) { regLineChange(cm, lineNo(line), \"text\"); }\n      else if (cm) {\n        if (span.to != null) { max = lineNo(line); }\n        if (span.from != null) { min = lineNo(line); }\n      }\n      line.markedSpans = removeMarkedSpan(line.markedSpans, span);\n      if (span.from == null && this.collapsed && !lineIsHidden(this.doc, line) && cm)\n        { updateLineHeight(line, textHeight(cm.display)); }\n    }\n    if (cm && this.collapsed && !cm.options.lineWrapping) { for (var i$1 = 0; i$1 < this.lines.length; ++i$1) {\n      var visual = visualLine(this.lines[i$1]), len = lineLength(visual);\n      if (len > cm.display.maxLineLength) {\n        cm.display.maxLine = visual;\n        cm.display.maxLineLength = len;\n        cm.display.maxLineChanged = true;\n      }\n    } }\n\n    if (min != null && cm && this.collapsed) { regChange(cm, min, max + 1); }\n    this.lines.length = 0;\n    this.explicitlyCleared = true;\n    if (this.atomic && this.doc.cantEdit) {\n      this.doc.cantEdit = false;\n      if (cm) { reCheckSelection(cm.doc); }\n    }\n    if (cm) { signalLater(cm, \"markerCleared\", cm, this, min, max); }\n    if (withOp) { endOperation(cm); }\n    if (this.parent) { this.parent.clear(); }\n  };\n\n  // Find the position of the marker in the document. Returns a {from,\n  // to} object by default. Side can be passed to get a specific side\n  // -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the\n  // Pos objects returned contain a line object, rather than a line\n  // number (used to prevent looking up the same line twice).\n  TextMarker.prototype.find = function (side, lineObj) {\n    if (side == null && this.type == \"bookmark\") { side = 1; }\n    var from, to;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (span.from != null) {\n        from = Pos(lineObj ? line : lineNo(line), span.from);\n        if (side == -1) { return from }\n      }\n      if (span.to != null) {\n        to = Pos(lineObj ? line : lineNo(line), span.to);\n        if (side == 1) { return to }\n      }\n    }\n    return from && {from: from, to: to}\n  };\n\n  // Signals that the marker's widget changed, and surrounding layout\n  // should be recomputed.\n  TextMarker.prototype.changed = function () {\n      var this$1 = this;\n\n    var pos = this.find(-1, true), widget = this, cm = this.doc.cm;\n    if (!pos || !cm) { return }\n    runInOp(cm, function () {\n      var line = pos.line, lineN = lineNo(pos.line);\n      var view = findViewForLine(cm, lineN);\n      if (view) {\n        clearLineMeasurementCacheFor(view);\n        cm.curOp.selectionChanged = cm.curOp.forceUpdate = true;\n      }\n      cm.curOp.updateMaxLine = true;\n      if (!lineIsHidden(widget.doc, line) && widget.height != null) {\n        var oldHeight = widget.height;\n        widget.height = null;\n        var dHeight = widgetHeight(widget) - oldHeight;\n        if (dHeight)\n          { updateLineHeight(line, line.height + dHeight); }\n      }\n      signalLater(cm, \"markerChanged\", cm, this$1);\n    });\n  };\n\n  TextMarker.prototype.attachLine = function (line) {\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp;\n      if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)\n        { (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this); }\n    }\n    this.lines.push(line);\n  };\n\n  TextMarker.prototype.detachLine = function (line) {\n    this.lines.splice(indexOf(this.lines, line), 1);\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp\n      ;(op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this);\n    }\n  };\n  eventMixin(TextMarker);\n\n  // Create a marker, wire it up to the right lines, and\n  function markText(doc, from, to, options, type) {\n    // Shared markers (across linked documents) are handled separately\n    // (markTextShared will call out to this again, once per\n    // document).\n    if (options && options.shared) { return markTextShared(doc, from, to, options, type) }\n    // Ensure we are in an operation.\n    if (doc.cm && !doc.cm.curOp) { return operation(doc.cm, markText)(doc, from, to, options, type) }\n\n    var marker = new TextMarker(doc, type), diff = cmp(from, to);\n    if (options) { copyObj(options, marker, false); }\n    // Don't connect empty markers unless clearWhenEmpty is false\n    if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)\n      { return marker }\n    if (marker.replacedWith) {\n      // Showing up as a widget implies collapsed (widget replaces text)\n      marker.collapsed = true;\n      marker.widgetNode = eltP(\"span\", [marker.replacedWith], \"CodeMirror-widget\");\n      if (!options.handleMouseEvents) { marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\"); }\n      if (options.insertLeft) { marker.widgetNode.insertLeft = true; }\n    }\n    if (marker.collapsed) {\n      if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||\n          from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))\n        { throw new Error(\"Inserting collapsed marker partially overlapping an existing one\") }\n      seeCollapsedSpans();\n    }\n\n    if (marker.addToHistory)\n      { addChangeToHistory(doc, {from: from, to: to, origin: \"markText\"}, doc.sel, NaN); }\n\n    var curLine = from.line, cm = doc.cm, updateMaxLine;\n    doc.iter(curLine, to.line + 1, function (line) {\n      if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)\n        { updateMaxLine = true; }\n      if (marker.collapsed && curLine != from.line) { updateLineHeight(line, 0); }\n      addMarkedSpan(line, new MarkedSpan(marker,\n                                         curLine == from.line ? from.ch : null,\n                                         curLine == to.line ? to.ch : null));\n      ++curLine;\n    });\n    // lineIsHidden depends on the presence of the spans, so needs a second pass\n    if (marker.collapsed) { doc.iter(from.line, to.line + 1, function (line) {\n      if (lineIsHidden(doc, line)) { updateLineHeight(line, 0); }\n    }); }\n\n    if (marker.clearOnEnter) { on(marker, \"beforeCursorEnter\", function () { return marker.clear(); }); }\n\n    if (marker.readOnly) {\n      seeReadOnlySpans();\n      if (doc.history.done.length || doc.history.undone.length)\n        { doc.clearHistory(); }\n    }\n    if (marker.collapsed) {\n      marker.id = ++nextMarkerId;\n      marker.atomic = true;\n    }\n    if (cm) {\n      // Sync editor state\n      if (updateMaxLine) { cm.curOp.updateMaxLine = true; }\n      if (marker.collapsed)\n        { regChange(cm, from.line, to.line + 1); }\n      else if (marker.className || marker.startStyle || marker.endStyle || marker.css ||\n               marker.attributes || marker.title)\n        { for (var i = from.line; i <= to.line; i++) { regLineChange(cm, i, \"text\"); } }\n      if (marker.atomic) { reCheckSelection(cm.doc); }\n      signalLater(cm, \"markerAdded\", cm, marker);\n    }\n    return marker\n  }\n\n  // SHARED TEXTMARKERS\n\n  // A shared marker spans multiple linked documents. It is\n  // implemented as a meta-marker-object controlling multiple normal\n  // markers.\n  var SharedTextMarker = function(markers, primary) {\n    this.markers = markers;\n    this.primary = primary;\n    for (var i = 0; i < markers.length; ++i)\n      { markers[i].parent = this; }\n  };\n\n  SharedTextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) { return }\n    this.explicitlyCleared = true;\n    for (var i = 0; i < this.markers.length; ++i)\n      { this.markers[i].clear(); }\n    signalLater(this, \"clear\");\n  };\n\n  SharedTextMarker.prototype.find = function (side, lineObj) {\n    return this.primary.find(side, lineObj)\n  };\n  eventMixin(SharedTextMarker);\n\n  function markTextShared(doc, from, to, options, type) {\n    options = copyObj(options);\n    options.shared = false;\n    var markers = [markText(doc, from, to, options, type)], primary = markers[0];\n    var widget = options.widgetNode;\n    linkedDocs(doc, function (doc) {\n      if (widget) { options.widgetNode = widget.cloneNode(true); }\n      markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type));\n      for (var i = 0; i < doc.linked.length; ++i)\n        { if (doc.linked[i].isParent) { return } }\n      primary = lst(markers);\n    });\n    return new SharedTextMarker(markers, primary)\n  }\n\n  function findSharedMarkers(doc) {\n    return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())), function (m) { return m.parent; })\n  }\n\n  function copySharedMarkers(doc, markers) {\n    for (var i = 0; i < markers.length; i++) {\n      var marker = markers[i], pos = marker.find();\n      var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to);\n      if (cmp(mFrom, mTo)) {\n        var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type);\n        marker.markers.push(subMark);\n        subMark.parent = marker;\n      }\n    }\n  }\n\n  function detachSharedMarkers(markers) {\n    var loop = function ( i ) {\n      var marker = markers[i], linked = [marker.primary.doc];\n      linkedDocs(marker.primary.doc, function (d) { return linked.push(d); });\n      for (var j = 0; j < marker.markers.length; j++) {\n        var subMarker = marker.markers[j];\n        if (indexOf(linked, subMarker.doc) == -1) {\n          subMarker.parent = null;\n          marker.markers.splice(j--, 1);\n        }\n      }\n    };\n\n    for (var i = 0; i < markers.length; i++) loop( i );\n  }\n\n  var nextDocId = 0;\n  var Doc = function(text, mode, firstLine, lineSep, direction) {\n    if (!(this instanceof Doc)) { return new Doc(text, mode, firstLine, lineSep, direction) }\n    if (firstLine == null) { firstLine = 0; }\n\n    BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])]);\n    this.first = firstLine;\n    this.scrollTop = this.scrollLeft = 0;\n    this.cantEdit = false;\n    this.cleanGeneration = 1;\n    this.modeFrontier = this.highlightFrontier = firstLine;\n    var start = Pos(firstLine, 0);\n    this.sel = simpleSelection(start);\n    this.history = new History(null);\n    this.id = ++nextDocId;\n    this.modeOption = mode;\n    this.lineSep = lineSep;\n    this.direction = (direction == \"rtl\") ? \"rtl\" : \"ltr\";\n    this.extend = false;\n\n    if (typeof text == \"string\") { text = this.splitLines(text); }\n    updateDoc(this, {from: start, to: start, text: text});\n    setSelection(this, simpleSelection(start), sel_dontScroll);\n  };\n\n  Doc.prototype = createObj(BranchChunk.prototype, {\n    constructor: Doc,\n    // Iterate over the document. Supports two forms -- with only one\n    // argument, it calls that for each line in the document. With\n    // three, it iterates over the range given by the first two (with\n    // the second being non-inclusive).\n    iter: function(from, to, op) {\n      if (op) { this.iterN(from - this.first, to - from, op); }\n      else { this.iterN(this.first, this.first + this.size, from); }\n    },\n\n    // Non-public interface for adding and removing lines.\n    insert: function(at, lines) {\n      var height = 0;\n      for (var i = 0; i < lines.length; ++i) { height += lines[i].height; }\n      this.insertInner(at - this.first, lines, height);\n    },\n    remove: function(at, n) { this.removeInner(at - this.first, n); },\n\n    // From here, the methods are part of the public interface. Most\n    // are also available from CodeMirror (editor) instances.\n\n    getValue: function(lineSep) {\n      var lines = getLines(this, this.first, this.first + this.size);\n      if (lineSep === false) { return lines }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n    setValue: docMethodOp(function(code) {\n      var top = Pos(this.first, 0), last = this.first + this.size - 1;\n      makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),\n                        text: this.splitLines(code), origin: \"setValue\", full: true}, true);\n      if (this.cm) { scrollToCoords(this.cm, 0, 0); }\n      setSelection(this, simpleSelection(top), sel_dontScroll);\n    }),\n    replaceRange: function(code, from, to, origin) {\n      from = clipPos(this, from);\n      to = to ? clipPos(this, to) : from;\n      replaceRange(this, code, from, to, origin);\n    },\n    getRange: function(from, to, lineSep) {\n      var lines = getBetween(this, clipPos(this, from), clipPos(this, to));\n      if (lineSep === false) { return lines }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n\n    getLine: function(line) {var l = this.getLineHandle(line); return l && l.text},\n\n    getLineHandle: function(line) {if (isLine(this, line)) { return getLine(this, line) }},\n    getLineNumber: function(line) {return lineNo(line)},\n\n    getLineHandleVisualStart: function(line) {\n      if (typeof line == \"number\") { line = getLine(this, line); }\n      return visualLine(line)\n    },\n\n    lineCount: function() {return this.size},\n    firstLine: function() {return this.first},\n    lastLine: function() {return this.first + this.size - 1},\n\n    clipPos: function(pos) {return clipPos(this, pos)},\n\n    getCursor: function(start) {\n      var range = this.sel.primary(), pos;\n      if (start == null || start == \"head\") { pos = range.head; }\n      else if (start == \"anchor\") { pos = range.anchor; }\n      else if (start == \"end\" || start == \"to\" || start === false) { pos = range.to(); }\n      else { pos = range.from(); }\n      return pos\n    },\n    listSelections: function() { return this.sel.ranges },\n    somethingSelected: function() {return this.sel.somethingSelected()},\n\n    setCursor: docMethodOp(function(line, ch, options) {\n      setSimpleSelection(this, clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options);\n    }),\n    setSelection: docMethodOp(function(anchor, head, options) {\n      setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options);\n    }),\n    extendSelection: docMethodOp(function(head, other, options) {\n      extendSelection(this, clipPos(this, head), other && clipPos(this, other), options);\n    }),\n    extendSelections: docMethodOp(function(heads, options) {\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    extendSelectionsBy: docMethodOp(function(f, options) {\n      var heads = map(this.sel.ranges, f);\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    setSelections: docMethodOp(function(ranges, primary, options) {\n      if (!ranges.length) { return }\n      var out = [];\n      for (var i = 0; i < ranges.length; i++)\n        { out[i] = new Range(clipPos(this, ranges[i].anchor),\n                           clipPos(this, ranges[i].head)); }\n      if (primary == null) { primary = Math.min(ranges.length - 1, this.sel.primIndex); }\n      setSelection(this, normalizeSelection(this.cm, out, primary), options);\n    }),\n    addSelection: docMethodOp(function(anchor, head, options) {\n      var ranges = this.sel.ranges.slice(0);\n      ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)));\n      setSelection(this, normalizeSelection(this.cm, ranges, ranges.length - 1), options);\n    }),\n\n    getSelection: function(lineSep) {\n      var ranges = this.sel.ranges, lines;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        lines = lines ? lines.concat(sel) : sel;\n      }\n      if (lineSep === false) { return lines }\n      else { return lines.join(lineSep || this.lineSeparator()) }\n    },\n    getSelections: function(lineSep) {\n      var parts = [], ranges = this.sel.ranges;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        if (lineSep !== false) { sel = sel.join(lineSep || this.lineSeparator()); }\n        parts[i] = sel;\n      }\n      return parts\n    },\n    replaceSelection: function(code, collapse, origin) {\n      var dup = [];\n      for (var i = 0; i < this.sel.ranges.length; i++)\n        { dup[i] = code; }\n      this.replaceSelections(dup, collapse, origin || \"+input\");\n    },\n    replaceSelections: docMethodOp(function(code, collapse, origin) {\n      var changes = [], sel = this.sel;\n      for (var i = 0; i < sel.ranges.length; i++) {\n        var range = sel.ranges[i];\n        changes[i] = {from: range.from(), to: range.to(), text: this.splitLines(code[i]), origin: origin};\n      }\n      var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse);\n      for (var i$1 = changes.length - 1; i$1 >= 0; i$1--)\n        { makeChange(this, changes[i$1]); }\n      if (newSel) { setSelectionReplaceHistory(this, newSel); }\n      else if (this.cm) { ensureCursorVisible(this.cm); }\n    }),\n    undo: docMethodOp(function() {makeChangeFromHistory(this, \"undo\");}),\n    redo: docMethodOp(function() {makeChangeFromHistory(this, \"redo\");}),\n    undoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"undo\", true);}),\n    redoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"redo\", true);}),\n\n    setExtending: function(val) {this.extend = val;},\n    getExtending: function() {return this.extend},\n\n    historySize: function() {\n      var hist = this.history, done = 0, undone = 0;\n      for (var i = 0; i < hist.done.length; i++) { if (!hist.done[i].ranges) { ++done; } }\n      for (var i$1 = 0; i$1 < hist.undone.length; i$1++) { if (!hist.undone[i$1].ranges) { ++undone; } }\n      return {undo: done, redo: undone}\n    },\n    clearHistory: function() {this.history = new History(this.history.maxGeneration);},\n\n    markClean: function() {\n      this.cleanGeneration = this.changeGeneration(true);\n    },\n    changeGeneration: function(forceSplit) {\n      if (forceSplit)\n        { this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null; }\n      return this.history.generation\n    },\n    isClean: function (gen) {\n      return this.history.generation == (gen || this.cleanGeneration)\n    },\n\n    getHistory: function() {\n      return {done: copyHistoryArray(this.history.done),\n              undone: copyHistoryArray(this.history.undone)}\n    },\n    setHistory: function(histData) {\n      var hist = this.history = new History(this.history.maxGeneration);\n      hist.done = copyHistoryArray(histData.done.slice(0), null, true);\n      hist.undone = copyHistoryArray(histData.undone.slice(0), null, true);\n    },\n\n    setGutterMarker: docMethodOp(function(line, gutterID, value) {\n      return changeLine(this, line, \"gutter\", function (line) {\n        var markers = line.gutterMarkers || (line.gutterMarkers = {});\n        markers[gutterID] = value;\n        if (!value && isEmpty(markers)) { line.gutterMarkers = null; }\n        return true\n      })\n    }),\n\n    clearGutter: docMethodOp(function(gutterID) {\n      var this$1 = this;\n\n      this.iter(function (line) {\n        if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\n          changeLine(this$1, line, \"gutter\", function () {\n            line.gutterMarkers[gutterID] = null;\n            if (isEmpty(line.gutterMarkers)) { line.gutterMarkers = null; }\n            return true\n          });\n        }\n      });\n    }),\n\n    lineInfo: function(line) {\n      var n;\n      if (typeof line == \"number\") {\n        if (!isLine(this, line)) { return null }\n        n = line;\n        line = getLine(this, line);\n        if (!line) { return null }\n      } else {\n        n = lineNo(line);\n        if (n == null) { return null }\n      }\n      return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,\n              textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,\n              widgets: line.widgets}\n    },\n\n    addLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        if (!line[prop]) { line[prop] = cls; }\n        else if (classTest(cls).test(line[prop])) { return false }\n        else { line[prop] += \" \" + cls; }\n        return true\n      })\n    }),\n    removeLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        var cur = line[prop];\n        if (!cur) { return false }\n        else if (cls == null) { line[prop] = null; }\n        else {\n          var found = cur.match(classTest(cls));\n          if (!found) { return false }\n          var end = found.index + found[0].length;\n          line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null;\n        }\n        return true\n      })\n    }),\n\n    addLineWidget: docMethodOp(function(handle, node, options) {\n      return addLineWidget(this, handle, node, options)\n    }),\n    removeLineWidget: function(widget) { widget.clear(); },\n\n    markText: function(from, to, options) {\n      return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || \"range\")\n    },\n    setBookmark: function(pos, options) {\n      var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),\n                      insertLeft: options && options.insertLeft,\n                      clearWhenEmpty: false, shared: options && options.shared,\n                      handleMouseEvents: options && options.handleMouseEvents};\n      pos = clipPos(this, pos);\n      return markText(this, pos, pos, realOpts, \"bookmark\")\n    },\n    findMarksAt: function(pos) {\n      pos = clipPos(this, pos);\n      var markers = [], spans = getLine(this, pos.line).markedSpans;\n      if (spans) { for (var i = 0; i < spans.length; ++i) {\n        var span = spans[i];\n        if ((span.from == null || span.from <= pos.ch) &&\n            (span.to == null || span.to >= pos.ch))\n          { markers.push(span.marker.parent || span.marker); }\n      } }\n      return markers\n    },\n    findMarks: function(from, to, filter) {\n      from = clipPos(this, from); to = clipPos(this, to);\n      var found = [], lineNo = from.line;\n      this.iter(from.line, to.line + 1, function (line) {\n        var spans = line.markedSpans;\n        if (spans) { for (var i = 0; i < spans.length; i++) {\n          var span = spans[i];\n          if (!(span.to != null && lineNo == from.line && from.ch >= span.to ||\n                span.from == null && lineNo != from.line ||\n                span.from != null && lineNo == to.line && span.from >= to.ch) &&\n              (!filter || filter(span.marker)))\n            { found.push(span.marker.parent || span.marker); }\n        } }\n        ++lineNo;\n      });\n      return found\n    },\n    getAllMarks: function() {\n      var markers = [];\n      this.iter(function (line) {\n        var sps = line.markedSpans;\n        if (sps) { for (var i = 0; i < sps.length; ++i)\n          { if (sps[i].from != null) { markers.push(sps[i].marker); } } }\n      });\n      return markers\n    },\n\n    posFromIndex: function(off) {\n      var ch, lineNo = this.first, sepSize = this.lineSeparator().length;\n      this.iter(function (line) {\n        var sz = line.text.length + sepSize;\n        if (sz > off) { ch = off; return true }\n        off -= sz;\n        ++lineNo;\n      });\n      return clipPos(this, Pos(lineNo, ch))\n    },\n    indexFromPos: function (coords) {\n      coords = clipPos(this, coords);\n      var index = coords.ch;\n      if (coords.line < this.first || coords.ch < 0) { return 0 }\n      var sepSize = this.lineSeparator().length;\n      this.iter(this.first, coords.line, function (line) { // iter aborts when callback returns a truthy value\n        index += line.text.length + sepSize;\n      });\n      return index\n    },\n\n    copy: function(copyHistory) {\n      var doc = new Doc(getLines(this, this.first, this.first + this.size),\n                        this.modeOption, this.first, this.lineSep, this.direction);\n      doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft;\n      doc.sel = this.sel;\n      doc.extend = false;\n      if (copyHistory) {\n        doc.history.undoDepth = this.history.undoDepth;\n        doc.setHistory(this.getHistory());\n      }\n      return doc\n    },\n\n    linkedDoc: function(options) {\n      if (!options) { options = {}; }\n      var from = this.first, to = this.first + this.size;\n      if (options.from != null && options.from > from) { from = options.from; }\n      if (options.to != null && options.to < to) { to = options.to; }\n      var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep, this.direction);\n      if (options.sharedHist) { copy.history = this.history\n      ; }(this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist});\n      copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}];\n      copySharedMarkers(copy, findSharedMarkers(this));\n      return copy\n    },\n    unlinkDoc: function(other) {\n      if (other instanceof CodeMirror) { other = other.doc; }\n      if (this.linked) { for (var i = 0; i < this.linked.length; ++i) {\n        var link = this.linked[i];\n        if (link.doc != other) { continue }\n        this.linked.splice(i, 1);\n        other.unlinkDoc(this);\n        detachSharedMarkers(findSharedMarkers(this));\n        break\n      } }\n      // If the histories were shared, split them again\n      if (other.history == this.history) {\n        var splitIds = [other.id];\n        linkedDocs(other, function (doc) { return splitIds.push(doc.id); }, true);\n        other.history = new History(null);\n        other.history.done = copyHistoryArray(this.history.done, splitIds);\n        other.history.undone = copyHistoryArray(this.history.undone, splitIds);\n      }\n    },\n    iterLinkedDocs: function(f) {linkedDocs(this, f);},\n\n    getMode: function() {return this.mode},\n    getEditor: function() {return this.cm},\n\n    splitLines: function(str) {\n      if (this.lineSep) { return str.split(this.lineSep) }\n      return splitLinesAuto(str)\n    },\n    lineSeparator: function() { return this.lineSep || \"\\n\" },\n\n    setDirection: docMethodOp(function (dir) {\n      if (dir != \"rtl\") { dir = \"ltr\"; }\n      if (dir == this.direction) { return }\n      this.direction = dir;\n      this.iter(function (line) { return line.order = null; });\n      if (this.cm) { directionChanged(this.cm); }\n    })\n  });\n\n  // Public alias.\n  Doc.prototype.eachLine = Doc.prototype.iter;\n\n  // Kludge to work around strange IE behavior where it'll sometimes\n  // re-fire a series of drag-related events right after the drop (#1551)\n  var lastDrop = 0;\n\n  function onDrop(e) {\n    var cm = this;\n    clearDragCursor(cm);\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))\n      { return }\n    e_preventDefault(e);\n    if (ie) { lastDrop = +new Date; }\n    var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files;\n    if (!pos || cm.isReadOnly()) { return }\n    // Might be a file drop, in which case we simply extract the text\n    // and insert it.\n    if (files && files.length && window.FileReader && window.File) {\n      var n = files.length, text = Array(n), read = 0;\n      var loadFile = function (file, i) {\n        if (cm.options.allowDropFileTypes &&\n            indexOf(cm.options.allowDropFileTypes, file.type) == -1)\n          { return }\n\n        var reader = new FileReader;\n        reader.onload = operation(cm, function () {\n          var content = reader.result;\n          if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)) { content = \"\"; }\n          text[i] = content;\n          if (++read == n) {\n            pos = clipPos(cm.doc, pos);\n            var change = {from: pos, to: pos,\n                          text: cm.doc.splitLines(text.join(cm.doc.lineSeparator())),\n                          origin: \"paste\"};\n            makeChange(cm.doc, change);\n            setSelectionReplaceHistory(cm.doc, simpleSelection(pos, changeEnd(change)));\n          }\n        });\n        reader.readAsText(file);\n      };\n      for (var i = 0; i < n; ++i) { loadFile(files[i], i); }\n    } else { // Normal drop\n      // Don't do a replace if the drop happened inside of the selected text.\n      if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\n        cm.state.draggingText(e);\n        // Ensure the editor is re-focused\n        setTimeout(function () { return cm.display.input.focus(); }, 20);\n        return\n      }\n      try {\n        var text$1 = e.dataTransfer.getData(\"Text\");\n        if (text$1) {\n          var selected;\n          if (cm.state.draggingText && !cm.state.draggingText.copy)\n            { selected = cm.listSelections(); }\n          setSelectionNoUndo(cm.doc, simpleSelection(pos, pos));\n          if (selected) { for (var i$1 = 0; i$1 < selected.length; ++i$1)\n            { replaceRange(cm.doc, \"\", selected[i$1].anchor, selected[i$1].head, \"drag\"); } }\n          cm.replaceSelection(text$1, \"around\", \"paste\");\n          cm.display.input.focus();\n        }\n      }\n      catch(e){}\n    }\n  }\n\n  function onDragStart(cm, e) {\n    if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return }\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) { return }\n\n    e.dataTransfer.setData(\"Text\", cm.getSelection());\n    e.dataTransfer.effectAllowed = \"copyMove\";\n\n    // Use dummy image instead of default browsers image.\n    // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.\n    if (e.dataTransfer.setDragImage && !safari) {\n      var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\");\n      img.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n      if (presto) {\n        img.width = img.height = 1;\n        cm.display.wrapper.appendChild(img);\n        // Force a relayout, or Opera won't use our image for some obscure reason\n        img._top = img.offsetTop;\n      }\n      e.dataTransfer.setDragImage(img, 0, 0);\n      if (presto) { img.parentNode.removeChild(img); }\n    }\n  }\n\n  function onDragOver(cm, e) {\n    var pos = posFromMouse(cm, e);\n    if (!pos) { return }\n    var frag = document.createDocumentFragment();\n    drawSelectionCursor(cm, pos, frag);\n    if (!cm.display.dragCursor) {\n      cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\");\n      cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv);\n    }\n    removeChildrenAndAdd(cm.display.dragCursor, frag);\n  }\n\n  function clearDragCursor(cm) {\n    if (cm.display.dragCursor) {\n      cm.display.lineSpace.removeChild(cm.display.dragCursor);\n      cm.display.dragCursor = null;\n    }\n  }\n\n  // These must be handled carefully, because naively registering a\n  // handler for each editor will cause the editors to never be\n  // garbage collected.\n\n  function forEachCodeMirror(f) {\n    if (!document.getElementsByClassName) { return }\n    var byClass = document.getElementsByClassName(\"CodeMirror\"), editors = [];\n    for (var i = 0; i < byClass.length; i++) {\n      var cm = byClass[i].CodeMirror;\n      if (cm) { editors.push(cm); }\n    }\n    if (editors.length) { editors[0].operation(function () {\n      for (var i = 0; i < editors.length; i++) { f(editors[i]); }\n    }); }\n  }\n\n  var globalsRegistered = false;\n  function ensureGlobalHandlers() {\n    if (globalsRegistered) { return }\n    registerGlobalHandlers();\n    globalsRegistered = true;\n  }\n  function registerGlobalHandlers() {\n    // When the window resizes, we need to refresh active editors.\n    var resizeTimer;\n    on(window, \"resize\", function () {\n      if (resizeTimer == null) { resizeTimer = setTimeout(function () {\n        resizeTimer = null;\n        forEachCodeMirror(onResize);\n      }, 100); }\n    });\n    // When the window loses focus, we want to show the editor as blurred\n    on(window, \"blur\", function () { return forEachCodeMirror(onBlur); });\n  }\n  // Called when the window resizes\n  function onResize(cm) {\n    var d = cm.display;\n    // Might be a text scaling operation, clear size caches.\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n    d.scrollbarsClipped = false;\n    cm.setSize();\n  }\n\n  var keyNames = {\n    3: \"Pause\", 8: \"Backspace\", 9: \"Tab\", 13: \"Enter\", 16: \"Shift\", 17: \"Ctrl\", 18: \"Alt\",\n    19: \"Pause\", 20: \"CapsLock\", 27: \"Esc\", 32: \"Space\", 33: \"PageUp\", 34: \"PageDown\", 35: \"End\",\n    36: \"Home\", 37: \"Left\", 38: \"Up\", 39: \"Right\", 40: \"Down\", 44: \"PrintScrn\", 45: \"Insert\",\n    46: \"Delete\", 59: \";\", 61: \"=\", 91: \"Mod\", 92: \"Mod\", 93: \"Mod\",\n    106: \"*\", 107: \"=\", 109: \"-\", 110: \".\", 111: \"/\", 145: \"ScrollLock\",\n    173: \"-\", 186: \";\", 187: \"=\", 188: \",\", 189: \"-\", 190: \".\", 191: \"/\", 192: \"`\", 219: \"[\", 220: \"\\\\\",\n    221: \"]\", 222: \"'\", 63232: \"Up\", 63233: \"Down\", 63234: \"Left\", 63235: \"Right\", 63272: \"Delete\",\n    63273: \"Home\", 63275: \"End\", 63276: \"PageUp\", 63277: \"PageDown\", 63302: \"Insert\"\n  };\n\n  // Number keys\n  for (var i = 0; i < 10; i++) { keyNames[i + 48] = keyNames[i + 96] = String(i); }\n  // Alphabetic keys\n  for (var i$1 = 65; i$1 <= 90; i$1++) { keyNames[i$1] = String.fromCharCode(i$1); }\n  // Function keys\n  for (var i$2 = 1; i$2 <= 12; i$2++) { keyNames[i$2 + 111] = keyNames[i$2 + 63235] = \"F\" + i$2; }\n\n  var keyMap = {};\n\n  keyMap.basic = {\n    \"Left\": \"goCharLeft\", \"Right\": \"goCharRight\", \"Up\": \"goLineUp\", \"Down\": \"goLineDown\",\n    \"End\": \"goLineEnd\", \"Home\": \"goLineStartSmart\", \"PageUp\": \"goPageUp\", \"PageDown\": \"goPageDown\",\n    \"Delete\": \"delCharAfter\", \"Backspace\": \"delCharBefore\", \"Shift-Backspace\": \"delCharBefore\",\n    \"Tab\": \"defaultTab\", \"Shift-Tab\": \"indentAuto\",\n    \"Enter\": \"newlineAndIndent\", \"Insert\": \"toggleOverwrite\",\n    \"Esc\": \"singleSelection\"\n  };\n  // Note that the save and find-related commands aren't defined by\n  // default. User code or addons can define them. Unknown commands\n  // are simply ignored.\n  keyMap.pcDefault = {\n    \"Ctrl-A\": \"selectAll\", \"Ctrl-D\": \"deleteLine\", \"Ctrl-Z\": \"undo\", \"Shift-Ctrl-Z\": \"redo\", \"Ctrl-Y\": \"redo\",\n    \"Ctrl-Home\": \"goDocStart\", \"Ctrl-End\": \"goDocEnd\", \"Ctrl-Up\": \"goLineUp\", \"Ctrl-Down\": \"goLineDown\",\n    \"Ctrl-Left\": \"goGroupLeft\", \"Ctrl-Right\": \"goGroupRight\", \"Alt-Left\": \"goLineStart\", \"Alt-Right\": \"goLineEnd\",\n    \"Ctrl-Backspace\": \"delGroupBefore\", \"Ctrl-Delete\": \"delGroupAfter\", \"Ctrl-S\": \"save\", \"Ctrl-F\": \"find\",\n    \"Ctrl-G\": \"findNext\", \"Shift-Ctrl-G\": \"findPrev\", \"Shift-Ctrl-F\": \"replace\", \"Shift-Ctrl-R\": \"replaceAll\",\n    \"Ctrl-[\": \"indentLess\", \"Ctrl-]\": \"indentMore\",\n    \"Ctrl-U\": \"undoSelection\", \"Shift-Ctrl-U\": \"redoSelection\", \"Alt-U\": \"redoSelection\",\n    \"fallthrough\": \"basic\"\n  };\n  // Very basic readline/emacs-style bindings, which are standard on Mac.\n  keyMap.emacsy = {\n    \"Ctrl-F\": \"goCharRight\", \"Ctrl-B\": \"goCharLeft\", \"Ctrl-P\": \"goLineUp\", \"Ctrl-N\": \"goLineDown\",\n    \"Alt-F\": \"goWordRight\", \"Alt-B\": \"goWordLeft\", \"Ctrl-A\": \"goLineStart\", \"Ctrl-E\": \"goLineEnd\",\n    \"Ctrl-V\": \"goPageDown\", \"Shift-Ctrl-V\": \"goPageUp\", \"Ctrl-D\": \"delCharAfter\", \"Ctrl-H\": \"delCharBefore\",\n    \"Alt-D\": \"delWordAfter\", \"Alt-Backspace\": \"delWordBefore\", \"Ctrl-K\": \"killLine\", \"Ctrl-T\": \"transposeChars\",\n    \"Ctrl-O\": \"openLine\"\n  };\n  keyMap.macDefault = {\n    \"Cmd-A\": \"selectAll\", \"Cmd-D\": \"deleteLine\", \"Cmd-Z\": \"undo\", \"Shift-Cmd-Z\": \"redo\", \"Cmd-Y\": \"redo\",\n    \"Cmd-Home\": \"goDocStart\", \"Cmd-Up\": \"goDocStart\", \"Cmd-End\": \"goDocEnd\", \"Cmd-Down\": \"goDocEnd\", \"Alt-Left\": \"goGroupLeft\",\n    \"Alt-Right\": \"goGroupRight\", \"Cmd-Left\": \"goLineLeft\", \"Cmd-Right\": \"goLineRight\", \"Alt-Backspace\": \"delGroupBefore\",\n    \"Ctrl-Alt-Backspace\": \"delGroupAfter\", \"Alt-Delete\": \"delGroupAfter\", \"Cmd-S\": \"save\", \"Cmd-F\": \"find\",\n    \"Cmd-G\": \"findNext\", \"Shift-Cmd-G\": \"findPrev\", \"Cmd-Alt-F\": \"replace\", \"Shift-Cmd-Alt-F\": \"replaceAll\",\n    \"Cmd-[\": \"indentLess\", \"Cmd-]\": \"indentMore\", \"Cmd-Backspace\": \"delWrappedLineLeft\", \"Cmd-Delete\": \"delWrappedLineRight\",\n    \"Cmd-U\": \"undoSelection\", \"Shift-Cmd-U\": \"redoSelection\", \"Ctrl-Up\": \"goDocStart\", \"Ctrl-Down\": \"goDocEnd\",\n    \"fallthrough\": [\"basic\", \"emacsy\"]\n  };\n  keyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault;\n\n  // KEYMAP DISPATCH\n\n  function normalizeKeyName(name) {\n    var parts = name.split(/-(?!$)/);\n    name = parts[parts.length - 1];\n    var alt, ctrl, shift, cmd;\n    for (var i = 0; i < parts.length - 1; i++) {\n      var mod = parts[i];\n      if (/^(cmd|meta|m)$/i.test(mod)) { cmd = true; }\n      else if (/^a(lt)?$/i.test(mod)) { alt = true; }\n      else if (/^(c|ctrl|control)$/i.test(mod)) { ctrl = true; }\n      else if (/^s(hift)?$/i.test(mod)) { shift = true; }\n      else { throw new Error(\"Unrecognized modifier name: \" + mod) }\n    }\n    if (alt) { name = \"Alt-\" + name; }\n    if (ctrl) { name = \"Ctrl-\" + name; }\n    if (cmd) { name = \"Cmd-\" + name; }\n    if (shift) { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // This is a kludge to keep keymaps mostly working as raw objects\n  // (backwards compatibility) while at the same time support features\n  // like normalization and multi-stroke key bindings. It compiles a\n  // new normalized keymap, and then updates the old object to reflect\n  // this.\n  function normalizeKeyMap(keymap) {\n    var copy = {};\n    for (var keyname in keymap) { if (keymap.hasOwnProperty(keyname)) {\n      var value = keymap[keyname];\n      if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) { continue }\n      if (value == \"...\") { delete keymap[keyname]; continue }\n\n      var keys = map(keyname.split(\" \"), normalizeKeyName);\n      for (var i = 0; i < keys.length; i++) {\n        var val = (void 0), name = (void 0);\n        if (i == keys.length - 1) {\n          name = keys.join(\" \");\n          val = value;\n        } else {\n          name = keys.slice(0, i + 1).join(\" \");\n          val = \"...\";\n        }\n        var prev = copy[name];\n        if (!prev) { copy[name] = val; }\n        else if (prev != val) { throw new Error(\"Inconsistent bindings for \" + name) }\n      }\n      delete keymap[keyname];\n    } }\n    for (var prop in copy) { keymap[prop] = copy[prop]; }\n    return keymap\n  }\n\n  function lookupKey(key, map, handle, context) {\n    map = getKeyMap(map);\n    var found = map.call ? map.call(key, context) : map[key];\n    if (found === false) { return \"nothing\" }\n    if (found === \"...\") { return \"multi\" }\n    if (found != null && handle(found)) { return \"handled\" }\n\n    if (map.fallthrough) {\n      if (Object.prototype.toString.call(map.fallthrough) != \"[object Array]\")\n        { return lookupKey(key, map.fallthrough, handle, context) }\n      for (var i = 0; i < map.fallthrough.length; i++) {\n        var result = lookupKey(key, map.fallthrough[i], handle, context);\n        if (result) { return result }\n      }\n    }\n  }\n\n  // Modifier key presses don't count as 'real' key presses for the\n  // purpose of keymap fallthrough.\n  function isModifierKey(value) {\n    var name = typeof value == \"string\" ? value : keyNames[value.keyCode];\n    return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\"\n  }\n\n  function addModifierNames(name, event, noShift) {\n    var base = name;\n    if (event.altKey && base != \"Alt\") { name = \"Alt-\" + name; }\n    if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") { name = \"Ctrl-\" + name; }\n    if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Cmd\") { name = \"Cmd-\" + name; }\n    if (!noShift && event.shiftKey && base != \"Shift\") { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // Look up the name of a key as indicated by an event object.\n  function keyName(event, noShift) {\n    if (presto && event.keyCode == 34 && event[\"char\"]) { return false }\n    var name = keyNames[event.keyCode];\n    if (name == null || event.altGraphKey) { return false }\n    // Ctrl-ScrollLock has keyCode 3, same as Ctrl-Pause,\n    // so we'll use event.code when available (Chrome 48+, FF 38+, Safari 10.1+)\n    if (event.keyCode == 3 && event.code) { name = event.code; }\n    return addModifierNames(name, event, noShift)\n  }\n\n  function getKeyMap(val) {\n    return typeof val == \"string\" ? keyMap[val] : val\n  }\n\n  // Helper for deleting text near the selection(s), used to implement\n  // backspace, delete, and similar functionality.\n  function deleteNearSelection(cm, compute) {\n    var ranges = cm.doc.sel.ranges, kill = [];\n    // Build up a set of ranges to kill first, merging overlapping\n    // ranges.\n    for (var i = 0; i < ranges.length; i++) {\n      var toKill = compute(ranges[i]);\n      while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\n        var replaced = kill.pop();\n        if (cmp(replaced.from, toKill.from) < 0) {\n          toKill.from = replaced.from;\n          break\n        }\n      }\n      kill.push(toKill);\n    }\n    // Next, remove those actual ranges.\n    runInOp(cm, function () {\n      for (var i = kill.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\"); }\n      ensureCursorVisible(cm);\n    });\n  }\n\n  function moveCharLogically(line, ch, dir) {\n    var target = skipExtendingChars(line.text, ch + dir, dir);\n    return target < 0 || target > line.text.length ? null : target\n  }\n\n  function moveLogically(line, start, dir) {\n    var ch = moveCharLogically(line, start.ch, dir);\n    return ch == null ? null : new Pos(start.line, ch, dir < 0 ? \"after\" : \"before\")\n  }\n\n  function endOfLine(visually, cm, lineObj, lineNo, dir) {\n    if (visually) {\n      var order = getOrder(lineObj, cm.doc.direction);\n      if (order) {\n        var part = dir < 0 ? lst(order) : order[0];\n        var moveInStorageOrder = (dir < 0) == (part.level == 1);\n        var sticky = moveInStorageOrder ? \"after\" : \"before\";\n        var ch;\n        // With a wrapped rtl chunk (possibly spanning multiple bidi parts),\n        // it could be that the last bidi part is not on the last visual line,\n        // since visual lines contain content order-consecutive chunks.\n        // Thus, in rtl, we are looking for the first (content-order) character\n        // in the rtl chunk that is on the last line (that is, the same line\n        // as the last (content-order) character).\n        if (part.level > 0 || cm.doc.direction == \"rtl\") {\n          var prep = prepareMeasureForLine(cm, lineObj);\n          ch = dir < 0 ? lineObj.text.length - 1 : 0;\n          var targetTop = measureCharPrepared(cm, prep, ch).top;\n          ch = findFirst(function (ch) { return measureCharPrepared(cm, prep, ch).top == targetTop; }, (dir < 0) == (part.level == 1) ? part.from : part.to - 1, ch);\n          if (sticky == \"before\") { ch = moveCharLogically(lineObj, ch, 1); }\n        } else { ch = dir < 0 ? part.to : part.from; }\n        return new Pos(lineNo, ch, sticky)\n      }\n    }\n    return new Pos(lineNo, dir < 0 ? lineObj.text.length : 0, dir < 0 ? \"before\" : \"after\")\n  }\n\n  function moveVisually(cm, line, start, dir) {\n    var bidi = getOrder(line, cm.doc.direction);\n    if (!bidi) { return moveLogically(line, start, dir) }\n    if (start.ch >= line.text.length) {\n      start.ch = line.text.length;\n      start.sticky = \"before\";\n    } else if (start.ch <= 0) {\n      start.ch = 0;\n      start.sticky = \"after\";\n    }\n    var partPos = getBidiPartAt(bidi, start.ch, start.sticky), part = bidi[partPos];\n    if (cm.doc.direction == \"ltr\" && part.level % 2 == 0 && (dir > 0 ? part.to > start.ch : part.from < start.ch)) {\n      // Case 1: We move within an ltr part in an ltr editor. Even with wrapped lines,\n      // nothing interesting happens.\n      return moveLogically(line, start, dir)\n    }\n\n    var mv = function (pos, dir) { return moveCharLogically(line, pos instanceof Pos ? pos.ch : pos, dir); };\n    var prep;\n    var getWrappedLineExtent = function (ch) {\n      if (!cm.options.lineWrapping) { return {begin: 0, end: line.text.length} }\n      prep = prep || prepareMeasureForLine(cm, line);\n      return wrappedLineExtentChar(cm, line, prep, ch)\n    };\n    var wrappedLineExtent = getWrappedLineExtent(start.sticky == \"before\" ? mv(start, -1) : start.ch);\n\n    if (cm.doc.direction == \"rtl\" || part.level == 1) {\n      var moveInStorageOrder = (part.level == 1) == (dir < 0);\n      var ch = mv(start, moveInStorageOrder ? 1 : -1);\n      if (ch != null && (!moveInStorageOrder ? ch >= part.from && ch >= wrappedLineExtent.begin : ch <= part.to && ch <= wrappedLineExtent.end)) {\n        // Case 2: We move within an rtl part or in an rtl editor on the same visual line\n        var sticky = moveInStorageOrder ? \"before\" : \"after\";\n        return new Pos(start.line, ch, sticky)\n      }\n    }\n\n    // Case 3: Could not move within this bidi part in this visual line, so leave\n    // the current bidi part\n\n    var searchInVisualLine = function (partPos, dir, wrappedLineExtent) {\n      var getRes = function (ch, moveInStorageOrder) { return moveInStorageOrder\n        ? new Pos(start.line, mv(ch, 1), \"before\")\n        : new Pos(start.line, ch, \"after\"); };\n\n      for (; partPos >= 0 && partPos < bidi.length; partPos += dir) {\n        var part = bidi[partPos];\n        var moveInStorageOrder = (dir > 0) == (part.level != 1);\n        var ch = moveInStorageOrder ? wrappedLineExtent.begin : mv(wrappedLineExtent.end, -1);\n        if (part.from <= ch && ch < part.to) { return getRes(ch, moveInStorageOrder) }\n        ch = moveInStorageOrder ? part.from : mv(part.to, -1);\n        if (wrappedLineExtent.begin <= ch && ch < wrappedLineExtent.end) { return getRes(ch, moveInStorageOrder) }\n      }\n    };\n\n    // Case 3a: Look for other bidi parts on the same visual line\n    var res = searchInVisualLine(partPos + dir, dir, wrappedLineExtent);\n    if (res) { return res }\n\n    // Case 3b: Look for other bidi parts on the next visual line\n    var nextCh = dir > 0 ? wrappedLineExtent.end : mv(wrappedLineExtent.begin, -1);\n    if (nextCh != null && !(dir > 0 && nextCh == line.text.length)) {\n      res = searchInVisualLine(dir > 0 ? 0 : bidi.length - 1, dir, getWrappedLineExtent(nextCh));\n      if (res) { return res }\n    }\n\n    // Case 4: Nowhere to move\n    return null\n  }\n\n  // Commands are parameter-less actions that can be performed on an\n  // editor, mostly used for keybindings.\n  var commands = {\n    selectAll: selectAll,\n    singleSelection: function (cm) { return cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll); },\n    killLine: function (cm) { return deleteNearSelection(cm, function (range) {\n      if (range.empty()) {\n        var len = getLine(cm.doc, range.head.line).text.length;\n        if (range.head.ch == len && range.head.line < cm.lastLine())\n          { return {from: range.head, to: Pos(range.head.line + 1, 0)} }\n        else\n          { return {from: range.head, to: Pos(range.head.line, len)} }\n      } else {\n        return {from: range.from(), to: range.to()}\n      }\n    }); },\n    deleteLine: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0),\n      to: clipPos(cm.doc, Pos(range.to().line + 1, 0))\n    }); }); },\n    delLineLeft: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0), to: range.from()\n    }); }); },\n    delWrappedLineLeft: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var leftPos = cm.coordsChar({left: 0, top: top}, \"div\");\n      return {from: leftPos, to: range.from()}\n    }); },\n    delWrappedLineRight: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\");\n      return {from: range.from(), to: rightPos }\n    }); },\n    undo: function (cm) { return cm.undo(); },\n    redo: function (cm) { return cm.redo(); },\n    undoSelection: function (cm) { return cm.undoSelection(); },\n    redoSelection: function (cm) { return cm.redoSelection(); },\n    goDocStart: function (cm) { return cm.extendSelection(Pos(cm.firstLine(), 0)); },\n    goDocEnd: function (cm) { return cm.extendSelection(Pos(cm.lastLine())); },\n    goLineStart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStart(cm, range.head.line); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineStartSmart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStartSmart(cm, range.head); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineEnd: function (cm) { return cm.extendSelectionsBy(function (range) { return lineEnd(cm, range.head.line); },\n      {origin: \"+move\", bias: -1}\n    ); },\n    goLineRight: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeft: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: 0, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeftSmart: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      var pos = cm.coordsChar({left: 0, top: top}, \"div\");\n      if (pos.ch < cm.getLine(pos.line).search(/\\S/)) { return lineStartSmart(cm, range.head) }\n      return pos\n    }, sel_move); },\n    goLineUp: function (cm) { return cm.moveV(-1, \"line\"); },\n    goLineDown: function (cm) { return cm.moveV(1, \"line\"); },\n    goPageUp: function (cm) { return cm.moveV(-1, \"page\"); },\n    goPageDown: function (cm) { return cm.moveV(1, \"page\"); },\n    goCharLeft: function (cm) { return cm.moveH(-1, \"char\"); },\n    goCharRight: function (cm) { return cm.moveH(1, \"char\"); },\n    goColumnLeft: function (cm) { return cm.moveH(-1, \"column\"); },\n    goColumnRight: function (cm) { return cm.moveH(1, \"column\"); },\n    goWordLeft: function (cm) { return cm.moveH(-1, \"word\"); },\n    goGroupRight: function (cm) { return cm.moveH(1, \"group\"); },\n    goGroupLeft: function (cm) { return cm.moveH(-1, \"group\"); },\n    goWordRight: function (cm) { return cm.moveH(1, \"word\"); },\n    delCharBefore: function (cm) { return cm.deleteH(-1, \"char\"); },\n    delCharAfter: function (cm) { return cm.deleteH(1, \"char\"); },\n    delWordBefore: function (cm) { return cm.deleteH(-1, \"word\"); },\n    delWordAfter: function (cm) { return cm.deleteH(1, \"word\"); },\n    delGroupBefore: function (cm) { return cm.deleteH(-1, \"group\"); },\n    delGroupAfter: function (cm) { return cm.deleteH(1, \"group\"); },\n    indentAuto: function (cm) { return cm.indentSelection(\"smart\"); },\n    indentMore: function (cm) { return cm.indentSelection(\"add\"); },\n    indentLess: function (cm) { return cm.indentSelection(\"subtract\"); },\n    insertTab: function (cm) { return cm.replaceSelection(\"\\t\"); },\n    insertSoftTab: function (cm) {\n      var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize;\n      for (var i = 0; i < ranges.length; i++) {\n        var pos = ranges[i].from();\n        var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize);\n        spaces.push(spaceStr(tabSize - col % tabSize));\n      }\n      cm.replaceSelections(spaces);\n    },\n    defaultTab: function (cm) {\n      if (cm.somethingSelected()) { cm.indentSelection(\"add\"); }\n      else { cm.execCommand(\"insertTab\"); }\n    },\n    // Swap the two chars left and right of each selection's head.\n    // Move cursor behind the two swapped characters afterwards.\n    //\n    // Doesn't consider line feeds a character.\n    // Doesn't scan more than one line above to find a character.\n    // Doesn't do anything on an empty line.\n    // Doesn't do anything with non-empty selections.\n    transposeChars: function (cm) { return runInOp(cm, function () {\n      var ranges = cm.listSelections(), newSel = [];\n      for (var i = 0; i < ranges.length; i++) {\n        if (!ranges[i].empty()) { continue }\n        var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text;\n        if (line) {\n          if (cur.ch == line.length) { cur = new Pos(cur.line, cur.ch - 1); }\n          if (cur.ch > 0) {\n            cur = new Pos(cur.line, cur.ch + 1);\n            cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),\n                            Pos(cur.line, cur.ch - 2), cur, \"+transpose\");\n          } else if (cur.line > cm.doc.first) {\n            var prev = getLine(cm.doc, cur.line - 1).text;\n            if (prev) {\n              cur = new Pos(cur.line, 1);\n              cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() +\n                              prev.charAt(prev.length - 1),\n                              Pos(cur.line - 1, prev.length - 1), cur, \"+transpose\");\n            }\n          }\n        }\n        newSel.push(new Range(cur, cur));\n      }\n      cm.setSelections(newSel);\n    }); },\n    newlineAndIndent: function (cm) { return runInOp(cm, function () {\n      var sels = cm.listSelections();\n      for (var i = sels.length - 1; i >= 0; i--)\n        { cm.replaceRange(cm.doc.lineSeparator(), sels[i].anchor, sels[i].head, \"+input\"); }\n      sels = cm.listSelections();\n      for (var i$1 = 0; i$1 < sels.length; i$1++)\n        { cm.indentLine(sels[i$1].from().line, null, true); }\n      ensureCursorVisible(cm);\n    }); },\n    openLine: function (cm) { return cm.replaceSelection(\"\\n\", \"start\"); },\n    toggleOverwrite: function (cm) { return cm.toggleOverwrite(); }\n  };\n\n\n  function lineStart(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLine(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, visual, lineN, 1)\n  }\n  function lineEnd(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLineEnd(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, line, lineN, -1)\n  }\n  function lineStartSmart(cm, pos) {\n    var start = lineStart(cm, pos.line);\n    var line = getLine(cm.doc, start.line);\n    var order = getOrder(line, cm.doc.direction);\n    if (!order || order[0].level == 0) {\n      var firstNonWS = Math.max(0, line.text.search(/\\S/));\n      var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch;\n      return Pos(start.line, inWS ? 0 : firstNonWS, start.sticky)\n    }\n    return start\n  }\n\n  // Run a handler that was bound to a key.\n  function doHandleBinding(cm, bound, dropShift) {\n    if (typeof bound == \"string\") {\n      bound = commands[bound];\n      if (!bound) { return false }\n    }\n    // Ensure previous input has been read, so that the handler sees a\n    // consistent view of the document\n    cm.display.input.ensurePolled();\n    var prevShift = cm.display.shift, done = false;\n    try {\n      if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n      if (dropShift) { cm.display.shift = false; }\n      done = bound(cm) != Pass;\n    } finally {\n      cm.display.shift = prevShift;\n      cm.state.suppressEdits = false;\n    }\n    return done\n  }\n\n  function lookupKeyForEditor(cm, name, handle) {\n    for (var i = 0; i < cm.state.keyMaps.length; i++) {\n      var result = lookupKey(name, cm.state.keyMaps[i], handle, cm);\n      if (result) { return result }\n    }\n    return (cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm))\n      || lookupKey(name, cm.options.keyMap, handle, cm)\n  }\n\n  // Note that, despite the name, this function is also used to check\n  // for bound mouse clicks.\n\n  var stopSeq = new Delayed;\n\n  function dispatchKey(cm, name, e, handle) {\n    var seq = cm.state.keySeq;\n    if (seq) {\n      if (isModifierKey(name)) { return \"handled\" }\n      if (/\\'$/.test(name))\n        { cm.state.keySeq = null; }\n      else\n        { stopSeq.set(50, function () {\n          if (cm.state.keySeq == seq) {\n            cm.state.keySeq = null;\n            cm.display.input.reset();\n          }\n        }); }\n      if (dispatchKeyInner(cm, seq + \" \" + name, e, handle)) { return true }\n    }\n    return dispatchKeyInner(cm, name, e, handle)\n  }\n\n  function dispatchKeyInner(cm, name, e, handle) {\n    var result = lookupKeyForEditor(cm, name, handle);\n\n    if (result == \"multi\")\n      { cm.state.keySeq = name; }\n    if (result == \"handled\")\n      { signalLater(cm, \"keyHandled\", cm, name, e); }\n\n    if (result == \"handled\" || result == \"multi\") {\n      e_preventDefault(e);\n      restartBlink(cm);\n    }\n\n    return !!result\n  }\n\n  // Handle a key from the keydown event.\n  function handleKeyBinding(cm, e) {\n    var name = keyName(e, true);\n    if (!name) { return false }\n\n    if (e.shiftKey && !cm.state.keySeq) {\n      // First try to resolve full name (including 'Shift-'). Failing\n      // that, see if there is a cursor-motion command (starting with\n      // 'go') bound to the keyname without 'Shift-'.\n      return dispatchKey(cm, \"Shift-\" + name, e, function (b) { return doHandleBinding(cm, b, true); })\n          || dispatchKey(cm, name, e, function (b) {\n               if (typeof b == \"string\" ? /^go[A-Z]/.test(b) : b.motion)\n                 { return doHandleBinding(cm, b) }\n             })\n    } else {\n      return dispatchKey(cm, name, e, function (b) { return doHandleBinding(cm, b); })\n    }\n  }\n\n  // Handle a key from the keypress event\n  function handleCharBinding(cm, e, ch) {\n    return dispatchKey(cm, \"'\" + ch + \"'\", e, function (b) { return doHandleBinding(cm, b, true); })\n  }\n\n  var lastStoppedKey = null;\n  function onKeyDown(e) {\n    var cm = this;\n    cm.curOp.focus = activeElt();\n    if (signalDOMEvent(cm, e)) { return }\n    // IE does strange things with escape.\n    if (ie && ie_version < 11 && e.keyCode == 27) { e.returnValue = false; }\n    var code = e.keyCode;\n    cm.display.shift = code == 16 || e.shiftKey;\n    var handled = handleKeyBinding(cm, e);\n    if (presto) {\n      lastStoppedKey = handled ? code : null;\n      // Opera has no cut event... we try to at least catch the key combo\n      if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))\n        { cm.replaceSelection(\"\", null, \"cut\"); }\n    }\n    if (gecko && !mac && !handled && code == 46 && e.shiftKey && !e.ctrlKey && document.execCommand)\n      { document.execCommand(\"cut\"); }\n\n    // Turn mouse into crosshair when Alt is held on Mac.\n    if (code == 18 && !/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className))\n      { showCrossHair(cm); }\n  }\n\n  function showCrossHair(cm) {\n    var lineDiv = cm.display.lineDiv;\n    addClass(lineDiv, \"CodeMirror-crosshair\");\n\n    function up(e) {\n      if (e.keyCode == 18 || !e.altKey) {\n        rmClass(lineDiv, \"CodeMirror-crosshair\");\n        off(document, \"keyup\", up);\n        off(document, \"mouseover\", up);\n      }\n    }\n    on(document, \"keyup\", up);\n    on(document, \"mouseover\", up);\n  }\n\n  function onKeyUp(e) {\n    if (e.keyCode == 16) { this.doc.sel.shift = false; }\n    signalDOMEvent(this, e);\n  }\n\n  function onKeyPress(e) {\n    var cm = this;\n    if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) { return }\n    var keyCode = e.keyCode, charCode = e.charCode;\n    if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return}\n    if ((presto && (!e.which || e.which < 10)) && handleKeyBinding(cm, e)) { return }\n    var ch = String.fromCharCode(charCode == null ? keyCode : charCode);\n    // Some browsers fire keypress events for backspace\n    if (ch == \"\\x08\") { return }\n    if (handleCharBinding(cm, e, ch)) { return }\n    cm.display.input.onKeyPress(e);\n  }\n\n  var DOUBLECLICK_DELAY = 400;\n\n  var PastClick = function(time, pos, button) {\n    this.time = time;\n    this.pos = pos;\n    this.button = button;\n  };\n\n  PastClick.prototype.compare = function (time, pos, button) {\n    return this.time + DOUBLECLICK_DELAY > time &&\n      cmp(pos, this.pos) == 0 && button == this.button\n  };\n\n  var lastClick, lastDoubleClick;\n  function clickRepeat(pos, button) {\n    var now = +new Date;\n    if (lastDoubleClick && lastDoubleClick.compare(now, pos, button)) {\n      lastClick = lastDoubleClick = null;\n      return \"triple\"\n    } else if (lastClick && lastClick.compare(now, pos, button)) {\n      lastDoubleClick = new PastClick(now, pos, button);\n      lastClick = null;\n      return \"double\"\n    } else {\n      lastClick = new PastClick(now, pos, button);\n      lastDoubleClick = null;\n      return \"single\"\n    }\n  }\n\n  // A mouse down can be a single click, double click, triple click,\n  // start of selection drag, start of text drag, new cursor\n  // (ctrl-click), rectangle drag (alt-drag), or xwin\n  // middle-click-paste. Or it might be a click on something we should\n  // not interfere with, such as a scrollbar or widget.\n  function onMouseDown(e) {\n    var cm = this, display = cm.display;\n    if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) { return }\n    display.input.ensurePolled();\n    display.shift = e.shiftKey;\n\n    if (eventInWidget(display, e)) {\n      if (!webkit) {\n        // Briefly turn off draggability, to allow widgets to do\n        // normal dragging things.\n        display.scroller.draggable = false;\n        setTimeout(function () { return display.scroller.draggable = true; }, 100);\n      }\n      return\n    }\n    if (clickInGutter(cm, e)) { return }\n    var pos = posFromMouse(cm, e), button = e_button(e), repeat = pos ? clickRepeat(pos, button) : \"single\";\n    window.focus();\n\n    // #3261: make sure, that we're not starting a second selection\n    if (button == 1 && cm.state.selectingText)\n      { cm.state.selectingText(e); }\n\n    if (pos && handleMappedButton(cm, button, pos, repeat, e)) { return }\n\n    if (button == 1) {\n      if (pos) { leftButtonDown(cm, pos, repeat, e); }\n      else if (e_target(e) == display.scroller) { e_preventDefault(e); }\n    } else if (button == 2) {\n      if (pos) { extendSelection(cm.doc, pos); }\n      setTimeout(function () { return display.input.focus(); }, 20);\n    } else if (button == 3) {\n      if (captureRightClick) { cm.display.input.onContextMenu(e); }\n      else { delayBlurEvent(cm); }\n    }\n  }\n\n  function handleMappedButton(cm, button, pos, repeat, event) {\n    var name = \"Click\";\n    if (repeat == \"double\") { name = \"Double\" + name; }\n    else if (repeat == \"triple\") { name = \"Triple\" + name; }\n    name = (button == 1 ? \"Left\" : button == 2 ? \"Middle\" : \"Right\") + name;\n\n    return dispatchKey(cm,  addModifierNames(name, event), event, function (bound) {\n      if (typeof bound == \"string\") { bound = commands[bound]; }\n      if (!bound) { return false }\n      var done = false;\n      try {\n        if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n        done = bound(cm, pos) != Pass;\n      } finally {\n        cm.state.suppressEdits = false;\n      }\n      return done\n    })\n  }\n\n  function configureMouse(cm, repeat, event) {\n    var option = cm.getOption(\"configureMouse\");\n    var value = option ? option(cm, repeat, event) : {};\n    if (value.unit == null) {\n      var rect = chromeOS ? event.shiftKey && event.metaKey : event.altKey;\n      value.unit = rect ? \"rectangle\" : repeat == \"single\" ? \"char\" : repeat == \"double\" ? \"word\" : \"line\";\n    }\n    if (value.extend == null || cm.doc.extend) { value.extend = cm.doc.extend || event.shiftKey; }\n    if (value.addNew == null) { value.addNew = mac ? event.metaKey : event.ctrlKey; }\n    if (value.moveOnDrag == null) { value.moveOnDrag = !(mac ? event.altKey : event.ctrlKey); }\n    return value\n  }\n\n  function leftButtonDown(cm, pos, repeat, event) {\n    if (ie) { setTimeout(bind(ensureFocus, cm), 0); }\n    else { cm.curOp.focus = activeElt(); }\n\n    var behavior = configureMouse(cm, repeat, event);\n\n    var sel = cm.doc.sel, contained;\n    if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() &&\n        repeat == \"single\" && (contained = sel.contains(pos)) > -1 &&\n        (cmp((contained = sel.ranges[contained]).from(), pos) < 0 || pos.xRel > 0) &&\n        (cmp(contained.to(), pos) > 0 || pos.xRel < 0))\n      { leftButtonStartDrag(cm, event, pos, behavior); }\n    else\n      { leftButtonSelect(cm, event, pos, behavior); }\n  }\n\n  // Start a text drag. When it ends, see if any dragging actually\n  // happen, and treat as a click if it didn't.\n  function leftButtonStartDrag(cm, event, pos, behavior) {\n    var display = cm.display, moved = false;\n    var dragEnd = operation(cm, function (e) {\n      if (webkit) { display.scroller.draggable = false; }\n      cm.state.draggingText = false;\n      off(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n      off(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n      off(display.scroller, \"dragstart\", dragStart);\n      off(display.scroller, \"drop\", dragEnd);\n      if (!moved) {\n        e_preventDefault(e);\n        if (!behavior.addNew)\n          { extendSelection(cm.doc, pos, null, null, behavior.extend); }\n        // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)\n        if (webkit || ie && ie_version == 9)\n          { setTimeout(function () {display.wrapper.ownerDocument.body.focus(); display.input.focus();}, 20); }\n        else\n          { display.input.focus(); }\n      }\n    });\n    var mouseMove = function(e2) {\n      moved = moved || Math.abs(event.clientX - e2.clientX) + Math.abs(event.clientY - e2.clientY) >= 10;\n    };\n    var dragStart = function () { return moved = true; };\n    // Let the drag handler handle this.\n    if (webkit) { display.scroller.draggable = true; }\n    cm.state.draggingText = dragEnd;\n    dragEnd.copy = !behavior.moveOnDrag;\n    // IE's approach to draggable\n    if (display.scroller.dragDrop) { display.scroller.dragDrop(); }\n    on(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n    on(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n    on(display.scroller, \"dragstart\", dragStart);\n    on(display.scroller, \"drop\", dragEnd);\n\n    delayBlurEvent(cm);\n    setTimeout(function () { return display.input.focus(); }, 20);\n  }\n\n  function rangeForUnit(cm, pos, unit) {\n    if (unit == \"char\") { return new Range(pos, pos) }\n    if (unit == \"word\") { return cm.findWordAt(pos) }\n    if (unit == \"line\") { return new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))) }\n    var result = unit(cm, pos);\n    return new Range(result.from, result.to)\n  }\n\n  // Normal selection, as opposed to text dragging.\n  function leftButtonSelect(cm, event, start, behavior) {\n    var display = cm.display, doc = cm.doc;\n    e_preventDefault(event);\n\n    var ourRange, ourIndex, startSel = doc.sel, ranges = startSel.ranges;\n    if (behavior.addNew && !behavior.extend) {\n      ourIndex = doc.sel.contains(start);\n      if (ourIndex > -1)\n        { ourRange = ranges[ourIndex]; }\n      else\n        { ourRange = new Range(start, start); }\n    } else {\n      ourRange = doc.sel.primary();\n      ourIndex = doc.sel.primIndex;\n    }\n\n    if (behavior.unit == \"rectangle\") {\n      if (!behavior.addNew) { ourRange = new Range(start, start); }\n      start = posFromMouse(cm, event, true, true);\n      ourIndex = -1;\n    } else {\n      var range = rangeForUnit(cm, start, behavior.unit);\n      if (behavior.extend)\n        { ourRange = extendRange(ourRange, range.anchor, range.head, behavior.extend); }\n      else\n        { ourRange = range; }\n    }\n\n    if (!behavior.addNew) {\n      ourIndex = 0;\n      setSelection(doc, new Selection([ourRange], 0), sel_mouse);\n      startSel = doc.sel;\n    } else if (ourIndex == -1) {\n      ourIndex = ranges.length;\n      setSelection(doc, normalizeSelection(cm, ranges.concat([ourRange]), ourIndex),\n                   {scroll: false, origin: \"*mouse\"});\n    } else if (ranges.length > 1 && ranges[ourIndex].empty() && behavior.unit == \"char\" && !behavior.extend) {\n      setSelection(doc, normalizeSelection(cm, ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0),\n                   {scroll: false, origin: \"*mouse\"});\n      startSel = doc.sel;\n    } else {\n      replaceOneSelection(doc, ourIndex, ourRange, sel_mouse);\n    }\n\n    var lastPos = start;\n    function extendTo(pos) {\n      if (cmp(lastPos, pos) == 0) { return }\n      lastPos = pos;\n\n      if (behavior.unit == \"rectangle\") {\n        var ranges = [], tabSize = cm.options.tabSize;\n        var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize);\n        var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize);\n        var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol);\n        for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));\n             line <= end; line++) {\n          var text = getLine(doc, line).text, leftPos = findColumn(text, left, tabSize);\n          if (left == right)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos))); }\n          else if (text.length > leftPos)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize)))); }\n        }\n        if (!ranges.length) { ranges.push(new Range(start, start)); }\n        setSelection(doc, normalizeSelection(cm, startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),\n                     {origin: \"*mouse\", scroll: false});\n        cm.scrollIntoView(pos);\n      } else {\n        var oldRange = ourRange;\n        var range = rangeForUnit(cm, pos, behavior.unit);\n        var anchor = oldRange.anchor, head;\n        if (cmp(range.anchor, anchor) > 0) {\n          head = range.head;\n          anchor = minPos(oldRange.from(), range.anchor);\n        } else {\n          head = range.anchor;\n          anchor = maxPos(oldRange.to(), range.head);\n        }\n        var ranges$1 = startSel.ranges.slice(0);\n        ranges$1[ourIndex] = bidiSimplify(cm, new Range(clipPos(doc, anchor), head));\n        setSelection(doc, normalizeSelection(cm, ranges$1, ourIndex), sel_mouse);\n      }\n    }\n\n    var editorSize = display.wrapper.getBoundingClientRect();\n    // Used to ensure timeout re-tries don't fire when another extend\n    // happened in the meantime (clearTimeout isn't reliable -- at\n    // least on Chrome, the timeouts still happen even when cleared,\n    // if the clear happens after their scheduled firing time).\n    var counter = 0;\n\n    function extend(e) {\n      var curCount = ++counter;\n      var cur = posFromMouse(cm, e, true, behavior.unit == \"rectangle\");\n      if (!cur) { return }\n      if (cmp(cur, lastPos) != 0) {\n        cm.curOp.focus = activeElt();\n        extendTo(cur);\n        var visible = visibleLines(display, doc);\n        if (cur.line >= visible.to || cur.line < visible.from)\n          { setTimeout(operation(cm, function () {if (counter == curCount) { extend(e); }}), 150); }\n      } else {\n        var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0;\n        if (outside) { setTimeout(operation(cm, function () {\n          if (counter != curCount) { return }\n          display.scroller.scrollTop += outside;\n          extend(e);\n        }), 50); }\n      }\n    }\n\n    function done(e) {\n      cm.state.selectingText = false;\n      counter = Infinity;\n      // If e is null or undefined we interpret this as someone trying\n      // to explicitly cancel the selection rather than the user\n      // letting go of the mouse button.\n      if (e) {\n        e_preventDefault(e);\n        display.input.focus();\n      }\n      off(display.wrapper.ownerDocument, \"mousemove\", move);\n      off(display.wrapper.ownerDocument, \"mouseup\", up);\n      doc.history.lastSelOrigin = null;\n    }\n\n    var move = operation(cm, function (e) {\n      if (e.buttons === 0 || !e_button(e)) { done(e); }\n      else { extend(e); }\n    });\n    var up = operation(cm, done);\n    cm.state.selectingText = up;\n    on(display.wrapper.ownerDocument, \"mousemove\", move);\n    on(display.wrapper.ownerDocument, \"mouseup\", up);\n  }\n\n  // Used when mouse-selecting to adjust the anchor to the proper side\n  // of a bidi jump depending on the visual position of the head.\n  function bidiSimplify(cm, range) {\n    var anchor = range.anchor;\n    var head = range.head;\n    var anchorLine = getLine(cm.doc, anchor.line);\n    if (cmp(anchor, head) == 0 && anchor.sticky == head.sticky) { return range }\n    var order = getOrder(anchorLine);\n    if (!order) { return range }\n    var index = getBidiPartAt(order, anchor.ch, anchor.sticky), part = order[index];\n    if (part.from != anchor.ch && part.to != anchor.ch) { return range }\n    var boundary = index + ((part.from == anchor.ch) == (part.level != 1) ? 0 : 1);\n    if (boundary == 0 || boundary == order.length) { return range }\n\n    // Compute the relative visual position of the head compared to the\n    // anchor (<0 is to the left, >0 to the right)\n    var leftSide;\n    if (head.line != anchor.line) {\n      leftSide = (head.line - anchor.line) * (cm.doc.direction == \"ltr\" ? 1 : -1) > 0;\n    } else {\n      var headIndex = getBidiPartAt(order, head.ch, head.sticky);\n      var dir = headIndex - index || (head.ch - anchor.ch) * (part.level == 1 ? -1 : 1);\n      if (headIndex == boundary - 1 || headIndex == boundary)\n        { leftSide = dir < 0; }\n      else\n        { leftSide = dir > 0; }\n    }\n\n    var usePart = order[boundary + (leftSide ? -1 : 0)];\n    var from = leftSide == (usePart.level == 1);\n    var ch = from ? usePart.from : usePart.to, sticky = from ? \"after\" : \"before\";\n    return anchor.ch == ch && anchor.sticky == sticky ? range : new Range(new Pos(anchor.line, ch, sticky), head)\n  }\n\n\n  // Determines whether an event happened in the gutter, and fires the\n  // handlers for the corresponding event.\n  function gutterEvent(cm, e, type, prevent) {\n    var mX, mY;\n    if (e.touches) {\n      mX = e.touches[0].clientX;\n      mY = e.touches[0].clientY;\n    } else {\n      try { mX = e.clientX; mY = e.clientY; }\n      catch(e) { return false }\n    }\n    if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) { return false }\n    if (prevent) { e_preventDefault(e); }\n\n    var display = cm.display;\n    var lineBox = display.lineDiv.getBoundingClientRect();\n\n    if (mY > lineBox.bottom || !hasHandler(cm, type)) { return e_defaultPrevented(e) }\n    mY -= lineBox.top - display.viewOffset;\n\n    for (var i = 0; i < cm.display.gutterSpecs.length; ++i) {\n      var g = display.gutters.childNodes[i];\n      if (g && g.getBoundingClientRect().right >= mX) {\n        var line = lineAtHeight(cm.doc, mY);\n        var gutter = cm.display.gutterSpecs[i];\n        signal(cm, type, cm, line, gutter.className, e);\n        return e_defaultPrevented(e)\n      }\n    }\n  }\n\n  function clickInGutter(cm, e) {\n    return gutterEvent(cm, e, \"gutterClick\", true)\n  }\n\n  // CONTEXT MENU HANDLING\n\n  // To make the context menu work, we need to briefly unhide the\n  // textarea (making it as unobtrusive as possible) to let the\n  // right-click take effect on it.\n  function onContextMenu(cm, e) {\n    if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) { return }\n    if (signalDOMEvent(cm, e, \"contextmenu\")) { return }\n    if (!captureRightClick) { cm.display.input.onContextMenu(e); }\n  }\n\n  function contextMenuInGutter(cm, e) {\n    if (!hasHandler(cm, \"gutterContextMenu\")) { return false }\n    return gutterEvent(cm, e, \"gutterContextMenu\", false)\n  }\n\n  function themeChanged(cm) {\n    cm.display.wrapper.className = cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") +\n      cm.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\");\n    clearCaches(cm);\n  }\n\n  var Init = {toString: function(){return \"CodeMirror.Init\"}};\n\n  var defaults = {};\n  var optionHandlers = {};\n\n  function defineOptions(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    function option(name, deflt, handle, notOnInit) {\n      CodeMirror.defaults[name] = deflt;\n      if (handle) { optionHandlers[name] =\n        notOnInit ? function (cm, val, old) {if (old != Init) { handle(cm, val, old); }} : handle; }\n    }\n\n    CodeMirror.defineOption = option;\n\n    // Passed to option handlers when there is no old value.\n    CodeMirror.Init = Init;\n\n    // These two are, on init, called from the constructor because they\n    // have to be initialized before the editor can start at all.\n    option(\"value\", \"\", function (cm, val) { return cm.setValue(val); }, true);\n    option(\"mode\", null, function (cm, val) {\n      cm.doc.modeOption = val;\n      loadMode(cm);\n    }, true);\n\n    option(\"indentUnit\", 2, loadMode, true);\n    option(\"indentWithTabs\", false);\n    option(\"smartIndent\", true);\n    option(\"tabSize\", 4, function (cm) {\n      resetModeState(cm);\n      clearCaches(cm);\n      regChange(cm);\n    }, true);\n\n    option(\"lineSeparator\", null, function (cm, val) {\n      cm.doc.lineSep = val;\n      if (!val) { return }\n      var newBreaks = [], lineNo = cm.doc.first;\n      cm.doc.iter(function (line) {\n        for (var pos = 0;;) {\n          var found = line.text.indexOf(val, pos);\n          if (found == -1) { break }\n          pos = found + val.length;\n          newBreaks.push(Pos(lineNo, found));\n        }\n        lineNo++;\n      });\n      for (var i = newBreaks.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length)); }\n    });\n    option(\"specialChars\", /[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b-\\u200f\\u2028\\u2029\\ufeff\\ufff9-\\ufffc]/g, function (cm, val, old) {\n      cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\");\n      if (old != Init) { cm.refresh(); }\n    });\n    option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function (cm) { return cm.refresh(); }, true);\n    option(\"electricChars\", true);\n    option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function () {\n      throw new Error(\"inputStyle can not (yet) be changed in a running editor\") // FIXME\n    }, true);\n    option(\"spellcheck\", false, function (cm, val) { return cm.getInputField().spellcheck = val; }, true);\n    option(\"autocorrect\", false, function (cm, val) { return cm.getInputField().autocorrect = val; }, true);\n    option(\"autocapitalize\", false, function (cm, val) { return cm.getInputField().autocapitalize = val; }, true);\n    option(\"rtlMoveVisually\", !windows);\n    option(\"wholeLineUpdateBefore\", true);\n\n    option(\"theme\", \"default\", function (cm) {\n      themeChanged(cm);\n      updateGutters(cm);\n    }, true);\n    option(\"keyMap\", \"default\", function (cm, val, old) {\n      var next = getKeyMap(val);\n      var prev = old != Init && getKeyMap(old);\n      if (prev && prev.detach) { prev.detach(cm, next); }\n      if (next.attach) { next.attach(cm, prev || null); }\n    });\n    option(\"extraKeys\", null);\n    option(\"configureMouse\", null);\n\n    option(\"lineWrapping\", false, wrappingChanged, true);\n    option(\"gutters\", [], function (cm, val) {\n      cm.display.gutterSpecs = getGutters(val, cm.options.lineNumbers);\n      updateGutters(cm);\n    }, true);\n    option(\"fixedGutter\", true, function (cm, val) {\n      cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\";\n      cm.refresh();\n    }, true);\n    option(\"coverGutterNextToScrollbar\", false, function (cm) { return updateScrollbars(cm); }, true);\n    option(\"scrollbarStyle\", \"native\", function (cm) {\n      initScrollbars(cm);\n      updateScrollbars(cm);\n      cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);\n      cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);\n    }, true);\n    option(\"lineNumbers\", false, function (cm, val) {\n      cm.display.gutterSpecs = getGutters(cm.options.gutters, val);\n      updateGutters(cm);\n    }, true);\n    option(\"firstLineNumber\", 1, updateGutters, true);\n    option(\"lineNumberFormatter\", function (integer) { return integer; }, updateGutters, true);\n    option(\"showCursorWhenSelecting\", false, updateSelection, true);\n\n    option(\"resetSelectionOnContextMenu\", true);\n    option(\"lineWiseCopyCut\", true);\n    option(\"pasteLinesPerSelection\", true);\n    option(\"selectionsMayTouch\", false);\n\n    option(\"readOnly\", false, function (cm, val) {\n      if (val == \"nocursor\") {\n        onBlur(cm);\n        cm.display.input.blur();\n      }\n      cm.display.input.readOnlyChanged(val);\n    });\n    option(\"disableInput\", false, function (cm, val) {if (!val) { cm.display.input.reset(); }}, true);\n    option(\"dragDrop\", true, dragDropChanged);\n    option(\"allowDropFileTypes\", null);\n\n    option(\"cursorBlinkRate\", 530);\n    option(\"cursorScrollMargin\", 0);\n    option(\"cursorHeight\", 1, updateSelection, true);\n    option(\"singleCursorHeightPerLine\", true, updateSelection, true);\n    option(\"workTime\", 100);\n    option(\"workDelay\", 100);\n    option(\"flattenSpans\", true, resetModeState, true);\n    option(\"addModeClass\", false, resetModeState, true);\n    option(\"pollInterval\", 100);\n    option(\"undoDepth\", 200, function (cm, val) { return cm.doc.history.undoDepth = val; });\n    option(\"historyEventDelay\", 1250);\n    option(\"viewportMargin\", 10, function (cm) { return cm.refresh(); }, true);\n    option(\"maxHighlightLength\", 10000, resetModeState, true);\n    option(\"moveInputWithCursor\", true, function (cm, val) {\n      if (!val) { cm.display.input.resetPosition(); }\n    });\n\n    option(\"tabindex\", null, function (cm, val) { return cm.display.input.getField().tabIndex = val || \"\"; });\n    option(\"autofocus\", null);\n    option(\"direction\", \"ltr\", function (cm, val) { return cm.doc.setDirection(val); }, true);\n    option(\"phrases\", null);\n  }\n\n  function dragDropChanged(cm, value, old) {\n    var wasOn = old && old != Init;\n    if (!value != !wasOn) {\n      var funcs = cm.display.dragFunctions;\n      var toggle = value ? on : off;\n      toggle(cm.display.scroller, \"dragstart\", funcs.start);\n      toggle(cm.display.scroller, \"dragenter\", funcs.enter);\n      toggle(cm.display.scroller, \"dragover\", funcs.over);\n      toggle(cm.display.scroller, \"dragleave\", funcs.leave);\n      toggle(cm.display.scroller, \"drop\", funcs.drop);\n    }\n  }\n\n  function wrappingChanged(cm) {\n    if (cm.options.lineWrapping) {\n      addClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      cm.display.sizer.style.minWidth = \"\";\n      cm.display.sizerWidth = null;\n    } else {\n      rmClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      findMaxLine(cm);\n    }\n    estimateLineHeights(cm);\n    regChange(cm);\n    clearCaches(cm);\n    setTimeout(function () { return updateScrollbars(cm); }, 100);\n  }\n\n  // A CodeMirror instance represents an editor. This is the object\n  // that user code is usually dealing with.\n\n  function CodeMirror(place, options) {\n    var this$1 = this;\n\n    if (!(this instanceof CodeMirror)) { return new CodeMirror(place, options) }\n\n    this.options = options = options ? copyObj(options) : {};\n    // Determine effective options based on given values and defaults.\n    copyObj(defaults, options, false);\n\n    var doc = options.value;\n    if (typeof doc == \"string\") { doc = new Doc(doc, options.mode, null, options.lineSeparator, options.direction); }\n    else if (options.mode) { doc.modeOption = options.mode; }\n    this.doc = doc;\n\n    var input = new CodeMirror.inputStyles[options.inputStyle](this);\n    var display = this.display = new Display(place, doc, input, options);\n    display.wrapper.CodeMirror = this;\n    themeChanged(this);\n    if (options.lineWrapping)\n      { this.display.wrapper.className += \" CodeMirror-wrap\"; }\n    initScrollbars(this);\n\n    this.state = {\n      keyMaps: [],  // stores maps added by addKeyMap\n      overlays: [], // highlighting overlays, as added by addOverlay\n      modeGen: 0,   // bumped when mode/overlay changes, used to invalidate highlighting info\n      overwrite: false,\n      delayingBlurEvent: false,\n      focused: false,\n      suppressEdits: false, // used to disable editing during key handlers when in readOnly mode\n      pasteIncoming: -1, cutIncoming: -1, // help recognize paste/cut edits in input.poll\n      selectingText: false,\n      draggingText: false,\n      highlight: new Delayed(), // stores highlight worker timeout\n      keySeq: null,  // Unfinished key sequence\n      specialChars: null\n    };\n\n    if (options.autofocus && !mobile) { display.input.focus(); }\n\n    // Override magic textarea content restore that IE sometimes does\n    // on our hidden textarea on reload\n    if (ie && ie_version < 11) { setTimeout(function () { return this$1.display.input.reset(true); }, 20); }\n\n    registerEventHandlers(this);\n    ensureGlobalHandlers();\n\n    startOperation(this);\n    this.curOp.forceUpdate = true;\n    attachDoc(this, doc);\n\n    if ((options.autofocus && !mobile) || this.hasFocus())\n      { setTimeout(bind(onFocus, this), 20); }\n    else\n      { onBlur(this); }\n\n    for (var opt in optionHandlers) { if (optionHandlers.hasOwnProperty(opt))\n      { optionHandlers[opt](this, options[opt], Init); } }\n    maybeUpdateLineNumberWidth(this);\n    if (options.finishInit) { options.finishInit(this); }\n    for (var i = 0; i < initHooks.length; ++i) { initHooks[i](this); }\n    endOperation(this);\n    // Suppress optimizelegibility in Webkit, since it breaks text\n    // measuring on line wrapping boundaries.\n    if (webkit && options.lineWrapping &&\n        getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\")\n      { display.lineDiv.style.textRendering = \"auto\"; }\n  }\n\n  // The default configuration options.\n  CodeMirror.defaults = defaults;\n  // Functions to run when options are changed.\n  CodeMirror.optionHandlers = optionHandlers;\n\n  // Attach the necessary event handlers when initializing the editor\n  function registerEventHandlers(cm) {\n    var d = cm.display;\n    on(d.scroller, \"mousedown\", operation(cm, onMouseDown));\n    // Older IE's will not fire a second mousedown for a double click\n    if (ie && ie_version < 11)\n      { on(d.scroller, \"dblclick\", operation(cm, function (e) {\n        if (signalDOMEvent(cm, e)) { return }\n        var pos = posFromMouse(cm, e);\n        if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) { return }\n        e_preventDefault(e);\n        var word = cm.findWordAt(pos);\n        extendSelection(cm.doc, word.anchor, word.head);\n      })); }\n    else\n      { on(d.scroller, \"dblclick\", function (e) { return signalDOMEvent(cm, e) || e_preventDefault(e); }); }\n    // Some browsers fire contextmenu *after* opening the menu, at\n    // which point we can't mess with it anymore. Context menu is\n    // handled in onMouseDown for these browsers.\n    on(d.scroller, \"contextmenu\", function (e) { return onContextMenu(cm, e); });\n\n    // Used to suppress mouse event handling when a touch happens\n    var touchFinished, prevTouch = {end: 0};\n    function finishTouch() {\n      if (d.activeTouch) {\n        touchFinished = setTimeout(function () { return d.activeTouch = null; }, 1000);\n        prevTouch = d.activeTouch;\n        prevTouch.end = +new Date;\n      }\n    }\n    function isMouseLikeTouchEvent(e) {\n      if (e.touches.length != 1) { return false }\n      var touch = e.touches[0];\n      return touch.radiusX <= 1 && touch.radiusY <= 1\n    }\n    function farAway(touch, other) {\n      if (other.left == null) { return true }\n      var dx = other.left - touch.left, dy = other.top - touch.top;\n      return dx * dx + dy * dy > 20 * 20\n    }\n    on(d.scroller, \"touchstart\", function (e) {\n      if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e) && !clickInGutter(cm, e)) {\n        d.input.ensurePolled();\n        clearTimeout(touchFinished);\n        var now = +new Date;\n        d.activeTouch = {start: now, moved: false,\n                         prev: now - prevTouch.end <= 300 ? prevTouch : null};\n        if (e.touches.length == 1) {\n          d.activeTouch.left = e.touches[0].pageX;\n          d.activeTouch.top = e.touches[0].pageY;\n        }\n      }\n    });\n    on(d.scroller, \"touchmove\", function () {\n      if (d.activeTouch) { d.activeTouch.moved = true; }\n    });\n    on(d.scroller, \"touchend\", function (e) {\n      var touch = d.activeTouch;\n      if (touch && !eventInWidget(d, e) && touch.left != null &&\n          !touch.moved && new Date - touch.start < 300) {\n        var pos = cm.coordsChar(d.activeTouch, \"page\"), range;\n        if (!touch.prev || farAway(touch, touch.prev)) // Single tap\n          { range = new Range(pos, pos); }\n        else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap\n          { range = cm.findWordAt(pos); }\n        else // Triple tap\n          { range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))); }\n        cm.setSelection(range.anchor, range.head);\n        cm.focus();\n        e_preventDefault(e);\n      }\n      finishTouch();\n    });\n    on(d.scroller, \"touchcancel\", finishTouch);\n\n    // Sync scrolling between fake scrollbars and real scrollable\n    // area, ensure viewport is updated when scrolling.\n    on(d.scroller, \"scroll\", function () {\n      if (d.scroller.clientHeight) {\n        updateScrollTop(cm, d.scroller.scrollTop);\n        setScrollLeft(cm, d.scroller.scrollLeft, true);\n        signal(cm, \"scroll\", cm);\n      }\n    });\n\n    // Listen to wheel events in order to try and update the viewport on time.\n    on(d.scroller, \"mousewheel\", function (e) { return onScrollWheel(cm, e); });\n    on(d.scroller, \"DOMMouseScroll\", function (e) { return onScrollWheel(cm, e); });\n\n    // Prevent wrapper from ever scrolling\n    on(d.wrapper, \"scroll\", function () { return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; });\n\n    d.dragFunctions = {\n      enter: function (e) {if (!signalDOMEvent(cm, e)) { e_stop(e); }},\n      over: function (e) {if (!signalDOMEvent(cm, e)) { onDragOver(cm, e); e_stop(e); }},\n      start: function (e) { return onDragStart(cm, e); },\n      drop: operation(cm, onDrop),\n      leave: function (e) {if (!signalDOMEvent(cm, e)) { clearDragCursor(cm); }}\n    };\n\n    var inp = d.input.getField();\n    on(inp, \"keyup\", function (e) { return onKeyUp.call(cm, e); });\n    on(inp, \"keydown\", operation(cm, onKeyDown));\n    on(inp, \"keypress\", operation(cm, onKeyPress));\n    on(inp, \"focus\", function (e) { return onFocus(cm, e); });\n    on(inp, \"blur\", function (e) { return onBlur(cm, e); });\n  }\n\n  var initHooks = [];\n  CodeMirror.defineInitHook = function (f) { return initHooks.push(f); };\n\n  // Indent the given line. The how parameter can be \"smart\",\n  // \"add\"/null, \"subtract\", or \"prev\". When aggressive is false\n  // (typically set to true for forced single-line indents), empty\n  // lines are not indented, and places where the mode returns Pass\n  // are left alone.\n  function indentLine(cm, n, how, aggressive) {\n    var doc = cm.doc, state;\n    if (how == null) { how = \"add\"; }\n    if (how == \"smart\") {\n      // Fall back to \"prev\" when the mode doesn't have an indentation\n      // method.\n      if (!doc.mode.indent) { how = \"prev\"; }\n      else { state = getContextBefore(cm, n).state; }\n    }\n\n    var tabSize = cm.options.tabSize;\n    var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize);\n    if (line.stateAfter) { line.stateAfter = null; }\n    var curSpaceString = line.text.match(/^\\s*/)[0], indentation;\n    if (!aggressive && !/\\S/.test(line.text)) {\n      indentation = 0;\n      how = \"not\";\n    } else if (how == \"smart\") {\n      indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text);\n      if (indentation == Pass || indentation > 150) {\n        if (!aggressive) { return }\n        how = \"prev\";\n      }\n    }\n    if (how == \"prev\") {\n      if (n > doc.first) { indentation = countColumn(getLine(doc, n-1).text, null, tabSize); }\n      else { indentation = 0; }\n    } else if (how == \"add\") {\n      indentation = curSpace + cm.options.indentUnit;\n    } else if (how == \"subtract\") {\n      indentation = curSpace - cm.options.indentUnit;\n    } else if (typeof how == \"number\") {\n      indentation = curSpace + how;\n    }\n    indentation = Math.max(0, indentation);\n\n    var indentString = \"\", pos = 0;\n    if (cm.options.indentWithTabs)\n      { for (var i = Math.floor(indentation / tabSize); i; --i) {pos += tabSize; indentString += \"\\t\";} }\n    if (pos < indentation) { indentString += spaceStr(indentation - pos); }\n\n    if (indentString != curSpaceString) {\n      replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\");\n      line.stateAfter = null;\n      return true\n    } else {\n      // Ensure that, if the cursor was in the whitespace at the start\n      // of the line, it is moved to the end of that space.\n      for (var i$1 = 0; i$1 < doc.sel.ranges.length; i$1++) {\n        var range = doc.sel.ranges[i$1];\n        if (range.head.line == n && range.head.ch < curSpaceString.length) {\n          var pos$1 = Pos(n, curSpaceString.length);\n          replaceOneSelection(doc, i$1, new Range(pos$1, pos$1));\n          break\n        }\n      }\n    }\n  }\n\n  // This will be set to a {lineWise: bool, text: [string]} object, so\n  // that, when pasting, we know what kind of selections the copied\n  // text was made out of.\n  var lastCopied = null;\n\n  function setLastCopied(newLastCopied) {\n    lastCopied = newLastCopied;\n  }\n\n  function applyTextInput(cm, inserted, deleted, sel, origin) {\n    var doc = cm.doc;\n    cm.display.shift = false;\n    if (!sel) { sel = doc.sel; }\n\n    var recent = +new Date - 200;\n    var paste = origin == \"paste\" || cm.state.pasteIncoming > recent;\n    var textLines = splitLinesAuto(inserted), multiPaste = null;\n    // When pasting N lines into N selections, insert one line per selection\n    if (paste && sel.ranges.length > 1) {\n      if (lastCopied && lastCopied.text.join(\"\\n\") == inserted) {\n        if (sel.ranges.length % lastCopied.text.length == 0) {\n          multiPaste = [];\n          for (var i = 0; i < lastCopied.text.length; i++)\n            { multiPaste.push(doc.splitLines(lastCopied.text[i])); }\n        }\n      } else if (textLines.length == sel.ranges.length && cm.options.pasteLinesPerSelection) {\n        multiPaste = map(textLines, function (l) { return [l]; });\n      }\n    }\n\n    var updateInput = cm.curOp.updateInput;\n    // Normal behavior is to insert the new text into every selection\n    for (var i$1 = sel.ranges.length - 1; i$1 >= 0; i$1--) {\n      var range = sel.ranges[i$1];\n      var from = range.from(), to = range.to();\n      if (range.empty()) {\n        if (deleted && deleted > 0) // Handle deletion\n          { from = Pos(from.line, from.ch - deleted); }\n        else if (cm.state.overwrite && !paste) // Handle overwrite\n          { to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length)); }\n        else if (paste && lastCopied && lastCopied.lineWise && lastCopied.text.join(\"\\n\") == inserted)\n          { from = to = Pos(from.line, 0); }\n      }\n      var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i$1 % multiPaste.length] : textLines,\n                         origin: origin || (paste ? \"paste\" : cm.state.cutIncoming > recent ? \"cut\" : \"+input\")};\n      makeChange(cm.doc, changeEvent);\n      signalLater(cm, \"inputRead\", cm, changeEvent);\n    }\n    if (inserted && !paste)\n      { triggerElectric(cm, inserted); }\n\n    ensureCursorVisible(cm);\n    if (cm.curOp.updateInput < 2) { cm.curOp.updateInput = updateInput; }\n    cm.curOp.typing = true;\n    cm.state.pasteIncoming = cm.state.cutIncoming = -1;\n  }\n\n  function handlePaste(e, cm) {\n    var pasted = e.clipboardData && e.clipboardData.getData(\"Text\");\n    if (pasted) {\n      e.preventDefault();\n      if (!cm.isReadOnly() && !cm.options.disableInput)\n        { runInOp(cm, function () { return applyTextInput(cm, pasted, 0, null, \"paste\"); }); }\n      return true\n    }\n  }\n\n  function triggerElectric(cm, inserted) {\n    // When an 'electric' character is inserted, immediately trigger a reindent\n    if (!cm.options.electricChars || !cm.options.smartIndent) { return }\n    var sel = cm.doc.sel;\n\n    for (var i = sel.ranges.length - 1; i >= 0; i--) {\n      var range = sel.ranges[i];\n      if (range.head.ch > 100 || (i && sel.ranges[i - 1].head.line == range.head.line)) { continue }\n      var mode = cm.getModeAt(range.head);\n      var indented = false;\n      if (mode.electricChars) {\n        for (var j = 0; j < mode.electricChars.length; j++)\n          { if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\n            indented = indentLine(cm, range.head.line, \"smart\");\n            break\n          } }\n      } else if (mode.electricInput) {\n        if (mode.electricInput.test(getLine(cm.doc, range.head.line).text.slice(0, range.head.ch)))\n          { indented = indentLine(cm, range.head.line, \"smart\"); }\n      }\n      if (indented) { signalLater(cm, \"electricInput\", cm, range.head.line); }\n    }\n  }\n\n  function copyableRanges(cm) {\n    var text = [], ranges = [];\n    for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\n      var line = cm.doc.sel.ranges[i].head.line;\n      var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)};\n      ranges.push(lineRange);\n      text.push(cm.getRange(lineRange.anchor, lineRange.head));\n    }\n    return {text: text, ranges: ranges}\n  }\n\n  function disableBrowserMagic(field, spellcheck, autocorrect, autocapitalize) {\n    field.setAttribute(\"autocorrect\", autocorrect ? \"\" : \"off\");\n    field.setAttribute(\"autocapitalize\", autocapitalize ? \"\" : \"off\");\n    field.setAttribute(\"spellcheck\", !!spellcheck);\n  }\n\n  function hiddenTextarea() {\n    var te = elt(\"textarea\", null, null, \"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\");\n    var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\");\n    // The textarea is kept positioned near the cursor to prevent the\n    // fact that it'll be scrolled into view on input from scrolling\n    // our fake cursor out of view. On webkit, when wrap=off, paste is\n    // very slow. So make the area wide instead.\n    if (webkit) { te.style.width = \"1000px\"; }\n    else { te.setAttribute(\"wrap\", \"off\"); }\n    // If border: 0; -- iOS fails to open keyboard (issue #1287)\n    if (ios) { te.style.border = \"1px solid black\"; }\n    disableBrowserMagic(te);\n    return div\n  }\n\n  // The publicly visible API. Note that methodOp(f) means\n  // 'wrap f in an operation, performed on its `this` parameter'.\n\n  // This is not the complete set of editor methods. Most of the\n  // methods defined on the Doc type are also injected into\n  // CodeMirror.prototype, for backwards compatibility and\n  // convenience.\n\n  function addEditorMethods(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    var helpers = CodeMirror.helpers = {};\n\n    CodeMirror.prototype = {\n      constructor: CodeMirror,\n      focus: function(){window.focus(); this.display.input.focus();},\n\n      setOption: function(option, value) {\n        var options = this.options, old = options[option];\n        if (options[option] == value && option != \"mode\") { return }\n        options[option] = value;\n        if (optionHandlers.hasOwnProperty(option))\n          { operation(this, optionHandlers[option])(this, value, old); }\n        signal(this, \"optionChange\", this, option);\n      },\n\n      getOption: function(option) {return this.options[option]},\n      getDoc: function() {return this.doc},\n\n      addKeyMap: function(map, bottom) {\n        this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map));\n      },\n      removeKeyMap: function(map) {\n        var maps = this.state.keyMaps;\n        for (var i = 0; i < maps.length; ++i)\n          { if (maps[i] == map || maps[i].name == map) {\n            maps.splice(i, 1);\n            return true\n          } }\n      },\n\n      addOverlay: methodOp(function(spec, options) {\n        var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec);\n        if (mode.startState) { throw new Error(\"Overlays may not be stateful.\") }\n        insertSorted(this.state.overlays,\n                     {mode: mode, modeSpec: spec, opaque: options && options.opaque,\n                      priority: (options && options.priority) || 0},\n                     function (overlay) { return overlay.priority; });\n        this.state.modeGen++;\n        regChange(this);\n      }),\n      removeOverlay: methodOp(function(spec) {\n        var overlays = this.state.overlays;\n        for (var i = 0; i < overlays.length; ++i) {\n          var cur = overlays[i].modeSpec;\n          if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\n            overlays.splice(i, 1);\n            this.state.modeGen++;\n            regChange(this);\n            return\n          }\n        }\n      }),\n\n      indentLine: methodOp(function(n, dir, aggressive) {\n        if (typeof dir != \"string\" && typeof dir != \"number\") {\n          if (dir == null) { dir = this.options.smartIndent ? \"smart\" : \"prev\"; }\n          else { dir = dir ? \"add\" : \"subtract\"; }\n        }\n        if (isLine(this.doc, n)) { indentLine(this, n, dir, aggressive); }\n      }),\n      indentSelection: methodOp(function(how) {\n        var ranges = this.doc.sel.ranges, end = -1;\n        for (var i = 0; i < ranges.length; i++) {\n          var range = ranges[i];\n          if (!range.empty()) {\n            var from = range.from(), to = range.to();\n            var start = Math.max(end, from.line);\n            end = Math.min(this.lastLine(), to.line - (to.ch ? 0 : 1)) + 1;\n            for (var j = start; j < end; ++j)\n              { indentLine(this, j, how); }\n            var newRanges = this.doc.sel.ranges;\n            if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)\n              { replaceOneSelection(this.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll); }\n          } else if (range.head.line > end) {\n            indentLine(this, range.head.line, how, true);\n            end = range.head.line;\n            if (i == this.doc.sel.primIndex) { ensureCursorVisible(this); }\n          }\n        }\n      }),\n\n      // Fetch the parser token for a given character. Useful for hacks\n      // that want to inspect the mode state (say, for completion).\n      getTokenAt: function(pos, precise) {\n        return takeToken(this, pos, precise)\n      },\n\n      getLineTokens: function(line, precise) {\n        return takeToken(this, Pos(line), precise, true)\n      },\n\n      getTokenTypeAt: function(pos) {\n        pos = clipPos(this.doc, pos);\n        var styles = getLineStyles(this, getLine(this.doc, pos.line));\n        var before = 0, after = (styles.length - 1) / 2, ch = pos.ch;\n        var type;\n        if (ch == 0) { type = styles[2]; }\n        else { for (;;) {\n          var mid = (before + after) >> 1;\n          if ((mid ? styles[mid * 2 - 1] : 0) >= ch) { after = mid; }\n          else if (styles[mid * 2 + 1] < ch) { before = mid + 1; }\n          else { type = styles[mid * 2 + 2]; break }\n        } }\n        var cut = type ? type.indexOf(\"overlay \") : -1;\n        return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1)\n      },\n\n      getModeAt: function(pos) {\n        var mode = this.doc.mode;\n        if (!mode.innerMode) { return mode }\n        return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode\n      },\n\n      getHelper: function(pos, type) {\n        return this.getHelpers(pos, type)[0]\n      },\n\n      getHelpers: function(pos, type) {\n        var found = [];\n        if (!helpers.hasOwnProperty(type)) { return found }\n        var help = helpers[type], mode = this.getModeAt(pos);\n        if (typeof mode[type] == \"string\") {\n          if (help[mode[type]]) { found.push(help[mode[type]]); }\n        } else if (mode[type]) {\n          for (var i = 0; i < mode[type].length; i++) {\n            var val = help[mode[type][i]];\n            if (val) { found.push(val); }\n          }\n        } else if (mode.helperType && help[mode.helperType]) {\n          found.push(help[mode.helperType]);\n        } else if (help[mode.name]) {\n          found.push(help[mode.name]);\n        }\n        for (var i$1 = 0; i$1 < help._global.length; i$1++) {\n          var cur = help._global[i$1];\n          if (cur.pred(mode, this) && indexOf(found, cur.val) == -1)\n            { found.push(cur.val); }\n        }\n        return found\n      },\n\n      getStateAfter: function(line, precise) {\n        var doc = this.doc;\n        line = clipLine(doc, line == null ? doc.first + doc.size - 1: line);\n        return getContextBefore(this, line + 1, precise).state\n      },\n\n      cursorCoords: function(start, mode) {\n        var pos, range = this.doc.sel.primary();\n        if (start == null) { pos = range.head; }\n        else if (typeof start == \"object\") { pos = clipPos(this.doc, start); }\n        else { pos = start ? range.from() : range.to(); }\n        return cursorCoords(this, pos, mode || \"page\")\n      },\n\n      charCoords: function(pos, mode) {\n        return charCoords(this, clipPos(this.doc, pos), mode || \"page\")\n      },\n\n      coordsChar: function(coords, mode) {\n        coords = fromCoordSystem(this, coords, mode || \"page\");\n        return coordsChar(this, coords.left, coords.top)\n      },\n\n      lineAtHeight: function(height, mode) {\n        height = fromCoordSystem(this, {top: height, left: 0}, mode || \"page\").top;\n        return lineAtHeight(this.doc, height + this.display.viewOffset)\n      },\n      heightAtLine: function(line, mode, includeWidgets) {\n        var end = false, lineObj;\n        if (typeof line == \"number\") {\n          var last = this.doc.first + this.doc.size - 1;\n          if (line < this.doc.first) { line = this.doc.first; }\n          else if (line > last) { line = last; end = true; }\n          lineObj = getLine(this.doc, line);\n        } else {\n          lineObj = line;\n        }\n        return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || \"page\", includeWidgets || end).top +\n          (end ? this.doc.height - heightAtLine(lineObj) : 0)\n      },\n\n      defaultTextHeight: function() { return textHeight(this.display) },\n      defaultCharWidth: function() { return charWidth(this.display) },\n\n      getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo}},\n\n      addWidget: function(pos, node, scroll, vert, horiz) {\n        var display = this.display;\n        pos = cursorCoords(this, clipPos(this.doc, pos));\n        var top = pos.bottom, left = pos.left;\n        node.style.position = \"absolute\";\n        node.setAttribute(\"cm-ignore-events\", \"true\");\n        this.display.input.setUneditable(node);\n        display.sizer.appendChild(node);\n        if (vert == \"over\") {\n          top = pos.top;\n        } else if (vert == \"above\" || vert == \"near\") {\n          var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\n          hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth);\n          // Default to positioning above (if specified and possible); otherwise default to positioning below\n          if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)\n            { top = pos.top - node.offsetHeight; }\n          else if (pos.bottom + node.offsetHeight <= vspace)\n            { top = pos.bottom; }\n          if (left + node.offsetWidth > hspace)\n            { left = hspace - node.offsetWidth; }\n        }\n        node.style.top = top + \"px\";\n        node.style.left = node.style.right = \"\";\n        if (horiz == \"right\") {\n          left = display.sizer.clientWidth - node.offsetWidth;\n          node.style.right = \"0px\";\n        } else {\n          if (horiz == \"left\") { left = 0; }\n          else if (horiz == \"middle\") { left = (display.sizer.clientWidth - node.offsetWidth) / 2; }\n          node.style.left = left + \"px\";\n        }\n        if (scroll)\n          { scrollIntoView(this, {left: left, top: top, right: left + node.offsetWidth, bottom: top + node.offsetHeight}); }\n      },\n\n      triggerOnKeyDown: methodOp(onKeyDown),\n      triggerOnKeyPress: methodOp(onKeyPress),\n      triggerOnKeyUp: onKeyUp,\n      triggerOnMouseDown: methodOp(onMouseDown),\n\n      execCommand: function(cmd) {\n        if (commands.hasOwnProperty(cmd))\n          { return commands[cmd].call(null, this) }\n      },\n\n      triggerElectric: methodOp(function(text) { triggerElectric(this, text); }),\n\n      findPosH: function(from, amount, unit, visually) {\n        var dir = 1;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          cur = findPosH(this.doc, cur, dir, unit, visually);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveH: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        this.extendSelectionsBy(function (range) {\n          if (this$1.display.shift || this$1.doc.extend || range.empty())\n            { return findPosH(this$1.doc, range.head, dir, unit, this$1.options.rtlMoveVisually) }\n          else\n            { return dir < 0 ? range.from() : range.to() }\n        }, sel_move);\n      }),\n\n      deleteH: methodOp(function(dir, unit) {\n        var sel = this.doc.sel, doc = this.doc;\n        if (sel.somethingSelected())\n          { doc.replaceSelection(\"\", null, \"+delete\"); }\n        else\n          { deleteNearSelection(this, function (range) {\n            var other = findPosH(doc, range.head, dir, unit, false);\n            return dir < 0 ? {from: other, to: range.head} : {from: range.head, to: other}\n          }); }\n      }),\n\n      findPosV: function(from, amount, unit, goalColumn) {\n        var dir = 1, x = goalColumn;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          var coords = cursorCoords(this, cur, \"div\");\n          if (x == null) { x = coords.left; }\n          else { coords.left = x; }\n          cur = findPosV(this, coords, dir, unit);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveV: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        var doc = this.doc, goals = [];\n        var collapse = !this.display.shift && !doc.extend && doc.sel.somethingSelected();\n        doc.extendSelectionsBy(function (range) {\n          if (collapse)\n            { return dir < 0 ? range.from() : range.to() }\n          var headPos = cursorCoords(this$1, range.head, \"div\");\n          if (range.goalColumn != null) { headPos.left = range.goalColumn; }\n          goals.push(headPos.left);\n          var pos = findPosV(this$1, headPos, dir, unit);\n          if (unit == \"page\" && range == doc.sel.primary())\n            { addToScrollTop(this$1, charCoords(this$1, pos, \"div\").top - headPos.top); }\n          return pos\n        }, sel_move);\n        if (goals.length) { for (var i = 0; i < doc.sel.ranges.length; i++)\n          { doc.sel.ranges[i].goalColumn = goals[i]; } }\n      }),\n\n      // Find the word at the given position (as returned by coordsChar).\n      findWordAt: function(pos) {\n        var doc = this.doc, line = getLine(doc, pos.line).text;\n        var start = pos.ch, end = pos.ch;\n        if (line) {\n          var helper = this.getHelper(pos, \"wordChars\");\n          if ((pos.sticky == \"before\" || end == line.length) && start) { --start; } else { ++end; }\n          var startChar = line.charAt(start);\n          var check = isWordChar(startChar, helper)\n            ? function (ch) { return isWordChar(ch, helper); }\n            : /\\s/.test(startChar) ? function (ch) { return /\\s/.test(ch); }\n            : function (ch) { return (!/\\s/.test(ch) && !isWordChar(ch)); };\n          while (start > 0 && check(line.charAt(start - 1))) { --start; }\n          while (end < line.length && check(line.charAt(end))) { ++end; }\n        }\n        return new Range(Pos(pos.line, start), Pos(pos.line, end))\n      },\n\n      toggleOverwrite: function(value) {\n        if (value != null && value == this.state.overwrite) { return }\n        if (this.state.overwrite = !this.state.overwrite)\n          { addClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n        else\n          { rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n\n        signal(this, \"overwriteToggle\", this, this.state.overwrite);\n      },\n      hasFocus: function() { return this.display.input.getField() == activeElt() },\n      isReadOnly: function() { return !!(this.options.readOnly || this.doc.cantEdit) },\n\n      scrollTo: methodOp(function (x, y) { scrollToCoords(this, x, y); }),\n      getScrollInfo: function() {\n        var scroller = this.display.scroller;\n        return {left: scroller.scrollLeft, top: scroller.scrollTop,\n                height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\n                width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\n                clientHeight: displayHeight(this), clientWidth: displayWidth(this)}\n      },\n\n      scrollIntoView: methodOp(function(range, margin) {\n        if (range == null) {\n          range = {from: this.doc.sel.primary().head, to: null};\n          if (margin == null) { margin = this.options.cursorScrollMargin; }\n        } else if (typeof range == \"number\") {\n          range = {from: Pos(range, 0), to: null};\n        } else if (range.from == null) {\n          range = {from: range, to: null};\n        }\n        if (!range.to) { range.to = range.from; }\n        range.margin = margin || 0;\n\n        if (range.from.line != null) {\n          scrollToRange(this, range);\n        } else {\n          scrollToCoordsRange(this, range.from, range.to, range.margin);\n        }\n      }),\n\n      setSize: methodOp(function(width, height) {\n        var this$1 = this;\n\n        var interpret = function (val) { return typeof val == \"number\" || /^\\d+$/.test(String(val)) ? val + \"px\" : val; };\n        if (width != null) { this.display.wrapper.style.width = interpret(width); }\n        if (height != null) { this.display.wrapper.style.height = interpret(height); }\n        if (this.options.lineWrapping) { clearLineMeasurementCache(this); }\n        var lineNo = this.display.viewFrom;\n        this.doc.iter(lineNo, this.display.viewTo, function (line) {\n          if (line.widgets) { for (var i = 0; i < line.widgets.length; i++)\n            { if (line.widgets[i].noHScroll) { regLineChange(this$1, lineNo, \"widget\"); break } } }\n          ++lineNo;\n        });\n        this.curOp.forceUpdate = true;\n        signal(this, \"refresh\", this);\n      }),\n\n      operation: function(f){return runInOp(this, f)},\n      startOperation: function(){return startOperation(this)},\n      endOperation: function(){return endOperation(this)},\n\n      refresh: methodOp(function() {\n        var oldHeight = this.display.cachedTextHeight;\n        regChange(this);\n        this.curOp.forceUpdate = true;\n        clearCaches(this);\n        scrollToCoords(this, this.doc.scrollLeft, this.doc.scrollTop);\n        updateGutterSpace(this.display);\n        if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5)\n          { estimateLineHeights(this); }\n        signal(this, \"refresh\", this);\n      }),\n\n      swapDoc: methodOp(function(doc) {\n        var old = this.doc;\n        old.cm = null;\n        // Cancel the current text selection if any (#5821)\n        if (this.state.selectingText) { this.state.selectingText(); }\n        attachDoc(this, doc);\n        clearCaches(this);\n        this.display.input.reset();\n        scrollToCoords(this, doc.scrollLeft, doc.scrollTop);\n        this.curOp.forceScroll = true;\n        signalLater(this, \"swapDoc\", this, old);\n        return old\n      }),\n\n      phrase: function(phraseText) {\n        var phrases = this.options.phrases;\n        return phrases && Object.prototype.hasOwnProperty.call(phrases, phraseText) ? phrases[phraseText] : phraseText\n      },\n\n      getInputField: function(){return this.display.input.getField()},\n      getWrapperElement: function(){return this.display.wrapper},\n      getScrollerElement: function(){return this.display.scroller},\n      getGutterElement: function(){return this.display.gutters}\n    };\n    eventMixin(CodeMirror);\n\n    CodeMirror.registerHelper = function(type, name, value) {\n      if (!helpers.hasOwnProperty(type)) { helpers[type] = CodeMirror[type] = {_global: []}; }\n      helpers[type][name] = value;\n    };\n    CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {\n      CodeMirror.registerHelper(type, name, value);\n      helpers[type]._global.push({pred: predicate, val: value});\n    };\n  }\n\n  // Used for horizontal relative motion. Dir is -1 or 1 (left or\n  // right), unit can be \"char\", \"column\" (like char, but doesn't\n  // cross line boundaries), \"word\" (across next word), or \"group\" (to\n  // the start of next group of word or non-word-non-whitespace\n  // chars). The visually param controls whether, in right-to-left\n  // text, direction 1 means to move towards the next index in the\n  // string, or towards the character to the right of the current\n  // position. The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n  function findPosH(doc, pos, dir, unit, visually) {\n    var oldPos = pos;\n    var origDir = dir;\n    var lineObj = getLine(doc, pos.line);\n    function findNextLine() {\n      var l = pos.line + dir;\n      if (l < doc.first || l >= doc.first + doc.size) { return false }\n      pos = new Pos(l, pos.ch, pos.sticky);\n      return lineObj = getLine(doc, l)\n    }\n    function moveOnce(boundToLine) {\n      var next;\n      if (visually) {\n        next = moveVisually(doc.cm, lineObj, pos, dir);\n      } else {\n        next = moveLogically(lineObj, pos, dir);\n      }\n      if (next == null) {\n        if (!boundToLine && findNextLine())\n          { pos = endOfLine(visually, doc.cm, lineObj, pos.line, dir); }\n        else\n          { return false }\n      } else {\n        pos = next;\n      }\n      return true\n    }\n\n    if (unit == \"char\") {\n      moveOnce();\n    } else if (unit == \"column\") {\n      moveOnce(true);\n    } else if (unit == \"word\" || unit == \"group\") {\n      var sawType = null, group = unit == \"group\";\n      var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\");\n      for (var first = true;; first = false) {\n        if (dir < 0 && !moveOnce(!first)) { break }\n        var cur = lineObj.text.charAt(pos.ch) || \"\\n\";\n        var type = isWordChar(cur, helper) ? \"w\"\n          : group && cur == \"\\n\" ? \"n\"\n          : !group || /\\s/.test(cur) ? null\n          : \"p\";\n        if (group && !first && !type) { type = \"s\"; }\n        if (sawType && sawType != type) {\n          if (dir < 0) {dir = 1; moveOnce(); pos.sticky = \"after\";}\n          break\n        }\n\n        if (type) { sawType = type; }\n        if (dir > 0 && !moveOnce(!first)) { break }\n      }\n    }\n    var result = skipAtomic(doc, pos, oldPos, origDir, true);\n    if (equalCursorPos(oldPos, result)) { result.hitSide = true; }\n    return result\n  }\n\n  // For relative vertical movement. Dir may be -1 or 1. Unit can be\n  // \"page\" or \"line\". The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n  function findPosV(cm, pos, dir, unit) {\n    var doc = cm.doc, x = pos.left, y;\n    if (unit == \"page\") {\n      var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);\n      var moveAmount = Math.max(pageSize - .5 * textHeight(cm.display), 3);\n      y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount;\n\n    } else if (unit == \"line\") {\n      y = dir > 0 ? pos.bottom + 3 : pos.top - 3;\n    }\n    var target;\n    for (;;) {\n      target = coordsChar(cm, x, y);\n      if (!target.outside) { break }\n      if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break }\n      y += dir * 5;\n    }\n    return target\n  }\n\n  // CONTENTEDITABLE INPUT STYLE\n\n  var ContentEditableInput = function(cm) {\n    this.cm = cm;\n    this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null;\n    this.polling = new Delayed();\n    this.composing = null;\n    this.gracePeriod = false;\n    this.readDOMTimeout = null;\n  };\n\n  ContentEditableInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = input.cm;\n    var div = input.div = display.lineDiv;\n    disableBrowserMagic(div, cm.options.spellcheck, cm.options.autocorrect, cm.options.autocapitalize);\n\n    on(div, \"paste\", function (e) {\n      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n      // IE doesn't fire input events, so we schedule a read for the pasted content in this way\n      if (ie_version <= 11) { setTimeout(operation(cm, function () { return this$1.updateFromDOM(); }), 20); }\n    });\n\n    on(div, \"compositionstart\", function (e) {\n      this$1.composing = {data: e.data, done: false};\n    });\n    on(div, \"compositionupdate\", function (e) {\n      if (!this$1.composing) { this$1.composing = {data: e.data, done: false}; }\n    });\n    on(div, \"compositionend\", function (e) {\n      if (this$1.composing) {\n        if (e.data != this$1.composing.data) { this$1.readFromDOMSoon(); }\n        this$1.composing.done = true;\n      }\n    });\n\n    on(div, \"touchstart\", function () { return input.forceCompositionEnd(); });\n\n    on(div, \"input\", function () {\n      if (!this$1.composing) { this$1.readFromDOMSoon(); }\n    });\n\n    function onCopyCut(e) {\n      if (signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n        if (e.type == \"cut\") { cm.replaceSelection(\"\", null, \"cut\"); }\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.operation(function () {\n            cm.setSelections(ranges.ranges, 0, sel_dontScroll);\n            cm.replaceSelection(\"\", null, \"cut\");\n          });\n        }\n      }\n      if (e.clipboardData) {\n        e.clipboardData.clearData();\n        var content = lastCopied.text.join(\"\\n\");\n        // iOS exposes the clipboard API, but seems to discard content inserted into it\n        e.clipboardData.setData(\"Text\", content);\n        if (e.clipboardData.getData(\"Text\") == content) {\n          e.preventDefault();\n          return\n        }\n      }\n      // Old-fashioned briefly-focus-a-textarea hack\n      var kludge = hiddenTextarea(), te = kludge.firstChild;\n      cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild);\n      te.value = lastCopied.text.join(\"\\n\");\n      var hadFocus = document.activeElement;\n      selectInput(te);\n      setTimeout(function () {\n        cm.display.lineSpace.removeChild(kludge);\n        hadFocus.focus();\n        if (hadFocus == div) { input.showPrimarySelection(); }\n      }, 50);\n    }\n    on(div, \"copy\", onCopyCut);\n    on(div, \"cut\", onCopyCut);\n  };\n\n  ContentEditableInput.prototype.prepareSelection = function () {\n    var result = prepareSelection(this.cm, false);\n    result.focus = this.cm.state.focused;\n    return result\n  };\n\n  ContentEditableInput.prototype.showSelection = function (info, takeFocus) {\n    if (!info || !this.cm.display.view.length) { return }\n    if (info.focus || takeFocus) { this.showPrimarySelection(); }\n    this.showMultipleSelections(info);\n  };\n\n  ContentEditableInput.prototype.getSelection = function () {\n    return this.cm.display.wrapper.ownerDocument.getSelection()\n  };\n\n  ContentEditableInput.prototype.showPrimarySelection = function () {\n    var sel = this.getSelection(), cm = this.cm, prim = cm.doc.sel.primary();\n    var from = prim.from(), to = prim.to();\n\n    if (cm.display.viewTo == cm.display.viewFrom || from.line >= cm.display.viewTo || to.line < cm.display.viewFrom) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var curAnchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var curFocus = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad &&\n        cmp(minPos(curAnchor, curFocus), from) == 0 &&\n        cmp(maxPos(curAnchor, curFocus), to) == 0)\n      { return }\n\n    var view = cm.display.view;\n    var start = (from.line >= cm.display.viewFrom && posToDOM(cm, from)) ||\n        {node: view[0].measure.map[2], offset: 0};\n    var end = to.line < cm.display.viewTo && posToDOM(cm, to);\n    if (!end) {\n      var measure = view[view.length - 1].measure;\n      var map = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map;\n      end = {node: map[map.length - 1], offset: map[map.length - 2] - map[map.length - 3]};\n    }\n\n    if (!start || !end) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var old = sel.rangeCount && sel.getRangeAt(0), rng;\n    try { rng = range(start.node, start.offset, end.offset, end.node); }\n    catch(e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible\n    if (rng) {\n      if (!gecko && cm.state.focused) {\n        sel.collapse(start.node, start.offset);\n        if (!rng.collapsed) {\n          sel.removeAllRanges();\n          sel.addRange(rng);\n        }\n      } else {\n        sel.removeAllRanges();\n        sel.addRange(rng);\n      }\n      if (old && sel.anchorNode == null) { sel.addRange(old); }\n      else if (gecko) { this.startGracePeriod(); }\n    }\n    this.rememberSelection();\n  };\n\n  ContentEditableInput.prototype.startGracePeriod = function () {\n      var this$1 = this;\n\n    clearTimeout(this.gracePeriod);\n    this.gracePeriod = setTimeout(function () {\n      this$1.gracePeriod = false;\n      if (this$1.selectionChanged())\n        { this$1.cm.operation(function () { return this$1.cm.curOp.selectionChanged = true; }); }\n    }, 20);\n  };\n\n  ContentEditableInput.prototype.showMultipleSelections = function (info) {\n    removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors);\n    removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection);\n  };\n\n  ContentEditableInput.prototype.rememberSelection = function () {\n    var sel = this.getSelection();\n    this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset;\n    this.lastFocusNode = sel.focusNode; this.lastFocusOffset = sel.focusOffset;\n  };\n\n  ContentEditableInput.prototype.selectionInEditor = function () {\n    var sel = this.getSelection();\n    if (!sel.rangeCount) { return false }\n    var node = sel.getRangeAt(0).commonAncestorContainer;\n    return contains(this.div, node)\n  };\n\n  ContentEditableInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\") {\n      if (!this.selectionInEditor())\n        { this.showSelection(this.prepareSelection(), true); }\n      this.div.focus();\n    }\n  };\n  ContentEditableInput.prototype.blur = function () { this.div.blur(); };\n  ContentEditableInput.prototype.getField = function () { return this.div };\n\n  ContentEditableInput.prototype.supportsTouch = function () { return true };\n\n  ContentEditableInput.prototype.receivedFocus = function () {\n    var input = this;\n    if (this.selectionInEditor())\n      { this.pollSelection(); }\n    else\n      { runInOp(this.cm, function () { return input.cm.curOp.selectionChanged = true; }); }\n\n    function poll() {\n      if (input.cm.state.focused) {\n        input.pollSelection();\n        input.polling.set(input.cm.options.pollInterval, poll);\n      }\n    }\n    this.polling.set(this.cm.options.pollInterval, poll);\n  };\n\n  ContentEditableInput.prototype.selectionChanged = function () {\n    var sel = this.getSelection();\n    return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||\n      sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset\n  };\n\n  ContentEditableInput.prototype.pollSelection = function () {\n    if (this.readDOMTimeout != null || this.gracePeriod || !this.selectionChanged()) { return }\n    var sel = this.getSelection(), cm = this.cm;\n    // On Android Chrome (version 56, at least), backspacing into an\n    // uneditable block element will put the cursor in that element,\n    // and then, because it's not editable, hide the virtual keyboard.\n    // Because Android doesn't allow us to actually detect backspace\n    // presses in a sane way, this code checks for when that happens\n    // and simulates a backspace press in this case.\n    if (android && chrome && this.cm.display.gutterSpecs.length && isInGutter(sel.anchorNode)) {\n      this.cm.triggerOnKeyDown({type: \"keydown\", keyCode: 8, preventDefault: Math.abs});\n      this.blur();\n      this.focus();\n      return\n    }\n    if (this.composing) { return }\n    this.rememberSelection();\n    var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var head = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (anchor && head) { runInOp(cm, function () {\n      setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll);\n      if (anchor.bad || head.bad) { cm.curOp.selectionChanged = true; }\n    }); }\n  };\n\n  ContentEditableInput.prototype.pollContent = function () {\n    if (this.readDOMTimeout != null) {\n      clearTimeout(this.readDOMTimeout);\n      this.readDOMTimeout = null;\n    }\n\n    var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary();\n    var from = sel.from(), to = sel.to();\n    if (from.ch == 0 && from.line > cm.firstLine())\n      { from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length); }\n    if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine())\n      { to = Pos(to.line + 1, 0); }\n    if (from.line < display.viewFrom || to.line > display.viewTo - 1) { return false }\n\n    var fromIndex, fromLine, fromNode;\n    if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\n      fromLine = lineNo(display.view[0].line);\n      fromNode = display.view[0].node;\n    } else {\n      fromLine = lineNo(display.view[fromIndex].line);\n      fromNode = display.view[fromIndex - 1].node.nextSibling;\n    }\n    var toIndex = findViewIndex(cm, to.line);\n    var toLine, toNode;\n    if (toIndex == display.view.length - 1) {\n      toLine = display.viewTo - 1;\n      toNode = display.lineDiv.lastChild;\n    } else {\n      toLine = lineNo(display.view[toIndex + 1].line) - 1;\n      toNode = display.view[toIndex + 1].node.previousSibling;\n    }\n\n    if (!fromNode) { return false }\n    var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine));\n    var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length));\n    while (newText.length > 1 && oldText.length > 1) {\n      if (lst(newText) == lst(oldText)) { newText.pop(); oldText.pop(); toLine--; }\n      else if (newText[0] == oldText[0]) { newText.shift(); oldText.shift(); fromLine++; }\n      else { break }\n    }\n\n    var cutFront = 0, cutEnd = 0;\n    var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length);\n    while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront))\n      { ++cutFront; }\n    var newBot = lst(newText), oldBot = lst(oldText);\n    var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0),\n                             oldBot.length - (oldText.length == 1 ? cutFront : 0));\n    while (cutEnd < maxCutEnd &&\n           newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1))\n      { ++cutEnd; }\n    // Try to move start of change to start of selection if ambiguous\n    if (newText.length == 1 && oldText.length == 1 && fromLine == from.line) {\n      while (cutFront && cutFront > from.ch &&\n             newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {\n        cutFront--;\n        cutEnd++;\n      }\n    }\n\n    newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(/^\\u200b+/, \"\");\n    newText[0] = newText[0].slice(cutFront).replace(/\\u200b+$/, \"\");\n\n    var chFrom = Pos(fromLine, cutFront);\n    var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0);\n    if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\n      replaceRange(cm.doc, newText, chFrom, chTo, \"+input\");\n      return true\n    }\n  };\n\n  ContentEditableInput.prototype.ensurePolled = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.reset = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.forceCompositionEnd = function () {\n    if (!this.composing) { return }\n    clearTimeout(this.readDOMTimeout);\n    this.composing = null;\n    this.updateFromDOM();\n    this.div.blur();\n    this.div.focus();\n  };\n  ContentEditableInput.prototype.readFromDOMSoon = function () {\n      var this$1 = this;\n\n    if (this.readDOMTimeout != null) { return }\n    this.readDOMTimeout = setTimeout(function () {\n      this$1.readDOMTimeout = null;\n      if (this$1.composing) {\n        if (this$1.composing.done) { this$1.composing = null; }\n        else { return }\n      }\n      this$1.updateFromDOM();\n    }, 80);\n  };\n\n  ContentEditableInput.prototype.updateFromDOM = function () {\n      var this$1 = this;\n\n    if (this.cm.isReadOnly() || !this.pollContent())\n      { runInOp(this.cm, function () { return regChange(this$1.cm); }); }\n  };\n\n  ContentEditableInput.prototype.setUneditable = function (node) {\n    node.contentEditable = \"false\";\n  };\n\n  ContentEditableInput.prototype.onKeyPress = function (e) {\n    if (e.charCode == 0 || this.composing) { return }\n    e.preventDefault();\n    if (!this.cm.isReadOnly())\n      { operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0); }\n  };\n\n  ContentEditableInput.prototype.readOnlyChanged = function (val) {\n    this.div.contentEditable = String(val != \"nocursor\");\n  };\n\n  ContentEditableInput.prototype.onContextMenu = function () {};\n  ContentEditableInput.prototype.resetPosition = function () {};\n\n  ContentEditableInput.prototype.needsContentAttribute = true;\n\n  function posToDOM(cm, pos) {\n    var view = findViewForLine(cm, pos.line);\n    if (!view || view.hidden) { return null }\n    var line = getLine(cm.doc, pos.line);\n    var info = mapFromLineView(view, line, pos.line);\n\n    var order = getOrder(line, cm.doc.direction), side = \"left\";\n    if (order) {\n      var partPos = getBidiPartAt(order, pos.ch);\n      side = partPos % 2 ? \"right\" : \"left\";\n    }\n    var result = nodeAndOffsetInLineMap(info.map, pos.ch, side);\n    result.offset = result.collapse == \"right\" ? result.end : result.start;\n    return result\n  }\n\n  function isInGutter(node) {\n    for (var scan = node; scan; scan = scan.parentNode)\n      { if (/CodeMirror-gutter-wrapper/.test(scan.className)) { return true } }\n    return false\n  }\n\n  function badPos(pos, bad) { if (bad) { pos.bad = true; } return pos }\n\n  function domTextBetween(cm, from, to, fromLine, toLine) {\n    var text = \"\", closing = false, lineSep = cm.doc.lineSeparator(), extraLinebreak = false;\n    function recognizeMarker(id) { return function (marker) { return marker.id == id; } }\n    function close() {\n      if (closing) {\n        text += lineSep;\n        if (extraLinebreak) { text += lineSep; }\n        closing = extraLinebreak = false;\n      }\n    }\n    function addText(str) {\n      if (str) {\n        close();\n        text += str;\n      }\n    }\n    function walk(node) {\n      if (node.nodeType == 1) {\n        var cmText = node.getAttribute(\"cm-text\");\n        if (cmText) {\n          addText(cmText);\n          return\n        }\n        var markerID = node.getAttribute(\"cm-marker\"), range;\n        if (markerID) {\n          var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID));\n          if (found.length && (range = found[0].find(0)))\n            { addText(getBetween(cm.doc, range.from, range.to).join(lineSep)); }\n          return\n        }\n        if (node.getAttribute(\"contenteditable\") == \"false\") { return }\n        var isBlock = /^(pre|div|p|li|table|br)$/i.test(node.nodeName);\n        if (!/^br$/i.test(node.nodeName) && node.textContent.length == 0) { return }\n\n        if (isBlock) { close(); }\n        for (var i = 0; i < node.childNodes.length; i++)\n          { walk(node.childNodes[i]); }\n\n        if (/^(pre|p)$/i.test(node.nodeName)) { extraLinebreak = true; }\n        if (isBlock) { closing = true; }\n      } else if (node.nodeType == 3) {\n        addText(node.nodeValue.replace(/\\u200b/g, \"\").replace(/\\u00a0/g, \" \"));\n      }\n    }\n    for (;;) {\n      walk(from);\n      if (from == to) { break }\n      from = from.nextSibling;\n      extraLinebreak = false;\n    }\n    return text\n  }\n\n  function domToPos(cm, node, offset) {\n    var lineNode;\n    if (node == cm.display.lineDiv) {\n      lineNode = cm.display.lineDiv.childNodes[offset];\n      if (!lineNode) { return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true) }\n      node = null; offset = 0;\n    } else {\n      for (lineNode = node;; lineNode = lineNode.parentNode) {\n        if (!lineNode || lineNode == cm.display.lineDiv) { return null }\n        if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) { break }\n      }\n    }\n    for (var i = 0; i < cm.display.view.length; i++) {\n      var lineView = cm.display.view[i];\n      if (lineView.node == lineNode)\n        { return locateNodeInLineView(lineView, node, offset) }\n    }\n  }\n\n  function locateNodeInLineView(lineView, node, offset) {\n    var wrapper = lineView.text.firstChild, bad = false;\n    if (!node || !contains(wrapper, node)) { return badPos(Pos(lineNo(lineView.line), 0), true) }\n    if (node == wrapper) {\n      bad = true;\n      node = wrapper.childNodes[offset];\n      offset = 0;\n      if (!node) {\n        var line = lineView.rest ? lst(lineView.rest) : lineView.line;\n        return badPos(Pos(lineNo(line), line.text.length), bad)\n      }\n    }\n\n    var textNode = node.nodeType == 3 ? node : null, topNode = node;\n    if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\n      textNode = node.firstChild;\n      if (offset) { offset = textNode.nodeValue.length; }\n    }\n    while (topNode.parentNode != wrapper) { topNode = topNode.parentNode; }\n    var measure = lineView.measure, maps = measure.maps;\n\n    function find(textNode, topNode, offset) {\n      for (var i = -1; i < (maps ? maps.length : 0); i++) {\n        var map = i < 0 ? measure.map : maps[i];\n        for (var j = 0; j < map.length; j += 3) {\n          var curNode = map[j + 2];\n          if (curNode == textNode || curNode == topNode) {\n            var line = lineNo(i < 0 ? lineView.line : lineView.rest[i]);\n            var ch = map[j] + offset;\n            if (offset < 0 || curNode != textNode) { ch = map[j + (offset ? 1 : 0)]; }\n            return Pos(line, ch)\n          }\n        }\n      }\n    }\n    var found = find(textNode, topNode, offset);\n    if (found) { return badPos(found, bad) }\n\n    // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems\n    for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\n      found = find(after, after.firstChild, 0);\n      if (found)\n        { return badPos(Pos(found.line, found.ch - dist), bad) }\n      else\n        { dist += after.textContent.length; }\n    }\n    for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {\n      found = find(before, before.firstChild, -1);\n      if (found)\n        { return badPos(Pos(found.line, found.ch + dist$1), bad) }\n      else\n        { dist$1 += before.textContent.length; }\n    }\n  }\n\n  // TEXTAREA INPUT STYLE\n\n  var TextareaInput = function(cm) {\n    this.cm = cm;\n    // See input.poll and input.reset\n    this.prevInput = \"\";\n\n    // Flag that indicates whether we expect input to appear real soon\n    // now (after some event like 'keypress' or 'input') and are\n    // polling intensively.\n    this.pollingFast = false;\n    // Self-resetting timeout for the poller\n    this.polling = new Delayed();\n    // Used to work around IE issue with selection being forgotten when focus moves away from textarea\n    this.hasSelection = false;\n    this.composing = null;\n  };\n\n  TextareaInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = this.cm;\n    this.createField(display);\n    var te = this.textarea;\n\n    display.wrapper.insertBefore(this.wrapper, display.wrapper.firstChild);\n\n    // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)\n    if (ios) { te.style.width = \"0px\"; }\n\n    on(te, \"input\", function () {\n      if (ie && ie_version >= 9 && this$1.hasSelection) { this$1.hasSelection = null; }\n      input.poll();\n    });\n\n    on(te, \"paste\", function (e) {\n      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n\n      cm.state.pasteIncoming = +new Date;\n      input.fastPoll();\n    });\n\n    function prepareCopyCut(e) {\n      if (signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.setSelections(ranges.ranges, null, sel_dontScroll);\n        } else {\n          input.prevInput = \"\";\n          te.value = ranges.text.join(\"\\n\");\n          selectInput(te);\n        }\n      }\n      if (e.type == \"cut\") { cm.state.cutIncoming = +new Date; }\n    }\n    on(te, \"cut\", prepareCopyCut);\n    on(te, \"copy\", prepareCopyCut);\n\n    on(display.scroller, \"paste\", function (e) {\n      if (eventInWidget(display, e) || signalDOMEvent(cm, e)) { return }\n      if (!te.dispatchEvent) {\n        cm.state.pasteIncoming = +new Date;\n        input.focus();\n        return\n      }\n\n      // Pass the `paste` event to the textarea so it's handled by its event listener.\n      var event = new Event(\"paste\");\n      event.clipboardData = e.clipboardData;\n      te.dispatchEvent(event);\n    });\n\n    // Prevent normal selection in the editor (we handle our own)\n    on(display.lineSpace, \"selectstart\", function (e) {\n      if (!eventInWidget(display, e)) { e_preventDefault(e); }\n    });\n\n    on(te, \"compositionstart\", function () {\n      var start = cm.getCursor(\"from\");\n      if (input.composing) { input.composing.range.clear(); }\n      input.composing = {\n        start: start,\n        range: cm.markText(start, cm.getCursor(\"to\"), {className: \"CodeMirror-composing\"})\n      };\n    });\n    on(te, \"compositionend\", function () {\n      if (input.composing) {\n        input.poll();\n        input.composing.range.clear();\n        input.composing = null;\n      }\n    });\n  };\n\n  TextareaInput.prototype.createField = function (_display) {\n    // Wraps and hides input textarea\n    this.wrapper = hiddenTextarea();\n    // The semihidden textarea that is focused when the editor is\n    // focused, and receives input.\n    this.textarea = this.wrapper.firstChild;\n  };\n\n  TextareaInput.prototype.prepareSelection = function () {\n    // Redraw the selection and/or cursor\n    var cm = this.cm, display = cm.display, doc = cm.doc;\n    var result = prepareSelection(cm);\n\n    // Move the hidden textarea near the cursor to prevent scrolling artifacts\n    if (cm.options.moveInputWithCursor) {\n      var headPos = cursorCoords(cm, doc.sel.primary().head, \"div\");\n      var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect();\n      result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,\n                                          headPos.top + lineOff.top - wrapOff.top));\n      result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,\n                                           headPos.left + lineOff.left - wrapOff.left));\n    }\n\n    return result\n  };\n\n  TextareaInput.prototype.showSelection = function (drawn) {\n    var cm = this.cm, display = cm.display;\n    removeChildrenAndAdd(display.cursorDiv, drawn.cursors);\n    removeChildrenAndAdd(display.selectionDiv, drawn.selection);\n    if (drawn.teTop != null) {\n      this.wrapper.style.top = drawn.teTop + \"px\";\n      this.wrapper.style.left = drawn.teLeft + \"px\";\n    }\n  };\n\n  // Reset the input to correspond to the selection (or to be empty,\n  // when not typing and nothing is selected)\n  TextareaInput.prototype.reset = function (typing) {\n    if (this.contextMenuPending || this.composing) { return }\n    var cm = this.cm;\n    if (cm.somethingSelected()) {\n      this.prevInput = \"\";\n      var content = cm.getSelection();\n      this.textarea.value = content;\n      if (cm.state.focused) { selectInput(this.textarea); }\n      if (ie && ie_version >= 9) { this.hasSelection = content; }\n    } else if (!typing) {\n      this.prevInput = this.textarea.value = \"\";\n      if (ie && ie_version >= 9) { this.hasSelection = null; }\n    }\n  };\n\n  TextareaInput.prototype.getField = function () { return this.textarea };\n\n  TextareaInput.prototype.supportsTouch = function () { return false };\n\n  TextareaInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt() != this.textarea)) {\n      try { this.textarea.focus(); }\n      catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM\n    }\n  };\n\n  TextareaInput.prototype.blur = function () { this.textarea.blur(); };\n\n  TextareaInput.prototype.resetPosition = function () {\n    this.wrapper.style.top = this.wrapper.style.left = 0;\n  };\n\n  TextareaInput.prototype.receivedFocus = function () { this.slowPoll(); };\n\n  // Poll for input changes, using the normal rate of polling. This\n  // runs as long as the editor is focused.\n  TextareaInput.prototype.slowPoll = function () {\n      var this$1 = this;\n\n    if (this.pollingFast) { return }\n    this.polling.set(this.cm.options.pollInterval, function () {\n      this$1.poll();\n      if (this$1.cm.state.focused) { this$1.slowPoll(); }\n    });\n  };\n\n  // When an event has just come in that is likely to add or change\n  // something in the input textarea, we poll faster, to ensure that\n  // the change appears on the screen quickly.\n  TextareaInput.prototype.fastPoll = function () {\n    var missed = false, input = this;\n    input.pollingFast = true;\n    function p() {\n      var changed = input.poll();\n      if (!changed && !missed) {missed = true; input.polling.set(60, p);}\n      else {input.pollingFast = false; input.slowPoll();}\n    }\n    input.polling.set(20, p);\n  };\n\n  // Read input from the textarea, and update the document to match.\n  // When something is selected, it is present in the textarea, and\n  // selected (unless it is huge, in which case a placeholder is\n  // used). When nothing is selected, the cursor sits after previously\n  // seen text (can be empty), which is stored in prevInput (we must\n  // not reset the textarea when typing, because that breaks IME).\n  TextareaInput.prototype.poll = function () {\n      var this$1 = this;\n\n    var cm = this.cm, input = this.textarea, prevInput = this.prevInput;\n    // Since this is called a *lot*, try to bail out as cheaply as\n    // possible when it is clear that nothing happened. hasSelection\n    // will be the case when there is a lot of text in the textarea,\n    // in which case reading its value would be expensive.\n    if (this.contextMenuPending || !cm.state.focused ||\n        (hasSelection(input) && !prevInput && !this.composing) ||\n        cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq)\n      { return false }\n\n    var text = input.value;\n    // If nothing changed, bail.\n    if (text == prevInput && !cm.somethingSelected()) { return false }\n    // Work around nonsensical selection resetting in IE9/10, and\n    // inexplicable appearance of private area unicode characters on\n    // some key combos in Mac (#2689).\n    if (ie && ie_version >= 9 && this.hasSelection === text ||\n        mac && /[\\uf700-\\uf7ff]/.test(text)) {\n      cm.display.input.reset();\n      return false\n    }\n\n    if (cm.doc.sel == cm.display.selForContextMenu) {\n      var first = text.charCodeAt(0);\n      if (first == 0x200b && !prevInput) { prevInput = \"\\u200b\"; }\n      if (first == 0x21da) { this.reset(); return this.cm.execCommand(\"undo\") }\n    }\n    // Find the part of the input that is actually new\n    var same = 0, l = Math.min(prevInput.length, text.length);\n    while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) { ++same; }\n\n    runInOp(cm, function () {\n      applyTextInput(cm, text.slice(same), prevInput.length - same,\n                     null, this$1.composing ? \"*compose\" : null);\n\n      // Don't leave long text in the textarea, since it makes further polling slow\n      if (text.length > 1000 || text.indexOf(\"\\n\") > -1) { input.value = this$1.prevInput = \"\"; }\n      else { this$1.prevInput = text; }\n\n      if (this$1.composing) {\n        this$1.composing.range.clear();\n        this$1.composing.range = cm.markText(this$1.composing.start, cm.getCursor(\"to\"),\n                                           {className: \"CodeMirror-composing\"});\n      }\n    });\n    return true\n  };\n\n  TextareaInput.prototype.ensurePolled = function () {\n    if (this.pollingFast && this.poll()) { this.pollingFast = false; }\n  };\n\n  TextareaInput.prototype.onKeyPress = function () {\n    if (ie && ie_version >= 9) { this.hasSelection = null; }\n    this.fastPoll();\n  };\n\n  TextareaInput.prototype.onContextMenu = function (e) {\n    var input = this, cm = input.cm, display = cm.display, te = input.textarea;\n    if (input.contextMenuPending) { input.contextMenuPending(); }\n    var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop;\n    if (!pos || presto) { return } // Opera is difficult.\n\n    // Reset the current text selection only if the click is done outside of the selection\n    // and 'resetSelectionOnContextMenu' option is true.\n    var reset = cm.options.resetSelectionOnContextMenu;\n    if (reset && cm.doc.sel.contains(pos) == -1)\n      { operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll); }\n\n    var oldCSS = te.style.cssText, oldWrapperCSS = input.wrapper.style.cssText;\n    var wrapperBox = input.wrapper.offsetParent.getBoundingClientRect();\n    input.wrapper.style.cssText = \"position: static\";\n    te.style.cssText = \"position: absolute; width: 30px; height: 30px;\\n      top: \" + (e.clientY - wrapperBox.top - 5) + \"px; left: \" + (e.clientX - wrapperBox.left - 5) + \"px;\\n      z-index: 1000; background: \" + (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\";\n    var oldScrollY;\n    if (webkit) { oldScrollY = window.scrollY; } // Work around Chrome issue (#2712)\n    display.input.focus();\n    if (webkit) { window.scrollTo(null, oldScrollY); }\n    display.input.reset();\n    // Adds \"Select all\" to context menu in FF\n    if (!cm.somethingSelected()) { te.value = input.prevInput = \" \"; }\n    input.contextMenuPending = rehide;\n    display.selForContextMenu = cm.doc.sel;\n    clearTimeout(display.detectingSelectAll);\n\n    // Select-all will be greyed out if there's nothing to select, so\n    // this adds a zero-width space so that we can later check whether\n    // it got selected.\n    function prepareSelectAllHack() {\n      if (te.selectionStart != null) {\n        var selected = cm.somethingSelected();\n        var extval = \"\\u200b\" + (selected ? te.value : \"\");\n        te.value = \"\\u21da\"; // Used to catch context-menu undo\n        te.value = extval;\n        input.prevInput = selected ? \"\" : \"\\u200b\";\n        te.selectionStart = 1; te.selectionEnd = extval.length;\n        // Re-set this, in case some other handler touched the\n        // selection in the meantime.\n        display.selForContextMenu = cm.doc.sel;\n      }\n    }\n    function rehide() {\n      if (input.contextMenuPending != rehide) { return }\n      input.contextMenuPending = false;\n      input.wrapper.style.cssText = oldWrapperCSS;\n      te.style.cssText = oldCSS;\n      if (ie && ie_version < 9) { display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos); }\n\n      // Try to detect the user choosing select-all\n      if (te.selectionStart != null) {\n        if (!ie || (ie && ie_version < 9)) { prepareSelectAllHack(); }\n        var i = 0, poll = function () {\n          if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 &&\n              te.selectionEnd > 0 && input.prevInput == \"\\u200b\") {\n            operation(cm, selectAll)(cm);\n          } else if (i++ < 10) {\n            display.detectingSelectAll = setTimeout(poll, 500);\n          } else {\n            display.selForContextMenu = null;\n            display.input.reset();\n          }\n        };\n        display.detectingSelectAll = setTimeout(poll, 200);\n      }\n    }\n\n    if (ie && ie_version >= 9) { prepareSelectAllHack(); }\n    if (captureRightClick) {\n      e_stop(e);\n      var mouseup = function () {\n        off(window, \"mouseup\", mouseup);\n        setTimeout(rehide, 20);\n      };\n      on(window, \"mouseup\", mouseup);\n    } else {\n      setTimeout(rehide, 50);\n    }\n  };\n\n  TextareaInput.prototype.readOnlyChanged = function (val) {\n    if (!val) { this.reset(); }\n    this.textarea.disabled = val == \"nocursor\";\n  };\n\n  TextareaInput.prototype.setUneditable = function () {};\n\n  TextareaInput.prototype.needsContentAttribute = false;\n\n  function fromTextArea(textarea, options) {\n    options = options ? copyObj(options) : {};\n    options.value = textarea.value;\n    if (!options.tabindex && textarea.tabIndex)\n      { options.tabindex = textarea.tabIndex; }\n    if (!options.placeholder && textarea.placeholder)\n      { options.placeholder = textarea.placeholder; }\n    // Set autofocus to true if this textarea is focused, or if it has\n    // autofocus and no other element is focused.\n    if (options.autofocus == null) {\n      var hasFocus = activeElt();\n      options.autofocus = hasFocus == textarea ||\n        textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body;\n    }\n\n    function save() {textarea.value = cm.getValue();}\n\n    var realSubmit;\n    if (textarea.form) {\n      on(textarea.form, \"submit\", save);\n      // Deplorable hack to make the submit method do the right thing.\n      if (!options.leaveSubmitMethodAlone) {\n        var form = textarea.form;\n        realSubmit = form.submit;\n        try {\n          var wrappedSubmit = form.submit = function () {\n            save();\n            form.submit = realSubmit;\n            form.submit();\n            form.submit = wrappedSubmit;\n          };\n        } catch(e) {}\n      }\n    }\n\n    options.finishInit = function (cm) {\n      cm.save = save;\n      cm.getTextArea = function () { return textarea; };\n      cm.toTextArea = function () {\n        cm.toTextArea = isNaN; // Prevent this from being ran twice\n        save();\n        textarea.parentNode.removeChild(cm.getWrapperElement());\n        textarea.style.display = \"\";\n        if (textarea.form) {\n          off(textarea.form, \"submit\", save);\n          if (!options.leaveSubmitMethodAlone && typeof textarea.form.submit == \"function\")\n            { textarea.form.submit = realSubmit; }\n        }\n      };\n    };\n\n    textarea.style.display = \"none\";\n    var cm = CodeMirror(function (node) { return textarea.parentNode.insertBefore(node, textarea.nextSibling); },\n      options);\n    return cm\n  }\n\n  function addLegacyProps(CodeMirror) {\n    CodeMirror.off = off;\n    CodeMirror.on = on;\n    CodeMirror.wheelEventPixels = wheelEventPixels;\n    CodeMirror.Doc = Doc;\n    CodeMirror.splitLines = splitLinesAuto;\n    CodeMirror.countColumn = countColumn;\n    CodeMirror.findColumn = findColumn;\n    CodeMirror.isWordChar = isWordCharBasic;\n    CodeMirror.Pass = Pass;\n    CodeMirror.signal = signal;\n    CodeMirror.Line = Line;\n    CodeMirror.changeEnd = changeEnd;\n    CodeMirror.scrollbarModel = scrollbarModel;\n    CodeMirror.Pos = Pos;\n    CodeMirror.cmpPos = cmp;\n    CodeMirror.modes = modes;\n    CodeMirror.mimeModes = mimeModes;\n    CodeMirror.resolveMode = resolveMode;\n    CodeMirror.getMode = getMode;\n    CodeMirror.modeExtensions = modeExtensions;\n    CodeMirror.extendMode = extendMode;\n    CodeMirror.copyState = copyState;\n    CodeMirror.startState = startState;\n    CodeMirror.innerMode = innerMode;\n    CodeMirror.commands = commands;\n    CodeMirror.keyMap = keyMap;\n    CodeMirror.keyName = keyName;\n    CodeMirror.isModifierKey = isModifierKey;\n    CodeMirror.lookupKey = lookupKey;\n    CodeMirror.normalizeKeyMap = normalizeKeyMap;\n    CodeMirror.StringStream = StringStream;\n    CodeMirror.SharedTextMarker = SharedTextMarker;\n    CodeMirror.TextMarker = TextMarker;\n    CodeMirror.LineWidget = LineWidget;\n    CodeMirror.e_preventDefault = e_preventDefault;\n    CodeMirror.e_stopPropagation = e_stopPropagation;\n    CodeMirror.e_stop = e_stop;\n    CodeMirror.addClass = addClass;\n    CodeMirror.contains = contains;\n    CodeMirror.rmClass = rmClass;\n    CodeMirror.keyNames = keyNames;\n  }\n\n  // EDITOR CONSTRUCTOR\n\n  defineOptions(CodeMirror);\n\n  addEditorMethods(CodeMirror);\n\n  // Set up methods on CodeMirror's prototype to redirect to the editor's document.\n  var dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \");\n  for (var prop in Doc.prototype) { if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)\n    { CodeMirror.prototype[prop] = (function(method) {\n      return function() {return method.apply(this.doc, arguments)}\n    })(Doc.prototype[prop]); } }\n\n  eventMixin(Doc);\n  CodeMirror.inputStyles = {\"textarea\": TextareaInput, \"contenteditable\": ContentEditableInput};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  CodeMirror.defineMode = function(name/*, mode, …*/) {\n    if (!CodeMirror.defaults.mode && name != \"null\") { CodeMirror.defaults.mode = name; }\n    defineMode.apply(this, arguments);\n  };\n\n  CodeMirror.defineMIME = defineMIME;\n\n  // Minimal default mode.\n  CodeMirror.defineMode(\"null\", function () { return ({token: function (stream) { return stream.skipToEnd(); }}); });\n  CodeMirror.defineMIME(\"text/plain\", \"null\");\n\n  // EXTENSIONS\n\n  CodeMirror.defineExtension = function (name, func) {\n    CodeMirror.prototype[name] = func;\n  };\n  CodeMirror.defineDocExtension = function (name, func) {\n    Doc.prototype[name] = func;\n  };\n\n  CodeMirror.fromTextArea = fromTextArea;\n\n  addLegacyProps(CodeMirror);\n\n  CodeMirror.version = \"5.50.2\";\n\n  return CodeMirror;\n\n})));\n","// Built by eustia.\n'use strict'\n\nvar _ = {}\n\n/* ------------------------------ allKeys ------------------------------ */\n\nexport var allKeys = (_.allKeys = (function() {\n  /* Retrieve all the names of object's own and inherited properties.\n   *\n   * |Name  |Type  |Desc                       |\n   * |------|------|---------------------------|\n   * |obj   |object|Object to query            |\n   * |return|array |Array of all property names|\n   *\n   * > Members of Object's prototype won't be retrieved.\n   *\n   * ```javascript\n   * var obj = Object.create({zero: 0});\n   * obj.one = 1;\n   * allKeys(obj) // -> ['zero', 'one']\n   * ```\n   */\n\n  /* module\n   * env: all\n   * test: all\n   */\n\n  function exports(obj) {\n    var ret = [],\n      key\n\n    for (key in obj) ret.push(key)\n\n    return ret\n  }\n\n  return exports\n})())\n\n/* ------------------------------ noop ------------------------------ */\n\nexport var noop = (_.noop = (function() {\n  /* A no-operation function.\n   *\n   * ```javascript\n   * noop(); // Does nothing\n   * ```\n   */\n\n  /* module\n   * env: all\n   * test: all\n   */\n\n  function exports() {}\n\n  return exports\n})())\n\n/* ------------------------------ isUndef ------------------------------ */\n\nexport var isUndef = (_.isUndef = (function() {\n  /* Check if value is undefined.\n   *\n   * |Name  |Type   |Desc                      |\n   * |------|-------|--------------------------|\n   * |val   |*      |Value to check            |\n   * |return|boolean|True if value is undefined|\n   *\n   * ```javascript\n   * isUndef(void 0); // -> true\n   * isUndef(null); // -> false\n   * ```\n   */\n\n  /* module\n   * env: all\n   * test: all\n   */\n\n  function exports(val) {\n    return val === void 0\n  }\n\n  return exports\n})())\n\n/* ------------------------------ optimizeCb ------------------------------ */\n\nexport var optimizeCb = (_.optimizeCb = (function() {\n  /* Used for function context binding.\n   */\n\n  /* module\n   * env: all\n   * test: all\n   */\n\n  /* dependencies\n   * isUndef\n   */\n\n  function exports(fn, ctx, argCount) {\n    if (isUndef(ctx)) return fn\n\n    switch (argCount == null ? 3 : argCount) {\n      case 1:\n        return function(val) {\n          return fn.call(ctx, val)\n        }\n      case 3:\n        return function(val, idx, collection) {\n          return fn.call(ctx, val, idx, collection)\n        }\n      case 4:\n        return function(accumulator, val, idx, collection) {\n          return fn.call(ctx, accumulator, val, idx, collection)\n        }\n    }\n\n    return function() {\n      return fn.apply(ctx, arguments)\n    }\n  }\n\n  return exports\n})())\n\n/* ------------------------------ has ------------------------------ */\n\nexport var has = (_.has = (function() {\n  /* Checks if key is a direct property.\n   *\n   * |Name  |Type   |Desc                            |\n   * |------|-------|--------------------------------|\n   * |obj   |object |Object to query                 |\n   * |key   |string |Path to check                   |\n   * |return|boolean|True if key is a direct property|\n   *\n   * ```javascript\n   * has({one: 1}, 'one'); // -> true\n   * ```\n   */\n\n  /* module\n   * env: all\n   * test: all\n   */\n\n  var hasOwnProp = Object.prototype.hasOwnProperty\n\n  function exports(obj, key) {\n    return hasOwnProp.call(obj, key)\n  }\n\n  return exports\n})())\n\n/* ------------------------------ keys ------------------------------ */\n\nexport var keys = (_.keys = (function(exports) {\n  /* Create an array of the own enumerable property names of object.\n   *\n   * |Name  |Type  |Desc                   |\n   * |------|------|-----------------------|\n   * |obj   |object|Object to query        |\n   * |return|array |Array of property names|\n   *\n   * ```javascript\n   * keys({a: 1}); // -> ['a']\n   * ```\n   */\n\n  /* module\n   * env: all\n   * test: all\n   */\n\n  /* dependencies\n   * has\n   */\n\n  exports =\n    Object.keys ||\n    function(obj) {\n      var ret = [],\n        key\n\n      for (key in obj) {\n        if (has(obj, key)) ret.push(key)\n      }\n\n      return ret\n    }\n\n  return exports\n})({}))\n\n/* ------------------------------ objToStr ------------------------------ */\n\nexport var objToStr = (_.objToStr = (function() {\n  /* Alias of Object.prototype.toString.\n   *\n   * |Name  |Type  |Desc                                |\n   * |------|------|------------------------------------|\n   * |value |*     |Source value                        |\n   * |return|string|String representation of given value|\n   *\n   * ```javascript\n   * objToStr(5); // -> '[object Number]'\n   * ```\n   */\n\n  /* module\n   * env: all\n   * test: all\n   */\n\n  var ObjToStr = Object.prototype.toString\n\n  function exports(val) {\n    return ObjToStr.call(val)\n  }\n\n  return exports\n})())\n\n/* ------------------------------ isFn ------------------------------ */\n\nexport var isFn = (_.isFn = (function() {\n  /* Check if value is a function.\n   *\n   * |Name  |Type   |Desc                       |\n   * |------|-------|---------------------------|\n   * |val   |*      |Value to check             |\n   * |return|boolean|True if value is a function|\n   *\n   * Generator function is also classified as true.\n   *\n   * ```javascript\n   * isFn(function() {}); // -> true\n   * isFn(function*() {}); // -> true\n   * ```\n   */\n\n  /* module\n   * env: all\n   * test: all\n   */\n\n  /* dependencies\n   * objToStr\n   */\n\n  function exports(val) {\n    var objStr = objToStr(val)\n\n    return (\n      objStr === '[object Function]' || objStr === '[object GeneratorFunction]'\n    )\n  }\n\n  return exports\n})())\n\n/* ------------------------------ isNum ------------------------------ */\n\nexport var isNum = (_.isNum = (function() {\n  /* Check if value is classified as a Number primitive or object.\n   *\n   * |Name  |Type   |Desc                                 |\n   * |------|-------|-------------------------------------|\n   * |value |*      |Value to check                       |\n   * |return|boolean|True if value is correctly classified|\n   *\n   * ```javascript\n   * isNum(5); // -> true\n   * isNum(5.1); // -> true\n   * isNum({}); // -> false\n   * ```\n   */\n\n  /* module\n   * env: all\n   * test: all\n   */\n\n  /* dependencies\n   * objToStr\n   */\n\n  function exports(val) {\n    return objToStr(val) === '[object Number]'\n  }\n\n  return exports\n})())\n\n/* ------------------------------ isArrLike ------------------------------ */\n\nexport var isArrLike = (_.isArrLike = (function() {\n  /* Check if value is array-like.\n   *\n   * |Name  |Type   |Desc                       |\n   * |------|-------|---------------------------|\n   * |value |*      |Value to check             |\n   * |return|boolean|True if value is array like|\n   *\n   * > Function returns false.\n   *\n   * ```javascript\n   * isArrLike('test'); // -> true\n   * isArrLike(document.body.children); // -> true;\n   * isArrLike([1, 2, 3]); // -> true\n   * ```\n   */\n\n  /* module\n   * env: all\n   * test: all\n   */\n\n  /* dependencies\n   * isNum isFn\n   */\n\n  var MAX_ARR_IDX = Math.pow(2, 53) - 1\n\n  function exports(val) {\n    if (!val) return false\n\n    var len = val.length\n\n    return isNum(len) && len >= 0 && len <= MAX_ARR_IDX && !isFn(val)\n  }\n\n  return exports\n})())\n\n/* ------------------------------ each ------------------------------ */\n\nexport var each = (_.each = (function() {\n  /* Iterate over elements of collection and invokes iteratee for each element.\n   *\n   * |Name    |Type        |Desc                          |\n   * |--------|------------|------------------------------|\n   * |obj     |object array|Collection to iterate over    |\n   * |iteratee|function    |Function invoked per iteration|\n   * |[ctx]   |*           |Function context              |\n   *\n   * ```javascript\n   * each({'a': 1, 'b': 2}, function (val, key) {});\n   * ```\n   */\n\n  /* module\n   * env: all\n   * test: all\n   */\n\n  /* dependencies\n   * isArrLike keys optimizeCb\n   */\n\n  function exports(obj, iteratee, ctx) {\n    iteratee = optimizeCb(iteratee, ctx)\n\n    var i, len\n\n    if (isArrLike(obj)) {\n      for (i = 0, len = obj.length; i < len; i++) iteratee(obj[i], i, obj)\n    } else {\n      var _keys = keys(obj)\n      for (i = 0, len = _keys.length; i < len; i++) {\n        iteratee(obj[_keys[i]], _keys[i], obj)\n      }\n    }\n\n    return obj\n  }\n\n  return exports\n})())\n\n/* ------------------------------ createAssigner ------------------------------ */\n\nexport var createAssigner = (_.createAssigner = (function() {\n  /* Used to create extend, extendOwn and defaults.\n   *\n   * |Name    |Type    |Desc                          |\n   * |--------|--------|------------------------------|\n   * |keysFn  |function|Function to get object keys   |\n   * |defaults|boolean |No override when set to true  |\n   * |return  |function|Result function, extend...    |\n   */\n\n  /* module\n   * env: all\n   * test: all\n   */\n\n  /* dependencies\n   * isUndef each\n   */\n\n  function exports(keysFn, defaults) {\n    return function(obj) {\n      each(arguments, function(src, idx) {\n        if (idx === 0) return\n\n        var keys = keysFn(src)\n\n        each(keys, function(key) {\n          if (!defaults || isUndef(obj[key])) obj[key] = src[key]\n        })\n      })\n\n      return obj\n    }\n  }\n\n  return exports\n})())\n\n/* ------------------------------ extend ------------------------------ */\n\nexport var extend = (_.extend = (function(exports) {\n  /* Copy all of the properties in the source objects over to the destination object.\n   *\n   * |Name  |Type  |Desc              |\n   * |------|------|------------------|\n   * |obj   |object|Destination object|\n   * |...src|object|Sources objects   |\n   * |return|object|Destination object|\n   *\n   * ```javascript\n   * extend({name: 'RedHood'}, {age: 24}); // -> {name: 'RedHood', age: 24}\n   * ```\n   */\n\n  /* module\n   * env: all\n   * test: all\n   */\n\n  /* dependencies\n   * createAssigner allKeys\n   */\n\n  exports = createAssigner(allKeys)\n\n  return exports\n})({}))\n\n/* ------------------------------ copy ------------------------------ */\n\nexport var copy = (_.copy = (function() {\n  /* Copy text to clipboard using document.execCommand.\n   *\n   * |Name|Type    |Desc             |\n   * |----|--------|-----------------|\n   * |text|string  |Text to copy     |\n   * |[cb]|function|Optional callback|\n   *\n   * ```javascript\n   * copy('text', function (err)\n   * {\n   *     // Handle errors.\n   * });\n   * ```\n   */\n\n  /* module\n   * env: browser\n   * test: browser\n   */\n\n  /* dependencies\n   * extend noop\n   */\n\n  function exports(text, cb) {\n    cb = cb || noop\n\n    var el = document.createElement('textarea'),\n      body = document.body\n\n    extend(el.style, {\n      fontSize: '12pt',\n      border: '0',\n      padding: '0',\n      margin: '0',\n      position: 'absolute',\n      left: '-9999px'\n    })\n\n    el.value = text\n\n    body.appendChild(el)\n\n    // Prevent showing ios keyboard.\n    el.setAttribute('readonly', '')\n    el.select()\n    el.setSelectionRange(0, text.length)\n\n    try {\n      document.execCommand('copy')\n      cb()\n    } catch (e) {\n      cb(e)\n    } finally {\n      body.removeChild(el)\n    }\n  }\n\n  return exports\n})())\n\n/* ------------------------------ nextTick ------------------------------ */\n\nexport var nextTick = (_.nextTick = (function(exports) {\n  /* Next tick for both node and browser.\n   *\n   * |Name|Type    |Desc            |\n   * |----|--------|----------------|\n   * |cb  |function|Function to call|\n   *\n   * Use process.nextTick if available.\n   *\n   * Otherwise setImmediate or setTimeout is used as fallback.\n   *\n   * ```javascript\n   * nextTick(function ()\n   * {\n   *     // Do something...\n   * });\n   * ```\n   */\n\n  /* module\n   * env: all\n   * test: all\n   */\n\n  if (typeof process === 'object' && process.nextTick) {\n    exports = process.nextTick\n  } else if (typeof setImmediate === 'function') {\n    exports = function(cb) {\n      setImmediate(ensureCallable(cb))\n    }\n  } else {\n    exports = function(cb) {\n      setTimeout(ensureCallable(cb), 0)\n    }\n  }\n\n  function ensureCallable(fn) {\n    if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function')\n\n    return fn\n  }\n\n  return exports\n})({}))\n\nexport default _\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","'use strict';\n\nexports.__esModule = true;\nexports.HandlebarsEnvironment = HandlebarsEnvironment;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _utils = require('./utils');\n\nvar _exception = require('./exception');\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nvar _helpers = require('./helpers');\n\nvar _decorators = require('./decorators');\n\nvar _logger = require('./logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar VERSION = '4.5.3';\nexports.VERSION = VERSION;\nvar COMPILER_REVISION = 8;\nexports.COMPILER_REVISION = COMPILER_REVISION;\nvar LAST_COMPATIBLE_COMPILER_REVISION = 7;\n\nexports.LAST_COMPATIBLE_COMPILER_REVISION = LAST_COMPATIBLE_COMPILER_REVISION;\nvar REVISION_CHANGES = {\n  1: '<= 1.0.rc.2', // 1.0.rc.2 is actually rev2 but doesn't report it\n  2: '== 1.0.0-rc.3',\n  3: '== 1.0.0-rc.4',\n  4: '== 1.x.x',\n  5: '== 2.0.0-alpha.x',\n  6: '>= 2.0.0-beta.1',\n  7: '>= 4.0.0 <4.3.0',\n  8: '>= 4.3.0'\n};\n\nexports.REVISION_CHANGES = REVISION_CHANGES;\nvar objectType = '[object Object]';\n\nfunction HandlebarsEnvironment(helpers, partials, decorators) {\n  this.helpers = helpers || {};\n  this.partials = partials || {};\n  this.decorators = decorators || {};\n\n  _helpers.registerDefaultHelpers(this);\n  _decorators.registerDefaultDecorators(this);\n}\n\nHandlebarsEnvironment.prototype = {\n  constructor: HandlebarsEnvironment,\n\n  logger: _logger2['default'],\n  log: _logger2['default'].log,\n\n  registerHelper: function registerHelper(name, fn) {\n    if (_utils.toString.call(name) === objectType) {\n      if (fn) {\n        throw new _exception2['default']('Arg not supported with multiple helpers');\n      }\n      _utils.extend(this.helpers, name);\n    } else {\n      this.helpers[name] = fn;\n    }\n  },\n  unregisterHelper: function unregisterHelper(name) {\n    delete this.helpers[name];\n  },\n\n  registerPartial: function registerPartial(name, partial) {\n    if (_utils.toString.call(name) === objectType) {\n      _utils.extend(this.partials, name);\n    } else {\n      if (typeof partial === 'undefined') {\n        throw new _exception2['default']('Attempting to register a partial called \"' + name + '\" as undefined');\n      }\n      this.partials[name] = partial;\n    }\n  },\n  unregisterPartial: function unregisterPartial(name) {\n    delete this.partials[name];\n  },\n\n  registerDecorator: function registerDecorator(name, fn) {\n    if (_utils.toString.call(name) === objectType) {\n      if (fn) {\n        throw new _exception2['default']('Arg not supported with multiple decorators');\n      }\n      _utils.extend(this.decorators, name);\n    } else {\n      this.decorators[name] = fn;\n    }\n  },\n  unregisterDecorator: function unregisterDecorator(name) {\n    delete this.decorators[name];\n  }\n};\n\nvar log = _logger2['default'].log;\n\nexports.log = log;\nexports.createFrame = _utils.createFrame;\nexports.logger = _logger2['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2Jhc2UuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7cUJBQTRDLFNBQVM7O3lCQUMvQixhQUFhOzs7O3VCQUNFLFdBQVc7OzBCQUNSLGNBQWM7O3NCQUNuQyxVQUFVOzs7O0FBRXRCLElBQU0sT0FBTyxHQUFHLE9BQU8sQ0FBQzs7QUFDeEIsSUFBTSxpQkFBaUIsR0FBRyxDQUFDLENBQUM7O0FBQzVCLElBQU0saUNBQWlDLEdBQUcsQ0FBQyxDQUFDOzs7QUFFNUMsSUFBTSxnQkFBZ0IsR0FBRztBQUM5QixHQUFDLEVBQUUsYUFBYTtBQUNoQixHQUFDLEVBQUUsZUFBZTtBQUNsQixHQUFDLEVBQUUsZUFBZTtBQUNsQixHQUFDLEVBQUUsVUFBVTtBQUNiLEdBQUMsRUFBRSxrQkFBa0I7QUFDckIsR0FBQyxFQUFFLGlCQUFpQjtBQUNwQixHQUFDLEVBQUUsaUJBQWlCO0FBQ3BCLEdBQUMsRUFBRSxVQUFVO0NBQ2QsQ0FBQzs7O0FBRUYsSUFBTSxVQUFVLEdBQUcsaUJBQWlCLENBQUM7O0FBRTlCLFNBQVMscUJBQXFCLENBQUMsT0FBTyxFQUFFLFFBQVEsRUFBRSxVQUFVLEVBQUU7QUFDbkUsTUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLElBQUksRUFBRSxDQUFDO0FBQzdCLE1BQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxJQUFJLEVBQUUsQ0FBQztBQUMvQixNQUFJLENBQUMsVUFBVSxHQUFHLFVBQVUsSUFBSSxFQUFFLENBQUM7O0FBRW5DLGtDQUF1QixJQUFJLENBQUMsQ0FBQztBQUM3Qix3Q0FBMEIsSUFBSSxDQUFDLENBQUM7Q0FDakM7O0FBRUQscUJBQXFCLENBQUMsU0FBUyxHQUFHO0FBQ2hDLGFBQVcsRUFBRSxxQkFBcUI7O0FBRWxDLFFBQU0scUJBQVE7QUFDZCxLQUFHLEVBQUUsb0JBQU8sR0FBRzs7QUFFZixnQkFBYyxFQUFFLHdCQUFTLElBQUksRUFBRSxFQUFFLEVBQUU7QUFDakMsUUFBSSxnQkFBUyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssVUFBVSxFQUFFO0FBQ3RDLFVBQUksRUFBRSxFQUFFO0FBQUUsY0FBTSwyQkFBYyx5Q0FBeUMsQ0FBQyxDQUFDO09BQUU7QUFDM0Usb0JBQU8sSUFBSSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztLQUM1QixNQUFNO0FBQ0wsVUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7S0FDekI7R0FDRjtBQUNELGtCQUFnQixFQUFFLDBCQUFTLElBQUksRUFBRTtBQUMvQixXQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7R0FDM0I7O0FBRUQsaUJBQWUsRUFBRSx5QkFBUyxJQUFJLEVBQUUsT0FBTyxFQUFFO0FBQ3ZDLFFBQUksZ0JBQVMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLFVBQVUsRUFBRTtBQUN0QyxvQkFBTyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO0tBQzdCLE1BQU07QUFDTCxVQUFJLE9BQU8sT0FBTyxLQUFLLFdBQVcsRUFBRTtBQUNsQyxjQUFNLHlFQUEwRCxJQUFJLG9CQUFpQixDQUFDO09BQ3ZGO0FBQ0QsVUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsR0FBRyxPQUFPLENBQUM7S0FDL0I7R0FDRjtBQUNELG1CQUFpQixFQUFFLDJCQUFTLElBQUksRUFBRTtBQUNoQyxXQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7R0FDNUI7O0FBRUQsbUJBQWlCLEVBQUUsMkJBQVMsSUFBSSxFQUFFLEVBQUUsRUFBRTtBQUNwQyxRQUFJLGdCQUFTLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxVQUFVLEVBQUU7QUFDdEMsVUFBSSxFQUFFLEVBQUU7QUFBRSxjQUFNLDJCQUFjLDRDQUE0QyxDQUFDLENBQUM7T0FBRTtBQUM5RSxvQkFBTyxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxDQUFDO0tBQy9CLE1BQU07QUFDTCxVQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztLQUM1QjtHQUNGO0FBQ0QscUJBQW1CLEVBQUUsNkJBQVMsSUFBSSxFQUFFO0FBQ2xDLFdBQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztHQUM5QjtDQUNGLENBQUM7O0FBRUssSUFBSSxHQUFHLEdBQUcsb0JBQU8sR0FBRyxDQUFDOzs7UUFFcEIsV0FBVztRQUFFLE1BQU0iLCJmaWxlIjoiYmFzZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Y3JlYXRlRnJhbWUsIGV4dGVuZCwgdG9TdHJpbmd9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IEV4Y2VwdGlvbiBmcm9tICcuL2V4Y2VwdGlvbic7XG5pbXBvcnQge3JlZ2lzdGVyRGVmYXVsdEhlbHBlcnN9IGZyb20gJy4vaGVscGVycyc7XG5pbXBvcnQge3JlZ2lzdGVyRGVmYXVsdERlY29yYXRvcnN9IGZyb20gJy4vZGVjb3JhdG9ycyc7XG5pbXBvcnQgbG9nZ2VyIGZyb20gJy4vbG9nZ2VyJztcblxuZXhwb3J0IGNvbnN0IFZFUlNJT04gPSAnNC41LjMnO1xuZXhwb3J0IGNvbnN0IENPTVBJTEVSX1JFVklTSU9OID0gODtcbmV4cG9ydCBjb25zdCBMQVNUX0NPTVBBVElCTEVfQ09NUElMRVJfUkVWSVNJT04gPSA3O1xuXG5leHBvcnQgY29uc3QgUkVWSVNJT05fQ0hBTkdFUyA9IHtcbiAgMTogJzw9IDEuMC5yYy4yJywgLy8gMS4wLnJjLjIgaXMgYWN0dWFsbHkgcmV2MiBidXQgZG9lc24ndCByZXBvcnQgaXRcbiAgMjogJz09IDEuMC4wLXJjLjMnLFxuICAzOiAnPT0gMS4wLjAtcmMuNCcsXG4gIDQ6ICc9PSAxLngueCcsXG4gIDU6ICc9PSAyLjAuMC1hbHBoYS54JyxcbiAgNjogJz49IDIuMC4wLWJldGEuMScsXG4gIDc6ICc+PSA0LjAuMCA8NC4zLjAnLFxuICA4OiAnPj0gNC4zLjAnXG59O1xuXG5jb25zdCBvYmplY3RUeXBlID0gJ1tvYmplY3QgT2JqZWN0XSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBIYW5kbGViYXJzRW52aXJvbm1lbnQoaGVscGVycywgcGFydGlhbHMsIGRlY29yYXRvcnMpIHtcbiAgdGhpcy5oZWxwZXJzID0gaGVscGVycyB8fCB7fTtcbiAgdGhpcy5wYXJ0aWFscyA9IHBhcnRpYWxzIHx8IHt9O1xuICB0aGlzLmRlY29yYXRvcnMgPSBkZWNvcmF0b3JzIHx8IHt9O1xuXG4gIHJlZ2lzdGVyRGVmYXVsdEhlbHBlcnModGhpcyk7XG4gIHJlZ2lzdGVyRGVmYXVsdERlY29yYXRvcnModGhpcyk7XG59XG5cbkhhbmRsZWJhcnNFbnZpcm9ubWVudC5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBIYW5kbGViYXJzRW52aXJvbm1lbnQsXG5cbiAgbG9nZ2VyOiBsb2dnZXIsXG4gIGxvZzogbG9nZ2VyLmxvZyxcblxuICByZWdpc3RlckhlbHBlcjogZnVuY3Rpb24obmFtZSwgZm4pIHtcbiAgICBpZiAodG9TdHJpbmcuY2FsbChuYW1lKSA9PT0gb2JqZWN0VHlwZSkge1xuICAgICAgaWYgKGZuKSB7IHRocm93IG5ldyBFeGNlcHRpb24oJ0FyZyBub3Qgc3VwcG9ydGVkIHdpdGggbXVsdGlwbGUgaGVscGVycycpOyB9XG4gICAgICBleHRlbmQodGhpcy5oZWxwZXJzLCBuYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5oZWxwZXJzW25hbWVdID0gZm47XG4gICAgfVxuICB9LFxuICB1bnJlZ2lzdGVySGVscGVyOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgZGVsZXRlIHRoaXMuaGVscGVyc1tuYW1lXTtcbiAgfSxcblxuICByZWdpc3RlclBhcnRpYWw6IGZ1bmN0aW9uKG5hbWUsIHBhcnRpYWwpIHtcbiAgICBpZiAodG9TdHJpbmcuY2FsbChuYW1lKSA9PT0gb2JqZWN0VHlwZSkge1xuICAgICAgZXh0ZW5kKHRoaXMucGFydGlhbHMsIG5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodHlwZW9mIHBhcnRpYWwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oYEF0dGVtcHRpbmcgdG8gcmVnaXN0ZXIgYSBwYXJ0aWFsIGNhbGxlZCBcIiR7bmFtZX1cIiBhcyB1bmRlZmluZWRgKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucGFydGlhbHNbbmFtZV0gPSBwYXJ0aWFsO1xuICAgIH1cbiAgfSxcbiAgdW5yZWdpc3RlclBhcnRpYWw6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBkZWxldGUgdGhpcy5wYXJ0aWFsc1tuYW1lXTtcbiAgfSxcblxuICByZWdpc3RlckRlY29yYXRvcjogZnVuY3Rpb24obmFtZSwgZm4pIHtcbiAgICBpZiAodG9TdHJpbmcuY2FsbChuYW1lKSA9PT0gb2JqZWN0VHlwZSkge1xuICAgICAgaWYgKGZuKSB7IHRocm93IG5ldyBFeGNlcHRpb24oJ0FyZyBub3Qgc3VwcG9ydGVkIHdpdGggbXVsdGlwbGUgZGVjb3JhdG9ycycpOyB9XG4gICAgICBleHRlbmQodGhpcy5kZWNvcmF0b3JzLCBuYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kZWNvcmF0b3JzW25hbWVdID0gZm47XG4gICAgfVxuICB9LFxuICB1bnJlZ2lzdGVyRGVjb3JhdG9yOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgZGVsZXRlIHRoaXMuZGVjb3JhdG9yc1tuYW1lXTtcbiAgfVxufTtcblxuZXhwb3J0IGxldCBsb2cgPSBsb2dnZXIubG9nO1xuXG5leHBvcnQge2NyZWF0ZUZyYW1lLCBsb2dnZXJ9O1xuIl19\n","'use strict';\n\nexports.__esModule = true;\nexports.registerDefaultHelpers = registerDefaultHelpers;\nexports.moveHelperToHooks = moveHelperToHooks;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _helpersBlockHelperMissing = require('./helpers/block-helper-missing');\n\nvar _helpersBlockHelperMissing2 = _interopRequireDefault(_helpersBlockHelperMissing);\n\nvar _helpersEach = require('./helpers/each');\n\nvar _helpersEach2 = _interopRequireDefault(_helpersEach);\n\nvar _helpersHelperMissing = require('./helpers/helper-missing');\n\nvar _helpersHelperMissing2 = _interopRequireDefault(_helpersHelperMissing);\n\nvar _helpersIf = require('./helpers/if');\n\nvar _helpersIf2 = _interopRequireDefault(_helpersIf);\n\nvar _helpersLog = require('./helpers/log');\n\nvar _helpersLog2 = _interopRequireDefault(_helpersLog);\n\nvar _helpersLookup = require('./helpers/lookup');\n\nvar _helpersLookup2 = _interopRequireDefault(_helpersLookup);\n\nvar _helpersWith = require('./helpers/with');\n\nvar _helpersWith2 = _interopRequireDefault(_helpersWith);\n\nfunction registerDefaultHelpers(instance) {\n  _helpersBlockHelperMissing2['default'](instance);\n  _helpersEach2['default'](instance);\n  _helpersHelperMissing2['default'](instance);\n  _helpersIf2['default'](instance);\n  _helpersLog2['default'](instance);\n  _helpersLookup2['default'](instance);\n  _helpersWith2['default'](instance);\n}\n\nfunction moveHelperToHooks(instance, helperName, keepHelper) {\n  if (instance.helpers[helperName]) {\n    instance.hooks[helperName] = instance.helpers[helperName];\n    if (!keepHelper) {\n      delete instance.helpers[helperName];\n    }\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O3lDQUF1QyxnQ0FBZ0M7Ozs7MkJBQzlDLGdCQUFnQjs7OztvQ0FDUCwwQkFBMEI7Ozs7eUJBQ3JDLGNBQWM7Ozs7MEJBQ2IsZUFBZTs7Ozs2QkFDWixrQkFBa0I7Ozs7MkJBQ3BCLGdCQUFnQjs7OztBQUVsQyxTQUFTLHNCQUFzQixDQUFDLFFBQVEsRUFBRTtBQUMvQyx5Q0FBMkIsUUFBUSxDQUFDLENBQUM7QUFDckMsMkJBQWEsUUFBUSxDQUFDLENBQUM7QUFDdkIsb0NBQXNCLFFBQVEsQ0FBQyxDQUFDO0FBQ2hDLHlCQUFXLFFBQVEsQ0FBQyxDQUFDO0FBQ3JCLDBCQUFZLFFBQVEsQ0FBQyxDQUFDO0FBQ3RCLDZCQUFlLFFBQVEsQ0FBQyxDQUFDO0FBQ3pCLDJCQUFhLFFBQVEsQ0FBQyxDQUFDO0NBQ3hCOztBQUVNLFNBQVMsaUJBQWlCLENBQUMsUUFBUSxFQUFFLFVBQVUsRUFBRSxVQUFVLEVBQUU7QUFDbEUsTUFBSSxRQUFRLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxFQUFFO0FBQ2hDLFlBQVEsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLEdBQUcsUUFBUSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQztBQUMxRCxRQUFJLENBQUMsVUFBVSxFQUFFO0FBQ2YsYUFBTyxRQUFRLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0tBQ3JDO0dBQ0Y7Q0FDRiIsImZpbGUiOiJoZWxwZXJzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJlZ2lzdGVyQmxvY2tIZWxwZXJNaXNzaW5nIGZyb20gJy4vaGVscGVycy9ibG9jay1oZWxwZXItbWlzc2luZyc7XG5pbXBvcnQgcmVnaXN0ZXJFYWNoIGZyb20gJy4vaGVscGVycy9lYWNoJztcbmltcG9ydCByZWdpc3RlckhlbHBlck1pc3NpbmcgZnJvbSAnLi9oZWxwZXJzL2hlbHBlci1taXNzaW5nJztcbmltcG9ydCByZWdpc3RlcklmIGZyb20gJy4vaGVscGVycy9pZic7XG5pbXBvcnQgcmVnaXN0ZXJMb2cgZnJvbSAnLi9oZWxwZXJzL2xvZyc7XG5pbXBvcnQgcmVnaXN0ZXJMb29rdXAgZnJvbSAnLi9oZWxwZXJzL2xvb2t1cCc7XG5pbXBvcnQgcmVnaXN0ZXJXaXRoIGZyb20gJy4vaGVscGVycy93aXRoJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyRGVmYXVsdEhlbHBlcnMoaW5zdGFuY2UpIHtcbiAgcmVnaXN0ZXJCbG9ja0hlbHBlck1pc3NpbmcoaW5zdGFuY2UpO1xuICByZWdpc3RlckVhY2goaW5zdGFuY2UpO1xuICByZWdpc3RlckhlbHBlck1pc3NpbmcoaW5zdGFuY2UpO1xuICByZWdpc3RlcklmKGluc3RhbmNlKTtcbiAgcmVnaXN0ZXJMb2coaW5zdGFuY2UpO1xuICByZWdpc3Rlckxvb2t1cChpbnN0YW5jZSk7XG4gIHJlZ2lzdGVyV2l0aChpbnN0YW5jZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtb3ZlSGVscGVyVG9Ib29rcyhpbnN0YW5jZSwgaGVscGVyTmFtZSwga2VlcEhlbHBlcikge1xuICBpZiAoaW5zdGFuY2UuaGVscGVyc1toZWxwZXJOYW1lXSkge1xuICAgIGluc3RhbmNlLmhvb2tzW2hlbHBlck5hbWVdID0gaW5zdGFuY2UuaGVscGVyc1toZWxwZXJOYW1lXTtcbiAgICBpZiAoIWtlZXBIZWxwZXIpIHtcbiAgICAgIGRlbGV0ZSBpbnN0YW5jZS5oZWxwZXJzW2hlbHBlck5hbWVdO1xuICAgIH1cbiAgfVxufVxuIl19\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","module.exports = require('./code').default\n","import CodeMirror from 'codemirror'\nimport 'codemirror/mode/javascript/javascript'\nimport { nextTick, copy } from './util'\n\nexport default function(eruda) {\n  let { evalCss, beautify } = eruda.util\n\n  class Code extends eruda.Tool {\n    constructor() {\n      super()\n      this.name = 'code'\n      this._style = evalCss(require('./style.scss'))\n      this._CodeMirrorStyle = evalCss(require('codemirror/lib/codemirror.css'))\n      this._CodeMirrorCustomStyle = evalCss(require('./CodeMirror.css'))\n      this._editor = null\n    }\n    init($el, container) {\n      super.init($el, container)\n\n      $el.html(require('./template.hbs')())\n      this._bindEvent()\n    }\n    show() {\n      super.show()\n      if (!this._editor) {\n        let container = this._$el.find('.eruda-editor').get(0)\n        this._editor = CodeMirror.fromTextArea(container, {\n          lineNumbers: 'true',\n          mode: 'javascript'\n        })\n        nextTick(() => this._editor.refresh())\n      }\n    }\n    hide() {\n      super.hide()\n    }\n    run() {\n      try {\n        evalJs(this._editor.getValue())\n      } catch (e) {\n        /* eslint-disable no-console */\n        console.error(e)\n      }\n    }\n    beautify() {\n      let editor = this._editor\n\n      let value = editor.getValue()\n      editor.setValue(beautify(value))\n    }\n    copy() {\n      copy(this._editor.getValue())\n    }\n    clear() {\n      this._editor.setValue('')\n    }\n    destroy() {\n      super.destroy()\n      evalCss.remove(this._style)\n      evalCss.remove(this._CodeMirrorStyle)\n      evalCss.remove(this._CodeMirrorCustomStyle)\n    }\n    _bindEvent() {\n      this._$el\n        .on('click', '.eruda-run', () => this.run())\n        .on('click', '.eruda-beautify', () => this.beautify())\n        .on('click', '.eruda-clear', () => this.clear())\n        .on('click', '.eruda-copy', () => this.copy())\n    }\n  }\n\n  let evalJs = code => {\n    let ret\n\n    try {\n      ret = eval.call(window, `(${code})`)\n    } catch (e) {\n      ret = eval.call(window, code)\n    }\n\n    return ret\n  }\n\n  return new Code()\n}\n","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"javascript\", function(config, parserConfig) {\n  var indentUnit = config.indentUnit;\n  var statementIndent = parserConfig.statementIndent;\n  var jsonldMode = parserConfig.jsonld;\n  var jsonMode = parserConfig.json || jsonldMode;\n  var isTS = parserConfig.typescript;\n  var wordRE = parserConfig.wordCharacters || /[\\w$\\xa1-\\uffff]/;\n\n  // Tokenizer\n\n  var keywords = function(){\n    function kw(type) {return {type: type, style: \"keyword\"};}\n    var A = kw(\"keyword a\"), B = kw(\"keyword b\"), C = kw(\"keyword c\"), D = kw(\"keyword d\");\n    var operator = kw(\"operator\"), atom = {type: \"atom\", style: \"atom\"};\n\n    return {\n      \"if\": kw(\"if\"), \"while\": A, \"with\": A, \"else\": B, \"do\": B, \"try\": B, \"finally\": B,\n      \"return\": D, \"break\": D, \"continue\": D, \"new\": kw(\"new\"), \"delete\": C, \"void\": C, \"throw\": C,\n      \"debugger\": kw(\"debugger\"), \"var\": kw(\"var\"), \"const\": kw(\"var\"), \"let\": kw(\"var\"),\n      \"function\": kw(\"function\"), \"catch\": kw(\"catch\"),\n      \"for\": kw(\"for\"), \"switch\": kw(\"switch\"), \"case\": kw(\"case\"), \"default\": kw(\"default\"),\n      \"in\": operator, \"typeof\": operator, \"instanceof\": operator,\n      \"true\": atom, \"false\": atom, \"null\": atom, \"undefined\": atom, \"NaN\": atom, \"Infinity\": atom,\n      \"this\": kw(\"this\"), \"class\": kw(\"class\"), \"super\": kw(\"atom\"),\n      \"yield\": C, \"export\": kw(\"export\"), \"import\": kw(\"import\"), \"extends\": C,\n      \"await\": C\n    };\n  }();\n\n  var isOperatorChar = /[+\\-*&%=<>!?|~^@]/;\n  var isJsonldKeyword = /^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)\"/;\n\n  function readRegexp(stream) {\n    var escaped = false, next, inSet = false;\n    while ((next = stream.next()) != null) {\n      if (!escaped) {\n        if (next == \"/\" && !inSet) return;\n        if (next == \"[\") inSet = true;\n        else if (inSet && next == \"]\") inSet = false;\n      }\n      escaped = !escaped && next == \"\\\\\";\n    }\n  }\n\n  // Used as scratch variables to communicate multiple values without\n  // consing up tons of objects.\n  var type, content;\n  function ret(tp, style, cont) {\n    type = tp; content = cont;\n    return style;\n  }\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n    if (ch == '\"' || ch == \"'\") {\n      state.tokenize = tokenString(ch);\n      return state.tokenize(stream, state);\n    } else if (ch == \".\" && stream.match(/^\\d[\\d_]*(?:[eE][+\\-]?[\\d_]+)?/)) {\n      return ret(\"number\", \"number\");\n    } else if (ch == \".\" && stream.match(\"..\")) {\n      return ret(\"spread\", \"meta\");\n    } else if (/[\\[\\]{}\\(\\),;\\:\\.]/.test(ch)) {\n      return ret(ch);\n    } else if (ch == \"=\" && stream.eat(\">\")) {\n      return ret(\"=>\", \"operator\");\n    } else if (ch == \"0\" && stream.match(/^(?:x[\\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/)) {\n      return ret(\"number\", \"number\");\n    } else if (/\\d/.test(ch)) {\n      stream.match(/^[\\d_]*(?:n|(?:\\.[\\d_]*)?(?:[eE][+\\-]?[\\d_]+)?)?/);\n      return ret(\"number\", \"number\");\n    } else if (ch == \"/\") {\n      if (stream.eat(\"*\")) {\n        state.tokenize = tokenComment;\n        return tokenComment(stream, state);\n      } else if (stream.eat(\"/\")) {\n        stream.skipToEnd();\n        return ret(\"comment\", \"comment\");\n      } else if (expressionAllowed(stream, state, 1)) {\n        readRegexp(stream);\n        stream.match(/^\\b(([gimyus])(?![gimyus]*\\2))+\\b/);\n        return ret(\"regexp\", \"string-2\");\n      } else {\n        stream.eat(\"=\");\n        return ret(\"operator\", \"operator\", stream.current());\n      }\n    } else if (ch == \"`\") {\n      state.tokenize = tokenQuasi;\n      return tokenQuasi(stream, state);\n    } else if (ch == \"#\") {\n      stream.skipToEnd();\n      return ret(\"error\", \"error\");\n    } else if (ch == \"<\" && stream.match(\"!--\") || ch == \"-\" && stream.match(\"->\")) {\n      stream.skipToEnd()\n      return ret(\"comment\", \"comment\")\n    } else if (isOperatorChar.test(ch)) {\n      if (ch != \">\" || !state.lexical || state.lexical.type != \">\") {\n        if (stream.eat(\"=\")) {\n          if (ch == \"!\" || ch == \"=\") stream.eat(\"=\")\n        } else if (/[<>*+\\-]/.test(ch)) {\n          stream.eat(ch)\n          if (ch == \">\") stream.eat(ch)\n        }\n      }\n      return ret(\"operator\", \"operator\", stream.current());\n    } else if (wordRE.test(ch)) {\n      stream.eatWhile(wordRE);\n      var word = stream.current()\n      if (state.lastType != \".\") {\n        if (keywords.propertyIsEnumerable(word)) {\n          var kw = keywords[word]\n          return ret(kw.type, kw.style, word)\n        }\n        if (word == \"async\" && stream.match(/^(\\s|\\/\\*.*?\\*\\/)*[\\[\\(\\w]/, false))\n          return ret(\"async\", \"keyword\", word)\n      }\n      return ret(\"variable\", \"variable\", word)\n    }\n  }\n\n  function tokenString(quote) {\n    return function(stream, state) {\n      var escaped = false, next;\n      if (jsonldMode && stream.peek() == \"@\" && stream.match(isJsonldKeyword)){\n        state.tokenize = tokenBase;\n        return ret(\"jsonld-keyword\", \"meta\");\n      }\n      while ((next = stream.next()) != null) {\n        if (next == quote && !escaped) break;\n        escaped = !escaped && next == \"\\\\\";\n      }\n      if (!escaped) state.tokenize = tokenBase;\n      return ret(\"string\", \"string\");\n    };\n  }\n\n  function tokenComment(stream, state) {\n    var maybeEnd = false, ch;\n    while (ch = stream.next()) {\n      if (ch == \"/\" && maybeEnd) {\n        state.tokenize = tokenBase;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return ret(\"comment\", \"comment\");\n  }\n\n  function tokenQuasi(stream, state) {\n    var escaped = false, next;\n    while ((next = stream.next()) != null) {\n      if (!escaped && (next == \"`\" || next == \"$\" && stream.eat(\"{\"))) {\n        state.tokenize = tokenBase;\n        break;\n      }\n      escaped = !escaped && next == \"\\\\\";\n    }\n    return ret(\"quasi\", \"string-2\", stream.current());\n  }\n\n  var brackets = \"([{}])\";\n  // This is a crude lookahead trick to try and notice that we're\n  // parsing the argument patterns for a fat-arrow function before we\n  // actually hit the arrow token. It only works if the arrow is on\n  // the same line as the arguments and there's no strange noise\n  // (comments) in between. Fallback is to only notice when we hit the\n  // arrow, and not declare the arguments as locals for the arrow\n  // body.\n  function findFatArrow(stream, state) {\n    if (state.fatArrowAt) state.fatArrowAt = null;\n    var arrow = stream.string.indexOf(\"=>\", stream.start);\n    if (arrow < 0) return;\n\n    if (isTS) { // Try to skip TypeScript return type declarations after the arguments\n      var m = /:\\s*(?:\\w+(?:<[^>]*>|\\[\\])?|\\{[^}]*\\})\\s*$/.exec(stream.string.slice(stream.start, arrow))\n      if (m) arrow = m.index\n    }\n\n    var depth = 0, sawSomething = false;\n    for (var pos = arrow - 1; pos >= 0; --pos) {\n      var ch = stream.string.charAt(pos);\n      var bracket = brackets.indexOf(ch);\n      if (bracket >= 0 && bracket < 3) {\n        if (!depth) { ++pos; break; }\n        if (--depth == 0) { if (ch == \"(\") sawSomething = true; break; }\n      } else if (bracket >= 3 && bracket < 6) {\n        ++depth;\n      } else if (wordRE.test(ch)) {\n        sawSomething = true;\n      } else if (/[\"'\\/`]/.test(ch)) {\n        for (;; --pos) {\n          if (pos == 0) return\n          var next = stream.string.charAt(pos - 1)\n          if (next == ch && stream.string.charAt(pos - 2) != \"\\\\\") { pos--; break }\n        }\n      } else if (sawSomething && !depth) {\n        ++pos;\n        break;\n      }\n    }\n    if (sawSomething && !depth) state.fatArrowAt = pos;\n  }\n\n  // Parser\n\n  var atomicTypes = {\"atom\": true, \"number\": true, \"variable\": true, \"string\": true, \"regexp\": true, \"this\": true, \"jsonld-keyword\": true};\n\n  function JSLexical(indented, column, type, align, prev, info) {\n    this.indented = indented;\n    this.column = column;\n    this.type = type;\n    this.prev = prev;\n    this.info = info;\n    if (align != null) this.align = align;\n  }\n\n  function inScope(state, varname) {\n    for (var v = state.localVars; v; v = v.next)\n      if (v.name == varname) return true;\n    for (var cx = state.context; cx; cx = cx.prev) {\n      for (var v = cx.vars; v; v = v.next)\n        if (v.name == varname) return true;\n    }\n  }\n\n  function parseJS(state, style, type, content, stream) {\n    var cc = state.cc;\n    // Communicate our context to the combinators.\n    // (Less wasteful than consing up a hundred closures on every call.)\n    cx.state = state; cx.stream = stream; cx.marked = null, cx.cc = cc; cx.style = style;\n\n    if (!state.lexical.hasOwnProperty(\"align\"))\n      state.lexical.align = true;\n\n    while(true) {\n      var combinator = cc.length ? cc.pop() : jsonMode ? expression : statement;\n      if (combinator(type, content)) {\n        while(cc.length && cc[cc.length - 1].lex)\n          cc.pop()();\n        if (cx.marked) return cx.marked;\n        if (type == \"variable\" && inScope(state, content)) return \"variable-2\";\n        return style;\n      }\n    }\n  }\n\n  // Combinator utils\n\n  var cx = {state: null, column: null, marked: null, cc: null};\n  function pass() {\n    for (var i = arguments.length - 1; i >= 0; i--) cx.cc.push(arguments[i]);\n  }\n  function cont() {\n    pass.apply(null, arguments);\n    return true;\n  }\n  function inList(name, list) {\n    for (var v = list; v; v = v.next) if (v.name == name) return true\n    return false;\n  }\n  function register(varname) {\n    var state = cx.state;\n    cx.marked = \"def\";\n    if (state.context) {\n      if (state.lexical.info == \"var\" && state.context && state.context.block) {\n        // FIXME function decls are also not block scoped\n        var newContext = registerVarScoped(varname, state.context)\n        if (newContext != null) {\n          state.context = newContext\n          return\n        }\n      } else if (!inList(varname, state.localVars)) {\n        state.localVars = new Var(varname, state.localVars)\n        return\n      }\n    }\n    // Fall through means this is global\n    if (parserConfig.globalVars && !inList(varname, state.globalVars))\n      state.globalVars = new Var(varname, state.globalVars)\n  }\n  function registerVarScoped(varname, context) {\n    if (!context) {\n      return null\n    } else if (context.block) {\n      var inner = registerVarScoped(varname, context.prev)\n      if (!inner) return null\n      if (inner == context.prev) return context\n      return new Context(inner, context.vars, true)\n    } else if (inList(varname, context.vars)) {\n      return context\n    } else {\n      return new Context(context.prev, new Var(varname, context.vars), false)\n    }\n  }\n\n  function isModifier(name) {\n    return name == \"public\" || name == \"private\" || name == \"protected\" || name == \"abstract\" || name == \"readonly\"\n  }\n\n  // Combinators\n\n  function Context(prev, vars, block) { this.prev = prev; this.vars = vars; this.block = block }\n  function Var(name, next) { this.name = name; this.next = next }\n\n  var defaultVars = new Var(\"this\", new Var(\"arguments\", null))\n  function pushcontext() {\n    cx.state.context = new Context(cx.state.context, cx.state.localVars, false)\n    cx.state.localVars = defaultVars\n  }\n  function pushblockcontext() {\n    cx.state.context = new Context(cx.state.context, cx.state.localVars, true)\n    cx.state.localVars = null\n  }\n  function popcontext() {\n    cx.state.localVars = cx.state.context.vars\n    cx.state.context = cx.state.context.prev\n  }\n  popcontext.lex = true\n  function pushlex(type, info) {\n    var result = function() {\n      var state = cx.state, indent = state.indented;\n      if (state.lexical.type == \"stat\") indent = state.lexical.indented;\n      else for (var outer = state.lexical; outer && outer.type == \")\" && outer.align; outer = outer.prev)\n        indent = outer.indented;\n      state.lexical = new JSLexical(indent, cx.stream.column(), type, null, state.lexical, info);\n    };\n    result.lex = true;\n    return result;\n  }\n  function poplex() {\n    var state = cx.state;\n    if (state.lexical.prev) {\n      if (state.lexical.type == \")\")\n        state.indented = state.lexical.indented;\n      state.lexical = state.lexical.prev;\n    }\n  }\n  poplex.lex = true;\n\n  function expect(wanted) {\n    function exp(type) {\n      if (type == wanted) return cont();\n      else if (wanted == \";\" || type == \"}\" || type == \")\" || type == \"]\") return pass();\n      else return cont(exp);\n    };\n    return exp;\n  }\n\n  function statement(type, value) {\n    if (type == \"var\") return cont(pushlex(\"vardef\", value), vardef, expect(\";\"), poplex);\n    if (type == \"keyword a\") return cont(pushlex(\"form\"), parenExpr, statement, poplex);\n    if (type == \"keyword b\") return cont(pushlex(\"form\"), statement, poplex);\n    if (type == \"keyword d\") return cx.stream.match(/^\\s*$/, false) ? cont() : cont(pushlex(\"stat\"), maybeexpression, expect(\";\"), poplex);\n    if (type == \"debugger\") return cont(expect(\";\"));\n    if (type == \"{\") return cont(pushlex(\"}\"), pushblockcontext, block, poplex, popcontext);\n    if (type == \";\") return cont();\n    if (type == \"if\") {\n      if (cx.state.lexical.info == \"else\" && cx.state.cc[cx.state.cc.length - 1] == poplex)\n        cx.state.cc.pop()();\n      return cont(pushlex(\"form\"), parenExpr, statement, poplex, maybeelse);\n    }\n    if (type == \"function\") return cont(functiondef);\n    if (type == \"for\") return cont(pushlex(\"form\"), forspec, statement, poplex);\n    if (type == \"class\" || (isTS && value == \"interface\")) {\n      cx.marked = \"keyword\"\n      return cont(pushlex(\"form\", type == \"class\" ? type : value), className, poplex)\n    }\n    if (type == \"variable\") {\n      if (isTS && value == \"declare\") {\n        cx.marked = \"keyword\"\n        return cont(statement)\n      } else if (isTS && (value == \"module\" || value == \"enum\" || value == \"type\") && cx.stream.match(/^\\s*\\w/, false)) {\n        cx.marked = \"keyword\"\n        if (value == \"enum\") return cont(enumdef);\n        else if (value == \"type\") return cont(typename, expect(\"operator\"), typeexpr, expect(\";\"));\n        else return cont(pushlex(\"form\"), pattern, expect(\"{\"), pushlex(\"}\"), block, poplex, poplex)\n      } else if (isTS && value == \"namespace\") {\n        cx.marked = \"keyword\"\n        return cont(pushlex(\"form\"), expression, statement, poplex)\n      } else if (isTS && value == \"abstract\") {\n        cx.marked = \"keyword\"\n        return cont(statement)\n      } else {\n        return cont(pushlex(\"stat\"), maybelabel);\n      }\n    }\n    if (type == \"switch\") return cont(pushlex(\"form\"), parenExpr, expect(\"{\"), pushlex(\"}\", \"switch\"), pushblockcontext,\n                                      block, poplex, poplex, popcontext);\n    if (type == \"case\") return cont(expression, expect(\":\"));\n    if (type == \"default\") return cont(expect(\":\"));\n    if (type == \"catch\") return cont(pushlex(\"form\"), pushcontext, maybeCatchBinding, statement, poplex, popcontext);\n    if (type == \"export\") return cont(pushlex(\"stat\"), afterExport, poplex);\n    if (type == \"import\") return cont(pushlex(\"stat\"), afterImport, poplex);\n    if (type == \"async\") return cont(statement)\n    if (value == \"@\") return cont(expression, statement)\n    return pass(pushlex(\"stat\"), expression, expect(\";\"), poplex);\n  }\n  function maybeCatchBinding(type) {\n    if (type == \"(\") return cont(funarg, expect(\")\"))\n  }\n  function expression(type, value) {\n    return expressionInner(type, value, false);\n  }\n  function expressionNoComma(type, value) {\n    return expressionInner(type, value, true);\n  }\n  function parenExpr(type) {\n    if (type != \"(\") return pass()\n    return cont(pushlex(\")\"), expression, expect(\")\"), poplex)\n  }\n  function expressionInner(type, value, noComma) {\n    if (cx.state.fatArrowAt == cx.stream.start) {\n      var body = noComma ? arrowBodyNoComma : arrowBody;\n      if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, expect(\"=>\"), body, popcontext);\n      else if (type == \"variable\") return pass(pushcontext, pattern, expect(\"=>\"), body, popcontext);\n    }\n\n    var maybeop = noComma ? maybeoperatorNoComma : maybeoperatorComma;\n    if (atomicTypes.hasOwnProperty(type)) return cont(maybeop);\n    if (type == \"function\") return cont(functiondef, maybeop);\n    if (type == \"class\" || (isTS && value == \"interface\")) { cx.marked = \"keyword\"; return cont(pushlex(\"form\"), classExpression, poplex); }\n    if (type == \"keyword c\" || type == \"async\") return cont(noComma ? expressionNoComma : expression);\n    if (type == \"(\") return cont(pushlex(\")\"), maybeexpression, expect(\")\"), poplex, maybeop);\n    if (type == \"operator\" || type == \"spread\") return cont(noComma ? expressionNoComma : expression);\n    if (type == \"[\") return cont(pushlex(\"]\"), arrayLiteral, poplex, maybeop);\n    if (type == \"{\") return contCommasep(objprop, \"}\", null, maybeop);\n    if (type == \"quasi\") return pass(quasi, maybeop);\n    if (type == \"new\") return cont(maybeTarget(noComma));\n    if (type == \"import\") return cont(expression);\n    return cont();\n  }\n  function maybeexpression(type) {\n    if (type.match(/[;\\}\\)\\],]/)) return pass();\n    return pass(expression);\n  }\n\n  function maybeoperatorComma(type, value) {\n    if (type == \",\") return cont(expression);\n    return maybeoperatorNoComma(type, value, false);\n  }\n  function maybeoperatorNoComma(type, value, noComma) {\n    var me = noComma == false ? maybeoperatorComma : maybeoperatorNoComma;\n    var expr = noComma == false ? expression : expressionNoComma;\n    if (type == \"=>\") return cont(pushcontext, noComma ? arrowBodyNoComma : arrowBody, popcontext);\n    if (type == \"operator\") {\n      if (/\\+\\+|--/.test(value) || isTS && value == \"!\") return cont(me);\n      if (isTS && value == \"<\" && cx.stream.match(/^([^>]|<.*?>)*>\\s*\\(/, false))\n        return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, me);\n      if (value == \"?\") return cont(expression, expect(\":\"), expr);\n      return cont(expr);\n    }\n    if (type == \"quasi\") { return pass(quasi, me); }\n    if (type == \";\") return;\n    if (type == \"(\") return contCommasep(expressionNoComma, \")\", \"call\", me);\n    if (type == \".\") return cont(property, me);\n    if (type == \"[\") return cont(pushlex(\"]\"), maybeexpression, expect(\"]\"), poplex, me);\n    if (isTS && value == \"as\") { cx.marked = \"keyword\"; return cont(typeexpr, me) }\n    if (type == \"regexp\") {\n      cx.state.lastType = cx.marked = \"operator\"\n      cx.stream.backUp(cx.stream.pos - cx.stream.start - 1)\n      return cont(expr)\n    }\n  }\n  function quasi(type, value) {\n    if (type != \"quasi\") return pass();\n    if (value.slice(value.length - 2) != \"${\") return cont(quasi);\n    return cont(expression, continueQuasi);\n  }\n  function continueQuasi(type) {\n    if (type == \"}\") {\n      cx.marked = \"string-2\";\n      cx.state.tokenize = tokenQuasi;\n      return cont(quasi);\n    }\n  }\n  function arrowBody(type) {\n    findFatArrow(cx.stream, cx.state);\n    return pass(type == \"{\" ? statement : expression);\n  }\n  function arrowBodyNoComma(type) {\n    findFatArrow(cx.stream, cx.state);\n    return pass(type == \"{\" ? statement : expressionNoComma);\n  }\n  function maybeTarget(noComma) {\n    return function(type) {\n      if (type == \".\") return cont(noComma ? targetNoComma : target);\n      else if (type == \"variable\" && isTS) return cont(maybeTypeArgs, noComma ? maybeoperatorNoComma : maybeoperatorComma)\n      else return pass(noComma ? expressionNoComma : expression);\n    };\n  }\n  function target(_, value) {\n    if (value == \"target\") { cx.marked = \"keyword\"; return cont(maybeoperatorComma); }\n  }\n  function targetNoComma(_, value) {\n    if (value == \"target\") { cx.marked = \"keyword\"; return cont(maybeoperatorNoComma); }\n  }\n  function maybelabel(type) {\n    if (type == \":\") return cont(poplex, statement);\n    return pass(maybeoperatorComma, expect(\";\"), poplex);\n  }\n  function property(type) {\n    if (type == \"variable\") {cx.marked = \"property\"; return cont();}\n  }\n  function objprop(type, value) {\n    if (type == \"async\") {\n      cx.marked = \"property\";\n      return cont(objprop);\n    } else if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\";\n      if (value == \"get\" || value == \"set\") return cont(getterSetter);\n      var m // Work around fat-arrow-detection complication for detecting typescript typed arrow params\n      if (isTS && cx.state.fatArrowAt == cx.stream.start && (m = cx.stream.match(/^\\s*:\\s*/, false)))\n        cx.state.fatArrowAt = cx.stream.pos + m[0].length\n      return cont(afterprop);\n    } else if (type == \"number\" || type == \"string\") {\n      cx.marked = jsonldMode ? \"property\" : (cx.style + \" property\");\n      return cont(afterprop);\n    } else if (type == \"jsonld-keyword\") {\n      return cont(afterprop);\n    } else if (isTS && isModifier(value)) {\n      cx.marked = \"keyword\"\n      return cont(objprop)\n    } else if (type == \"[\") {\n      return cont(expression, maybetype, expect(\"]\"), afterprop);\n    } else if (type == \"spread\") {\n      return cont(expressionNoComma, afterprop);\n    } else if (value == \"*\") {\n      cx.marked = \"keyword\";\n      return cont(objprop);\n    } else if (type == \":\") {\n      return pass(afterprop)\n    }\n  }\n  function getterSetter(type) {\n    if (type != \"variable\") return pass(afterprop);\n    cx.marked = \"property\";\n    return cont(functiondef);\n  }\n  function afterprop(type) {\n    if (type == \":\") return cont(expressionNoComma);\n    if (type == \"(\") return pass(functiondef);\n  }\n  function commasep(what, end, sep) {\n    function proceed(type, value) {\n      if (sep ? sep.indexOf(type) > -1 : type == \",\") {\n        var lex = cx.state.lexical;\n        if (lex.info == \"call\") lex.pos = (lex.pos || 0) + 1;\n        return cont(function(type, value) {\n          if (type == end || value == end) return pass()\n          return pass(what)\n        }, proceed);\n      }\n      if (type == end || value == end) return cont();\n      if (sep && sep.indexOf(\";\") > -1) return pass(what)\n      return cont(expect(end));\n    }\n    return function(type, value) {\n      if (type == end || value == end) return cont();\n      return pass(what, proceed);\n    };\n  }\n  function contCommasep(what, end, info) {\n    for (var i = 3; i < arguments.length; i++)\n      cx.cc.push(arguments[i]);\n    return cont(pushlex(end, info), commasep(what, end), poplex);\n  }\n  function block(type) {\n    if (type == \"}\") return cont();\n    return pass(statement, block);\n  }\n  function maybetype(type, value) {\n    if (isTS) {\n      if (type == \":\") return cont(typeexpr);\n      if (value == \"?\") return cont(maybetype);\n    }\n  }\n  function maybetypeOrIn(type, value) {\n    if (isTS && (type == \":\" || value == \"in\")) return cont(typeexpr)\n  }\n  function mayberettype(type) {\n    if (isTS && type == \":\") {\n      if (cx.stream.match(/^\\s*\\w+\\s+is\\b/, false)) return cont(expression, isKW, typeexpr)\n      else return cont(typeexpr)\n    }\n  }\n  function isKW(_, value) {\n    if (value == \"is\") {\n      cx.marked = \"keyword\"\n      return cont()\n    }\n  }\n  function typeexpr(type, value) {\n    if (value == \"keyof\" || value == \"typeof\" || value == \"infer\") {\n      cx.marked = \"keyword\"\n      return cont(value == \"typeof\" ? expressionNoComma : typeexpr)\n    }\n    if (type == \"variable\" || value == \"void\") {\n      cx.marked = \"type\"\n      return cont(afterType)\n    }\n    if (value == \"|\" || value == \"&\") return cont(typeexpr)\n    if (type == \"string\" || type == \"number\" || type == \"atom\") return cont(afterType);\n    if (type == \"[\") return cont(pushlex(\"]\"), commasep(typeexpr, \"]\", \",\"), poplex, afterType)\n    if (type == \"{\") return cont(pushlex(\"}\"), commasep(typeprop, \"}\", \",;\"), poplex, afterType)\n    if (type == \"(\") return cont(commasep(typearg, \")\"), maybeReturnType, afterType)\n    if (type == \"<\") return cont(commasep(typeexpr, \">\"), typeexpr)\n  }\n  function maybeReturnType(type) {\n    if (type == \"=>\") return cont(typeexpr)\n  }\n  function typeprop(type, value) {\n    if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\"\n      return cont(typeprop)\n    } else if (value == \"?\" || type == \"number\" || type == \"string\") {\n      return cont(typeprop)\n    } else if (type == \":\") {\n      return cont(typeexpr)\n    } else if (type == \"[\") {\n      return cont(expect(\"variable\"), maybetypeOrIn, expect(\"]\"), typeprop)\n    } else if (type == \"(\") {\n      return pass(functiondecl, typeprop)\n    }\n  }\n  function typearg(type, value) {\n    if (type == \"variable\" && cx.stream.match(/^\\s*[?:]/, false) || value == \"?\") return cont(typearg)\n    if (type == \":\") return cont(typeexpr)\n    if (type == \"spread\") return cont(typearg)\n    return pass(typeexpr)\n  }\n  function afterType(type, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, afterType)\n    if (value == \"|\" || type == \".\" || value == \"&\") return cont(typeexpr)\n    if (type == \"[\") return cont(typeexpr, expect(\"]\"), afterType)\n    if (value == \"extends\" || value == \"implements\") { cx.marked = \"keyword\"; return cont(typeexpr) }\n    if (value == \"?\") return cont(typeexpr, expect(\":\"), typeexpr)\n  }\n  function maybeTypeArgs(_, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, afterType)\n  }\n  function typeparam() {\n    return pass(typeexpr, maybeTypeDefault)\n  }\n  function maybeTypeDefault(_, value) {\n    if (value == \"=\") return cont(typeexpr)\n  }\n  function vardef(_, value) {\n    if (value == \"enum\") {cx.marked = \"keyword\"; return cont(enumdef)}\n    return pass(pattern, maybetype, maybeAssign, vardefCont);\n  }\n  function pattern(type, value) {\n    if (isTS && isModifier(value)) { cx.marked = \"keyword\"; return cont(pattern) }\n    if (type == \"variable\") { register(value); return cont(); }\n    if (type == \"spread\") return cont(pattern);\n    if (type == \"[\") return contCommasep(eltpattern, \"]\");\n    if (type == \"{\") return contCommasep(proppattern, \"}\");\n  }\n  function proppattern(type, value) {\n    if (type == \"variable\" && !cx.stream.match(/^\\s*:/, false)) {\n      register(value);\n      return cont(maybeAssign);\n    }\n    if (type == \"variable\") cx.marked = \"property\";\n    if (type == \"spread\") return cont(pattern);\n    if (type == \"}\") return pass();\n    if (type == \"[\") return cont(expression, expect(']'), expect(':'), proppattern);\n    return cont(expect(\":\"), pattern, maybeAssign);\n  }\n  function eltpattern() {\n    return pass(pattern, maybeAssign)\n  }\n  function maybeAssign(_type, value) {\n    if (value == \"=\") return cont(expressionNoComma);\n  }\n  function vardefCont(type) {\n    if (type == \",\") return cont(vardef);\n  }\n  function maybeelse(type, value) {\n    if (type == \"keyword b\" && value == \"else\") return cont(pushlex(\"form\", \"else\"), statement, poplex);\n  }\n  function forspec(type, value) {\n    if (value == \"await\") return cont(forspec);\n    if (type == \"(\") return cont(pushlex(\")\"), forspec1, poplex);\n  }\n  function forspec1(type) {\n    if (type == \"var\") return cont(vardef, forspec2);\n    if (type == \"variable\") return cont(forspec2);\n    return pass(forspec2)\n  }\n  function forspec2(type, value) {\n    if (type == \")\") return cont()\n    if (type == \";\") return cont(forspec2)\n    if (value == \"in\" || value == \"of\") { cx.marked = \"keyword\"; return cont(expression, forspec2) }\n    return pass(expression, forspec2)\n  }\n  function functiondef(type, value) {\n    if (value == \"*\") {cx.marked = \"keyword\"; return cont(functiondef);}\n    if (type == \"variable\") {register(value); return cont(functiondef);}\n    if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, mayberettype, statement, popcontext);\n    if (isTS && value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, functiondef)\n  }\n  function functiondecl(type, value) {\n    if (value == \"*\") {cx.marked = \"keyword\"; return cont(functiondecl);}\n    if (type == \"variable\") {register(value); return cont(functiondecl);}\n    if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, mayberettype, popcontext);\n    if (isTS && value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, functiondecl)\n  }\n  function typename(type, value) {\n    if (type == \"keyword\" || type == \"variable\") {\n      cx.marked = \"type\"\n      return cont(typename)\n    } else if (value == \"<\") {\n      return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex)\n    }\n  }\n  function funarg(type, value) {\n    if (value == \"@\") cont(expression, funarg)\n    if (type == \"spread\") return cont(funarg);\n    if (isTS && isModifier(value)) { cx.marked = \"keyword\"; return cont(funarg); }\n    if (isTS && type == \"this\") return cont(maybetype, maybeAssign)\n    return pass(pattern, maybetype, maybeAssign);\n  }\n  function classExpression(type, value) {\n    // Class expressions may have an optional name.\n    if (type == \"variable\") return className(type, value);\n    return classNameAfter(type, value);\n  }\n  function className(type, value) {\n    if (type == \"variable\") {register(value); return cont(classNameAfter);}\n  }\n  function classNameAfter(type, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, classNameAfter)\n    if (value == \"extends\" || value == \"implements\" || (isTS && type == \",\")) {\n      if (value == \"implements\") cx.marked = \"keyword\";\n      return cont(isTS ? typeexpr : expression, classNameAfter);\n    }\n    if (type == \"{\") return cont(pushlex(\"}\"), classBody, poplex);\n  }\n  function classBody(type, value) {\n    if (type == \"async\" ||\n        (type == \"variable\" &&\n         (value == \"static\" || value == \"get\" || value == \"set\" || (isTS && isModifier(value))) &&\n         cx.stream.match(/^\\s+[\\w$\\xa1-\\uffff]/, false))) {\n      cx.marked = \"keyword\";\n      return cont(classBody);\n    }\n    if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\";\n      return cont(isTS ? classfield : functiondef, classBody);\n    }\n    if (type == \"number\" || type == \"string\") return cont(isTS ? classfield : functiondef, classBody);\n    if (type == \"[\")\n      return cont(expression, maybetype, expect(\"]\"), isTS ? classfield : functiondef, classBody)\n    if (value == \"*\") {\n      cx.marked = \"keyword\";\n      return cont(classBody);\n    }\n    if (isTS && type == \"(\") return pass(functiondecl, classBody)\n    if (type == \";\" || type == \",\") return cont(classBody);\n    if (type == \"}\") return cont();\n    if (value == \"@\") return cont(expression, classBody)\n  }\n  function classfield(type, value) {\n    if (value == \"?\") return cont(classfield)\n    if (type == \":\") return cont(typeexpr, maybeAssign)\n    if (value == \"=\") return cont(expressionNoComma)\n    var context = cx.state.lexical.prev, isInterface = context && context.info == \"interface\"\n    return pass(isInterface ? functiondecl : functiondef)\n  }\n  function afterExport(type, value) {\n    if (value == \"*\") { cx.marked = \"keyword\"; return cont(maybeFrom, expect(\";\")); }\n    if (value == \"default\") { cx.marked = \"keyword\"; return cont(expression, expect(\";\")); }\n    if (type == \"{\") return cont(commasep(exportField, \"}\"), maybeFrom, expect(\";\"));\n    return pass(statement);\n  }\n  function exportField(type, value) {\n    if (value == \"as\") { cx.marked = \"keyword\"; return cont(expect(\"variable\")); }\n    if (type == \"variable\") return pass(expressionNoComma, exportField);\n  }\n  function afterImport(type) {\n    if (type == \"string\") return cont();\n    if (type == \"(\") return pass(expression);\n    return pass(importSpec, maybeMoreImports, maybeFrom);\n  }\n  function importSpec(type, value) {\n    if (type == \"{\") return contCommasep(importSpec, \"}\");\n    if (type == \"variable\") register(value);\n    if (value == \"*\") cx.marked = \"keyword\";\n    return cont(maybeAs);\n  }\n  function maybeMoreImports(type) {\n    if (type == \",\") return cont(importSpec, maybeMoreImports)\n  }\n  function maybeAs(_type, value) {\n    if (value == \"as\") { cx.marked = \"keyword\"; return cont(importSpec); }\n  }\n  function maybeFrom(_type, value) {\n    if (value == \"from\") { cx.marked = \"keyword\"; return cont(expression); }\n  }\n  function arrayLiteral(type) {\n    if (type == \"]\") return cont();\n    return pass(commasep(expressionNoComma, \"]\"));\n  }\n  function enumdef() {\n    return pass(pushlex(\"form\"), pattern, expect(\"{\"), pushlex(\"}\"), commasep(enummember, \"}\"), poplex, poplex)\n  }\n  function enummember() {\n    return pass(pattern, maybeAssign);\n  }\n\n  function isContinuedStatement(state, textAfter) {\n    return state.lastType == \"operator\" || state.lastType == \",\" ||\n      isOperatorChar.test(textAfter.charAt(0)) ||\n      /[,.]/.test(textAfter.charAt(0));\n  }\n\n  function expressionAllowed(stream, state, backUp) {\n    return state.tokenize == tokenBase &&\n      /^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\\[{}\\(,;:]|=>)$/.test(state.lastType) ||\n      (state.lastType == \"quasi\" && /\\{\\s*$/.test(stream.string.slice(0, stream.pos - (backUp || 0))))\n  }\n\n  // Interface\n\n  return {\n    startState: function(basecolumn) {\n      var state = {\n        tokenize: tokenBase,\n        lastType: \"sof\",\n        cc: [],\n        lexical: new JSLexical((basecolumn || 0) - indentUnit, 0, \"block\", false),\n        localVars: parserConfig.localVars,\n        context: parserConfig.localVars && new Context(null, null, false),\n        indented: basecolumn || 0\n      };\n      if (parserConfig.globalVars && typeof parserConfig.globalVars == \"object\")\n        state.globalVars = parserConfig.globalVars;\n      return state;\n    },\n\n    token: function(stream, state) {\n      if (stream.sol()) {\n        if (!state.lexical.hasOwnProperty(\"align\"))\n          state.lexical.align = false;\n        state.indented = stream.indentation();\n        findFatArrow(stream, state);\n      }\n      if (state.tokenize != tokenComment && stream.eatSpace()) return null;\n      var style = state.tokenize(stream, state);\n      if (type == \"comment\") return style;\n      state.lastType = type == \"operator\" && (content == \"++\" || content == \"--\") ? \"incdec\" : type;\n      return parseJS(state, style, type, content, stream);\n    },\n\n    indent: function(state, textAfter) {\n      if (state.tokenize == tokenComment) return CodeMirror.Pass;\n      if (state.tokenize != tokenBase) return 0;\n      var firstChar = textAfter && textAfter.charAt(0), lexical = state.lexical, top\n      // Kludge to prevent 'maybelse' from blocking lexical scope pops\n      if (!/^\\s*else\\b/.test(textAfter)) for (var i = state.cc.length - 1; i >= 0; --i) {\n        var c = state.cc[i];\n        if (c == poplex) lexical = lexical.prev;\n        else if (c != maybeelse) break;\n      }\n      while ((lexical.type == \"stat\" || lexical.type == \"form\") &&\n             (firstChar == \"}\" || ((top = state.cc[state.cc.length - 1]) &&\n                                   (top == maybeoperatorComma || top == maybeoperatorNoComma) &&\n                                   !/^[,\\.=+\\-*:?[\\(]/.test(textAfter))))\n        lexical = lexical.prev;\n      if (statementIndent && lexical.type == \")\" && lexical.prev.type == \"stat\")\n        lexical = lexical.prev;\n      var type = lexical.type, closing = firstChar == type;\n\n      if (type == \"vardef\") return lexical.indented + (state.lastType == \"operator\" || state.lastType == \",\" ? lexical.info.length + 1 : 0);\n      else if (type == \"form\" && firstChar == \"{\") return lexical.indented;\n      else if (type == \"form\") return lexical.indented + indentUnit;\n      else if (type == \"stat\")\n        return lexical.indented + (isContinuedStatement(state, textAfter) ? statementIndent || indentUnit : 0);\n      else if (lexical.info == \"switch\" && !closing && parserConfig.doubleIndentSwitch != false)\n        return lexical.indented + (/^(?:case|default)\\b/.test(textAfter) ? indentUnit : 2 * indentUnit);\n      else if (lexical.align) return lexical.column + (closing ? 0 : 1);\n      else return lexical.indented + (closing ? 0 : indentUnit);\n    },\n\n    electricInput: /^\\s*(?:case .*?:|default:|\\{|\\})$/,\n    blockCommentStart: jsonMode ? null : \"/*\",\n    blockCommentEnd: jsonMode ? null : \"*/\",\n    blockCommentContinue: jsonMode ? null : \" * \",\n    lineComment: jsonMode ? null : \"//\",\n    fold: \"brace\",\n    closeBrackets: \"()[]{}''\\\"\\\"``\",\n\n    helperType: jsonMode ? \"json\" : \"javascript\",\n    jsonldMode: jsonldMode,\n    jsonMode: jsonMode,\n\n    expressionAllowed: expressionAllowed,\n\n    skipExpression: function(state) {\n      var top = state.cc[state.cc.length - 1]\n      if (top == expression || top == expressionNoComma) state.cc.pop()\n    }\n  };\n});\n\nCodeMirror.registerHelper(\"wordChars\", \"javascript\", /[\\w$]/);\n\nCodeMirror.defineMIME(\"text/javascript\", \"javascript\");\nCodeMirror.defineMIME(\"text/ecmascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/javascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/x-javascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/ecmascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/json\", {name: \"javascript\", json: true});\nCodeMirror.defineMIME(\"application/x-json\", {name: \"javascript\", json: true});\nCodeMirror.defineMIME(\"application/ld+json\", {name: \"javascript\", jsonld: true});\nCodeMirror.defineMIME(\"text/typescript\", { name: \"javascript\", typescript: true });\nCodeMirror.defineMIME(\"application/typescript\", { name: \"javascript\", typescript: true });\n\n});\n","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/_css-loader@3.4.1@css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".eruda-dev-tools .eruda-tools .eruda-code{padding-bottom:40px}.eruda-dev-tools .eruda-tools .eruda-code .eruda-editor{height:100%}.eruda-dev-tools .eruda-tools .eruda-code .eruda-bottom-bar{height:40px;background:var(--darker-background);position:absolute;left:0;bottom:0;width:100%;font-size:0;border-top:1px solid var(--border)}.eruda-dev-tools .eruda-tools .eruda-code .eruda-bottom-bar .eruda-btn{cursor:pointer;text-align:center;color:var(--foreground);font-size:14px;line-height:40px;width:25%;border-right:1px solid var(--border);display:inline-block;-webkit-transition:background .3s,color .3s;transition:background .3s,color .3s}.eruda-dev-tools .eruda-tools .eruda-code .eruda-bottom-bar .eruda-btn:active{background:var(--highlight);color:var(--select-foreground)}.eruda-dev-tools .eruda-tools .eruda-code .eruda-bottom-bar .eruda-btn.eruda-active{color:var(--select-foreground)}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../_css-loader@3.4.1@css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"/* BASICS */\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror {\\n  /* Set height, width, borders, and global font properties here */\\n  font-family: monospace;\\n  height: 300px;\\n  color: black;\\n  direction: ltr;\\n}\\n\\n/* PADDING */\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror-lines {\\n  padding: 4px 0; /* Vertical padding around content */\\n}\\n.eruda-dev-tools .eruda-tools .CodeMirror pre.CodeMirror-line,\\n.eruda-dev-tools .eruda-tools .CodeMirror pre.CodeMirror-line-like {\\n  padding: 0 4px; /* Horizontal padding of content */\\n}\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror-scrollbar-filler, .eruda-dev-tools .eruda-tools .CodeMirror-gutter-filler {\\n  background-color: white; /* The little square between H and V scrollbars */\\n}\\n\\n/* GUTTER */\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror-gutters {\\n  border-right: 1px solid #ddd;\\n  background-color: #f7f7f7;\\n  white-space: nowrap;\\n}\\n.eruda-dev-tools .eruda-tools .CodeMirror-linenumbers {}\\n.eruda-dev-tools .eruda-tools .CodeMirror-linenumber {\\n  padding: 0 3px 0 5px;\\n  min-width: 20px;\\n  text-align: right;\\n  color: #999;\\n  white-space: nowrap;\\n}\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror-guttermarker { color: black; }\\n.eruda-dev-tools .eruda-tools .CodeMirror-guttermarker-subtle { color: #999; }\\n\\n/* CURSOR */\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror-cursor {\\n  border-left: 1px solid black;\\n  border-right: none;\\n  width: 0;\\n}\\n/* Shown when moving in bi-directional text */\\n.eruda-dev-tools .eruda-tools .CodeMirror div.CodeMirror-secondarycursor {\\n  border-left: 1px solid silver;\\n}\\n.eruda-dev-tools .eruda-tools .cm-fat-cursor .CodeMirror-cursor {\\n  width: auto;\\n  border: 0 !important;\\n  background: #7e7;\\n}\\n.eruda-dev-tools .eruda-tools .cm-fat-cursor div.CodeMirror-cursors {\\n  z-index: 1;\\n}\\n.eruda-dev-tools .eruda-tools .cm-fat-cursor-mark {\\n  background-color: rgba(20, 255, 20, 0.5);\\n  -webkit-animation: blink 1.06s steps(1) infinite;\\n  animation: blink 1.06s steps(1) infinite;\\n}\\n.eruda-dev-tools .eruda-tools .cm-animate-fat-cursor {\\n  width: auto;\\n  border: 0;\\n  -webkit-animation: blink 1.06s steps(1) infinite;\\n  animation: blink 1.06s steps(1) infinite;\\n  background-color: #7e7;\\n}\\n@-webkit-keyframes blink {\\n  .eruda-dev-tools .eruda-tools 0% {}\\n  .eruda-dev-tools .eruda-tools 50% { background-color: transparent; }\\n  .eruda-dev-tools .eruda-tools 100% {}\\n}\\n@keyframes blink {\\n  .eruda-dev-tools .eruda-tools 0% {}\\n  .eruda-dev-tools .eruda-tools 50% { background-color: transparent; }\\n  .eruda-dev-tools .eruda-tools 100% {}\\n}\\n\\n/* Can style cursor different in overwrite (non-insert) mode */\\n.eruda-dev-tools .eruda-tools .CodeMirror-overwrite .CodeMirror-cursor {}\\n\\n.eruda-dev-tools .eruda-tools .cm-tab { display: inline-block; text-decoration: inherit; }\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror-rulers {\\n  position: absolute;\\n  left: 0; right: 0; top: -50px; bottom: 0;\\n  overflow: hidden;\\n}\\n.eruda-dev-tools .eruda-tools .CodeMirror-ruler {\\n  border-left: 1px solid #ccc;\\n  top: 0; bottom: 0;\\n  position: absolute;\\n}\\n\\n/* DEFAULT THEME */\\n\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-header {color: blue;}\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-quote {color: #090;}\\n.eruda-dev-tools .eruda-tools .cm-negative {color: #d44;}\\n.eruda-dev-tools .eruda-tools .cm-positive {color: #292;}\\n.eruda-dev-tools .eruda-tools .cm-header, .eruda-dev-tools .eruda-tools .cm-strong {font-weight: bold;}\\n.eruda-dev-tools .eruda-tools .cm-em {font-style: italic;}\\n.eruda-dev-tools .eruda-tools .cm-link {text-decoration: underline;}\\n.eruda-dev-tools .eruda-tools .cm-strikethrough {text-decoration: line-through;}\\n\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-keyword {color: #708;}\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-atom {color: #219;}\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-number {color: #164;}\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-def {color: #00f;}\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-variable,\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-punctuation,\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-property,\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-operator {}\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-variable-2 {color: #05a;}\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-variable-3, .eruda-dev-tools .eruda-tools .cm-s-default .cm-type {color: #085;}\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-comment {color: #a50;}\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-string {color: #a11;}\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-string-2 {color: #f50;}\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-meta {color: #555;}\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-qualifier {color: #555;}\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-builtin {color: #30a;}\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-bracket {color: #997;}\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-tag {color: #170;}\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-attribute {color: #00c;}\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-hr {color: #999;}\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-link {color: #00c;}\\n\\n.eruda-dev-tools .eruda-tools .cm-s-default .cm-error {color: #f00;}\\n.eruda-dev-tools .eruda-tools .cm-invalidchar {color: #f00;}\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror-composing { border-bottom: 2px solid; }\\n\\n/* Default styles for common addons */\\n\\n.eruda-dev-tools .eruda-tools div.CodeMirror span.CodeMirror-matchingbracket {color: #0b0;}\\n.eruda-dev-tools .eruda-tools div.CodeMirror span.CodeMirror-nonmatchingbracket {color: #a22;}\\n.eruda-dev-tools .eruda-tools .CodeMirror-matchingtag { background: rgba(255, 150, 0, .3); }\\n.eruda-dev-tools .eruda-tools .CodeMirror-activeline-background {background: #e8f2ff;}\\n\\n/* STOP */\\n\\n/* The rest of this file contains styles related to the mechanics of\\n   the editor. You probably shouldn't touch them. */\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror {\\n  position: relative;\\n  overflow: hidden;\\n  background: white;\\n}\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror-scroll {\\n  overflow: scroll !important; /* Things will break if this is overridden */\\n  /* 30px is the magic margin used to hide the element's real scrollbars */\\n  /* See overflow: hidden in .CodeMirror */\\n  margin-bottom: -30px; margin-right: -30px;\\n  padding-bottom: 30px;\\n  height: 100%;\\n  outline: none; /* Prevent dragging from highlighting the element */\\n  position: relative;\\n}\\n.eruda-dev-tools .eruda-tools .CodeMirror-sizer {\\n  position: relative;\\n  border-right: 30px solid transparent;\\n}\\n\\n/* The fake, visible scrollbars. Used to force redraw during scrolling\\n   before actual scrolling happens, thus preventing shaking and\\n   flickering artifacts. */\\n.eruda-dev-tools .eruda-tools .CodeMirror-vscrollbar, .eruda-dev-tools .eruda-tools .CodeMirror-hscrollbar, .eruda-dev-tools .eruda-tools .CodeMirror-scrollbar-filler, .eruda-dev-tools .eruda-tools .CodeMirror-gutter-filler {\\n  position: absolute;\\n  z-index: 6;\\n  display: none;\\n}\\n.eruda-dev-tools .eruda-tools .CodeMirror-vscrollbar {\\n  right: 0; top: 0;\\n  overflow-x: hidden;\\n  overflow-y: scroll;\\n}\\n.eruda-dev-tools .eruda-tools .CodeMirror-hscrollbar {\\n  bottom: 0; left: 0;\\n  overflow-y: hidden;\\n  overflow-x: scroll;\\n}\\n.eruda-dev-tools .eruda-tools .CodeMirror-scrollbar-filler {\\n  right: 0; bottom: 0;\\n}\\n.eruda-dev-tools .eruda-tools .CodeMirror-gutter-filler {\\n  left: 0; bottom: 0;\\n}\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror-gutters {\\n  position: absolute; left: 0; top: 0;\\n  min-height: 100%;\\n  z-index: 3;\\n}\\n.eruda-dev-tools .eruda-tools .CodeMirror-gutter {\\n  white-space: normal;\\n  height: 100%;\\n  display: inline-block;\\n  vertical-align: top;\\n  margin-bottom: -30px;\\n}\\n.eruda-dev-tools .eruda-tools .CodeMirror-gutter-wrapper {\\n  position: absolute;\\n  z-index: 4;\\n  background: none !important;\\n  border: none !important;\\n}\\n.eruda-dev-tools .eruda-tools .CodeMirror-gutter-background {\\n  position: absolute;\\n  top: 0; bottom: 0;\\n  z-index: 4;\\n}\\n.eruda-dev-tools .eruda-tools .CodeMirror-gutter-elt {\\n  position: absolute;\\n  cursor: default;\\n  z-index: 4;\\n}\\n.eruda-dev-tools .eruda-tools .CodeMirror-gutter-wrapper ::-moz-selection { background-color: transparent }\\n.eruda-dev-tools .eruda-tools .CodeMirror-gutter-wrapper ::selection { background-color: transparent }\\n.eruda-dev-tools .eruda-tools .CodeMirror-gutter-wrapper ::-moz-selection { background-color: transparent }\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror-lines {\\n  cursor: text;\\n  min-height: 1px; /* prevents collapsing before first draw */\\n}\\n.eruda-dev-tools .eruda-tools .CodeMirror pre.CodeMirror-line,\\n.eruda-dev-tools .eruda-tools .CodeMirror pre.CodeMirror-line-like {\\n  /* Reset some styles that the rest of the page might have set */ border-radius: 0;\\n  border-width: 0;\\n  background: transparent;\\n  font-family: inherit;\\n  font-size: inherit;\\n  margin: 0;\\n  white-space: pre;\\n  word-wrap: normal;\\n  line-height: inherit;\\n  color: inherit;\\n  z-index: 2;\\n  position: relative;\\n  overflow: visible;\\n  -webkit-tap-highlight-color: transparent;\\n  font-variant-ligatures: contextual;\\n}\\n.eruda-dev-tools .eruda-tools .CodeMirror-wrap pre.CodeMirror-line,\\n.eruda-dev-tools .eruda-tools .CodeMirror-wrap pre.CodeMirror-line-like {\\n  word-wrap: break-word;\\n  white-space: pre-wrap;\\n  word-break: normal;\\n}\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror-linebackground {\\n  position: absolute;\\n  left: 0; right: 0; top: 0; bottom: 0;\\n  z-index: 0;\\n}\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror-linewidget {\\n  position: relative;\\n  z-index: 2;\\n  padding: 0.1px; /* Force widget margins to stay inside of the container */\\n}\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror-widget {}\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror-rtl pre { direction: rtl; }\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror-code {\\n  outline: none;\\n}\\n\\n/* Force content-box sizing for the elements where we expect it */\\n.eruda-dev-tools .eruda-tools .CodeMirror-scroll,\\n.eruda-dev-tools .eruda-tools .CodeMirror-sizer,\\n.eruda-dev-tools .eruda-tools .CodeMirror-gutter,\\n.eruda-dev-tools .eruda-tools .CodeMirror-gutters,\\n.eruda-dev-tools .eruda-tools .CodeMirror-linenumber {\\n  box-sizing: content-box;\\n}\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror-measure {\\n  position: absolute;\\n  width: 100%;\\n  height: 0;\\n  overflow: hidden;\\n  visibility: hidden;\\n}\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror-cursor {\\n  position: absolute;\\n  pointer-events: none;\\n}\\n.eruda-dev-tools .eruda-tools .CodeMirror-measure pre { position: static; }\\n\\n.eruda-dev-tools .eruda-tools div.CodeMirror-cursors {\\n  visibility: hidden;\\n  position: relative;\\n  z-index: 3;\\n}\\n.eruda-dev-tools .eruda-tools div.CodeMirror-dragcursors {\\n  visibility: visible;\\n}\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror-focused div.CodeMirror-cursors {\\n  visibility: visible;\\n}\\n\\n.eruda-dev-tools .eruda-tools .CodeMirror-selected { background: #d9d9d9; }\\n.eruda-dev-tools .eruda-tools .CodeMirror-focused .CodeMirror-selected { background: #d7d4f0; }\\n.eruda-dev-tools .eruda-tools .CodeMirror-crosshair { cursor: crosshair; }\\n.eruda-dev-tools .eruda-tools .CodeMirror-line::-moz-selection, .eruda-dev-tools .eruda-tools .CodeMirror-line > span::-moz-selection, .eruda-dev-tools .eruda-tools .CodeMirror-line > span > span::-moz-selection { background: #d7d4f0; }\\n.eruda-dev-tools .eruda-tools .CodeMirror-line::selection, .eruda-dev-tools .eruda-tools .CodeMirror-line > span::selection, .eruda-dev-tools .eruda-tools .CodeMirror-line > span > span::selection { background: #d7d4f0; }\\n.eruda-dev-tools .eruda-tools .CodeMirror-line::-moz-selection, .eruda-dev-tools .eruda-tools .CodeMirror-line > span::-moz-selection, .eruda-dev-tools .eruda-tools .CodeMirror-line > span > span::-moz-selection { background: #d7d4f0; }\\n\\n.eruda-dev-tools .eruda-tools .cm-searching {\\n  background-color: #ffa;\\n  background-color: rgba(255, 255, 0, .4);\\n}\\n\\n/* Used to force a border model for a node */\\n.eruda-dev-tools .eruda-tools .cm-force-border { padding-right: .1px; }\\n\\n@media print {\\n  /* Hide the cursor when printing */\\n  .eruda-dev-tools .eruda-tools .CodeMirror div.CodeMirror-cursors {\\n    visibility: hidden;\\n  }\\n}\\n\\n/* See issue #2901 */\\n.eruda-dev-tools .eruda-tools .cm-tab-wrap-hack:after { content: ''; }\\n\\n/* Help users use markselection to safely style text background */\\n.eruda-dev-tools .eruda-tools span.CodeMirror-selectedtext { background: none; }\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/_css-loader@3.4.1@css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".eruda-dev-tools .eruda-tools .CodeMirror {\\n  height: 100%;\\n}\\n\\n/* Sync style with chrome dev-tool */\\n.eruda-dev-tools .eruda-tools .cm-keyword {\\n  color: hsl(310, 86%, 36%);\\n}\\n.eruda-dev-tools .eruda-tools .cm-number {\\n  color: hsl(248, 100%, 41%);\\n}\\n.eruda-dev-tools .eruda-tools .cm-comment {\\n  color: hsl(120, 100%, 23%) !important;\\n  font-style: italic;\\n}\\n.eruda-dev-tools .eruda-tools .cm-string {\\n  color: hsl(1, 80%, 43%) !important;\\n}\\n.eruda-dev-tools .eruda-tools .cm-string-2 {\\n  color: hsl(1, 99%, 39%) !important;\\n}\\n.eruda-dev-tools .eruda-tools .cm-atom {\\n  color: hsl(310, 86%, 36%);\\n}\\n.eruda-dev-tools .eruda-tools .cm-def {\\n  color: hsl(240, 73%, 38%);\\n}\\n.eruda-dev-tools .eruda-tools .cm-operator {\\n  color: hsl(27, 100%, 30%);\\n}\\n.eruda-dev-tools .eruda-tools .cm-meta {\\n  color: hsl(27, 100%, 30%);\\n}\\n.eruda-dev-tools .eruda-tools .cm-variable-2 {\\n  color: hsl(240, 73%, 38%);\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var Handlebars = require(\"../node_modules/_handlebars@4.5.3@handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<textarea class=\\\"eruda-editor\\\">function fib(num) {\\n    if (num <= 2) return 1;\\n    return fib(num - 1) + fib(num - 2);\\n}\\nconsole.log(fib(5));</textarea>\\n<div class=\\\"eruda-bottom-bar\\\">\\n    <div class=\\\"eruda-btn eruda-beautify\\\">\\n        Beautify\\n    </div>\\n    <div class=\\\"eruda-btn eruda-copy\\\">\\n        Copy\\n    </div>\\n    <div class=\\\"eruda-btn eruda-clear\\\">\\n        Clear\\n    </div>\\n    <div class=\\\"eruda-btn eruda-run\\\">\\n        Run\\n    </div>\\n</div>\";\n},\"useData\":true});","// Create a simple path alias to allow browserify to resolve\n// the runtime on a supported path.\nmodule.exports = require('./dist/cjs/handlebars.runtime')['default'];\n","'use strict';\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n// istanbul ignore next\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nvar _handlebarsBase = require('./handlebars/base');\n\nvar base = _interopRequireWildcard(_handlebarsBase);\n\n// Each of these augment the Handlebars object. No need to setup here.\n// (This is done to easily share code between commonjs and browse envs)\n\nvar _handlebarsSafeString = require('./handlebars/safe-string');\n\nvar _handlebarsSafeString2 = _interopRequireDefault(_handlebarsSafeString);\n\nvar _handlebarsException = require('./handlebars/exception');\n\nvar _handlebarsException2 = _interopRequireDefault(_handlebarsException);\n\nvar _handlebarsUtils = require('./handlebars/utils');\n\nvar Utils = _interopRequireWildcard(_handlebarsUtils);\n\nvar _handlebarsRuntime = require('./handlebars/runtime');\n\nvar runtime = _interopRequireWildcard(_handlebarsRuntime);\n\nvar _handlebarsNoConflict = require('./handlebars/no-conflict');\n\nvar _handlebarsNoConflict2 = _interopRequireDefault(_handlebarsNoConflict);\n\n// For compatibility and usage outside of module systems, make the Handlebars object a namespace\nfunction create() {\n  var hb = new base.HandlebarsEnvironment();\n\n  Utils.extend(hb, base);\n  hb.SafeString = _handlebarsSafeString2['default'];\n  hb.Exception = _handlebarsException2['default'];\n  hb.Utils = Utils;\n  hb.escapeExpression = Utils.escapeExpression;\n\n  hb.VM = runtime;\n  hb.template = function (spec) {\n    return runtime.template(spec, hb);\n  };\n\n  return hb;\n}\n\nvar inst = create();\ninst.create = create;\n\n_handlebarsNoConflict2['default'](inst);\n\ninst['default'] = inst;\n\nexports['default'] = inst;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9oYW5kbGViYXJzLnJ1bnRpbWUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OEJBQXNCLG1CQUFtQjs7SUFBN0IsSUFBSTs7Ozs7b0NBSU8sMEJBQTBCOzs7O21DQUMzQix3QkFBd0I7Ozs7K0JBQ3ZCLG9CQUFvQjs7SUFBL0IsS0FBSzs7aUNBQ1Esc0JBQXNCOztJQUFuQyxPQUFPOztvQ0FFSSwwQkFBMEI7Ozs7O0FBR2pELFNBQVMsTUFBTSxHQUFHO0FBQ2hCLE1BQUksRUFBRSxHQUFHLElBQUksSUFBSSxDQUFDLHFCQUFxQixFQUFFLENBQUM7O0FBRTFDLE9BQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ3ZCLElBQUUsQ0FBQyxVQUFVLG9DQUFhLENBQUM7QUFDM0IsSUFBRSxDQUFDLFNBQVMsbUNBQVksQ0FBQztBQUN6QixJQUFFLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztBQUNqQixJQUFFLENBQUMsZ0JBQWdCLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDOztBQUU3QyxJQUFFLENBQUMsRUFBRSxHQUFHLE9BQU8sQ0FBQztBQUNoQixJQUFFLENBQUMsUUFBUSxHQUFHLFVBQVMsSUFBSSxFQUFFO0FBQzNCLFdBQU8sT0FBTyxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUM7R0FDbkMsQ0FBQzs7QUFFRixTQUFPLEVBQUUsQ0FBQztDQUNYOztBQUVELElBQUksSUFBSSxHQUFHLE1BQU0sRUFBRSxDQUFDO0FBQ3BCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDOztBQUVyQixrQ0FBVyxJQUFJLENBQUMsQ0FBQzs7QUFFakIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLElBQUksQ0FBQzs7cUJBRVIsSUFBSSIsImZpbGUiOiJoYW5kbGViYXJzLnJ1bnRpbWUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBiYXNlIGZyb20gJy4vaGFuZGxlYmFycy9iYXNlJztcblxuLy8gRWFjaCBvZiB0aGVzZSBhdWdtZW50IHRoZSBIYW5kbGViYXJzIG9iamVjdC4gTm8gbmVlZCB0byBzZXR1cCBoZXJlLlxuLy8gKFRoaXMgaXMgZG9uZSB0byBlYXNpbHkgc2hhcmUgY29kZSBiZXR3ZWVuIGNvbW1vbmpzIGFuZCBicm93c2UgZW52cylcbmltcG9ydCBTYWZlU3RyaW5nIGZyb20gJy4vaGFuZGxlYmFycy9zYWZlLXN0cmluZyc7XG5pbXBvcnQgRXhjZXB0aW9uIGZyb20gJy4vaGFuZGxlYmFycy9leGNlcHRpb24nO1xuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSAnLi9oYW5kbGViYXJzL3V0aWxzJztcbmltcG9ydCAqIGFzIHJ1bnRpbWUgZnJvbSAnLi9oYW5kbGViYXJzL3J1bnRpbWUnO1xuXG5pbXBvcnQgbm9Db25mbGljdCBmcm9tICcuL2hhbmRsZWJhcnMvbm8tY29uZmxpY3QnO1xuXG4vLyBGb3IgY29tcGF0aWJpbGl0eSBhbmQgdXNhZ2Ugb3V0c2lkZSBvZiBtb2R1bGUgc3lzdGVtcywgbWFrZSB0aGUgSGFuZGxlYmFycyBvYmplY3QgYSBuYW1lc3BhY2VcbmZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgbGV0IGhiID0gbmV3IGJhc2UuSGFuZGxlYmFyc0Vudmlyb25tZW50KCk7XG5cbiAgVXRpbHMuZXh0ZW5kKGhiLCBiYXNlKTtcbiAgaGIuU2FmZVN0cmluZyA9IFNhZmVTdHJpbmc7XG4gIGhiLkV4Y2VwdGlvbiA9IEV4Y2VwdGlvbjtcbiAgaGIuVXRpbHMgPSBVdGlscztcbiAgaGIuZXNjYXBlRXhwcmVzc2lvbiA9IFV0aWxzLmVzY2FwZUV4cHJlc3Npb247XG5cbiAgaGIuVk0gPSBydW50aW1lO1xuICBoYi50ZW1wbGF0ZSA9IGZ1bmN0aW9uKHNwZWMpIHtcbiAgICByZXR1cm4gcnVudGltZS50ZW1wbGF0ZShzcGVjLCBoYik7XG4gIH07XG5cbiAgcmV0dXJuIGhiO1xufVxuXG5sZXQgaW5zdCA9IGNyZWF0ZSgpO1xuaW5zdC5jcmVhdGUgPSBjcmVhdGU7XG5cbm5vQ29uZmxpY3QoaW5zdCk7XG5cbmluc3RbJ2RlZmF1bHQnXSA9IGluc3Q7XG5cbmV4cG9ydCBkZWZhdWx0IGluc3Q7XG4iXX0=\n","'use strict';\n\nexports.__esModule = true;\n\nvar _utils = require('../utils');\n\nexports['default'] = function (instance) {\n  instance.registerHelper('blockHelperMissing', function (context, options) {\n    var inverse = options.inverse,\n        fn = options.fn;\n\n    if (context === true) {\n      return fn(this);\n    } else if (context === false || context == null) {\n      return inverse(this);\n    } else if (_utils.isArray(context)) {\n      if (context.length > 0) {\n        if (options.ids) {\n          options.ids = [options.name];\n        }\n\n        return instance.helpers.each(context, options);\n      } else {\n        return inverse(this);\n      }\n    } else {\n      if (options.data && options.ids) {\n        var data = _utils.createFrame(options.data);\n        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.name);\n        options = { data: data };\n      }\n\n      return fn(context, options);\n    }\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvYmxvY2staGVscGVyLW1pc3NpbmcuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztxQkFBc0QsVUFBVTs7cUJBRWpELFVBQVMsUUFBUSxFQUFFO0FBQ2hDLFVBQVEsQ0FBQyxjQUFjLENBQUMsb0JBQW9CLEVBQUUsVUFBUyxPQUFPLEVBQUUsT0FBTyxFQUFFO0FBQ3ZFLFFBQUksT0FBTyxHQUFHLE9BQU8sQ0FBQyxPQUFPO1FBQ3pCLEVBQUUsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDOztBQUVwQixRQUFJLE9BQU8sS0FBSyxJQUFJLEVBQUU7QUFDcEIsYUFBTyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDakIsTUFBTSxJQUFJLE9BQU8sS0FBSyxLQUFLLElBQUksT0FBTyxJQUFJLElBQUksRUFBRTtBQUMvQyxhQUFPLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUN0QixNQUFNLElBQUksZUFBUSxPQUFPLENBQUMsRUFBRTtBQUMzQixVQUFJLE9BQU8sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO0FBQ3RCLFlBQUksT0FBTyxDQUFDLEdBQUcsRUFBRTtBQUNmLGlCQUFPLENBQUMsR0FBRyxHQUFHLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQzlCOztBQUVELGVBQU8sUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO09BQ2hELE1BQU07QUFDTCxlQUFPLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztPQUN0QjtLQUNGLE1BQU07QUFDTCxVQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLEdBQUcsRUFBRTtBQUMvQixZQUFJLElBQUksR0FBRyxtQkFBWSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDckMsWUFBSSxDQUFDLFdBQVcsR0FBRyx5QkFBa0IsT0FBTyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQzdFLGVBQU8sR0FBRyxFQUFDLElBQUksRUFBRSxJQUFJLEVBQUMsQ0FBQztPQUN4Qjs7QUFFRCxhQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUM7S0FDN0I7R0FDRixDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiJibG9jay1oZWxwZXItbWlzc2luZy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7YXBwZW5kQ29udGV4dFBhdGgsIGNyZWF0ZUZyYW1lLCBpc0FycmF5fSBmcm9tICcuLi91dGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gIGluc3RhbmNlLnJlZ2lzdGVySGVscGVyKCdibG9ja0hlbHBlck1pc3NpbmcnLCBmdW5jdGlvbihjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgbGV0IGludmVyc2UgPSBvcHRpb25zLmludmVyc2UsXG4gICAgICAgIGZuID0gb3B0aW9ucy5mbjtcblxuICAgIGlmIChjb250ZXh0ID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gZm4odGhpcyk7XG4gICAgfSBlbHNlIGlmIChjb250ZXh0ID09PSBmYWxzZSB8fCBjb250ZXh0ID09IG51bGwpIHtcbiAgICAgIHJldHVybiBpbnZlcnNlKHRoaXMpO1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShjb250ZXh0KSkge1xuICAgICAgaWYgKGNvbnRleHQubGVuZ3RoID4gMCkge1xuICAgICAgICBpZiAob3B0aW9ucy5pZHMpIHtcbiAgICAgICAgICBvcHRpb25zLmlkcyA9IFtvcHRpb25zLm5hbWVdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluc3RhbmNlLmhlbHBlcnMuZWFjaChjb250ZXh0LCBvcHRpb25zKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBpbnZlcnNlKHRoaXMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAob3B0aW9ucy5kYXRhICYmIG9wdGlvbnMuaWRzKSB7XG4gICAgICAgIGxldCBkYXRhID0gY3JlYXRlRnJhbWUob3B0aW9ucy5kYXRhKTtcbiAgICAgICAgZGF0YS5jb250ZXh0UGF0aCA9IGFwcGVuZENvbnRleHRQYXRoKG9wdGlvbnMuZGF0YS5jb250ZXh0UGF0aCwgb3B0aW9ucy5uYW1lKTtcbiAgICAgICAgb3B0aW9ucyA9IHtkYXRhOiBkYXRhfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZuKGNvbnRleHQsIG9wdGlvbnMpO1xuICAgIH1cbiAgfSk7XG59XG4iXX0=\n","'use strict';\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _utils = require('../utils');\n\nvar _exception = require('../exception');\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nexports['default'] = function (instance) {\n  instance.registerHelper('each', function (context, options) {\n    if (!options) {\n      throw new _exception2['default']('Must pass iterator to #each');\n    }\n\n    var fn = options.fn,\n        inverse = options.inverse,\n        i = 0,\n        ret = '',\n        data = undefined,\n        contextPath = undefined;\n\n    if (options.data && options.ids) {\n      contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]) + '.';\n    }\n\n    if (_utils.isFunction(context)) {\n      context = context.call(this);\n    }\n\n    if (options.data) {\n      data = _utils.createFrame(options.data);\n    }\n\n    function execIteration(field, index, last) {\n      if (data) {\n        data.key = field;\n        data.index = index;\n        data.first = index === 0;\n        data.last = !!last;\n\n        if (contextPath) {\n          data.contextPath = contextPath + field;\n        }\n      }\n\n      ret = ret + fn(context[field], {\n        data: data,\n        blockParams: _utils.blockParams([context[field], field], [contextPath + field, null])\n      });\n    }\n\n    if (context && typeof context === 'object') {\n      if (_utils.isArray(context)) {\n        for (var j = context.length; i < j; i++) {\n          if (i in context) {\n            execIteration(i, i, i === context.length - 1);\n          }\n        }\n      } else if (global.Symbol && context[global.Symbol.iterator]) {\n        var newContext = [];\n        var iterator = context[global.Symbol.iterator]();\n        for (var it = iterator.next(); !it.done; it = iterator.next()) {\n          newContext.push(it.value);\n        }\n        context = newContext;\n        for (var j = context.length; i < j; i++) {\n          execIteration(i, i, i === context.length - 1);\n        }\n      } else {\n        (function () {\n          var priorKey = undefined;\n\n          Object.keys(context).forEach(function (key) {\n            // We're running the iterations one step out of sync so we can detect\n            // the last iteration without have to scan the object twice and create\n            // an itermediate keys array.\n            if (priorKey !== undefined) {\n              execIteration(priorKey, i - 1);\n            }\n            priorKey = key;\n            i++;\n          });\n          if (priorKey !== undefined) {\n            execIteration(priorKey, i - 1, true);\n          }\n        })();\n      }\n    }\n\n    if (i === 0) {\n      ret = inverse(this);\n    }\n\n    return ret;\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvZWFjaC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O3FCQUErRSxVQUFVOzt5QkFDbkUsY0FBYzs7OztxQkFFckIsVUFBUyxRQUFRLEVBQUU7QUFDaEMsVUFBUSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEVBQUUsVUFBUyxPQUFPLEVBQUUsT0FBTyxFQUFFO0FBQ3pELFFBQUksQ0FBQyxPQUFPLEVBQUU7QUFDWixZQUFNLDJCQUFjLDZCQUE2QixDQUFDLENBQUM7S0FDcEQ7O0FBRUQsUUFBSSxFQUFFLEdBQUcsT0FBTyxDQUFDLEVBQUU7UUFDZixPQUFPLEdBQUcsT0FBTyxDQUFDLE9BQU87UUFDekIsQ0FBQyxHQUFHLENBQUM7UUFDTCxHQUFHLEdBQUcsRUFBRTtRQUNSLElBQUksWUFBQTtRQUNKLFdBQVcsWUFBQSxDQUFDOztBQUVoQixRQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLEdBQUcsRUFBRTtBQUMvQixpQkFBVyxHQUFHLHlCQUFrQixPQUFPLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO0tBQ2pGOztBQUVELFFBQUksa0JBQVcsT0FBTyxDQUFDLEVBQUU7QUFBRSxhQUFPLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUFFOztBQUUxRCxRQUFJLE9BQU8sQ0FBQyxJQUFJLEVBQUU7QUFDaEIsVUFBSSxHQUFHLG1CQUFZLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUNsQzs7QUFFRCxhQUFTLGFBQWEsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRTtBQUN6QyxVQUFJLElBQUksRUFBRTtBQUNSLFlBQUksQ0FBQyxHQUFHLEdBQUcsS0FBSyxDQUFDO0FBQ2pCLFlBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0FBQ25CLFlBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxLQUFLLENBQUMsQ0FBQztBQUN6QixZQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUM7O0FBRW5CLFlBQUksV0FBVyxFQUFFO0FBQ2YsY0FBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLEdBQUcsS0FBSyxDQUFDO1NBQ3hDO09BQ0Y7O0FBRUQsU0FBRyxHQUFHLEdBQUcsR0FBRyxFQUFFLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFO0FBQzdCLFlBQUksRUFBRSxJQUFJO0FBQ1YsbUJBQVcsRUFBRSxtQkFBWSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRSxLQUFLLENBQUMsRUFBRSxDQUFDLFdBQVcsR0FBRyxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7T0FDL0UsQ0FBQyxDQUFDO0tBQ0o7O0FBRUQsUUFBSSxPQUFPLElBQUksT0FBTyxPQUFPLEtBQUssUUFBUSxFQUFFO0FBQzFDLFVBQUksZUFBUSxPQUFPLENBQUMsRUFBRTtBQUNwQixhQUFLLElBQUksQ0FBQyxHQUFHLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUN2QyxjQUFJLENBQUMsSUFBSSxPQUFPLEVBQUU7QUFDaEIseUJBQWEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsS0FBSyxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDO1dBQy9DO1NBQ0Y7T0FDRixNQUFNLElBQUksTUFBTSxDQUFDLE1BQU0sSUFBSSxPQUFPLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsRUFBRTtBQUMzRCxZQUFNLFVBQVUsR0FBRyxFQUFFLENBQUM7QUFDdEIsWUFBTSxRQUFRLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQztBQUNuRCxhQUFLLElBQUksRUFBRSxHQUFHLFFBQVEsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxHQUFHLFFBQVEsQ0FBQyxJQUFJLEVBQUUsRUFBRTtBQUM3RCxvQkFBVSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDM0I7QUFDRCxlQUFPLEdBQUcsVUFBVSxDQUFDO0FBQ3JCLGFBQUssSUFBSSxDQUFDLEdBQUcsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQ3ZDLHVCQUFhLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEtBQUssT0FBTyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztTQUMvQztPQUNGLE1BQU07O0FBQ0wsY0FBSSxRQUFRLFlBQUEsQ0FBQzs7QUFFYixnQkFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBQSxHQUFHLEVBQUk7Ozs7QUFJbEMsZ0JBQUksUUFBUSxLQUFLLFNBQVMsRUFBRTtBQUMxQiwyQkFBYSxDQUFDLFFBQVEsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7YUFDaEM7QUFDRCxvQkFBUSxHQUFHLEdBQUcsQ0FBQztBQUNmLGFBQUMsRUFBRSxDQUFDO1dBQ0wsQ0FBQyxDQUFDO0FBQ0gsY0FBSSxRQUFRLEtBQUssU0FBUyxFQUFFO0FBQzFCLHlCQUFhLENBQUMsUUFBUSxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7V0FDdEM7O09BQ0Y7S0FDRjs7QUFFRCxRQUFJLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDWCxTQUFHLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ3JCOztBQUVELFdBQU8sR0FBRyxDQUFDO0dBQ1osQ0FBQyxDQUFDO0NBQ0oiLCJmaWxlIjoiZWFjaC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7YXBwZW5kQ29udGV4dFBhdGgsIGJsb2NrUGFyYW1zLCBjcmVhdGVGcmFtZSwgaXNBcnJheSwgaXNGdW5jdGlvbn0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IEV4Y2VwdGlvbiBmcm9tICcuLi9leGNlcHRpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihpbnN0YW5jZSkge1xuICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcignZWFjaCcsIGZ1bmN0aW9uKGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ011c3QgcGFzcyBpdGVyYXRvciB0byAjZWFjaCcpO1xuICAgIH1cblxuICAgIGxldCBmbiA9IG9wdGlvbnMuZm4sXG4gICAgICAgIGludmVyc2UgPSBvcHRpb25zLmludmVyc2UsXG4gICAgICAgIGkgPSAwLFxuICAgICAgICByZXQgPSAnJyxcbiAgICAgICAgZGF0YSxcbiAgICAgICAgY29udGV4dFBhdGg7XG5cbiAgICBpZiAob3B0aW9ucy5kYXRhICYmIG9wdGlvbnMuaWRzKSB7XG4gICAgICBjb250ZXh0UGF0aCA9IGFwcGVuZENvbnRleHRQYXRoKG9wdGlvbnMuZGF0YS5jb250ZXh0UGF0aCwgb3B0aW9ucy5pZHNbMF0pICsgJy4nO1xuICAgIH1cblxuICAgIGlmIChpc0Z1bmN0aW9uKGNvbnRleHQpKSB7IGNvbnRleHQgPSBjb250ZXh0LmNhbGwodGhpcyk7IH1cblxuICAgIGlmIChvcHRpb25zLmRhdGEpIHtcbiAgICAgIGRhdGEgPSBjcmVhdGVGcmFtZShvcHRpb25zLmRhdGEpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGV4ZWNJdGVyYXRpb24oZmllbGQsIGluZGV4LCBsYXN0KSB7XG4gICAgICBpZiAoZGF0YSkge1xuICAgICAgICBkYXRhLmtleSA9IGZpZWxkO1xuICAgICAgICBkYXRhLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIGRhdGEuZmlyc3QgPSBpbmRleCA9PT0gMDtcbiAgICAgICAgZGF0YS5sYXN0ID0gISFsYXN0O1xuXG4gICAgICAgIGlmIChjb250ZXh0UGF0aCkge1xuICAgICAgICAgIGRhdGEuY29udGV4dFBhdGggPSBjb250ZXh0UGF0aCArIGZpZWxkO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldCA9IHJldCArIGZuKGNvbnRleHRbZmllbGRdLCB7XG4gICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgIGJsb2NrUGFyYW1zOiBibG9ja1BhcmFtcyhbY29udGV4dFtmaWVsZF0sIGZpZWxkXSwgW2NvbnRleHRQYXRoICsgZmllbGQsIG51bGxdKVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGNvbnRleHQgJiYgdHlwZW9mIGNvbnRleHQgPT09ICdvYmplY3QnKSB7XG4gICAgICBpZiAoaXNBcnJheShjb250ZXh0KSkge1xuICAgICAgICBmb3IgKGxldCBqID0gY29udGV4dC5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICBpZiAoaSBpbiBjb250ZXh0KSB7XG4gICAgICAgICAgICBleGVjSXRlcmF0aW9uKGksIGksIGkgPT09IGNvbnRleHQubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGdsb2JhbC5TeW1ib2wgJiYgY29udGV4dFtnbG9iYWwuU3ltYm9sLml0ZXJhdG9yXSkge1xuICAgICAgICBjb25zdCBuZXdDb250ZXh0ID0gW107XG4gICAgICAgIGNvbnN0IGl0ZXJhdG9yID0gY29udGV4dFtnbG9iYWwuU3ltYm9sLml0ZXJhdG9yXSgpO1xuICAgICAgICBmb3IgKGxldCBpdCA9IGl0ZXJhdG9yLm5leHQoKTsgIWl0LmRvbmU7IGl0ID0gaXRlcmF0b3IubmV4dCgpKSB7XG4gICAgICAgICAgbmV3Q29udGV4dC5wdXNoKGl0LnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0ID0gbmV3Q29udGV4dDtcbiAgICAgICAgZm9yIChsZXQgaiA9IGNvbnRleHQubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgICAgZXhlY0l0ZXJhdGlvbihpLCBpLCBpID09PSBjb250ZXh0Lmxlbmd0aCAtIDEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgcHJpb3JLZXk7XG5cbiAgICAgICAgT2JqZWN0LmtleXMoY29udGV4dCkuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgIC8vIFdlJ3JlIHJ1bm5pbmcgdGhlIGl0ZXJhdGlvbnMgb25lIHN0ZXAgb3V0IG9mIHN5bmMgc28gd2UgY2FuIGRldGVjdFxuICAgICAgICAgIC8vIHRoZSBsYXN0IGl0ZXJhdGlvbiB3aXRob3V0IGhhdmUgdG8gc2NhbiB0aGUgb2JqZWN0IHR3aWNlIGFuZCBjcmVhdGVcbiAgICAgICAgICAvLyBhbiBpdGVybWVkaWF0ZSBrZXlzIGFycmF5LlxuICAgICAgICAgIGlmIChwcmlvcktleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBleGVjSXRlcmF0aW9uKHByaW9yS2V5LCBpIC0gMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHByaW9yS2V5ID0ga2V5O1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChwcmlvcktleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgZXhlY0l0ZXJhdGlvbihwcmlvcktleSwgaSAtIDEsIHRydWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGkgPT09IDApIHtcbiAgICAgIHJldCA9IGludmVyc2UodGhpcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJldDtcbiAgfSk7XG59XG4iXX0=\n","'use strict';\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _exception = require('../exception');\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nexports['default'] = function (instance) {\n  instance.registerHelper('helperMissing', function () /* [args, ]options */{\n    if (arguments.length === 1) {\n      // A missing field in a {{foo}} construct.\n      return undefined;\n    } else {\n      // Someone is actually trying to call something, blow up.\n      throw new _exception2['default']('Missing helper: \"' + arguments[arguments.length - 1].name + '\"');\n    }\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvaGVscGVyLW1pc3NpbmcuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozt5QkFBc0IsY0FBYzs7OztxQkFFckIsVUFBUyxRQUFRLEVBQUU7QUFDaEMsVUFBUSxDQUFDLGNBQWMsQ0FBQyxlQUFlLEVBQUUsaUNBQWdDO0FBQ3ZFLFFBQUksU0FBUyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7O0FBRTFCLGFBQU8sU0FBUyxDQUFDO0tBQ2xCLE1BQU07O0FBRUwsWUFBTSwyQkFBYyxtQkFBbUIsR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUM7S0FDdkY7R0FDRixDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiJoZWxwZXItbWlzc2luZy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBFeGNlcHRpb24gZnJvbSAnLi4vZXhjZXB0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2hlbHBlck1pc3NpbmcnLCBmdW5jdGlvbigvKiBbYXJncywgXW9wdGlvbnMgKi8pIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgLy8gQSBtaXNzaW5nIGZpZWxkIGluIGEge3tmb299fSBjb25zdHJ1Y3QuXG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTb21lb25lIGlzIGFjdHVhbGx5IHRyeWluZyB0byBjYWxsIHNvbWV0aGluZywgYmxvdyB1cC5cbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ01pc3NpbmcgaGVscGVyOiBcIicgKyBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdLm5hbWUgKyAnXCInKTtcbiAgICB9XG4gIH0pO1xufVxuIl19\n","'use strict';\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _utils = require('../utils');\n\nvar _exception = require('../exception');\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nexports['default'] = function (instance) {\n  instance.registerHelper('if', function (conditional, options) {\n    if (arguments.length != 2) {\n      throw new _exception2['default']('#if requires exactly one argument');\n    }\n    if (_utils.isFunction(conditional)) {\n      conditional = conditional.call(this);\n    }\n\n    // Default behavior is to render the positive path if the value is truthy and not empty.\n    // The `includeZero` option may be set to treat the condtional as purely not empty based on the\n    // behavior of isEmpty. Effectively this determines if 0 is handled by the positive path or negative.\n    if (!options.hash.includeZero && !conditional || _utils.isEmpty(conditional)) {\n      return options.inverse(this);\n    } else {\n      return options.fn(this);\n    }\n  });\n\n  instance.registerHelper('unless', function (conditional, options) {\n    if (arguments.length != 2) {\n      throw new _exception2['default']('#unless requires exactly one argument');\n    }\n    return instance.helpers['if'].call(this, conditional, { fn: options.inverse, inverse: options.fn, hash: options.hash });\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvaWYuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztxQkFBb0MsVUFBVTs7eUJBQ3hCLGNBQWM7Ozs7cUJBRXJCLFVBQVMsUUFBUSxFQUFFO0FBQ2hDLFVBQVEsQ0FBQyxjQUFjLENBQUMsSUFBSSxFQUFFLFVBQVMsV0FBVyxFQUFFLE9BQU8sRUFBRTtBQUMzRCxRQUFJLFNBQVMsQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUFFO0FBQUUsWUFBTSwyQkFBYyxtQ0FBbUMsQ0FBQyxDQUFDO0tBQUM7QUFDdkYsUUFBSSxrQkFBVyxXQUFXLENBQUMsRUFBRTtBQUFFLGlCQUFXLEdBQUcsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUFFOzs7OztBQUt0RSxRQUFJLEFBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFdBQVcsSUFBSSxDQUFDLFdBQVcsSUFBSyxlQUFRLFdBQVcsQ0FBQyxFQUFFO0FBQ3ZFLGFBQU8sT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUM5QixNQUFNO0FBQ0wsYUFBTyxPQUFPLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ3pCO0dBQ0YsQ0FBQyxDQUFDOztBQUVILFVBQVEsQ0FBQyxjQUFjLENBQUMsUUFBUSxFQUFFLFVBQVMsV0FBVyxFQUFFLE9BQU8sRUFBRTtBQUMvRCxRQUFJLFNBQVMsQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUFFO0FBQUUsWUFBTSwyQkFBYyx1Q0FBdUMsQ0FBQyxDQUFDO0tBQUM7QUFDM0YsV0FBTyxRQUFRLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsV0FBVyxFQUFFLEVBQUMsRUFBRSxFQUFFLE9BQU8sQ0FBQyxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFLE9BQU8sQ0FBQyxJQUFJLEVBQUMsQ0FBQyxDQUFDO0dBQ3ZILENBQUMsQ0FBQztDQUNKIiwiZmlsZSI6ImlmLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNFbXB0eSwgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCBFeGNlcHRpb24gZnJvbSAnLi4vZXhjZXB0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2lmJywgZnVuY3Rpb24oY29uZGl0aW9uYWwsIG9wdGlvbnMpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCAhPSAyKSB7IHRocm93IG5ldyBFeGNlcHRpb24oJyNpZiByZXF1aXJlcyBleGFjdGx5IG9uZSBhcmd1bWVudCcpO31cbiAgICBpZiAoaXNGdW5jdGlvbihjb25kaXRpb25hbCkpIHsgY29uZGl0aW9uYWwgPSBjb25kaXRpb25hbC5jYWxsKHRoaXMpOyB9XG5cbiAgICAvLyBEZWZhdWx0IGJlaGF2aW9yIGlzIHRvIHJlbmRlciB0aGUgcG9zaXRpdmUgcGF0aCBpZiB0aGUgdmFsdWUgaXMgdHJ1dGh5IGFuZCBub3QgZW1wdHkuXG4gICAgLy8gVGhlIGBpbmNsdWRlWmVyb2Agb3B0aW9uIG1heSBiZSBzZXQgdG8gdHJlYXQgdGhlIGNvbmR0aW9uYWwgYXMgcHVyZWx5IG5vdCBlbXB0eSBiYXNlZCBvbiB0aGVcbiAgICAvLyBiZWhhdmlvciBvZiBpc0VtcHR5LiBFZmZlY3RpdmVseSB0aGlzIGRldGVybWluZXMgaWYgMCBpcyBoYW5kbGVkIGJ5IHRoZSBwb3NpdGl2ZSBwYXRoIG9yIG5lZ2F0aXZlLlxuICAgIGlmICgoIW9wdGlvbnMuaGFzaC5pbmNsdWRlWmVybyAmJiAhY29uZGl0aW9uYWwpIHx8IGlzRW1wdHkoY29uZGl0aW9uYWwpKSB7XG4gICAgICByZXR1cm4gb3B0aW9ucy5pbnZlcnNlKHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gb3B0aW9ucy5mbih0aGlzKTtcbiAgICB9XG4gIH0pO1xuXG4gIGluc3RhbmNlLnJlZ2lzdGVySGVscGVyKCd1bmxlc3MnLCBmdW5jdGlvbihjb25kaXRpb25hbCwgb3B0aW9ucykge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoICE9IDIpIHsgdGhyb3cgbmV3IEV4Y2VwdGlvbignI3VubGVzcyByZXF1aXJlcyBleGFjdGx5IG9uZSBhcmd1bWVudCcpO31cbiAgICByZXR1cm4gaW5zdGFuY2UuaGVscGVyc1snaWYnXS5jYWxsKHRoaXMsIGNvbmRpdGlvbmFsLCB7Zm46IG9wdGlvbnMuaW52ZXJzZSwgaW52ZXJzZTogb3B0aW9ucy5mbiwgaGFzaDogb3B0aW9ucy5oYXNofSk7XG4gIH0pO1xufVxuIl19\n","'use strict';\n\nexports.__esModule = true;\n\nexports['default'] = function (instance) {\n  instance.registerHelper('log', function () /* message, options */{\n    var args = [undefined],\n        options = arguments[arguments.length - 1];\n    for (var i = 0; i < arguments.length - 1; i++) {\n      args.push(arguments[i]);\n    }\n\n    var level = 1;\n    if (options.hash.level != null) {\n      level = options.hash.level;\n    } else if (options.data && options.data.level != null) {\n      level = options.data.level;\n    }\n    args[0] = level;\n\n    instance.log.apply(instance, args);\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvbG9nLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7cUJBQWUsVUFBUyxRQUFRLEVBQUU7QUFDaEMsVUFBUSxDQUFDLGNBQWMsQ0FBQyxLQUFLLEVBQUUsa0NBQWlDO0FBQzlELFFBQUksSUFBSSxHQUFHLENBQUMsU0FBUyxDQUFDO1FBQ2xCLE9BQU8sR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztBQUM5QyxTQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDN0MsVUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUN6Qjs7QUFFRCxRQUFJLEtBQUssR0FBRyxDQUFDLENBQUM7QUFDZCxRQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxJQUFJLElBQUksRUFBRTtBQUM5QixXQUFLLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7S0FDNUIsTUFBTSxJQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSSxFQUFFO0FBQ3JELFdBQUssR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztLQUM1QjtBQUNELFFBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUM7O0FBRWhCLFlBQVEsQ0FBQyxHQUFHLE1BQUEsQ0FBWixRQUFRLEVBQVMsSUFBSSxDQUFDLENBQUM7R0FDeEIsQ0FBQyxDQUFDO0NBQ0oiLCJmaWxlIjoibG9nLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2xvZycsIGZ1bmN0aW9uKC8qIG1lc3NhZ2UsIG9wdGlvbnMgKi8pIHtcbiAgICBsZXQgYXJncyA9IFt1bmRlZmluZWRdLFxuICAgICAgICBvcHRpb25zID0gYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgIGFyZ3MucHVzaChhcmd1bWVudHNbaV0pO1xuICAgIH1cblxuICAgIGxldCBsZXZlbCA9IDE7XG4gICAgaWYgKG9wdGlvbnMuaGFzaC5sZXZlbCAhPSBudWxsKSB7XG4gICAgICBsZXZlbCA9IG9wdGlvbnMuaGFzaC5sZXZlbDtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMuZGF0YSAmJiBvcHRpb25zLmRhdGEubGV2ZWwgIT0gbnVsbCkge1xuICAgICAgbGV2ZWwgPSBvcHRpb25zLmRhdGEubGV2ZWw7XG4gICAgfVxuICAgIGFyZ3NbMF0gPSBsZXZlbDtcblxuICAgIGluc3RhbmNlLmxvZyguLi4gYXJncyk7XG4gIH0pO1xufVxuIl19\n","'use strict';\n\nexports.__esModule = true;\nvar dangerousPropertyRegex = /^(constructor|__defineGetter__|__defineSetter__|__lookupGetter__|__proto__)$/;\n\nexports.dangerousPropertyRegex = dangerousPropertyRegex;\n\nexports['default'] = function (instance) {\n  instance.registerHelper('lookup', function (obj, field) {\n    if (!obj) {\n      return obj;\n    }\n    if (dangerousPropertyRegex.test(String(field)) && !Object.prototype.propertyIsEnumerable.call(obj, field)) {\n      return undefined;\n    }\n    return obj[field];\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvbG9va3VwLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFPLElBQU0sc0JBQXNCLEdBQUcsOEVBQThFLENBQUM7Ozs7cUJBRXRHLFVBQVMsUUFBUSxFQUFFO0FBQ2hDLFVBQVEsQ0FBQyxjQUFjLENBQUMsUUFBUSxFQUFFLFVBQVMsR0FBRyxFQUFFLEtBQUssRUFBRTtBQUNyRCxRQUFJLENBQUMsR0FBRyxFQUFFO0FBQ1IsYUFBTyxHQUFHLENBQUM7S0FDWjtBQUNELFFBQUksc0JBQXNCLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxFQUFFO0FBQ3pHLGFBQU8sU0FBUyxDQUFDO0tBQ2xCO0FBQ0QsV0FBTyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7R0FDbkIsQ0FBQyxDQUFDO0NBQ0oiLCJmaWxlIjoibG9va3VwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGRhbmdlcm91c1Byb3BlcnR5UmVnZXggPSAvXihjb25zdHJ1Y3RvcnxfX2RlZmluZUdldHRlcl9ffF9fZGVmaW5lU2V0dGVyX198X19sb29rdXBHZXR0ZXJfX3xfX3Byb3RvX18pJC87XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gIGluc3RhbmNlLnJlZ2lzdGVySGVscGVyKCdsb29rdXAnLCBmdW5jdGlvbihvYmosIGZpZWxkKSB7XG4gICAgaWYgKCFvYmopIHtcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIGlmIChkYW5nZXJvdXNQcm9wZXJ0eVJlZ2V4LnRlc3QoU3RyaW5nKGZpZWxkKSkgJiYgIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChvYmosIGZpZWxkKSkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIG9ialtmaWVsZF07XG4gIH0pO1xufVxuIl19\n","'use strict';\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _utils = require('../utils');\n\nvar _exception = require('../exception');\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nexports['default'] = function (instance) {\n  instance.registerHelper('with', function (context, options) {\n    if (arguments.length != 2) {\n      throw new _exception2['default']('#with requires exactly one argument');\n    }\n    if (_utils.isFunction(context)) {\n      context = context.call(this);\n    }\n\n    var fn = options.fn;\n\n    if (!_utils.isEmpty(context)) {\n      var data = options.data;\n      if (options.data && options.ids) {\n        data = _utils.createFrame(options.data);\n        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]);\n      }\n\n      return fn(context, {\n        data: data,\n        blockParams: _utils.blockParams([context], [data && data.contextPath])\n      });\n    } else {\n      return options.inverse(this);\n    }\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvd2l0aC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O3FCQUFpRixVQUFVOzt5QkFDckUsY0FBYzs7OztxQkFFckIsVUFBUyxRQUFRLEVBQUU7QUFDaEMsVUFBUSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEVBQUUsVUFBUyxPQUFPLEVBQUUsT0FBTyxFQUFFO0FBQ3pELFFBQUksU0FBUyxDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQUU7QUFBRSxZQUFNLDJCQUFjLHFDQUFxQyxDQUFDLENBQUM7S0FBQztBQUN6RixRQUFJLGtCQUFXLE9BQU8sQ0FBQyxFQUFFO0FBQUUsYUFBTyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7S0FBRTs7QUFFMUQsUUFBSSxFQUFFLEdBQUcsT0FBTyxDQUFDLEVBQUUsQ0FBQzs7QUFFcEIsUUFBSSxDQUFDLGVBQVEsT0FBTyxDQUFDLEVBQUU7QUFDckIsVUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQztBQUN4QixVQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLEdBQUcsRUFBRTtBQUMvQixZQUFJLEdBQUcsbUJBQVksT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ2pDLFlBQUksQ0FBQyxXQUFXLEdBQUcseUJBQWtCLE9BQU8sQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztPQUNoRjs7QUFFRCxhQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUU7QUFDakIsWUFBSSxFQUFFLElBQUk7QUFDVixtQkFBVyxFQUFFLG1CQUFZLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO09BQ2hFLENBQUMsQ0FBQztLQUNKLE1BQU07QUFDTCxhQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDOUI7R0FDRixDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiJ3aXRoLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXBwZW5kQ29udGV4dFBhdGgsIGJsb2NrUGFyYW1zLCBjcmVhdGVGcmFtZSwgaXNFbXB0eSwgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCBFeGNlcHRpb24gZnJvbSAnLi4vZXhjZXB0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ3dpdGgnLCBmdW5jdGlvbihjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggIT0gMikgeyB0aHJvdyBuZXcgRXhjZXB0aW9uKCcjd2l0aCByZXF1aXJlcyBleGFjdGx5IG9uZSBhcmd1bWVudCcpO31cbiAgICBpZiAoaXNGdW5jdGlvbihjb250ZXh0KSkgeyBjb250ZXh0ID0gY29udGV4dC5jYWxsKHRoaXMpOyB9XG5cbiAgICBsZXQgZm4gPSBvcHRpb25zLmZuO1xuXG4gICAgaWYgKCFpc0VtcHR5KGNvbnRleHQpKSB7XG4gICAgICBsZXQgZGF0YSA9IG9wdGlvbnMuZGF0YTtcbiAgICAgIGlmIChvcHRpb25zLmRhdGEgJiYgb3B0aW9ucy5pZHMpIHtcbiAgICAgICAgZGF0YSA9IGNyZWF0ZUZyYW1lKG9wdGlvbnMuZGF0YSk7XG4gICAgICAgIGRhdGEuY29udGV4dFBhdGggPSBhcHBlbmRDb250ZXh0UGF0aChvcHRpb25zLmRhdGEuY29udGV4dFBhdGgsIG9wdGlvbnMuaWRzWzBdKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZuKGNvbnRleHQsIHtcbiAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgYmxvY2tQYXJhbXM6IGJsb2NrUGFyYW1zKFtjb250ZXh0XSwgW2RhdGEgJiYgZGF0YS5jb250ZXh0UGF0aF0pXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG9wdGlvbnMuaW52ZXJzZSh0aGlzKTtcbiAgICB9XG4gIH0pO1xufVxuIl19\n","'use strict';\n\nexports.__esModule = true;\nexports.registerDefaultDecorators = registerDefaultDecorators;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _decoratorsInline = require('./decorators/inline');\n\nvar _decoratorsInline2 = _interopRequireDefault(_decoratorsInline);\n\nfunction registerDefaultDecorators(instance) {\n  _decoratorsInline2['default'](instance);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2RlY29yYXRvcnMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Z0NBQTJCLHFCQUFxQjs7OztBQUV6QyxTQUFTLHlCQUF5QixDQUFDLFFBQVEsRUFBRTtBQUNsRCxnQ0FBZSxRQUFRLENBQUMsQ0FBQztDQUMxQiIsImZpbGUiOiJkZWNvcmF0b3JzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJlZ2lzdGVySW5saW5lIGZyb20gJy4vZGVjb3JhdG9ycy9pbmxpbmUnO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJEZWZhdWx0RGVjb3JhdG9ycyhpbnN0YW5jZSkge1xuICByZWdpc3RlcklubGluZShpbnN0YW5jZSk7XG59XG5cbiJdfQ==\n","'use strict';\n\nexports.__esModule = true;\n\nvar _utils = require('../utils');\n\nexports['default'] = function (instance) {\n  instance.registerDecorator('inline', function (fn, props, container, options) {\n    var ret = fn;\n    if (!props.partials) {\n      props.partials = {};\n      ret = function (context, options) {\n        // Create a new partials stack frame prior to exec.\n        var original = container.partials;\n        container.partials = _utils.extend({}, original, props.partials);\n        var ret = fn(context, options);\n        container.partials = original;\n        return ret;\n      };\n    }\n\n    props.partials[options.args[0]] = options.fn;\n\n    return ret;\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2RlY29yYXRvcnMvaW5saW5lLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7cUJBQXFCLFVBQVU7O3FCQUVoQixVQUFTLFFBQVEsRUFBRTtBQUNoQyxVQUFRLENBQUMsaUJBQWlCLENBQUMsUUFBUSxFQUFFLFVBQVMsRUFBRSxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFO0FBQzNFLFFBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQztBQUNiLFFBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFO0FBQ25CLFdBQUssQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO0FBQ3BCLFNBQUcsR0FBRyxVQUFTLE9BQU8sRUFBRSxPQUFPLEVBQUU7O0FBRS9CLFlBQUksUUFBUSxHQUFHLFNBQVMsQ0FBQyxRQUFRLENBQUM7QUFDbEMsaUJBQVMsQ0FBQyxRQUFRLEdBQUcsY0FBTyxFQUFFLEVBQUUsUUFBUSxFQUFFLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUMxRCxZQUFJLEdBQUcsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQy9CLGlCQUFTLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztBQUM5QixlQUFPLEdBQUcsQ0FBQztPQUNaLENBQUM7S0FDSDs7QUFFRCxTQUFLLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDOztBQUU3QyxXQUFPLEdBQUcsQ0FBQztHQUNaLENBQUMsQ0FBQztDQUNKIiwiZmlsZSI6ImlubGluZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7ZXh0ZW5kfSBmcm9tICcuLi91dGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gIGluc3RhbmNlLnJlZ2lzdGVyRGVjb3JhdG9yKCdpbmxpbmUnLCBmdW5jdGlvbihmbiwgcHJvcHMsIGNvbnRhaW5lciwgb3B0aW9ucykge1xuICAgIGxldCByZXQgPSBmbjtcbiAgICBpZiAoIXByb3BzLnBhcnRpYWxzKSB7XG4gICAgICBwcm9wcy5wYXJ0aWFscyA9IHt9O1xuICAgICAgcmV0ID0gZnVuY3Rpb24oY29udGV4dCwgb3B0aW9ucykge1xuICAgICAgICAvLyBDcmVhdGUgYSBuZXcgcGFydGlhbHMgc3RhY2sgZnJhbWUgcHJpb3IgdG8gZXhlYy5cbiAgICAgICAgbGV0IG9yaWdpbmFsID0gY29udGFpbmVyLnBhcnRpYWxzO1xuICAgICAgICBjb250YWluZXIucGFydGlhbHMgPSBleHRlbmQoe30sIG9yaWdpbmFsLCBwcm9wcy5wYXJ0aWFscyk7XG4gICAgICAgIGxldCByZXQgPSBmbihjb250ZXh0LCBvcHRpb25zKTtcbiAgICAgICAgY29udGFpbmVyLnBhcnRpYWxzID0gb3JpZ2luYWw7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHByb3BzLnBhcnRpYWxzW29wdGlvbnMuYXJnc1swXV0gPSBvcHRpb25zLmZuO1xuXG4gICAgcmV0dXJuIHJldDtcbiAgfSk7XG59XG4iXX0=\n","'use strict';\n\nexports.__esModule = true;\n\nvar _utils = require('./utils');\n\nvar logger = {\n  methodMap: ['debug', 'info', 'warn', 'error'],\n  level: 'info',\n\n  // Maps a given level value to the `methodMap` indexes above.\n  lookupLevel: function lookupLevel(level) {\n    if (typeof level === 'string') {\n      var levelMap = _utils.indexOf(logger.methodMap, level.toLowerCase());\n      if (levelMap >= 0) {\n        level = levelMap;\n      } else {\n        level = parseInt(level, 10);\n      }\n    }\n\n    return level;\n  },\n\n  // Can be overridden in the host environment\n  log: function log(level) {\n    level = logger.lookupLevel(level);\n\n    if (typeof console !== 'undefined' && logger.lookupLevel(logger.level) <= level) {\n      var method = logger.methodMap[level];\n      if (!console[method]) {\n        // eslint-disable-line no-console\n        method = 'log';\n      }\n\n      for (var _len = arguments.length, message = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        message[_key - 1] = arguments[_key];\n      }\n\n      console[method].apply(console, message); // eslint-disable-line no-console\n    }\n  }\n};\n\nexports['default'] = logger;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2xvZ2dlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O3FCQUFzQixTQUFTOztBQUUvQixJQUFJLE1BQU0sR0FBRztBQUNYLFdBQVMsRUFBRSxDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE9BQU8sQ0FBQztBQUM3QyxPQUFLLEVBQUUsTUFBTTs7O0FBR2IsYUFBVyxFQUFFLHFCQUFTLEtBQUssRUFBRTtBQUMzQixRQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVEsRUFBRTtBQUM3QixVQUFJLFFBQVEsR0FBRyxlQUFRLE1BQU0sQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUM7QUFDOUQsVUFBSSxRQUFRLElBQUksQ0FBQyxFQUFFO0FBQ2pCLGFBQUssR0FBRyxRQUFRLENBQUM7T0FDbEIsTUFBTTtBQUNMLGFBQUssR0FBRyxRQUFRLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxDQUFDO09BQzdCO0tBQ0Y7O0FBRUQsV0FBTyxLQUFLLENBQUM7R0FDZDs7O0FBR0QsS0FBRyxFQUFFLGFBQVMsS0FBSyxFQUFjO0FBQy9CLFNBQUssR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDOztBQUVsQyxRQUFJLE9BQU8sT0FBTyxLQUFLLFdBQVcsSUFBSSxNQUFNLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLEVBQUU7QUFDL0UsVUFBSSxNQUFNLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUNyQyxVQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFFOztBQUNwQixjQUFNLEdBQUcsS0FBSyxDQUFDO09BQ2hCOzt3Q0FQbUIsT0FBTztBQUFQLGVBQU87OztBQVEzQixhQUFPLENBQUMsTUFBTSxPQUFDLENBQWYsT0FBTyxFQUFZLE9BQU8sQ0FBQyxDQUFDO0tBQzdCO0dBQ0Y7Q0FDRixDQUFDOztxQkFFYSxNQUFNIiwiZmlsZSI6ImxvZ2dlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7aW5kZXhPZn0gZnJvbSAnLi91dGlscyc7XG5cbmxldCBsb2dnZXIgPSB7XG4gIG1ldGhvZE1hcDogWydkZWJ1ZycsICdpbmZvJywgJ3dhcm4nLCAnZXJyb3InXSxcbiAgbGV2ZWw6ICdpbmZvJyxcblxuICAvLyBNYXBzIGEgZ2l2ZW4gbGV2ZWwgdmFsdWUgdG8gdGhlIGBtZXRob2RNYXBgIGluZGV4ZXMgYWJvdmUuXG4gIGxvb2t1cExldmVsOiBmdW5jdGlvbihsZXZlbCkge1xuICAgIGlmICh0eXBlb2YgbGV2ZWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICBsZXQgbGV2ZWxNYXAgPSBpbmRleE9mKGxvZ2dlci5tZXRob2RNYXAsIGxldmVsLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgaWYgKGxldmVsTWFwID49IDApIHtcbiAgICAgICAgbGV2ZWwgPSBsZXZlbE1hcDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldmVsID0gcGFyc2VJbnQobGV2ZWwsIDEwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbGV2ZWw7XG4gIH0sXG5cbiAgLy8gQ2FuIGJlIG92ZXJyaWRkZW4gaW4gdGhlIGhvc3QgZW52aXJvbm1lbnRcbiAgbG9nOiBmdW5jdGlvbihsZXZlbCwgLi4ubWVzc2FnZSkge1xuICAgIGxldmVsID0gbG9nZ2VyLmxvb2t1cExldmVsKGxldmVsKTtcblxuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbG9nZ2VyLmxvb2t1cExldmVsKGxvZ2dlci5sZXZlbCkgPD0gbGV2ZWwpIHtcbiAgICAgIGxldCBtZXRob2QgPSBsb2dnZXIubWV0aG9kTWFwW2xldmVsXTtcbiAgICAgIGlmICghY29uc29sZVttZXRob2RdKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgICAgICBtZXRob2QgPSAnbG9nJztcbiAgICAgIH1cbiAgICAgIGNvbnNvbGVbbWV0aG9kXSguLi5tZXNzYWdlKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBsb2dnZXI7XG4iXX0=\n","// Build out our basic SafeString type\n'use strict';\n\nexports.__esModule = true;\nfunction SafeString(string) {\n  this.string = string;\n}\n\nSafeString.prototype.toString = SafeString.prototype.toHTML = function () {\n  return '' + this.string;\n};\n\nexports['default'] = SafeString;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL3NhZmUtc3RyaW5nLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFDQSxTQUFTLFVBQVUsQ0FBQyxNQUFNLEVBQUU7QUFDMUIsTUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7Q0FDdEI7O0FBRUQsVUFBVSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEdBQUcsVUFBVSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsWUFBVztBQUN2RSxTQUFPLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO0NBQ3pCLENBQUM7O3FCQUVhLFVBQVUiLCJmaWxlIjoic2FmZS1zdHJpbmcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBCdWlsZCBvdXQgb3VyIGJhc2ljIFNhZmVTdHJpbmcgdHlwZVxuZnVuY3Rpb24gU2FmZVN0cmluZyhzdHJpbmcpIHtcbiAgdGhpcy5zdHJpbmcgPSBzdHJpbmc7XG59XG5cblNhZmVTdHJpbmcucHJvdG90eXBlLnRvU3RyaW5nID0gU2FmZVN0cmluZy5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAnJyArIHRoaXMuc3RyaW5nO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgU2FmZVN0cmluZztcbiJdfQ==\n","'use strict';\n\nexports.__esModule = true;\nexports.checkRevision = checkRevision;\nexports.template = template;\nexports.wrapProgram = wrapProgram;\nexports.resolvePartial = resolvePartial;\nexports.invokePartial = invokePartial;\nexports.noop = noop;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n// istanbul ignore next\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nvar _utils = require('./utils');\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _exception = require('./exception');\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nvar _base = require('./base');\n\nvar _helpers = require('./helpers');\n\nfunction checkRevision(compilerInfo) {\n  var compilerRevision = compilerInfo && compilerInfo[0] || 1,\n      currentRevision = _base.COMPILER_REVISION;\n\n  if (compilerRevision >= _base.LAST_COMPATIBLE_COMPILER_REVISION && compilerRevision <= _base.COMPILER_REVISION) {\n    return;\n  }\n\n  if (compilerRevision < _base.LAST_COMPATIBLE_COMPILER_REVISION) {\n    var runtimeVersions = _base.REVISION_CHANGES[currentRevision],\n        compilerVersions = _base.REVISION_CHANGES[compilerRevision];\n    throw new _exception2['default']('Template was precompiled with an older version of Handlebars than the current runtime. ' + 'Please update your precompiler to a newer version (' + runtimeVersions + ') or downgrade your runtime to an older version (' + compilerVersions + ').');\n  } else {\n    // Use the embedded version info since the runtime doesn't know about this revision yet\n    throw new _exception2['default']('Template was precompiled with a newer version of Handlebars than the current runtime. ' + 'Please update your runtime to a newer version (' + compilerInfo[1] + ').');\n  }\n}\n\nfunction template(templateSpec, env) {\n\n  /* istanbul ignore next */\n  if (!env) {\n    throw new _exception2['default']('No environment passed to template');\n  }\n  if (!templateSpec || !templateSpec.main) {\n    throw new _exception2['default']('Unknown template object: ' + typeof templateSpec);\n  }\n\n  templateSpec.main.decorator = templateSpec.main_d;\n\n  // Note: Using env.VM references rather than local var references throughout this section to allow\n  // for external users to override these as pseudo-supported APIs.\n  env.VM.checkRevision(templateSpec.compiler);\n\n  // backwards compatibility for precompiled templates with compiler-version 7 (<4.3.0)\n  var templateWasPrecompiledWithCompilerV7 = templateSpec.compiler && templateSpec.compiler[0] === 7;\n\n  function invokePartialWrapper(partial, context, options) {\n    if (options.hash) {\n      context = Utils.extend({}, context, options.hash);\n      if (options.ids) {\n        options.ids[0] = true;\n      }\n    }\n    partial = env.VM.resolvePartial.call(this, partial, context, options);\n\n    var optionsWithHooks = Utils.extend({}, options, { hooks: this.hooks });\n\n    var result = env.VM.invokePartial.call(this, partial, context, optionsWithHooks);\n\n    if (result == null && env.compile) {\n      options.partials[options.name] = env.compile(partial, templateSpec.compilerOptions, env);\n      result = options.partials[options.name](context, optionsWithHooks);\n    }\n    if (result != null) {\n      if (options.indent) {\n        var lines = result.split('\\n');\n        for (var i = 0, l = lines.length; i < l; i++) {\n          if (!lines[i] && i + 1 === l) {\n            break;\n          }\n\n          lines[i] = options.indent + lines[i];\n        }\n        result = lines.join('\\n');\n      }\n      return result;\n    } else {\n      throw new _exception2['default']('The partial ' + options.name + ' could not be compiled when running in runtime-only mode');\n    }\n  }\n\n  // Just add water\n  var container = {\n    strict: function strict(obj, name, loc) {\n      if (!obj || !(name in obj)) {\n        throw new _exception2['default']('\"' + name + '\" not defined in ' + obj, { loc: loc });\n      }\n      return obj[name];\n    },\n    lookup: function lookup(depths, name) {\n      var len = depths.length;\n      for (var i = 0; i < len; i++) {\n        if (depths[i] && depths[i][name] != null) {\n          return depths[i][name];\n        }\n      }\n    },\n    lambda: function lambda(current, context) {\n      return typeof current === 'function' ? current.call(context) : current;\n    },\n\n    escapeExpression: Utils.escapeExpression,\n    invokePartial: invokePartialWrapper,\n\n    fn: function fn(i) {\n      var ret = templateSpec[i];\n      ret.decorator = templateSpec[i + '_d'];\n      return ret;\n    },\n\n    programs: [],\n    program: function program(i, data, declaredBlockParams, blockParams, depths) {\n      var programWrapper = this.programs[i],\n          fn = this.fn(i);\n      if (data || depths || blockParams || declaredBlockParams) {\n        programWrapper = wrapProgram(this, i, fn, data, declaredBlockParams, blockParams, depths);\n      } else if (!programWrapper) {\n        programWrapper = this.programs[i] = wrapProgram(this, i, fn);\n      }\n      return programWrapper;\n    },\n\n    data: function data(value, depth) {\n      while (value && depth--) {\n        value = value._parent;\n      }\n      return value;\n    },\n    // An empty object to use as replacement for null-contexts\n    nullContext: Object.seal({}),\n\n    noop: env.VM.noop,\n    compilerInfo: templateSpec.compiler\n  };\n\n  function ret(context) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    var data = options.data;\n\n    ret._setup(options);\n    if (!options.partial && templateSpec.useData) {\n      data = initData(context, data);\n    }\n    var depths = undefined,\n        blockParams = templateSpec.useBlockParams ? [] : undefined;\n    if (templateSpec.useDepths) {\n      if (options.depths) {\n        depths = context != options.depths[0] ? [context].concat(options.depths) : options.depths;\n      } else {\n        depths = [context];\n      }\n    }\n\n    function main(context /*, options*/) {\n      return '' + templateSpec.main(container, context, container.helpers, container.partials, data, blockParams, depths);\n    }\n    main = executeDecorators(templateSpec.main, main, container, options.depths || [], data, blockParams);\n    return main(context, options);\n  }\n  ret.isTop = true;\n\n  ret._setup = function (options) {\n    if (!options.partial) {\n      container.helpers = Utils.extend({}, env.helpers, options.helpers);\n\n      if (templateSpec.usePartial) {\n        container.partials = Utils.extend({}, env.partials, options.partials);\n      }\n      if (templateSpec.usePartial || templateSpec.useDecorators) {\n        container.decorators = Utils.extend({}, env.decorators, options.decorators);\n      }\n\n      container.hooks = {};\n\n      var keepHelperInHelpers = options.allowCallsToHelperMissing || templateWasPrecompiledWithCompilerV7;\n      _helpers.moveHelperToHooks(container, 'helperMissing', keepHelperInHelpers);\n      _helpers.moveHelperToHooks(container, 'blockHelperMissing', keepHelperInHelpers);\n    } else {\n      container.helpers = options.helpers;\n      container.partials = options.partials;\n      container.decorators = options.decorators;\n      container.hooks = options.hooks;\n    }\n  };\n\n  ret._child = function (i, data, blockParams, depths) {\n    if (templateSpec.useBlockParams && !blockParams) {\n      throw new _exception2['default']('must pass block params');\n    }\n    if (templateSpec.useDepths && !depths) {\n      throw new _exception2['default']('must pass parent depths');\n    }\n\n    return wrapProgram(container, i, templateSpec[i], data, 0, blockParams, depths);\n  };\n  return ret;\n}\n\nfunction wrapProgram(container, i, fn, data, declaredBlockParams, blockParams, depths) {\n  function prog(context) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    var currentDepths = depths;\n    if (depths && context != depths[0] && !(context === container.nullContext && depths[0] === null)) {\n      currentDepths = [context].concat(depths);\n    }\n\n    return fn(container, context, container.helpers, container.partials, options.data || data, blockParams && [options.blockParams].concat(blockParams), currentDepths);\n  }\n\n  prog = executeDecorators(fn, prog, container, depths, data, blockParams);\n\n  prog.program = i;\n  prog.depth = depths ? depths.length : 0;\n  prog.blockParams = declaredBlockParams || 0;\n  return prog;\n}\n\n/**\n * This is currently part of the official API, therefore implementation details should not be changed.\n */\n\nfunction resolvePartial(partial, context, options) {\n  if (!partial) {\n    if (options.name === '@partial-block') {\n      partial = options.data['partial-block'];\n    } else {\n      partial = options.partials[options.name];\n    }\n  } else if (!partial.call && !options.name) {\n    // This is a dynamic partial that returned a string\n    options.name = partial;\n    partial = options.partials[partial];\n  }\n  return partial;\n}\n\nfunction invokePartial(partial, context, options) {\n  // Use the current closure context to save the partial-block if this partial\n  var currentPartialBlock = options.data && options.data['partial-block'];\n  options.partial = true;\n  if (options.ids) {\n    options.data.contextPath = options.ids[0] || options.data.contextPath;\n  }\n\n  var partialBlock = undefined;\n  if (options.fn && options.fn !== noop) {\n    (function () {\n      options.data = _base.createFrame(options.data);\n      // Wrapper function to get access to currentPartialBlock from the closure\n      var fn = options.fn;\n      partialBlock = options.data['partial-block'] = function partialBlockWrapper(context) {\n        var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n        // Restore the partial-block from the closure for the execution of the block\n        // i.e. the part inside the block of the partial call.\n        options.data = _base.createFrame(options.data);\n        options.data['partial-block'] = currentPartialBlock;\n        return fn(context, options);\n      };\n      if (fn.partials) {\n        options.partials = Utils.extend({}, options.partials, fn.partials);\n      }\n    })();\n  }\n\n  if (partial === undefined && partialBlock) {\n    partial = partialBlock;\n  }\n\n  if (partial === undefined) {\n    throw new _exception2['default']('The partial ' + options.name + ' could not be found');\n  } else if (partial instanceof Function) {\n    return partial(context, options);\n  }\n}\n\nfunction noop() {\n  return '';\n}\n\nfunction initData(context, data) {\n  if (!data || !('root' in data)) {\n    data = data ? _base.createFrame(data) : {};\n    data.root = context;\n  }\n  return data;\n}\n\nfunction executeDecorators(fn, prog, container, depths, data, blockParams) {\n  if (fn.decorator) {\n    var props = {};\n    prog = fn.decorator(prog, props, container, depths && depths[0], data, blockParams, depths);\n    Utils.extend(prog, props);\n  }\n  return prog;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL3J1bnRpbWUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7cUJBQXVCLFNBQVM7O0lBQXBCLEtBQUs7O3lCQUNLLGFBQWE7Ozs7b0JBQytELFFBQVE7O3VCQUMxRSxXQUFXOztBQUVwQyxTQUFTLGFBQWEsQ0FBQyxZQUFZLEVBQUU7QUFDMUMsTUFBTSxnQkFBZ0IsR0FBRyxZQUFZLElBQUksWUFBWSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7TUFDdkQsZUFBZSwwQkFBb0IsQ0FBQzs7QUFFMUMsTUFBSSxnQkFBZ0IsMkNBQXFDLElBQUksZ0JBQWdCLDJCQUFxQixFQUFFO0FBQ2xHLFdBQU87R0FDUjs7QUFFRCxNQUFJLGdCQUFnQiwwQ0FBb0MsRUFBRTtBQUN4RCxRQUFNLGVBQWUsR0FBRyx1QkFBaUIsZUFBZSxDQUFDO1FBQ25ELGdCQUFnQixHQUFHLHVCQUFpQixnQkFBZ0IsQ0FBQyxDQUFDO0FBQzVELFVBQU0sMkJBQWMseUZBQXlGLEdBQ3ZHLHFEQUFxRCxHQUFHLGVBQWUsR0FBRyxtREFBbUQsR0FBRyxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsQ0FBQztHQUNoSyxNQUFNOztBQUVMLFVBQU0sMkJBQWMsd0ZBQXdGLEdBQ3RHLGlEQUFpRCxHQUFHLFlBQVksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQztHQUNuRjtDQUNGOztBQUVNLFNBQVMsUUFBUSxDQUFDLFlBQVksRUFBRSxHQUFHLEVBQUU7OztBQUcxQyxNQUFJLENBQUMsR0FBRyxFQUFFO0FBQ1IsVUFBTSwyQkFBYyxtQ0FBbUMsQ0FBQyxDQUFDO0dBQzFEO0FBQ0QsTUFBSSxDQUFDLFlBQVksSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLEVBQUU7QUFDdkMsVUFBTSwyQkFBYywyQkFBMkIsR0FBRyxPQUFPLFlBQVksQ0FBQyxDQUFDO0dBQ3hFOztBQUVELGNBQVksQ0FBQyxJQUFJLENBQUMsU0FBUyxH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LElBQUksQ0FBQSxBQUFDLEVBQUU7QUFDOUIsUUFBSSxHQUFHLElBQUksR0FBRyxrQkFBWSxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7QUFDckMsUUFBSSxDQUFDLElBQUksR0FBRyxPQUFPLENBQUM7R0FDckI7QUFDRCxTQUFPLElBQUksQ0FBQztDQUNiOztBQUVELFNBQVMsaUJBQWlCLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUU7QUFDekUsTUFBSSxFQUFFLENBQUMsU0FBUyxFQUFFO0FBQ2hCLFFBQUksS0FBSyxHQUFHLEVBQUUsQ0FBQztBQUNmLFFBQUksR0FBRyxFQUFFLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLE1BQU0sSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRSxNQUFNLENBQUMsQ0FBQztBQUM1RixTQUFLLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztHQUMzQjtBQUNELFNBQU8sSUFBSSxDQUFDO0NBQ2IiLCJmaWxlIjoicnVudGltZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFV0aWxzIGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IEV4Y2VwdGlvbiBmcm9tICcuL2V4Y2VwdGlvbic7XG5pbXBvcnQge0NPTVBJTEVSX1JFVklTSU9OLCBjcmVhdGVGcmFtZSwgTEFTVF9DT01QQVRJQkxFX0NPTVBJTEVSX1JFVklTSU9OLCBSRVZJU0lPTl9DSEFOR0VTfSBmcm9tICcuL2Jhc2UnO1xuaW1wb3J0IHttb3ZlSGVscGVyVG9Ib29rc30gZnJvbSAnLi9oZWxwZXJzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrUmV2aXNpb24oY29tcGlsZXJJbmZvKSB7XG4gIGNvbnN0IGNvbXBpbGVyUmV2aXNpb24gPSBjb21waWxlckluZm8gJiYgY29tcGlsZXJJbmZvWzBdIHx8IDEsXG4gICAgICAgIGN1cnJlbnRSZXZpc2lvbiA9IENPTVBJTEVSX1JFVklTSU9OO1xuXG4gIGlmIChjb21waWxlclJldmlzaW9uID49IExBU1RfQ09NUEFUSUJMRV9DT01QSUxFUl9SRVZJU0lPTiAmJiBjb21waWxlclJldmlzaW9uIDw9IENPTVBJTEVSX1JFVklTSU9OKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGNvbXBpbGVyUmV2aXNpb24gPCBMQVNUX0NPTVBBVElCTEVfQ09NUElMRVJfUkVWSVNJT04pIHtcbiAgICBjb25zdCBydW50aW1lVmVyc2lvbnMgPSBSRVZJU0lPTl9DSEFOR0VTW2N1cnJlbnRSZXZpc2lvbl0sXG4gICAgICAgICAgY29tcGlsZXJWZXJzaW9ucyA9IFJFVklTSU9OX0NIQU5HRVNbY29tcGlsZXJSZXZpc2lvbl07XG4gICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignVGVtcGxhdGUgd2FzIHByZWNvbXBpbGVkIHdpdGggYW4gb2xkZXIgdmVyc2lvbiBvZiBIYW5kbGViYXJzIHRoYW4gdGhlIGN1cnJlbnQgcnVudGltZS4gJyArXG4gICAgICAgICAgJ1BsZWFzZSB1cGRhdGUgeW91ciBwcmVjb21waWxlciB0byBhIG5ld2VyIHZlcnNpb24gKCcgKyBydW50aW1lVmVyc2lvbnMgKyAnKSBvciBkb3duZ3JhZGUgeW91ciBydW50aW1lIHRvIGFuIG9sZGVyIHZlcnNpb24gKCcgKyBjb21waWxlclZlcnNpb25zICsgJykuJyk7XG4gIH0gZWxzZSB7XG4gICAgLy8gVXNlIHRoZSBlbWJlZGRlZCB2ZXJzaW9uIGluZm8gc2luY2UgdGhlIHJ1bnRpbWUgZG9lc24ndCBrbm93IGFib3V0IHRoaXMgcmV2aXNpb24geWV0XG4gICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignVGVtcGxhdGUgd2FzIHByZWNvbXBpbGVkIHdpdGggYSBuZXdlciB2ZXJzaW9uIG9mIEhhbmRsZWJhcnMgdGhhbiB0aGUgY3VycmVudCBydW50aW1lLiAnICtcbiAgICAgICAgICAnUGxlYXNlIHVwZGF0ZSB5b3VyIHJ1bnRpbWUgdG8gYSBuZXdlciB2ZXJzaW9uICgnICsgY29tcGlsZXJJbmZvWzFdICsgJykuJyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRlbXBsYXRlKHRlbXBsYXRlU3BlYywgZW52KSB7XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgaWYgKCFlbnYpIHtcbiAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdObyBlbnZpcm9ubWVudCBwYXNzZWQgdG8gdGVtcGxhdGUnKTtcbiAgfVxuICBpZiAoIXRlbXBsYXRlU3BlYyB8fCAhdGVtcGxhdGVTcGVjLm1haW4pIHtcbiAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdVbmtub3duIHRlbXBsYXRlIG9iamVjdDogJyArIHR5cGVvZiB0ZW1wbGF0ZVNwZWMpO1xuICB9XG5cbiAgdGVtcGxhdGVTcGVjLm1haW4uZGVjb3JhdG9yID0gdGVtcGxhdGVTcGVjLm1haW5fZDtcblxuICAvLyBOb3RlOiBVc2luZyBlbnYuVk0gcmVmZXJlbmNlcyByYXRoZXIgdGhhbiBsb2NhbCB2YXIgcmVmZXJlbmNlcyB0aHJvdWdob3V0IHRoaXMgc2VjdGlvbiB0byBhbGxvd1xuICAvLyBmb3IgZXh0ZXJuYWwgdXNlcnMgdG8gb3ZlcnJpZGUgdGhlc2UgYXMgcHNldWRvLXN1cHBvcnRlZCBBUElzLlxuICBlbnYuVk0uY2hlY2tSZXZpc2lvbih0ZW1wbGF0ZVNwZWMuY29tcGlsZXIpO1xuXG4gIC8vIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IGZvciBwcmVjb21waWxlZCB0ZW1wbGF0ZXMgd2l0aCBjb21waWxlci12ZXJzaW9uIDcgKDw0LjMuMClcbiAgY29uc3QgdGVtcGxhdGVXYXNQcmVjb21waWxlZFdpdGhDb21waWxlclY3ID0gdGVtcGxhdGVTcGVjLmNvbXBpbGVyICYmIHRlbXBsYXRlU3BlYy5jb21waWxlclswXSA9PT0gNztcblxuICBmdW5jdGlvbiBpbnZva2VQYXJ0aWFsV3JhcHBlcihwYXJ0aWFsLCBjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMuaGFzaCkge1xuICAgICAgY29udGV4dCA9IFV0aWxzLmV4dGVuZCh7fSwgY29udGV4dCwgb3B0aW9ucy5oYXNoKTtcbiAgICAgIGlmIChvcHRpb25zLmlkcykge1xuICAgICAgICBvcHRpb25zLmlkc1swXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHBhcnRpYWwgPSBlbnYuVk0ucmVzb2x2ZVBhcnRpYWwuY2FsbCh0aGlzLCBwYXJ0aWFsLCBjb250ZXh0LCBvcHRpb25zKTtcblxuICAgIGxldCBvcHRpb25zV2l0aEhvb2tzID0gVXRpbHMuZXh0ZW5kKHt9LCBvcHRpb25zLCB7aG9va3M6IHRoaXMuaG9va3N9KTtcblxuICAgIGxldCByZXN1bHQgPSBlbnYuVk0uaW52b2tlUGFydGlhbC5jYWxsKHRoaXMsIHBhcnRpYWwsIGNvbnRleHQsIG9wdGlvbnNXaXRoSG9va3MpO1xuXG4gICAgaWYgKHJlc3VsdCA9PSBudWxsICYmIGVudi5jb21waWxlKSB7XG4gICAgICBvcHRpb25zLnBhcnRpYWxzW29wdGlvbnMubmFtZV0gPSBlbnYuY29tcGlsZShwYXJ0aWFsLCB0ZW1wbGF0ZVNwZWMuY29tcGlsZXJPcHRpb25zLCBlbnYpO1xuICAgICAgcmVzdWx0ID0gb3B0aW9ucy5wYXJ0aWFsc1tvcHRpb25zLm5hbWVdKGNvbnRleHQsIG9wdGlvbnNXaXRoSG9va3MpO1xuICAgIH1cbiAgICBpZiAocmVzdWx0ICE9IG51bGwpIHtcbiAgICAgIGlmIChvcHRpb25zLmluZGVudCkge1xuICAgICAgICBsZXQgbGluZXMgPSByZXN1bHQuc3BsaXQoJ1xcbicpO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGxpbmVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgIGlmICghbGluZXNbaV0gJiYgaSArIDEgPT09IGwpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGxpbmVzW2ldID0gb3B0aW9ucy5pbmRlbnQgKyBsaW5lc1tpXTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgPSBsaW5lcy5qb2luKCdcXG4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ1RoZSBwYXJ0aWFsICcgKyBvcHRpb25zLm5hbWUgKyAnIGNvdWxkIG5vdCBiZSBjb21waWxlZCB3aGVuIHJ1bm5pbmcgaW4gcnVudGltZS1vbmx5IG1vZGUnKTtcbiAgICB9XG4gIH1cblxuICAvLyBKdXN0IGFkZCB3YXRlclxuICBsZXQgY29udGFpbmVyID0ge1xuICAgIHN0cmljdDogZnVuY3Rpb24ob2JqLCBuYW1lLCBsb2MpIHtcbiAgICAgIGlmICghb2JqIHx8ICEobmFtZSBpbiBvYmopKSB7XG4gICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ1wiJyArIG5hbWUgKyAnXCIgbm90IGRlZmluZWQgaW4gJyArIG9iaiwgeyBsb2M6IGxvYyB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmpbbmFtZV07XG4gICAgfSxcbiAgICBsb29rdXA6IGZ1bmN0aW9uKGRlcHRocywgbmFtZSkge1xuICAgICAgY29uc3QgbGVuID0gZGVwdGhzLmxlbmd0aDtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaWYgKGRlcHRoc1tpXSAmJiBkZXB0aHNbaV1bbmFtZV0gIT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBkZXB0aHNbaV1bbmFtZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGxhbWJkYTogZnVuY3Rpb24oY3VycmVudCwgY29udGV4dCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiBjdXJyZW50ID09PSAnZnVuY3Rpb24nID8gY3VycmVudC5jYWxsKGNvbnRleHQpIDogY3VycmVudDtcbiAgICB9LFxuXG4gICAgZXNjYXBlRXhwcmVzc2lvbjogVXRpbHMuZXNjYXBlRXhwcmVzc2lvbixcbiAgICBpbnZva2VQYXJ0aWFsOiBpbnZva2VQYXJ0aWFsV3JhcHBlcixcblxuICAgIGZuOiBmdW5jdGlvbihpKSB7XG4gICAgICBsZXQgcmV0ID0gdGVtcGxhdGVTcGVjW2ldO1xuICAgICAgcmV0LmRlY29yYXRvciA9IHRlbXBsYXRlU3BlY1tpICsgJ19kJ107XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH0sXG5cbiAgICBwcm9ncmFtczogW10sXG4gICAgcHJvZ3JhbTogZnVuY3Rpb24oaSwgZGF0YSwgZGVjbGFyZWRCbG9ja1BhcmFtcywgYmxvY2tQYXJhbXMsIGRlcHRocykge1xuICAgICAgbGV0IHByb2dyYW1XcmFwcGVyID0gdGhpcy5wcm9ncmFtc1tpXSxcbiAgICAgICAgICBmbiA9IHRoaXMuZm4oaSk7XG4gICAgICBpZiAoZGF0YSB8fCBkZXB0aHMgfHwgYmxvY2tQYXJhbXMgfHwgZGVjbGFyZWRCbG9ja1BhcmFtcykge1xuICAgICAgICBwcm9ncmFtV3JhcHBlciA9IHdyYXBQcm9ncmFtKHRoaXMsIGksIGZuLCBkYXRhLCBkZWNsYXJlZEJsb2NrUGFyYW1zLCBibG9ja1BhcmFtcywgZGVwdGhzKTtcbiAgICAgIH0gZWxzZSBpZiAoIXByb2dyYW1XcmFwcGVyKSB7XG4gICAgICAgIHByb2dyYW1XcmFwcGVyID0gdGhpcy5wcm9ncmFtc1tpXSA9IHdyYXBQcm9ncmFtKHRoaXMsIGksIGZuKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcm9ncmFtV3JhcHBlcjtcbiAgICB9LFxuXG4gICAgZGF0YTogZnVuY3Rpb24odmFsdWUsIGRlcHRoKSB7XG4gICAgICB3aGlsZSAodmFsdWUgJiYgZGVwdGgtLSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLl9wYXJlbnQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSxcbiAgICAvLyBBbiBlbXB0eSBvYmplY3QgdG8gdXNlIGFzIHJlcGxhY2VtZW50IGZvciBudWxsLWNvbnRleHRzXG4gICAgbnVsbENvbnRleHQ6IE9iamVjdC5zZWFsKHt9KSxcblxuICAgIG5vb3A6IGVudi5WTS5ub29wLFxuICAgIGNvbXBpbGVySW5mbzogdGVtcGxhdGVTcGVjLmNvbXBpbGVyXG4gIH07XG5cbiAgZnVuY3Rpb24gcmV0KGNvbnRleHQsIG9wdGlvbnMgPSB7fSkge1xuICAgIGxldCBkYXRhID0gb3B0aW9ucy5kYXRhO1xuXG4gICAgcmV0Ll9zZXR1cChvcHRpb25zKTtcbiAgICBpZiAoIW9wdGlvbnMucGFydGlhbCAmJiB0ZW1wbGF0ZVNwZWMudXNlRGF0YSkge1xuICAgICAgZGF0YSA9IGluaXREYXRhKGNvbnRleHQsIGRhdGEpO1xuICAgIH1cbiAgICBsZXQgZGVwdGhzLFxuICAgICAgICBibG9ja1BhcmFtcyA9IHRlbXBsYXRlU3BlYy51c2VCbG9ja1BhcmFtcyA/IFtdIDogdW5kZWZpbmVkO1xuICAgIGlmICh0ZW1wbGF0ZVNwZWMudXNlRGVwdGhzKSB7XG4gICAgICBpZiAob3B0aW9ucy5kZXB0aHMpIHtcbiAgICAgICAgZGVwdGhzID0gY29udGV4dCAhPSBvcHRpb25zLmRlcHRoc1swXSA/IFtjb250ZXh0XS5jb25jYXQob3B0aW9ucy5kZXB0aHMpIDogb3B0aW9ucy5kZXB0aHM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZXB0aHMgPSBbY29udGV4dF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFpbihjb250ZXh0LyosIG9wdGlvbnMqLykge1xuICAgICAgcmV0dXJuICcnICsgdGVtcGxhdGVTcGVjLm1haW4oY29udGFpbmVyLCBjb250ZXh0LCBjb250YWluZXIuaGVscGVycywgY29udGFpbmVyLnBhcnRpYWxzLCBkYXRhLCBibG9ja1BhcmFtcywgZGVwdGhzKTtcbiAgICB9XG4gICAgbWFpbiA9IGV4ZWN1dGVEZWNvcmF0b3JzKHRlbXBsYXRlU3BlYy5tYWluLCBtYWluLCBjb250YWluZXIsIG9wdGlvbnMuZGVwdGhzIHx8IFtdLCBkYXRhLCBibG9ja1BhcmFtcyk7XG4gICAgcmV0dXJuIG1haW4oY29udGV4dCwgb3B0aW9ucyk7XG4gIH1cbiAgcmV0LmlzVG9wID0gdHJ1ZTtcblxuICByZXQuX3NldHVwID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucy5wYXJ0aWFsKSB7XG4gICAgICBjb250YWluZXIuaGVscGVycyA9IFV0aWxzLmV4dGVuZCh7fSwgZW52LmhlbHBlcnMsIG9wdGlvbnMuaGVscGVycyk7XG5cbiAgICAgIGlmICh0ZW1wbGF0ZVNwZWMudXNlUGFydGlhbCkge1xuICAgICAgICBjb250YWluZXIucGFydGlhbHMgPSBVdGlscy5leHRlbmQoe30sIGVudi5wYXJ0aWFscywgb3B0aW9ucy5wYXJ0aWFscyk7XG4gICAgICB9XG4gICAgICBpZiAodGVtcGxhdGVTcGVjLnVzZVBhcnRpYWwgfHwgdGVtcGxhdGVTcGVjLnVzZURlY29yYXRvcnMpIHtcbiAgICAgICAgY29udGFpbmVyLmRlY29yYXRvcnMgPSBVdGlscy5leHRlbmQoe30sIGVudi5kZWNvcmF0b3JzLCBvcHRpb25zLmRlY29yYXRvcnMpO1xuICAgICAgfVxuXG4gICAgICBjb250YWluZXIuaG9va3MgPSB7fTtcblxuICAgICAgbGV0IGtlZXBIZWxwZXJJbkhlbHBlcnMgPSBvcHRpb25zLmFsbG93Q2FsbHNUb0hlbHBlck1pc3NpbmcgfHwgdGVtcGxhdGVXYXNQcmVjb21waWxlZFdpdGhDb21waWxlclY3O1xuICAgICAgbW92ZUhlbHBlclRvSG9va3MoY29udGFpbmVyLCAnaGVscGVyTWlzc2luZycsIGtlZXBIZWxwZXJJbkhlbHBlcnMpO1xuICAgICAgbW92ZUhlbHBlclRvSG9va3MoY29udGFpbmVyLCAnYmxvY2tIZWxwZXJNaXNzaW5nJywga2VlcEhlbHBlckluSGVscGVycyk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgY29udGFpbmVyLmhlbHBlcnMgPSBvcHRpb25zLmhlbHBlcnM7XG4gICAgICBjb250YWluZXIucGFydGlhbHMgPSBvcHRpb25zLnBhcnRpYWxzO1xuICAgICAgY29udGFpbmVyLmRlY29yYXRvcnMgPSBvcHRpb25zLmRlY29yYXRvcnM7XG4gICAgICBjb250YWluZXIuaG9va3MgPSBvcHRpb25zLmhvb2tzO1xuICAgIH1cblxuICB9O1xuXG4gIHJldC5fY2hpbGQgPSBmdW5jdGlvbihpLCBkYXRhLCBibG9ja1BhcmFtcywgZGVwdGhzKSB7XG4gICAgaWYgKHRlbXBsYXRlU3BlYy51c2VCbG9ja1BhcmFtcyAmJiAhYmxvY2tQYXJhbXMpIHtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ211c3QgcGFzcyBibG9jayBwYXJhbXMnKTtcbiAgICB9XG4gICAgaWYgKHRlbXBsYXRlU3BlYy51c2VEZXB0aHMgJiYgIWRlcHRocykge1xuICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignbXVzdCBwYXNzIHBhcmVudCBkZXB0aHMnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gd3JhcFByb2dyYW0oY29udGFpbmVyLCBpLCB0ZW1wbGF0ZVNwZWNbaV0sIGRhdGEsIDAsIGJsb2NrUGFyYW1zLCBkZXB0aHMpO1xuICB9O1xuICByZXR1cm4gcmV0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gd3JhcFByb2dyYW0oY29udGFpbmVyLCBpLCBmbiwgZGF0YSwgZGVjbGFyZWRCbG9ja1BhcmFtcywgYmxvY2tQYXJhbXMsIGRlcHRocykge1xuICBmdW5jdGlvbiBwcm9nKGNvbnRleHQsIG9wdGlvbnMgPSB7fSkge1xuICAgIGxldCBjdXJyZW50RGVwdGhzID0gZGVwdGhzO1xuICAgIGlmIChkZXB0aHMgJiYgY29udGV4dCAhPSBkZXB0aHNbMF0gJiYgIShjb250ZXh0ID09PSBjb250YWluZXIubnVsbENvbnRleHQgJiYgZGVwdGhzWzBdID09PSBudWxsKSkge1xuICAgICAgY3VycmVudERlcHRocyA9IFtjb250ZXh0XS5jb25jYXQoZGVwdGhzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZm4oY29udGFpbmVyLFxuICAgICAgICBjb250ZXh0LFxuICAgICAgICBjb250YWluZXIuaGVscGVycywgY29udGFpbmVyLnBhcnRpYWxzLFxuICAgICAgICBvcHRpb25zLmRhdGEgfHwgZGF0YSxcbiAgICAgICAgYmxvY2tQYXJhbXMgJiYgW29wdGlvbnMuYmxvY2tQYXJhbXNdLmNvbmNhdChibG9ja1BhcmFtcyksXG4gICAgICAgIGN1cnJlbnREZXB0aHMpO1xuICB9XG5cbiAgcHJvZyA9IGV4ZWN1dGVEZWNvcmF0b3JzKGZuLCBwcm9nLCBjb250YWluZXIsIGRlcHRocywgZGF0YSwgYmxvY2tQYXJhbXMpO1xuXG4gIHByb2cucHJvZ3JhbSA9IGk7XG4gIHByb2cuZGVwdGggPSBkZXB0aHMgPyBkZXB0aHMubGVuZ3RoIDogMDtcbiAgcHJvZy5ibG9ja1BhcmFtcyA9IGRlY2xhcmVkQmxvY2tQYXJhbXMgfHwgMDtcbiAgcmV0dXJuIHByb2c7XG59XG5cbi8qKlxuICogVGhpcyBpcyBjdXJyZW50bHkgcGFydCBvZiB0aGUgb2ZmaWNpYWwgQVBJLCB0aGVyZWZvcmUgaW1wbGVtZW50YXRpb24gZGV0YWlscyBzaG91bGQgbm90IGJlIGNoYW5nZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlUGFydGlhbChwYXJ0aWFsLCBjb250ZXh0LCBvcHRpb25zKSB7XG4gIGlmICghcGFydGlhbCkge1xuICAgIGlmIChvcHRpb25zLm5hbWUgPT09ICdAcGFydGlhbC1ibG9jaycpIHtcbiAgICAgIHBhcnRpYWwgPSBvcHRpb25zLmRhdGFbJ3BhcnRpYWwtYmxvY2snXTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFydGlhbCA9IG9wdGlvbnMucGFydGlhbHNbb3B0aW9ucy5uYW1lXTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoIXBhcnRpYWwuY2FsbCAmJiAhb3B0aW9ucy5uYW1lKSB7XG4gICAgLy8gVGhpcyBpcyBhIGR5bmFtaWMgcGFydGlhbCB0aGF0IHJldHVybmVkIGEgc3RyaW5nXG4gICAgb3B0aW9ucy5uYW1lID0gcGFydGlhbDtcbiAgICBwYXJ0aWFsID0gb3B0aW9ucy5wYXJ0aWFsc1twYXJ0aWFsXTtcbiAgfVxuICByZXR1cm4gcGFydGlhbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGludm9rZVBhcnRpYWwocGFydGlhbCwgY29udGV4dCwgb3B0aW9ucykge1xuICAvLyBVc2UgdGhlIGN1cnJlbnQgY2xvc3VyZSBjb250ZXh0IHRvIHNhdmUgdGhlIHBhcnRpYWwtYmxvY2sgaWYgdGhpcyBwYXJ0aWFsXG4gIGNvbnN0IGN1cnJlbnRQYXJ0aWFsQmxvY2sgPSBvcHRpb25zLmRhdGEgJiYgb3B0aW9ucy5kYXRhWydwYXJ0aWFsLWJsb2NrJ107XG4gIG9wdGlvbnMucGFydGlhbCA9IHRydWU7XG4gIGlmIChvcHRpb25zLmlkcykge1xuICAgIG9wdGlvbnMuZGF0YS5jb250ZXh0UGF0aCA9IG9wdGlvbnMuaWRzWzBdIHx8IG9wdGlvbnMuZGF0YS5jb250ZXh0UGF0aDtcbiAgfVxuXG4gIGxldCBwYXJ0aWFsQmxvY2s7XG4gIGlmIChvcHRpb25zLmZuICYmIG9wdGlvbnMuZm4gIT09IG5vb3ApIHtcbiAgICBvcHRpb25zLmRhdGEgPSBjcmVhdGVGcmFtZShvcHRpb25zLmRhdGEpO1xuICAgIC8vIFdyYXBwZXIgZnVuY3Rpb24gdG8gZ2V0IGFjY2VzcyB0byBjdXJyZW50UGFydGlhbEJsb2NrIGZyb20gdGhlIGNsb3N1cmVcbiAgICBsZXQgZm4gPSBvcHRpb25zLmZuO1xuICAgIHBhcnRpYWxCbG9jayA9IG9wdGlvbnMuZGF0YVsncGFydGlhbC1ibG9jayddID0gZnVuY3Rpb24gcGFydGlhbEJsb2NrV3JhcHBlcihjb250ZXh0LCBvcHRpb25zID0ge30pIHtcblxuICAgICAgLy8gUmVzdG9yZSB0aGUgcGFydGlhbC1ibG9jayBmcm9tIHRoZSBjbG9zdXJlIGZvciB0aGUgZXhlY3V0aW9uIG9mIHRoZSBibG9ja1xuICAgICAgLy8gaS5lLiB0aGUgcGFydCBpbnNpZGUgdGhlIGJsb2NrIG9mIHRoZSBwYXJ0aWFsIGNhbGwuXG4gICAgICBvcHRpb25zLmRhdGEgPSBjcmVhdGVGcmFtZShvcHRpb25zLmRhdGEpO1xuICAgICAgb3B0aW9ucy5kYXRhWydwYXJ0aWFsLWJsb2NrJ10gPSBjdXJyZW50UGFydGlhbEJsb2NrO1xuICAgICAgcmV0dXJuIGZuKGNvbnRleHQsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgaWYgKGZuLnBhcnRpYWxzKSB7XG4gICAgICBvcHRpb25zLnBhcnRpYWxzID0gVXRpbHMuZXh0ZW5kKHt9LCBvcHRpb25zLnBhcnRpYWxzLCBmbi5wYXJ0aWFscyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHBhcnRpYWwgPT09IHVuZGVmaW5lZCAmJiBwYXJ0aWFsQmxvY2spIHtcbiAgICBwYXJ0aWFsID0gcGFydGlhbEJsb2NrO1xuICB9XG5cbiAgaWYgKHBhcnRpYWwgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ1RoZSBwYXJ0aWFsICcgKyBvcHRpb25zLm5hbWUgKyAnIGNvdWxkIG5vdCBiZSBmb3VuZCcpO1xuICB9IGVsc2UgaWYgKHBhcnRpYWwgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgIHJldHVybiBwYXJ0aWFsKGNvbnRleHQsIG9wdGlvbnMpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBub29wKCkgeyByZXR1cm4gJyc7IH1cblxuZnVuY3Rpb24gaW5pdERhdGEoY29udGV4dCwgZGF0YSkge1xuICBpZiAoIWRhdGEgfHwgISgncm9vdCcgaW4gZGF0YSkpIHtcbiAgICBkYXRhID0gZGF0YSA/IGNyZWF0ZUZyYW1lKGRhdGEpIDoge307XG4gICAgZGF0YS5yb290ID0gY29udGV4dDtcbiAgfVxuICByZXR1cm4gZGF0YTtcbn1cblxuZnVuY3Rpb24gZXhlY3V0ZURlY29yYXRvcnMoZm4sIHByb2csIGNvbnRhaW5lciwgZGVwdGhzLCBkYXRhLCBibG9ja1BhcmFtcykge1xuICBpZiAoZm4uZGVjb3JhdG9yKSB7XG4gICAgbGV0IHByb3BzID0ge307XG4gICAgcHJvZyA9IGZuLmRlY29yYXRvcihwcm9nLCBwcm9wcywgY29udGFpbmVyLCBkZXB0aHMgJiYgZGVwdGhzWzBdLCBkYXRhLCBibG9ja1BhcmFtcywgZGVwdGhzKTtcbiAgICBVdGlscy5leHRlbmQocHJvZywgcHJvcHMpO1xuICB9XG4gIHJldHVybiBwcm9nO1xufVxuIl19\n","/* global window */\n'use strict';\n\nexports.__esModule = true;\n\nexports['default'] = function (Handlebars) {\n  /* istanbul ignore next */\n  var root = typeof global !== 'undefined' ? global : window,\n      $Handlebars = root.Handlebars;\n  /* istanbul ignore next */\n  Handlebars.noConflict = function () {\n    if (root.Handlebars === Handlebars) {\n      root.Handlebars = $Handlebars;\n    }\n    return Handlebars;\n  };\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL25vLWNvbmZsaWN0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O3FCQUNlLFVBQVMsVUFBVSxFQUFFOztBQUVsQyxNQUFJLElBQUksR0FBRyxPQUFPLE1BQU0sS0FBSyxXQUFXLEdBQUcsTUFBTSxHQUFHLE1BQU07TUFDdEQsV0FBVyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUM7O0FBRWxDLFlBQVUsQ0FBQyxVQUFVLEdBQUcsWUFBVztBQUNqQyxRQUFJLElBQUksQ0FBQyxVQUFVLEtBQUssVUFBVSxFQUFFO0FBQ2xDLFVBQUksQ0FBQyxVQUFVLEdBQUcsV0FBVyxDQUFDO0tBQy9CO0FBQ0QsV0FBTyxVQUFVLENBQUM7R0FDbkIsQ0FBQztDQUNIIiwiZmlsZSI6Im5vLWNvbmZsaWN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFsIHdpbmRvdyAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oSGFuZGxlYmFycykge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBsZXQgcm9vdCA9IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogd2luZG93LFxuICAgICAgJEhhbmRsZWJhcnMgPSByb290LkhhbmRsZWJhcnM7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIEhhbmRsZWJhcnMubm9Db25mbGljdCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChyb290LkhhbmRsZWJhcnMgPT09IEhhbmRsZWJhcnMpIHtcbiAgICAgIHJvb3QuSGFuZGxlYmFycyA9ICRIYW5kbGViYXJzO1xuICAgIH1cbiAgICByZXR1cm4gSGFuZGxlYmFycztcbiAgfTtcbn1cbiJdfQ==\n"]},"metadata":{},"sourceType":"script"}