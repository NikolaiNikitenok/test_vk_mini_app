{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"popout\", \"modal\", \"viewWidth\", \"viewHeight\", \"hasMouse\", \"children\", \"getRootRef\"];\nimport { createScopedElement } from \"../../lib/jsxRuntime\";\nimport * as React from \"react\";\nimport { withAdaptivity, ViewWidth, ViewHeight } from \"../../hoc/withAdaptivity\";\nimport { AppRootPortal } from \"../AppRoot/AppRootPortal\";\nimport { blurActiveElement, useDOM } from \"../../lib/dom\";\nexport var PopoutRootComponent = function PopoutRootComponent(props) {\n  var popout = props.popout,\n      modal = props.modal,\n      viewWidth = props.viewWidth,\n      viewHeight = props.viewHeight,\n      hasMouse = props.hasMouse,\n      children = props.children,\n      getRootRef = props.getRootRef,\n      restProps = _objectWithoutProperties(props, _excluded);\n\n  var _useDOM = useDOM(),\n      document = _useDOM.document;\n\n  var isDesktop = viewWidth >= ViewWidth.SMALL_TABLET && (hasMouse || viewHeight >= ViewHeight.MEDIUM);\n  React.useEffect(function () {\n    popout && blurActiveElement(document);\n  }, [document, popout]);\n  return createScopedElement(\"div\", _extends({}, restProps, {\n    vkuiClass: \"PopoutRoot\",\n    ref: getRootRef\n  }), children, createScopedElement(AppRootPortal, null, !!popout && createScopedElement(\"div\", {\n    vkuiClass: isDesktop ? \"PopoutRoot--absolute\" : \"PopoutRoot__popout\"\n  }, popout), !!modal && createScopedElement(\"div\", {\n    vkuiClass: \"PopoutRoot__modal\"\n  }, modal)));\n};\nPopoutRootComponent.displayName = \"PopoutRoot\";\nexport var PopoutRoot = withAdaptivity(PopoutRootComponent, {\n  viewWidth: true,\n  viewHeight: true,\n  hasMouse: true\n});","map":{"version":3,"mappings":";;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AAEA,SACEC,cADF,EAEEC,SAFF,EAGEC,UAHF;AAKA,SAASC,aAAT;AACA,SAASC,iBAAT,EAA4BC,MAA5B;AAeA,OAAO,IAAMC,mBAEZ,GAAG,SAFSA,mBAET,CAACC,KAAD,EAAW;AACb,MACEC,MADF,GASID,KATJ,CACEC,MADF;AAAA,MAEEC,KAFF,GASIF,KATJ,CAEEE,KAFF;AAAA,MAGEC,SAHF,GASIH,KATJ,CAGEG,SAHF;AAAA,MAIEC,UAJF,GASIJ,KATJ,CAIEI,UAJF;AAAA,MAKEC,QALF,GASIL,KATJ,CAKEK,QALF;AAAA,MAMEC,QANF,GASIN,KATJ,CAMEM,QANF;AAAA,MAOEC,UAPF,GASIP,KATJ,CAOEO,UAPF;AAAA,MAQKC,SARL,4BASIR,KATJ;;AAUA,gBAAqBF,MAAM,EAA3B;AAAA,MAAQW,QAAR,WAAQA,QAAR;;AAEA,MAAMC,SAAS,GACbP,SAAS,IAAIT,SAAS,CAACiB,YAAvBR,KACCE,QAAQ,IAAID,UAAU,IAAIT,UAAU,CAACiB,MADtCT,CADF;AAIAX,OAAK,CAACqB,SAANrB,CAAgB,YAAM;AACpBS,UAAM,IAAIJ,iBAAiB,CAACY,QAAD,CAA3BR;AADF,KAEG,CAACQ,QAAD,EAAWR,MAAX,CAFHT;AAIA,SACEsB,wCAASN,SAAT;AAAoBO,aAAS,EAAC,YAA9B;AAA2CC,OAAG,EAAET;AAAhD,MACGD,QADH,EAEEQ,oBAAClB,aAAD,QACG,CAAC,CAACK,MAAF,IACCa;AACEC,aAAS,EACPL,SAAS,GAAG,sBAAH,GAA4B;AAFzC,KAKGT,MALH,CAFJ,EAUG,CAAC,CAACC,KAAF,IAAWY;AAAKC,aAAS,EAAC;AAAf,KAAoCb,KAApC,CAVd,CAFF,CADF;AAvBK;AA0CPH,mBAAmB,CAACkB,WAApBlB,GAAkC,YAAlCA;AAEA,OAAO,IAAMmB,UAAU,GAAGzB,cAAc,CAACM,mBAAD,EAAsB;AAC5DI,WAAS,EAAE,IADiD;AAE5DC,YAAU,EAAE,IAFgD;AAG5DC,UAAQ,EAAE;AAHkD,CAAtB,CAAjC","names":["React","withAdaptivity","ViewWidth","ViewHeight","AppRootPortal","blurActiveElement","useDOM","PopoutRootComponent","props","popout","modal","viewWidth","viewHeight","hasMouse","children","getRootRef","restProps","document","isDesktop","SMALL_TABLET","MEDIUM","useEffect","createScopedElement","vkuiClass","ref","displayName","PopoutRoot"],"sources":["../../../src/components/PopoutRoot/PopoutRoot.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { HasRootRef } from \"../../types\";\nimport {\n  withAdaptivity,\n  ViewWidth,\n  ViewHeight,\n} from \"../../hoc/withAdaptivity\";\nimport { AppRootPortal } from \"../AppRoot/AppRootPortal\";\nimport { blurActiveElement, useDOM } from \"../../lib/dom\";\nimport {\n  AdaptivityContextInterface,\n  AdaptivityProps,\n} from \"../AdaptivityProvider/AdaptivityContext\";\nimport \"./PopoutRoot.css\";\n\nexport interface PopoutRootProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    AdaptivityProps,\n    HasRootRef<HTMLDivElement> {\n  popout?: React.ReactNode;\n  modal?: React.ReactNode;\n}\n\nexport const PopoutRootComponent: React.FC<\n  PopoutRootProps & AdaptivityContextInterface\n> = (props) => {\n  const {\n    popout,\n    modal,\n    viewWidth,\n    viewHeight,\n    hasMouse,\n    children,\n    getRootRef,\n    ...restProps\n  } = props;\n  const { document } = useDOM();\n\n  const isDesktop =\n    viewWidth >= ViewWidth.SMALL_TABLET &&\n    (hasMouse || viewHeight >= ViewHeight.MEDIUM);\n\n  React.useEffect(() => {\n    popout && blurActiveElement(document);\n  }, [document, popout]);\n\n  return (\n    <div {...restProps} vkuiClass=\"PopoutRoot\" ref={getRootRef}>\n      {children}\n      <AppRootPortal>\n        {!!popout && (\n          <div\n            vkuiClass={\n              isDesktop ? \"PopoutRoot--absolute\" : \"PopoutRoot__popout\"\n            }\n          >\n            {popout}\n          </div>\n        )}\n        {!!modal && <div vkuiClass=\"PopoutRoot__modal\">{modal}</div>}\n      </AppRootPortal>\n    </div>\n  );\n};\n\nPopoutRootComponent.displayName = \"PopoutRoot\";\n\nexport const PopoutRoot = withAdaptivity(PopoutRootComponent, {\n  viewWidth: true,\n  viewHeight: true,\n  hasMouse: true,\n});\n"]},"metadata":{},"sourceType":"module"}