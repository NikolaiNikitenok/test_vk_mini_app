{"ast":null,"code":"import * as React from \"react\";\nimport { transitionEvent } from \"../lib/supportEvents\";\nexport var useWaitTransitionFinish = function useWaitTransitionFinish() {\n  var timeoutRef = React.useRef(null);\n\n  var waitTransitionFinish = function waitTransitionFinish(element, eventHandler, durationFallback) {\n    if (element) {\n      if (transitionEvent.supported && transitionEvent.name) {\n        element.removeEventListener(transitionEvent.name, eventHandler);\n        element.addEventListener(transitionEvent.name, eventHandler);\n      } else {\n        if (timeoutRef !== null && timeoutRef !== void 0 && timeoutRef.current) {\n          clearTimeout(timeoutRef.current);\n        }\n\n        timeoutRef.current = setTimeout(eventHandler, durationFallback);\n      }\n    }\n  };\n\n  return {\n    waitTransitionFinish: waitTransitionFinish\n  };\n};","map":{"version":3,"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,eAAT;AAEA,OAAO,IAAMC,uBAAuB,GAAG,SAA1BA,uBAA0B,GAAM;AAC3C,MAAMC,UAAU,GAAGH,KAAK,CAACI,MAANJ,CAAmD,IAAnDA,CAAnB;;AAEA,MAAMK,oBAAoB,GAAG,SAAvBA,oBAAuB,CAC3BC,OAD2B,EAE3BC,YAF2B,EAG3BC,gBAH2B,EAIxB;AACH,QAAIF,OAAJ,EAAa;AACX,UAAIL,eAAe,CAACQ,SAAhBR,IAA6BA,eAAe,CAACS,IAAjD,EAAuD;AACrDJ,eAAO,CAACK,mBAARL,CAA4BL,eAAe,CAACS,IAA5CJ,EAAkDC,YAAlDD;AACAA,eAAO,CAACM,gBAARN,CAAyBL,eAAe,CAACS,IAAzCJ,EAA+CC,YAA/CD;AAFF,aAGO;AACL,YAAIH,UAAJ,SAAIA,cAAJ,WAAIA,cAAU,CAAEU,OAAhB,EAAyB;AACvBC,sBAAY,CAACX,UAAU,CAACU,OAAZ,CAAZC;AACD;;AACDX,kBAAU,CAACU,OAAXV,GAAqBY,UAAU,CAACR,YAAD,EAAeC,gBAAf,CAA/BL;AACD;AACF;AAfH;;AAkBA,SAAO;AACLE,wBAAoB,EAApBA;AADK,GAAP;AArBK","names":["React","transitionEvent","useWaitTransitionFinish","timeoutRef","useRef","waitTransitionFinish","element","eventHandler","durationFallback","supported","name","removeEventListener","addEventListener","current","clearTimeout","setTimeout"],"sources":["../../src/hooks/useWaitTransitionFinish.ts"],"sourcesContent":["import * as React from \"react\";\nimport { transitionEvent } from \"../lib/supportEvents\";\n\nexport const useWaitTransitionFinish = () => {\n  const timeoutRef = React.useRef<ReturnType<typeof setTimeout> | null>(null);\n\n  const waitTransitionFinish = (\n    element: HTMLElement | null,\n    eventHandler: VoidFunction,\n    durationFallback: number\n  ) => {\n    if (element) {\n      if (transitionEvent.supported && transitionEvent.name) {\n        element.removeEventListener(transitionEvent.name, eventHandler);\n        element.addEventListener(transitionEvent.name, eventHandler);\n      } else {\n        if (timeoutRef?.current) {\n          clearTimeout(timeoutRef.current);\n        }\n        timeoutRef.current = setTimeout(eventHandler, durationFallback);\n      }\n    }\n  };\n\n  return {\n    waitTransitionFinish,\n  };\n};\n"]},"metadata":{},"sourceType":"module"}