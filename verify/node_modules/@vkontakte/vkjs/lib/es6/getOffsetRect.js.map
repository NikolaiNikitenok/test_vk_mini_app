{"version":3,"sources":["../../src/getOffsetRect.ts"],"names":["getOffsetRect","elem","isElement","HTMLElement","window","top","left","width","height","el","box","getBoundingClientRect","body","document","doc","documentElement","scrollTop","pageYOffset","scrollLeft","pageXOffset","clientTop","clientLeft","Math","round","offsetWidth","offsetHeight"],"mappings":"AAOA,OAAO,SAASA,aAAT,CAAuBC,IAAvB,EAAgE;AACrE,MAAMC,SAAS,GAAGD,IAAI,YAAYE,WAAlC;;AAEA,MAAI,OAAOC,MAAP,KAAkB,WAAlB,IAAiC,CAACF,SAAtC,EAAiD;AAC/C,WAAO;AACLG,MAAAA,GAAG,EAAE,CADA;AAELC,MAAAA,IAAI,EAAE,CAFD;AAGLC,MAAAA,KAAK,EAAE,CAHF;AAILC,MAAAA,MAAM,EAAE;AAJH,KAAP;AAMD;;AAED,MAAMC,EAAE,GAAGR,IAAX;AACA,MAAMS,GAAG,GAAGD,EAAE,CAACE,qBAAH,EAAZ;AACA,MAAMC,IAAI,GAAGC,QAAQ,CAACD,IAAtB;AACA,MAAME,GAAG,GAAGD,QAAQ,CAACE,eAArB;AACA,MAAMC,SAAS,GAAGZ,MAAM,CAACa,WAAP,IAAsBH,GAAG,CAACE,SAA1B,IAAuCJ,IAAI,CAACI,SAA9D;AACA,MAAME,UAAU,GAAGd,MAAM,CAACe,WAAP,IAAsBL,GAAG,CAACI,UAA1B,IAAwCN,IAAI,CAACM,UAAhE;AACA,MAAME,SAAS,GAAGN,GAAG,CAACM,SAAJ,IAAiBR,IAAI,CAACQ,SAAtB,IAAmC,CAArD;AACA,MAAMC,UAAU,GAAGP,GAAG,CAACO,UAAJ,IAAkBT,IAAI,CAACS,UAAvB,IAAqC,CAAxD;AAEA,SAAO;AACLhB,IAAAA,GAAG,EAAEiB,IAAI,CAACC,KAAL,CAAWb,GAAG,CAACL,GAAJ,GAAUW,SAAV,GAAsBI,SAAjC,CADA;AAELd,IAAAA,IAAI,EAAEgB,IAAI,CAACC,KAAL,CAAWb,GAAG,CAACJ,IAAJ,GAAWY,UAAX,GAAwBG,UAAnC,CAFD;AAGLd,IAAAA,KAAK,EAAEE,EAAE,CAACe,WAHL;AAILhB,IAAAA,MAAM,EAAEC,EAAE,CAACgB;AAJN,GAAP;AAMD","sourcesContent":["interface Bounds {\n  top: number;\n  left: number;\n  width: number;\n  height: number;\n}\n\nexport function getOffsetRect(elem: HTMLElement | Text | null): Bounds {\n  const isElement = elem instanceof HTMLElement;\n\n  if (typeof window === 'undefined' || !isElement) {\n    return {\n      top: 0,\n      left: 0,\n      width: 0,\n      height: 0,\n    };\n  }\n\n  const el = elem as HTMLElement;\n  const box = el.getBoundingClientRect();\n  const body = document.body;\n  const doc = document.documentElement;\n  const scrollTop = window.pageYOffset || doc.scrollTop || body.scrollTop;\n  const scrollLeft = window.pageXOffset || doc.scrollLeft || body.scrollLeft;\n  const clientTop = doc.clientTop || body.clientTop || 0;\n  const clientLeft = doc.clientLeft || body.clientLeft || 0;\n\n  return {\n    top: Math.round(box.top + scrollTop - clientTop),\n    left: Math.round(box.left + scrollLeft - clientLeft),\n    width: el.offsetWidth,\n    height: el.offsetHeight,\n  };\n}\n"],"file":"getOffsetRect.js"}