{"version":3,"sources":["../../../../src/components/InputLike/InputLike.tsx"],"names":["React","callMultiple","stopPropagation","classNames","MASK_SYMBOL","String","fromCharCode","getMaskElements","length","result","index","push","InputLike","value","onElementSelect","onClick","onFocus","getRootRef","props","handleElementSelect","useCallback","event","slice","displayName"],"mappings":";;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,YAAT;AACA,SAASC,eAAT;AACA,SAASC,UAAT;AAEA;AAWA,IAAMC,WAAW,GAAGC,MAAM,CAACC,YAAP,CAAoB,MAApB,CAApB;;AAEA,SAASC,eAAT,CAAyBC,MAAzB,EAAyC;AACvC,MAAMC,MAAM,GAAG,EAAf;;AACA,OAAK,IAAIC,MAAK,GAAG,CAAjB,EAAoBA,MAAK,GAAGF,MAA5B,EAAoCE,MAAK,IAAI,CAA7C,EAAgD;AAC9CD,IAAAA,MAAM,CAACE,IAAP,CACE;AAAM,MAAA,GAAG,EAAED,MAAX;AAAkB,MAAA,SAAS,EAAC;AAA5B,OACGN,WADH,CADF;AAKD;;AACD,SAAOK,MAAP;AACD;;AAED,OAAO,IAAMG,SAAmC,GAAG,SAAtCA,SAAsC,OAS7C;AAAA;;AAAA,MARJC,KAQI,QARJA,KAQI;AAAA,MAPJL,MAOI,QAPJA,MAOI;AAAA,MANJE,KAMI,QANJA,KAMI;AAAA,MALJI,eAKI,QALJA,eAKI;AAAA,MAJJC,OAII,QAJJA,OAII;AAAA,MAHJC,OAGI,QAHJA,OAGI;AAAA,MAFJC,UAEI,QAFJA,UAEI;AAAA,MADDC,KACC;;AACJ,MAAMC,mBAAmB,GAAGnB,KAAK,CAACoB,WAAN,CAC1B,UAACC,KAAD,EAA0D;AACxDnB,IAAAA,eAAe,CAACmB,KAAD,CAAf;AACAP,IAAAA,eAAe,SAAf,IAAAA,eAAe,WAAf,YAAAA,eAAe,CAAGJ,KAAH,CAAf;AACD,GAJyB,EAK1B,CAACA,KAAD,EAAQI,eAAR,CAL0B,CAA5B;AAQA,SACE;AACE,IAAA,SAAS,EAAEX,UAAU,CACnB,WADmB,EAEnB,CAAAU,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAEL,MAAP,MAAkBA,MAAlB,qBAFmB,CADvB;AAKE,IAAA,QAAQ,EAAE,CALZ;AAME,IAAA,GAAG,EAAES,UANP;AAOE,IAAA,OAAO,EAAEhB,YAAY,CAACc,OAAD,EAAUI,mBAAV,CAPvB;AAQE,IAAA,OAAO,EAAElB,YAAY,CAACC,eAAD,EAAkBc,OAAlB;AARvB,KASME,KATN,GAWGL,KAXH,aAWGA,KAXH,uBAWGA,KAAK,CAAES,KAAP,CAAa,CAAb,EAAgBd,MAAM,GAAG,CAAzB,CAXH,EAYG,CAAAK,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAES,KAAP,CAAad,MAAM,GAAG,CAAtB,MACC;AAAM,IAAA,GAAG,EAAEE,KAAX;AAAkB,IAAA,SAAS,EAAC;AAA5B,KACGG,KAAK,CAACS,KAAN,CAAYd,MAAM,GAAG,CAArB,CADH,CAbJ,EAiBGD,eAAe,CAACC,MAAM,qBAAIK,KAAJ,aAAIA,KAAJ,uBAAIA,KAAK,CAAEL,MAAX,yDAAqB,CAArB,CAAP,CAjBlB,CADF;AAqBD,CAvCM;AAyCPI,SAAS,CAACW,WAAV,GAAwB,WAAxB","sourcesContent":["import * as React from \"react\";\nimport { callMultiple } from \"../../lib/callMultiple\";\nimport { stopPropagation } from \"../../lib/utils\";\nimport { classNames } from \"../../lib/classNames\";\nimport { HasRootRef } from \"../../types\";\nimport \"./InputLike.css\";\n\nexport interface InputLikeProps\n  extends React.HTMLAttributes<HTMLSpanElement>,\n    HasRootRef<HTMLSpanElement> {\n  length: number;\n  index: number;\n  value?: string;\n  onElementSelect?(index: number): void;\n}\n\nconst MASK_SYMBOL = String.fromCharCode(0x2007);\n\nfunction getMaskElements(length: number) {\n  const result = [];\n  for (let index = 0; index < length; index += 1) {\n    result.push(\n      <span key={index} vkuiClass=\"InputLike__mask\">\n        {MASK_SYMBOL}\n      </span>\n    );\n  }\n  return result;\n}\n\nexport const InputLike: React.FC<InputLikeProps> = ({\n  value,\n  length,\n  index,\n  onElementSelect,\n  onClick,\n  onFocus,\n  getRootRef,\n  ...props\n}) => {\n  const handleElementSelect = React.useCallback(\n    (event: React.MouseEvent<HTMLSpanElement, MouseEvent>) => {\n      stopPropagation(event);\n      onElementSelect?.(index);\n    },\n    [index, onElementSelect]\n  );\n\n  return (\n    <span\n      vkuiClass={classNames(\n        \"InputLike\",\n        value?.length === length && `InputLike--full`\n      )}\n      tabIndex={0}\n      ref={getRootRef}\n      onClick={callMultiple(onClick, handleElementSelect)}\n      onFocus={callMultiple(stopPropagation, onFocus)}\n      {...props}\n    >\n      {value?.slice(0, length - 1)}\n      {value?.slice(length - 1) && (\n        <span key={index} vkuiClass=\"InputLike__last_character\">\n          {value.slice(length - 1)}\n        </span>\n      )}\n      {getMaskElements(length - (value?.length ?? 0))}\n    </span>\n  );\n};\n\nInputLike.displayName = \"InputLike\";\n"],"file":"InputLike.js"}