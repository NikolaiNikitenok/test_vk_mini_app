{"version":3,"sources":["../../../src/hooks/useOrientationChange.ts"],"names":["getOrientation","window","angle","Math","abs","screen","orientation","Number","useOrientationChange","React","useState","setOrientation"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AACA;;AAIA;AACA;AACA;AACA;AACA,SAASA,cAAT,CAAwBC,MAAxB,EAAiE;AAAA;;AAC/D,MAAI,CAACA,MAAL,EAAa;AACX,WAAO,UAAP;AACD;;AAED,MAAMC,KAAK,GAAGC,IAAI,CAACC,GAAL,4CACZH,MAAM,CAACI,MADK,6EACZ,eAAeC,WADH,2DACZ,uBAA4BJ,KADhB,yEACyBK,MAAM,CAACN,MAAM,CAACK,WAAR,CAD/B,CAAd;AAIA,SAAOJ,KAAK,KAAK,EAAV,GAAe,WAAf,GAA6B,UAApC;AACD;AAED;AACA;AACA;AACA;;;AACO,SAASM,oBAAT,GAA6C;AAClD,gBAAmB,kBAAnB;AAAA,MAAQP,MAAR,WAAQA,MAAR;;AAEA,wBAAsCQ,KAAK,CAACC,QAAN,CAAe;AAAA,WACnDV,cAAc,CAACC,MAAD,CADqC;AAAA,GAAf,CAAtC;AAAA;AAAA,MAAOK,WAAP;AAAA,MAAoBK,cAApB;;AAIA,sDAAuBV,MAAvB,EAA+B,mBAA/B,EAAoD;AAAA,WAClDU,cAAc,CAACX,cAAc,CAACC,MAAD,CAAf,CADoC;AAAA,GAApD;AAIA,SAAOK,WAAP;AACD","sourcesContent":["import * as React from \"react\";\nimport { useDOM } from \"../lib/dom\";\nimport { useGlobalEventListener } from \"./useGlobalEventListener\";\n\ntype Orientation = \"portrait\" | \"landscape\";\n\n/**\n * Возвращает текущую ориентация экрана на человеческом языке.\n * Учитывает особенности API на разных платформах.\n */\nfunction getOrientation(window: Window | undefined): Orientation {\n  if (!window) {\n    return \"portrait\";\n  }\n\n  const angle = Math.abs(\n    window.screen?.orientation?.angle ?? Number(window.orientation)\n  );\n\n  return angle === 90 ? \"landscape\" : \"portrait\";\n}\n\n/**\n * Возвращает текущую ориентация экрана на человеческом языке.\n * Обновляется при изменении ориентации.\n */\nexport function useOrientationChange(): Orientation {\n  const { window } = useDOM();\n\n  const [orientation, setOrientation] = React.useState(() =>\n    getOrientation(window)\n  );\n\n  useGlobalEventListener(window, \"orientationchange\", () =>\n    setOrientation(getOrientation(window))\n  );\n\n  return orientation;\n}\n"],"file":"useOrientationChange.js"}