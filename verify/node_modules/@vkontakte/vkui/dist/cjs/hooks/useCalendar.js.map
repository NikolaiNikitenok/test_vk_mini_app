{"version":3,"sources":["../../../src/hooks/useCalendar.ts"],"names":["useCalendar","value","disablePast","disableFuture","shouldDisableDate","React","useState","Array","isArray","Date","viewDate","setViewDate","focusedDay","setFocusedDay","setPrevMonth","useCallback","setNextMonth","isDayFocused","day","Boolean","isDayDisabled","now","disabled","resetSelectedDay","undefined"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AAiBO,SAASA,WAAT,OAKqB;AAAA;;AAAA,MAJ1BC,KAI0B,QAJ1BA,KAI0B;AAAA,MAH1BC,WAG0B,QAH1BA,WAG0B;AAAA,MAF1BC,aAE0B,QAF1BA,aAE0B;AAAA,MAD1BC,iBAC0B,QAD1BA,iBAC0B;;AAC1B,wBAAgCC,KAAK,CAACC,QAAN,UAC7BC,KAAK,CAACC,OAAN,CAAcP,KAAd,IAAuBA,KAAK,CAAC,CAAD,CAA5B,GAAkCA,KADL,yCACe,IAAIQ,IAAJ,EADf,CAAhC;AAAA;AAAA,MAAOC,QAAP;AAAA,MAAiBC,WAAjB;;AAGA,yBAAoCN,KAAK,CAACC,QAAN,EAApC;AAAA;AAAA,MAAOM,UAAP;AAAA,MAAmBC,aAAnB;;AAEA,MAAMC,YAAY,GAAGT,KAAK,CAACU,WAAN,CACnB;AAAA,WAAMJ,WAAW,CAAC,wBAAUD,QAAV,EAAoB,CAApB,CAAD,CAAjB;AAAA,GADmB,EAEnB,CAACA,QAAD,CAFmB,CAArB;AAIA,MAAMM,YAAY,GAAGX,KAAK,CAACU,WAAN,CACnB;AAAA,WAAMJ,WAAW,CAAC,wBAAUD,QAAV,EAAoB,CAApB,CAAD,CAAjB;AAAA,GADmB,EAEnB,CAACA,QAAD,CAFmB,CAArB;AAKA,MAAMO,YAAY,GAAGZ,KAAK,CAACU,WAAN,CACnB,UAACG,GAAD;AAAA,WAAeC,OAAO,CAACP,UAAU,IAAI,wBAAUM,GAAV,EAAeN,UAAf,CAAf,CAAtB;AAAA,GADmB,EAEnB,CAACA,UAAD,CAFmB,CAArB;AAKA,MAAMQ,aAAa,GAAGf,KAAK,CAACU,WAAN,CACpB,UAACG,GAAD,EAAe;AACb,QAAMG,GAAG,GAAG,IAAIZ,IAAJ,EAAZ;AACA,QAAIa,QAAQ,GAAG,KAAf;;AACA,QAAIpB,WAAJ,EAAiB;AACfoB,MAAAA,QAAQ,GAAG,uBAAS,uBAASJ,GAAT,CAAT,EAAwBG,GAAxB,CAAX;AACD;;AACD,QAAIlB,aAAJ,EAAmB;AACjBmB,MAAAA,QAAQ,GAAG,sBAAQ,yBAAWJ,GAAX,CAAR,EAAyBG,GAAzB,CAAX;AACD;;AACD,QAAIjB,iBAAJ,EAAuB;AACrBkB,MAAAA,QAAQ,GAAGlB,iBAAiB,CAACc,GAAD,CAA5B;AACD;;AAED,WAAOI,QAAP;AACD,GAfmB,EAgBpB,CAACnB,aAAD,EAAgBD,WAAhB,EAA6BE,iBAA7B,CAhBoB,CAAtB;AAmBA,MAAMmB,gBAAgB,GAAGlB,KAAK,CAACU,WAAN,CAAkB,YAAM;AAC/CF,IAAAA,aAAa,CAACW,SAAD,CAAb;AACD,GAFwB,EAEtB,CAACX,aAAD,CAFsB,CAAzB;AAIA,SAAO;AACLH,IAAAA,QAAQ,EAARA,QADK;AAELC,IAAAA,WAAW,EAAXA,WAFK;AAGLG,IAAAA,YAAY,EAAZA,YAHK;AAILE,IAAAA,YAAY,EAAZA,YAJK;AAKLJ,IAAAA,UAAU,EAAVA,UALK;AAMLC,IAAAA,aAAa,EAAbA,aANK;AAOLI,IAAAA,YAAY,EAAZA,YAPK;AAQLG,IAAAA,aAAa,EAAbA,aARK;AASLG,IAAAA,gBAAgB,EAAhBA;AATK,GAAP;AAWD","sourcesContent":["import * as React from \"react\";\nimport {\n  subMonths,\n  addMonths,\n  isSameDay,\n  isBefore,\n  endOfDay,\n  isAfter,\n  startOfDay,\n} from \"date-fns\";\n\nexport interface UseCalendarDependencies {\n  value?: Array<Date | null> | Date;\n  disablePast?: boolean;\n  disableFuture?: boolean;\n  shouldDisableDate?(value: Date): boolean;\n}\n\nexport function useCalendar({\n  value,\n  disablePast,\n  disableFuture,\n  shouldDisableDate,\n}: UseCalendarDependencies) {\n  const [viewDate, setViewDate] = React.useState(\n    (Array.isArray(value) ? value[0] : value) ?? new Date()\n  );\n  const [focusedDay, setFocusedDay] = React.useState<Date>();\n\n  const setPrevMonth = React.useCallback(\n    () => setViewDate(subMonths(viewDate, 1)),\n    [viewDate]\n  );\n  const setNextMonth = React.useCallback(\n    () => setViewDate(addMonths(viewDate, 1)),\n    [viewDate]\n  );\n\n  const isDayFocused = React.useCallback(\n    (day: Date) => Boolean(focusedDay && isSameDay(day, focusedDay)),\n    [focusedDay]\n  );\n\n  const isDayDisabled = React.useCallback(\n    (day: Date) => {\n      const now = new Date();\n      let disabled = false;\n      if (disablePast) {\n        disabled = isBefore(endOfDay(day), now);\n      }\n      if (disableFuture) {\n        disabled = isAfter(startOfDay(day), now);\n      }\n      if (shouldDisableDate) {\n        disabled = shouldDisableDate(day);\n      }\n\n      return disabled;\n    },\n    [disableFuture, disablePast, shouldDisableDate]\n  );\n\n  const resetSelectedDay = React.useCallback(() => {\n    setFocusedDay(undefined);\n  }, [setFocusedDay]);\n\n  return {\n    viewDate,\n    setViewDate,\n    setPrevMonth,\n    setNextMonth,\n    focusedDay,\n    setFocusedDay,\n    isDayFocused,\n    isDayDisabled,\n    resetSelectedDay,\n  };\n}\n"],"file":"useCalendar.js"}