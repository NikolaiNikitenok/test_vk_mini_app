{"version":3,"sources":["../../../src/hoc/withAdaptivity.tsx"],"names":["withAdaptivity","TargetComponent","config","AdaptivityConsumer","props","context","React","useContext","AdaptivityContext","update","sizeX","sizeY","viewWidth","viewHeight","hasMouse","deviceHasHover","adaptivityProps","undefined","target"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AAsBO,SAASA,cAAT,CACLC,eADK,EAELC,MAFK,EAG4D;AACjE,MAAMC,kBAEL,GAAG,SAFEA,kBAEF,CAACC,KAAD,EAAkE;AACpE,QAAMC,OAAO,GAAGC,KAAK,CAACC,UAAN,CAAiBC,oCAAjB,CAAhB;AACA,QAAIC,MAAM,GAAG,KAAb;;AAEA,QAAIL,KAAK,CAACM,KAAN,IAAeN,KAAK,CAACO,KAAzB,EAAgC;AAC9BF,MAAAA,MAAM,GAAG,IAAT;AACD;;AAED,QAAMC,KAAK,GAAGN,KAAK,CAACM,KAAN,IAAeL,OAAO,CAACK,KAArC;AACA,QAAMC,KAAK,GAAGP,KAAK,CAACO,KAAN,IAAeN,OAAO,CAACM,KAArC;AACA,QAAMC,SAAS,GAAGP,OAAO,CAACO,SAA1B;AACA,QAAMC,UAAU,GAAGR,OAAO,CAACQ,UAA3B;AACA,QAAMC,QAAQ,GAAGT,OAAO,CAACS,QAAzB;AACA,QAAMC,cAAc,GAAGV,OAAO,CAACU,cAA/B;AAEA,QAAMC,eAOL,GAAG,EAPJ;AASAd,IAAAA,MAAM,CAACQ,KAAP,GAAgBM,eAAe,CAACN,KAAhB,GAAwBA,KAAxC,GAAiDO,SAAjD;AACAf,IAAAA,MAAM,CAACS,KAAP,GAAgBK,eAAe,CAACL,KAAhB,GAAwBA,KAAxC,GAAiDM,SAAjD;AACAf,IAAAA,MAAM,CAACU,SAAP,GAAoBI,eAAe,CAACJ,SAAhB,GAA4BA,SAAhD,GAA6DK,SAA7D;AACAf,IAAAA,MAAM,CAACW,UAAP,GAAqBG,eAAe,CAACH,UAAhB,GAA6BA,UAAlD,GAAgEI,SAAhE;AACAf,IAAAA,MAAM,CAACY,QAAP,GAAmBE,eAAe,CAACF,QAAhB,GAA2BA,QAA9C,GAA0DG,SAA1D;AACAf,IAAAA,MAAM,CAACa,cAAP,GACKC,eAAe,CAACD,cAAhB,GAAiCA,cADtC,GAEIE,SAFJ;AAIA,QAAMC,MAAM,GAAG,qCAAC,eAAD,6BAAsBd,KAAtB,EAAuCY,eAAvC,EAAf;;AAEA,QAAIP,MAAJ,EAAY;AACV,aACE,qCAAC,oCAAD,CAAmB,QAAnB;AACE,QAAA,KAAK,EAAE;AACLC,UAAAA,KAAK,EAALA,KADK;AAELC,UAAAA,KAAK,EAALA,KAFK;AAGLC,UAAAA,SAAS,EAATA,SAHK;AAILC,UAAAA,UAAU,EAAVA,UAJK;AAKLC,UAAAA,QAAQ,EAARA,QALK;AAMLC,UAAAA,cAAc,EAAdA;AANK;AADT,SAUGG,MAVH,CADF;AAcD;;AAED,WAAOA,MAAP;AACD,GAvDD;;AAyDA,SAAOf,kBAAP;AACD","sourcesContent":["import * as React from \"react\";\nimport {\n  AdaptivityContext,\n  SizeType,\n  ViewHeight,\n  ViewWidth,\n  AdaptivityContextInterface,\n  AdaptivityProps,\n  SizeProps,\n} from \"../components/AdaptivityProvider/AdaptivityContext\";\n\nexport { SizeType, ViewWidth, ViewHeight };\nexport type { AdaptivityProps };\n\ninterface Config {\n  sizeX?: boolean;\n  sizeY?: boolean;\n  viewWidth?: boolean;\n  viewHeight?: boolean;\n  hasMouse?: boolean;\n  deviceHasHover?: boolean;\n}\n\nexport function withAdaptivity<T extends AdaptivityProps>(\n  TargetComponent: React.ComponentType<T>,\n  config: Config\n): React.FC<Omit<T, keyof AdaptivityContextInterface> & SizeProps> {\n  const AdaptivityConsumer: React.ComponentType<\n    Omit<T, keyof AdaptivityContextInterface> & SizeProps\n  > = (props: Omit<T, keyof AdaptivityContextInterface> & SizeProps) => {\n    const context = React.useContext(AdaptivityContext);\n    let update = false;\n\n    if (props.sizeX || props.sizeY) {\n      update = true;\n    }\n\n    const sizeX = props.sizeX || context.sizeX;\n    const sizeY = props.sizeY || context.sizeY;\n    const viewWidth = context.viewWidth;\n    const viewHeight = context.viewHeight;\n    const hasMouse = context.hasMouse;\n    const deviceHasHover = context.deviceHasHover;\n\n    const adaptivityProps: {\n      sizeX?: SizeType;\n      sizeY?: SizeType;\n      viewWidth?: ViewWidth;\n      viewHeight?: ViewHeight;\n      hasMouse?: boolean;\n      deviceHasHover?: boolean;\n    } = {};\n\n    config.sizeX ? (adaptivityProps.sizeX = sizeX) : undefined;\n    config.sizeY ? (adaptivityProps.sizeY = sizeY) : undefined;\n    config.viewWidth ? (adaptivityProps.viewWidth = viewWidth) : undefined;\n    config.viewHeight ? (adaptivityProps.viewHeight = viewHeight) : undefined;\n    config.hasMouse ? (adaptivityProps.hasMouse = hasMouse) : undefined;\n    config.deviceHasHover\n      ? (adaptivityProps.deviceHasHover = deviceHasHover)\n      : undefined;\n\n    const target = <TargetComponent {...(props as T)} {...adaptivityProps} />;\n\n    if (update) {\n      return (\n        <AdaptivityContext.Provider\n          value={{\n            sizeX,\n            sizeY,\n            viewWidth,\n            viewHeight,\n            hasMouse,\n            deviceHasHover,\n          }}\n        >\n          {target}\n        </AdaptivityContext.Provider>\n      );\n    }\n\n    return target;\n  };\n\n  return AdaptivityConsumer;\n}\n"],"file":"withAdaptivity.js"}