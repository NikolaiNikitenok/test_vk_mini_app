{"version":3,"sources":["../../../../src/components/ActionSheetItem/ActionSheetItem.tsx"],"names":["ActionSheetItemComponent","children","autoclose","mode","meta","subtitle","before","selectable","value","name","checked","defaultChecked","onChange","onClick","sizeY","onImmediateClick","restProps","platform","React","useContext","ActionSheetContext","onItemClick","noop","isDesktop","Component","href","isCompact","Boolean","SizeType","COMPACT","ANDROID","disabled","VKCOM","ActionSheetItem"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport { classNames } from \"../../lib/classNames\";\nimport { getClassName } from \"../../helpers/getClassName\";\nimport Tappable from \"../Tappable/Tappable\";\nimport { usePlatform } from \"../../hooks/usePlatform\";\nimport { hasReactNode, noop } from \"../../lib/utils\";\nimport Subhead from \"../Typography/Subhead/Subhead\";\nimport Title from \"../Typography/Title/Title\";\nimport Text from \"../Typography/Text/Text\";\nimport { ANDROID, VKCOM } from \"../../lib/platform\";\nimport { Icon16Done, Icon24Done } from \"@vkontakte/icons\";\nimport {\n  ActionSheetContext,\n  ActionSheetContextType,\n} from \"../ActionSheet/ActionSheetContext\";\nimport { Caption } from \"../Typography/Caption/Caption\";\nimport Headline from \"../Typography/Headline/Headline\";\nimport {\n  withAdaptivity,\n  AdaptivityProps,\n  SizeType,\n} from \"../../hoc/withAdaptivity\";\nimport \"./ActionSheetItem.css\";\n\nexport interface ActionSheetItemProps\n  extends React.HTMLAttributes<HTMLElement>,\n    React.AnchorHTMLAttributes<HTMLElement>,\n    Pick<\n      React.InputHTMLAttributes<HTMLInputElement>,\n      \"name\" | \"checked\" | \"value\"\n    >,\n    AdaptivityProps {\n  mode?: \"default\" | \"destructive\" | \"cancel\";\n  before?: React.ReactNode;\n  meta?: React.ReactNode;\n  subtitle?: React.ReactNode;\n  autoclose?: boolean;\n  selectable?: boolean;\n  disabled?: boolean;\n  /**\n   * Если autoclose === true, onClick будет вызван после завершения анимации скрытия и после вызова onClose.\n   * Из этого следует, что в объекте события значения полей типа `currentTarget` будут не определены.\n   * Если вам нужен объект события именно на момент клика, используйте `onImmediateClick`.\n   */\n  onClick?: React.MouseEventHandler<HTMLElement>;\n  onImmediateClick?: React.MouseEventHandler<HTMLElement>;\n}\n\nconst ActionSheetItemComponent: React.FC<ActionSheetItemProps> = ({\n  children,\n  autoclose,\n  mode = \"default\",\n  meta,\n  subtitle,\n  before,\n  selectable,\n  value,\n  name,\n  checked,\n  defaultChecked,\n  onChange,\n  onClick,\n  sizeY,\n  onImmediateClick,\n  ...restProps\n}: ActionSheetItemProps) => {\n  const platform = usePlatform();\n  const { onItemClick = () => noop, isDesktop } =\n    React.useContext<ActionSheetContextType<HTMLElement>>(ActionSheetContext);\n\n  let Component: React.ElementType = restProps.href ? \"a\" : \"div\";\n\n  if (selectable) {\n    Component = \"label\";\n  }\n\n  const isCompact = hasReactNode(subtitle) || hasReactNode(meta) || selectable;\n\n  return (\n    <Tappable\n      {...restProps}\n      onClick={\n        selectable\n          ? onClick\n          : onItemClick(onClick, onImmediateClick, Boolean(autoclose))\n      }\n      activeMode=\"ActionSheetItem--active\"\n      vkuiClass={classNames(\n        getClassName(\"ActionSheetItem\", platform),\n        `ActionSheetItem--${mode}`,\n        `ActionSheetItem--sizeY-${sizeY}`,\n        {\n          \"ActionSheetItem--compact\": isCompact,\n          \"ActionSheetItem--desktop\": isDesktop,\n          \"ActionSheetItem--withSubtitle\": hasReactNode(subtitle),\n        }\n      )}\n      Component={Component}\n    >\n      {hasReactNode(before) && (\n        <div vkuiClass=\"ActionSheetItem__before\">{before}</div>\n      )}\n      <div vkuiClass=\"ActionSheetItem__container\">\n        <div vkuiClass=\"ActionSheetItem__content\">\n          {sizeY === SizeType.COMPACT ? (\n            <React.Fragment>\n              <Text\n                weight={mode === \"cancel\" ? \"medium\" : \"regular\"}\n                vkuiClass=\"ActionSheetItem__children\"\n              >\n                {children}\n              </Text>\n              {hasReactNode(meta) && (\n                <Text weight=\"regular\" vkuiClass=\"ActionSheetItem__meta\">\n                  {meta}\n                </Text>\n              )}\n            </React.Fragment>\n          ) : (\n            <React.Fragment>\n              {platform === ANDROID ? (\n                <Headline weight={mode === \"cancel\" ? \"medium\" : \"regular\"}>\n                  {children}\n                </Headline>\n              ) : (\n                <Title\n                  weight={mode === \"cancel\" ? \"2\" : \"3\"}\n                  level={isCompact || hasReactNode(before) ? \"3\" : \"2\"}\n                  vkuiClass=\"ActionSheetItem__children\"\n                >\n                  {children}\n                </Title>\n              )}\n              {hasReactNode(meta) &&\n                (platform === ANDROID ? (\n                  <Headline weight={mode === \"cancel\" ? \"medium\" : \"regular\"}>\n                    {children}\n                  </Headline>\n                ) : (\n                  <Title\n                    weight=\"3\"\n                    level={isCompact || hasReactNode(before) ? \"3\" : \"2\"}\n                    vkuiClass=\"ActionSheetItem__meta\"\n                  >\n                    {meta}\n                  </Title>\n                ))}\n            </React.Fragment>\n          )}\n        </div>\n        {hasReactNode(subtitle) &&\n          (sizeY === SizeType.COMPACT ? (\n            <Caption vkuiClass=\"ActionSheetItem__subtitle\">{subtitle}</Caption>\n          ) : (\n            <Subhead vkuiClass=\"ActionSheetItem__subtitle\">{subtitle}</Subhead>\n          ))}\n      </div>\n      {selectable && (\n        <div vkuiClass=\"ActionSheetItem__after\">\n          <input\n            type=\"radio\"\n            vkuiClass=\"ActionSheetItem__radio\"\n            name={name}\n            value={value}\n            onChange={onChange}\n            onClick={onItemClick(noop, noop, Boolean(autoclose))}\n            defaultChecked={defaultChecked}\n            checked={checked}\n            disabled={restProps.disabled}\n          />\n          <div vkuiClass=\"ActionSheetItem__marker\">\n            {platform === VKCOM ? <Icon24Done /> : <Icon16Done />}\n          </div>\n        </div>\n      )}\n    </Tappable>\n  );\n};\n\nexport const ActionSheetItem = withAdaptivity(ActionSheetItemComponent, {\n  sizeY: true,\n});\n"],"file":"ActionSheetItem.js"}