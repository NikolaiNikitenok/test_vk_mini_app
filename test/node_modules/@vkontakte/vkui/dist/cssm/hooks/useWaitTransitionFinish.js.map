{"version":3,"sources":["../../../src/hooks/useWaitTransitionFinish.ts"],"names":["React","transitionEvent","useWaitTransitionFinish","timeoutRef","useRef","waitTransitionFinish","element","eventHandler","durationFallback","supported","name","removeEventListener","addEventListener","current","clearTimeout","setTimeout"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,eAAT;AAEA,OAAO,IAAMC,uBAAuB,GAAG,SAA1BA,uBAA0B,GAAM;AAC3C,MAAMC,UAAU,GAAGH,KAAK,CAACI,MAAN,CAAmD,IAAnD,CAAnB;;AAEA,MAAMC,oBAAoB,GAAG,SAAvBA,oBAAuB,CAC3BC,OAD2B,EAE3BC,YAF2B,EAG3BC,gBAH2B,EAIxB;AACH,QAAIF,OAAJ,EAAa;AACX,UAAIL,eAAe,CAACQ,SAAhB,IAA6BR,eAAe,CAACS,IAAjD,EAAuD;AACrDJ,QAAAA,OAAO,CAACK,mBAAR,CAA4BV,eAAe,CAACS,IAA5C,EAAkDH,YAAlD;AACAD,QAAAA,OAAO,CAACM,gBAAR,CAAyBX,eAAe,CAACS,IAAzC,EAA+CH,YAA/C;AACD,OAHD,MAGO;AACL,YAAIJ,UAAJ,aAAIA,UAAJ,eAAIA,UAAU,CAAEU,OAAhB,EAAyB;AACvBC,UAAAA,YAAY,CAACX,UAAU,CAACU,OAAZ,CAAZ;AACD;;AACDV,QAAAA,UAAU,CAACU,OAAX,GAAqBE,UAAU,CAACR,YAAD,EAAeC,gBAAf,CAA/B;AACD;AACF;AACF,GAhBD;;AAkBA,SAAO;AACLH,IAAAA,oBAAoB,EAApBA;AADK,GAAP;AAGD,CAxBM","sourcesContent":["import * as React from \"react\";\nimport { transitionEvent } from \"../lib/supportEvents\";\n\nexport const useWaitTransitionFinish = () => {\n  const timeoutRef = React.useRef<ReturnType<typeof setTimeout> | null>(null);\n\n  const waitTransitionFinish = (\n    element: HTMLElement | null,\n    eventHandler: VoidFunction,\n    durationFallback: number\n  ) => {\n    if (element) {\n      if (transitionEvent.supported && transitionEvent.name) {\n        element.removeEventListener(transitionEvent.name, eventHandler);\n        element.addEventListener(transitionEvent.name, eventHandler);\n      } else {\n        if (timeoutRef?.current) {\n          clearTimeout(timeoutRef.current);\n        }\n        timeoutRef.current = setTimeout(eventHandler, durationFallback);\n      }\n    }\n  };\n\n  return {\n    waitTransitionFinish,\n  };\n};\n"],"file":"useWaitTransitionFinish.js"}