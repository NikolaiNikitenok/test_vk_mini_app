{"version":3,"sources":["../../../../src/components/PanelHeader/PanelHeader.tsx"],"names":["PanelHeaderIn","children","left","right","React","useContext","ConfigProviderContext","webviewType","ModalRootContext","isInsideModal","platform","VKCOM","WebviewType","INTERNAL","PanelHeader","props","separator","visor","transparent","shadow","getRef","getRootRef","sizeX","sizeY","fixed","restProps","needShadow","SizeType","REGULAR","isFixed","undefined","Platform","VKAPPS","defaultProps"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport { usePlatform } from \"../../hooks/usePlatform\";\nimport { getClassName } from \"../../helpers/getClassName\";\nimport { classNames } from \"../../lib/classNames\";\nimport FixedLayout from \"../FixedLayout/FixedLayout\";\nimport Separator from \"../Separator/Separator\";\nimport { Platform, VKCOM } from \"../../lib/platform\";\nimport { HasRef, HasRootRef } from \"../../types\";\nimport {\n  ConfigProviderContext,\n  WebviewType,\n} from \"../ConfigProvider/ConfigProviderContext\";\nimport {\n  AdaptivityProps,\n  SizeType,\n  withAdaptivity,\n} from \"../../hoc/withAdaptivity\";\nimport Text from \"../Typography/Text/Text\";\nimport { TooltipContainer } from \"../Tooltip/TooltipContainer\";\nimport ModalRootContext from \"../ModalRoot/ModalRootContext\";\nimport \"./PanelHeader.css\";\n\nexport interface PanelHeaderProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    HasRef<HTMLDivElement>,\n    HasRootRef<HTMLDivElement>,\n    AdaptivityProps {\n  left?: React.ReactNode;\n  right?: React.ReactNode;\n  separator?: boolean;\n  transparent?: boolean;\n  shadow?: boolean;\n  /**\n   * Если `false`, то шапка будет нулевой высоты и контент панели \"залезет\" под неё\n   */\n  visor?: boolean;\n  /**\n   * Если `false`, то шапка будет в потоке. По умолчанию `true`, но если платформа vkcom, то по умолчанию `false`.\n   */\n  fixed?: boolean;\n}\n\nconst PanelHeaderIn: React.FC<PanelHeaderProps> = ({\n  children,\n  left,\n  right,\n}) => {\n  const { webviewType } = React.useContext(ConfigProviderContext);\n  const { isInsideModal } = React.useContext(ModalRootContext);\n  const platform = usePlatform();\n\n  return (\n    <TooltipContainer fixed vkuiClass=\"PanelHeader__in\">\n      <div vkuiClass=\"PanelHeader__left\">{left}</div>\n      <div vkuiClass=\"PanelHeader__content\">\n        {platform === VKCOM ? (\n          <Text weight=\"medium\">{children}</Text>\n        ) : (\n          <span vkuiClass=\"PanelHeader__content-in\">{children}</span>\n        )}\n      </div>\n      <div vkuiClass=\"PanelHeader__right\">\n        {(webviewType === WebviewType.INTERNAL || isInsideModal) && right}\n      </div>\n    </TooltipContainer>\n  );\n};\n\nconst PanelHeader: React.FC<PanelHeaderProps> = (props: PanelHeaderProps) => {\n  const {\n    left,\n    children,\n    right,\n    separator,\n    visor,\n    transparent,\n    shadow,\n    getRef,\n    getRootRef,\n    sizeX,\n    sizeY,\n    fixed,\n    ...restProps\n  } = props;\n  const platform = usePlatform();\n  const { webviewType } = React.useContext(ConfigProviderContext);\n  const { isInsideModal } = React.useContext(ModalRootContext);\n  const needShadow = shadow && sizeX === SizeType.REGULAR;\n  let isFixed = fixed !== undefined ? fixed : platform !== Platform.VKCOM;\n\n  return (\n    <div\n      {...restProps}\n      vkuiClass={classNames(\n        getClassName(\"PanelHeader\", platform),\n        {\n          \"PanelHeader--trnsp\": transparent,\n          \"PanelHeader--shadow\": needShadow,\n          \"PanelHeader--vis\": visor,\n          \"PanelHeader--sep\": separator && visor,\n          \"PanelHeader--vkapps\":\n            webviewType === WebviewType.VKAPPS && !isInsideModal,\n          \"PanelHeader--no-left\": !left,\n          \"PanelHeader--no-right\": !right,\n          \"PanelHeader--fixed\": isFixed,\n        },\n        `PanelHeader--sizeX-${sizeX}`\n      )}\n      ref={isFixed ? getRootRef : getRef}\n    >\n      {isFixed ? (\n        <FixedLayout\n          vkuiClass=\"PanelHeader__fixed\"\n          vertical=\"top\"\n          getRootRef={getRef}\n        >\n          <PanelHeaderIn {...props} />\n        </FixedLayout>\n      ) : (\n        <PanelHeaderIn {...props} />\n      )}\n      {separator && visor && platform !== VKCOM && (\n        <Separator\n          vkuiClass=\"PanelHeader__separator\"\n          expanded={sizeX === SizeType.REGULAR}\n        />\n      )}\n    </div>\n  );\n};\n\nPanelHeader.defaultProps = {\n  separator: true,\n  transparent: false,\n  visor: true,\n};\n\n// eslint-disable-next-line import/no-default-export\nexport default withAdaptivity(PanelHeader, {\n  sizeX: true,\n  sizeY: true,\n});\n"],"file":"PanelHeader.js"}