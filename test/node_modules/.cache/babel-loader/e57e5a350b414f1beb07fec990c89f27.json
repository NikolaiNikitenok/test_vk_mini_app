{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"children\", \"align\", \"controlSize\", \"mode\", \"stretched\", \"before\", \"className\", \"style\", \"getRef\", \"getRootRef\", \"onClick\", \"appearance\"];\nimport { createScopedElement } from \"../../lib/jsxRuntime\";\nimport { getClassName } from \"../../helpers/getClassName\";\nimport Button from \"../Button/Button\";\nimport { usePlatform } from \"../../hooks/usePlatform\";\nimport { useExternRef } from \"../../hooks/useExternRef\";\n\nvar File = function File(props) {\n  var children = props.children,\n      align = props.align,\n      controlSize = props.controlSize,\n      mode = props.mode,\n      stretched = props.stretched,\n      before = props.before,\n      className = props.className,\n      style = props.style,\n      getRef = props.getRef,\n      getRootRef = props.getRootRef,\n      _onClick = props.onClick,\n      appearance = props.appearance,\n      restProps = _objectWithoutProperties(props, _excluded);\n\n  var platform = usePlatform();\n  var inputRef = useExternRef(getRef);\n  return createScopedElement(Button, {\n    align: align,\n    vkuiClass: getClassName(\"File\", platform),\n    className: className,\n    stretched: stretched,\n    mode: mode,\n    appearance: appearance,\n    size: controlSize,\n    before: before,\n    style: style,\n    getRootRef: getRootRef,\n    disabled: restProps.disabled,\n    type: \"button\",\n    onClick: function onClick(e) {\n      var _inputRef$current;\n\n      (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.click();\n      _onClick && _onClick(e);\n    }\n  }, createScopedElement(\"input\", _extends({}, restProps, {\n    vkuiClass: \"File__input\",\n    type: \"file\",\n    ref: inputRef\n  })), children);\n};\n\nFile.defaultProps = {\n  children: \"Выберите файл\",\n  align: \"left\"\n}; // eslint-disable-next-line import/no-default-export\n\nexport default File;","map":{"version":3,"mappings":";;;;AACA,SAASA,YAAT;AACA,OAAOC,MAAP;AAEA,SAASC,WAAT;AACA,SAASC,YAAT;;AAYA,IAAMC,IAAwC,GAAG,SAA3CA,IAA2C,CAACC,KAAD,EAAsB;AACrE,MACEC,QADF,GAcID,KAdJ,CACEC,QADF;AAAA,MAEEC,KAFF,GAcIF,KAdJ,CAEEE,KAFF;AAAA,MAGEC,WAHF,GAcIH,KAdJ,CAGEG,WAHF;AAAA,MAIEC,IAJF,GAcIJ,KAdJ,CAIEI,IAJF;AAAA,MAKEC,SALF,GAcIL,KAdJ,CAKEK,SALF;AAAA,MAMEC,MANF,GAcIN,KAdJ,CAMEM,MANF;AAAA,MAOEC,SAPF,GAcIP,KAdJ,CAOEO,SAPF;AAAA,MAQEC,KARF,GAcIR,KAdJ,CAQEQ,KARF;AAAA,MASEC,MATF,GAcIT,KAdJ,CASES,MATF;AAAA,MAUEC,UAVF,GAcIV,KAdJ,CAUEU,UAVF;AAAA,MAWEC,QAXF,GAcIX,KAdJ,CAWEW,OAXF;AAAA,MAYEC,UAZF,GAcIZ,KAdJ,CAYEY,UAZF;AAAA,MAaKC,SAbL,4BAcIb,KAdJ;;AAgBA,MAAMc,QAAQ,GAAGjB,WAAW,EAA5B;AACA,MAAMkB,QAAQ,GAAGjB,YAAY,CAACW,MAAD,CAA7B;AAEA,SACEO,oBAACpB,MAAD;AACEM,SAAK,EAAEA,KADT;AAEEe,aAAS,EAAEtB,YAAY,CAAC,MAAD,EAASmB,QAAT,CAFzB;AAGEP,aAAS,EAAEA,SAHb;AAIEF,aAAS,EAAEA,SAJb;AAKED,QAAI,EAAEA,IALR;AAMEQ,cAAU,EAAEA,UANd;AAOEM,QAAI,EAAEf,WAPR;AAQEG,UAAM,EAAEA,MARV;AASEE,SAAK,EAAEA,KATT;AAUEE,cAAU,EAAEA,UAVd;AAWES,YAAQ,EAAEN,SAAS,CAACM,QAXtB;AAYEC,QAAI,EAAC,QAZP;AAaET,WAAO,EAAE,iBAACU,CAAD,EAAO;AAAA;;AACd,mCAAQ,CAACC,OAAT,wEAAkBC,KAAlB;AACAZ,cAAO,IAAIA,QAAO,CAACU,CAAD,CAAlBV;AACD;AAhBH,KAkBEK,0CACMH,SADN;AAEEI,aAAS,EAAC,aAFZ;AAGEG,QAAI,EAAC,MAHP;AAIEI,OAAG,EAAET;AAJP,KAlBF,EAwBGd,QAxBH,CADF;AApBF;;AAkDAF,IAAI,CAAC0B,YAAL1B,GAAoB;AAClBE,UAAQ,EAAE,eADQ;AAElBC,OAAK,EAAE;AAFW,CAApBH,C,CAKA;;AACA,eAAeA,IAAf","names":["getClassName","Button","usePlatform","useExternRef","File","props","children","align","controlSize","mode","stretched","before","className","style","getRef","getRootRef","onClick","appearance","restProps","platform","inputRef","createScopedElement","vkuiClass","size","disabled","type","e","current","click","ref","defaultProps"],"sources":["../../../src/components/File/File.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { getClassName } from \"../../helpers/getClassName\";\nimport Button, { VKUIButtonProps } from \"../Button/Button\";\nimport { HasRef, HasRootRef } from \"../../types\";\nimport { usePlatform } from \"../../hooks/usePlatform\";\nimport { useExternRef } from \"../../hooks/useExternRef\";\nimport \"./File.css\";\n\nexport interface FileProps\n  extends Omit<VKUIButtonProps, \"size\" | \"type\">,\n    Omit<React.InputHTMLAttributes<HTMLInputElement>, \"onClick\" | \"type\">,\n    Pick<React.HTMLAttributes<HTMLElement>, \"onClick\">,\n    HasRef<HTMLInputElement>,\n    HasRootRef<HTMLElement> {\n  controlSize?: VKUIButtonProps[\"size\"];\n}\n\nconst File: React.FunctionComponent<FileProps> = (props: FileProps) => {\n  const {\n    children,\n    align,\n    controlSize,\n    mode,\n    stretched,\n    before,\n    className,\n    style,\n    getRef,\n    getRootRef,\n    onClick,\n    appearance,\n    ...restProps\n  } = props;\n\n  const platform = usePlatform();\n  const inputRef = useExternRef(getRef);\n\n  return (\n    <Button\n      align={align}\n      vkuiClass={getClassName(\"File\", platform)}\n      className={className}\n      stretched={stretched}\n      mode={mode}\n      appearance={appearance}\n      size={controlSize}\n      before={before}\n      style={style}\n      getRootRef={getRootRef}\n      disabled={restProps.disabled}\n      type=\"button\"\n      onClick={(e) => {\n        inputRef.current?.click();\n        onClick && onClick(e);\n      }}\n    >\n      <input\n        {...restProps}\n        vkuiClass=\"File__input\"\n        type=\"file\"\n        ref={inputRef}\n      />\n      {children}\n    </Button>\n  );\n};\n\nFile.defaultProps = {\n  children: \"Выберите файл\",\n  align: \"left\",\n};\n\n// eslint-disable-next-line import/no-default-export\nexport default File;\n"]},"metadata":{},"sourceType":"module"}