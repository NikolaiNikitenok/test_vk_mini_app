{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"header\", \"description\", \"children\", \"separator\", \"getRootRef\", \"mode\", \"sizeX\"];\nimport { createScopedElement } from \"../../lib/jsxRuntime\";\nimport * as React from \"react\";\nimport { getClassName } from \"../../helpers/getClassName\";\nimport { classNames } from \"../../lib/classNames\";\nimport { usePlatform } from \"../../hooks/usePlatform\";\nimport Separator from \"../Separator/Separator\";\nimport { hasReactNode } from \"../../lib/utils\";\nimport { Caption } from \"../Typography/Caption/Caption\";\nimport { withAdaptivity, SizeType } from \"../../hoc/withAdaptivity\";\nimport ModalRootContext from \"../ModalRoot/ModalRootContext\";\n\nvar Group = function Group(props) {\n  var header = props.header,\n      description = props.description,\n      children = props.children,\n      separator = props.separator,\n      getRootRef = props.getRootRef,\n      mode = props.mode,\n      sizeX = props.sizeX,\n      restProps = _objectWithoutProperties(props, _excluded);\n\n  var _React$useContext = React.useContext(ModalRootContext),\n      isInsideModal = _React$useContext.isInsideModal;\n\n  var platform = usePlatform();\n  var computedMode = mode;\n\n  if (!mode) {\n    computedMode = sizeX === SizeType.COMPACT || isInsideModal ? \"plain\" : \"card\";\n  }\n\n  return createScopedElement(\"section\", _extends({}, restProps, {\n    ref: getRootRef,\n    vkuiClass: classNames(getClassName(\"Group\", platform), \"Group--sizeX-\".concat(sizeX), \"Group--\".concat(computedMode))\n  }), createScopedElement(\"div\", {\n    vkuiClass: \"Group__inner\"\n  }, header, children, hasReactNode(description) && createScopedElement(Caption, {\n    vkuiClass: \"Group__description\"\n  }, description)), separator !== \"hide\" && createScopedElement(Separator, {\n    vkuiClass: classNames(\"Group__separator\", {\n      \"Group__separator--force\": separator === \"show\"\n    }),\n    expanded: computedMode === \"card\"\n  }));\n};\n\nGroup.defaultProps = {\n  separator: \"auto\"\n}; // eslint-disable-next-line import/no-default-export\n\nexport default withAdaptivity(Group, {\n  sizeX: true\n});","map":{"version":3,"mappings":";;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,YAAT;AACA,SAASC,UAAT;AAEA,SAASC,WAAT;AACA,OAAOC,SAAP;AACA,SAASC,YAAT;AACA,SAASC,OAAT;AACA,SACEC,cADF,EAGEC,QAHF;AAKA,OAAOC,gBAAP;;AAwBA,IAAMC,KAA2B,GAAG,SAA9BA,KAA8B,CAACC,KAAD,EAAuB;AACzD,MACEC,MADF,GASID,KATJ,CACEC,MADF;AAAA,MAEEC,WAFF,GASIF,KATJ,CAEEE,WAFF;AAAA,MAGEC,QAHF,GASIH,KATJ,CAGEG,QAHF;AAAA,MAIEC,SAJF,GASIJ,KATJ,CAIEI,SAJF;AAAA,MAKEC,UALF,GASIL,KATJ,CAKEK,UALF;AAAA,MAMEC,IANF,GASIN,KATJ,CAMEM,IANF;AAAA,MAOEC,KAPF,GASIP,KATJ,CAOEO,KAPF;AAAA,MAQKC,SARL,4BASIR,KATJ;;AAUA,0BAA0BX,KAAK,CAACoB,UAANpB,CAAiBS,gBAAjBT,CAA1B;AAAA,MAAQqB,aAAR,qBAAQA,aAAR;;AACA,MAAMC,QAAQ,GAAGnB,WAAW,EAA5B;AAEA,MAAIoB,YAAgC,GAAGN,IAAvC;;AAEA,MAAI,CAACA,IAAL,EAAW;AACTM,gBAAY,GACVL,KAAK,KAAKV,QAAQ,CAACgB,OAAnBN,IAA8BG,aAA9BH,GAA8C,OAA9CA,GAAwD,MAD1DK;AAED;;AAED,SACEE,4CACMN,SADN;AAEEO,OAAG,EAAEV,UAFP;AAGEW,aAAS,EAAEzB,UAAU,CACnBD,YAAY,CAAC,OAAD,EAAUqB,QAAV,CADO,yBAEHJ,KAFG,oBAGTK,YAHS;AAHvB,MASEE;AAAKE,aAAS,EAAC;AAAf,KACGf,MADH,EAEGE,QAFH,EAGGT,YAAY,CAACQ,WAAD,CAAZR,IACCoB,oBAACnB,OAAD;AAASqB,aAAS,EAAC;AAAnB,KAAyCd,WAAzC,CAJJ,CATF,EAiBGE,SAAS,KAAK,MAAdA,IACCU,oBAACrB,SAAD;AACEuB,aAAS,EAAEzB,UAAU,CAAC,kBAAD,EAAqB;AACxC,iCAA2Ba,SAAS,KAAK;AADD,KAArB,CADvB;AAIEa,YAAQ,EAAEL,YAAY,KAAK;AAJ7B,IAlBJ,CADF;AArBF;;AAmDAb,KAAK,CAACmB,YAANnB,GAAqB;AACnBK,WAAS,EAAE;AADQ,CAArBL,C,CAIA;;AACA,eAAeH,cAAc,CAACG,KAAD,EAAQ;AAAEQ,OAAK,EAAE;AAAT,CAAR,CAA7B","names":["React","getClassName","classNames","usePlatform","Separator","hasReactNode","Caption","withAdaptivity","SizeType","ModalRootContext","Group","props","header","description","children","separator","getRootRef","mode","sizeX","restProps","useContext","isInsideModal","platform","computedMode","COMPACT","createScopedElement","ref","vkuiClass","expanded","defaultProps"],"sources":["../../../src/components/Group/Group.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { getClassName } from \"../../helpers/getClassName\";\nimport { classNames } from \"../../lib/classNames\";\nimport { HasRootRef } from \"../../types\";\nimport { usePlatform } from \"../../hooks/usePlatform\";\nimport Separator from \"../Separator/Separator\";\nimport { hasReactNode } from \"../../lib/utils\";\nimport { Caption } from \"../Typography/Caption/Caption\";\nimport {\n  withAdaptivity,\n  AdaptivityProps,\n  SizeType,\n} from \"../../hoc/withAdaptivity\";\nimport ModalRootContext from \"../ModalRoot/ModalRootContext\";\nimport \"./Group.css\";\n\nexport interface GroupProps\n  extends HasRootRef<HTMLElement>,\n    React.HTMLAttributes<HTMLElement>,\n    AdaptivityProps {\n  header?: React.ReactNode;\n  description?: React.ReactNode;\n  /**\n    show - разделитель всегда показывается,\n    hide – разделитель всегда спрятан,\n    auto – разделитель рисуется автоматически между соседними группами.\n   */\n  separator?: \"show\" | \"hide\" | \"auto\";\n  /**\n   * Режим отображения. Если установлен 'card', выглядит как карточка c\n   * обводкой и внешними отступами. Если 'plain' — без отступов и обводки.\n   * По умолчанию режим отображения зависит от `sizeX`. В модальных окнах\n   * по умолчанию 'plain'.\n   */\n  mode?: \"plain\" | \"card\";\n}\n\nconst Group: React.FC<GroupProps> = (props: GroupProps) => {\n  const {\n    header,\n    description,\n    children,\n    separator,\n    getRootRef,\n    mode,\n    sizeX,\n    ...restProps\n  } = props;\n  const { isInsideModal } = React.useContext(ModalRootContext);\n  const platform = usePlatform();\n\n  let computedMode: GroupProps[\"mode\"] = mode;\n\n  if (!mode) {\n    computedMode =\n      sizeX === SizeType.COMPACT || isInsideModal ? \"plain\" : \"card\";\n  }\n\n  return (\n    <section\n      {...restProps}\n      ref={getRootRef}\n      vkuiClass={classNames(\n        getClassName(\"Group\", platform),\n        `Group--sizeX-${sizeX}`,\n        `Group--${computedMode}`\n      )}\n    >\n      <div vkuiClass=\"Group__inner\">\n        {header}\n        {children}\n        {hasReactNode(description) && (\n          <Caption vkuiClass=\"Group__description\">{description}</Caption>\n        )}\n      </div>\n\n      {separator !== \"hide\" && (\n        <Separator\n          vkuiClass={classNames(\"Group__separator\", {\n            \"Group__separator--force\": separator === \"show\",\n          })}\n          expanded={computedMode === \"card\"}\n        />\n      )}\n    </section>\n  );\n};\n\nGroup.defaultProps = {\n  separator: \"auto\",\n};\n\n// eslint-disable-next-line import/no-default-export\nexport default withAdaptivity(Group, { sizeX: true });\n"]},"metadata":{},"sourceType":"module"}