{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport * as React from \"react\";\nexport function useEnsuredControl(props, options) {\n  var isControlled = props.hasOwnProperty(\"value\");\n\n  var _React$useState = React.useState(options.defaultValue),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      localValue = _React$useState2[0],\n      setLocalValue = _React$useState2[1];\n\n  var onChange = React.useCallback(function (e) {\n    !isControlled && setLocalValue(e.target.value);\n    props.onChange && props.onChange(e);\n  }, [isControlled, props]);\n  return [isControlled ? props.value : localValue, onChange];\n}","map":{"version":3,"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AAEA,OAAO,SAASC,iBAAT,CACLC,KADK,EAELC,OAFK,EAG2B;AAChC,MAAMC,YAAY,GAAGF,KAAK,CAACG,cAANH,CAAqB,OAArBA,CAArB;;AACA,wBAAoCF,KAAK,CAACM,QAANN,CAAeG,OAAO,CAACI,YAAvBP,CAApC;AAAA;AAAA,MAAOQ,UAAP;AAAA,MAAmBC,aAAnB;;AACA,MAAMC,QAAQ,GAAGV,KAAK,CAACW,WAANX,CACf,UAACY,CAAD,EAAO;AACL,KAACR,YAAD,IAAiBK,aAAa,CAACG,CAAC,CAACC,MAAFD,CAASE,KAAV,CAA9B;AACAZ,SAAK,CAACQ,QAANR,IAAkBA,KAAK,CAACQ,QAANR,CAAeU,CAAfV,CAAlBA;AAHa,KAKf,CAACE,YAAD,EAAeF,KAAf,CALeF,CAAjB;AAOA,SAAO,CAACI,YAAY,GAAGF,KAAK,CAACY,KAAT,GAAiBN,UAA9B,EAA0CE,QAA1C,CAAP;AACD","names":["React","useEnsuredControl","props","options","isControlled","hasOwnProperty","useState","defaultValue","localValue","setLocalValue","onChange","useCallback","e","target","value"],"sources":["../../src/hooks/useEnsuredControl.ts"],"sourcesContent":["import * as React from \"react\";\n\nexport function useEnsuredControl<V, E>(\n  props: { value?: V; onChange?: (e: E) => any },\n  options: { defaultValue: V }\n): [V | undefined, (e: E) => any] {\n  const isControlled = props.hasOwnProperty(\"value\");\n  const [localValue, setLocalValue] = React.useState(options.defaultValue);\n  const onChange = React.useCallback(\n    (e) => {\n      !isControlled && setLocalValue(e.target.value);\n      props.onChange && props.onChange(e);\n    },\n    [isControlled, props]\n  );\n  return [isControlled ? props.value : localValue, onChange];\n}\n"]},"metadata":{},"sourceType":"module"}