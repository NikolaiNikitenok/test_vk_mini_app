{"version":3,"sources":["../../src/hooks/useOrientationChange.ts"],"names":["React","useDOM","useGlobalEventListener","getOrientation","window","angle","Math","abs","screen","orientation","Number","useOrientationChange","useState","setOrientation"],"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,MAAT;AACA,SAASC,sBAAT;;AAIA;AACA;AACA;AACA;AACA,SAASC,cAAT,CAAwBC,MAAxB,EAAiE;AAAA;;AAC/D,MAAI,CAACA,MAAL,EAAa;AACX,WAAO,UAAP;AACD;;AAED,MAAMC,KAAK,GAAGC,IAAI,CAACC,GAAL,4CACZH,MAAM,CAACI,MADK,6EACZ,eAAeC,WADH,2DACZ,uBAA4BJ,KADhB,yEACyBK,MAAM,CAACN,MAAM,CAACK,WAAR,CAD/B,CAAd;AAIA,SAAOJ,KAAK,KAAK,EAAV,GAAe,WAAf,GAA6B,UAApC;AACD;AAED;AACA;AACA;AACA;;;AACA,OAAO,SAASM,oBAAT,GAA6C;AAClD,gBAAmBV,MAAM,EAAzB;AAAA,MAAQG,MAAR,WAAQA,MAAR;;AAEA,wBAAsCJ,KAAK,CAACY,QAAN,CAAe;AAAA,WACnDT,cAAc,CAACC,MAAD,CADqC;AAAA,GAAf,CAAtC;AAAA;AAAA,MAAOK,WAAP;AAAA,MAAoBI,cAApB;;AAIAX,EAAAA,sBAAsB,CAACE,MAAD,EAAS,mBAAT,EAA8B;AAAA,WAClDS,cAAc,CAACV,cAAc,CAACC,MAAD,CAAf,CADoC;AAAA,GAA9B,CAAtB;AAIA,SAAOK,WAAP;AACD","sourcesContent":["import * as React from \"react\";\nimport { useDOM } from \"../lib/dom\";\nimport { useGlobalEventListener } from \"./useGlobalEventListener\";\n\ntype Orientation = \"portrait\" | \"landscape\";\n\n/**\n * Возвращает текущую ориентация экрана на человеческом языке.\n * Учитывает особенности API на разных платформах.\n */\nfunction getOrientation(window: Window | undefined): Orientation {\n  if (!window) {\n    return \"portrait\";\n  }\n\n  const angle = Math.abs(\n    window.screen?.orientation?.angle ?? Number(window.orientation)\n  );\n\n  return angle === 90 ? \"landscape\" : \"portrait\";\n}\n\n/**\n * Возвращает текущую ориентация экрана на человеческом языке.\n * Обновляется при изменении ориентации.\n */\nexport function useOrientationChange(): Orientation {\n  const { window } = useDOM();\n\n  const [orientation, setOrientation] = React.useState(() =>\n    getOrientation(window)\n  );\n\n  useGlobalEventListener(window, \"orientationchange\", () =>\n    setOrientation(getOrientation(window))\n  );\n\n  return orientation;\n}\n"],"file":"useOrientationChange.js"}