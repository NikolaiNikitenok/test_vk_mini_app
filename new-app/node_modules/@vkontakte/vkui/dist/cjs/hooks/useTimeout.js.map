{"version":3,"sources":["../../../src/hooks/useTimeout.ts"],"names":["useTimeout","cb","duration","options","React","useRef","current","timeout","clear","useCallback","canUseDOM","clearTimeout","set","setTimeout"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AAEO,SAASA,UAAT,CAAoBC,EAApB,EAAmCC,QAAnC,EAAqD;AAC1D,MAAMC,OAAO,GAAGC,KAAK,CAACC,MAAN,CAAa;AAAEJ,IAAAA,EAAE,EAAFA,EAAF;AAAMC,IAAAA,QAAQ,EAARA;AAAN,GAAb,CAAhB;AACA,4DAA0B,YAAM;AAC9BC,IAAAA,OAAO,CAACG,OAAR,CAAgBL,EAAhB,GAAqBA,EAArB;AACAE,IAAAA,OAAO,CAACG,OAAR,CAAgBJ,QAAhB,GAA2BA,QAA3B;AACD,GAHD,EAGG,CAACD,EAAD,EAAKC,QAAL,CAHH;AAKA,MAAMK,OAAO,GAAGH,KAAK,CAACC,MAAN,EAAhB;AACA,MAAMG,KAAK,GAAGJ,KAAK,CAACK,WAAN,CAAkB,YAAM;AACpC,QAAIC,kBAAaH,OAAb,aAAaA,OAAb,eAAaA,OAAO,CAAED,OAA1B,EAAmC;AACjCK,MAAAA,YAAY,CAACJ,OAAO,CAACD,OAAT,CAAZ;AACD;AACF,GAJa,EAIX,EAJW,CAAd;AAKA,MAAMM,GAAG,GAAGR,KAAK,CAACK,WAAN,CACV,YAAyC;AAAA,QAAxCP,QAAwC,uEAA7BC,OAAO,CAACG,OAAR,CAAgBJ,QAAa;AACvCM,IAAAA,KAAK;;AACL,QAAIE,cAAJ,EAAe;AACbH,MAAAA,OAAO,CAACD,OAAR,GAAkBO,UAAU,CAAC,YAAM;AACjC,YAAQZ,EAAR,GAAeE,OAAO,CAACG,OAAvB,CAAQL,EAAR;AACA,eAAOA,EAAP,KAAc,UAAd,IAA4BA,EAAE,EAA9B;AACD,OAH2B,EAGzBC,QAHyB,CAA5B;AAID;AACF,GATS,EAUV,CAACM,KAAD,CAVU,CAAZ;AAYA,4DAA0B;AAAA,WAAMA,KAAN;AAAA,GAA1B,EAAuC,EAAvC;AAEA,SAAO;AAAEI,IAAAA,GAAG,EAAHA,GAAF;AAAOJ,IAAAA,KAAK,EAALA;AAAP,GAAP;AACD","sourcesContent":["import * as React from \"react\";\nimport { useIsomorphicLayoutEffect } from \"../lib/useIsomorphicLayoutEffect\";\nimport { canUseDOM } from \"../lib/dom\";\n\nexport function useTimeout(cb: () => any, duration: number) {\n  const options = React.useRef({ cb, duration });\n  useIsomorphicLayoutEffect(() => {\n    options.current.cb = cb;\n    options.current.duration = duration;\n  }, [cb, duration]);\n\n  const timeout = React.useRef<ReturnType<typeof setTimeout>>();\n  const clear = React.useCallback(() => {\n    if (canUseDOM && timeout?.current) {\n      clearTimeout(timeout.current);\n    }\n  }, []);\n  const set = React.useCallback(\n    (duration = options.current.duration) => {\n      clear();\n      if (canUseDOM) {\n        timeout.current = setTimeout(() => {\n          const { cb } = options.current;\n          typeof cb === \"function\" && cb();\n        }, duration);\n      }\n    },\n    [clear]\n  );\n  useIsomorphicLayoutEffect(() => clear, []);\n\n  return { set, clear };\n}\n"],"file":"useTimeout.js"}