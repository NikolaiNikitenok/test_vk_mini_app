{"version":3,"sources":["../../../../src/components/AppRoot/ScrollContext.ts"],"names":["ScrollContext","React","createContext","getScroll","x","y","scrollTo","noop","globalScrollController","window","document","pageXOffset","pageYOffset","body","scrollWidth","innerWidth","scrollHeight","innerHeight","elementScrollController","elRef","current","scrollLeft","scrollTop","el","clientWidth","clientHeight"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AAOO,IAAMA,aAAa,gBAAGC,KAAK,CAACC,aAAN,CAA4C;AACvEC,EAAAA,SAAS,EAAE;AAAA,WAAO;AAAEC,MAAAA,CAAC,EAAE,CAAL;AAAQC,MAAAA,CAAC,EAAE;AAAX,KAAP;AAAA,GAD4D;AAEvEC,EAAAA,QAAQ,EAAEC;AAF6D,CAA5C,CAAtB;;;AAKA,IAAMC,sBAAsB,GAAG,SAAzBA,sBAAyB,CACpCC,MADoC,EAEpCC,QAFoC;AAAA,SAGhC;AACJP,IAAAA,SAAS,EAAE;AAAA,aAAO;AAAEC,QAAAA,CAAC,EAAEK,MAAM,CAAEE,WAAb;AAA0BN,QAAAA,CAAC,EAAEI,MAAM,CAAEG;AAArC,OAAP;AAAA,KADP;AAEJN,IAAAA,QAAQ,EAAE,oBAAkB;AAAA,UAAjBF,CAAiB,uEAAb,CAAa;AAAA,UAAVC,CAAU,uEAAN,CAAM;AAC1B;AACAI,MAAAA,MAAM,CAAEH,QAAR,CACEF,CAAC,GAAG,iBAAMA,CAAN,EAAS,CAAT,EAAYM,QAAQ,CAAEG,IAAV,CAAeC,WAAf,GAA6BL,MAAM,CAAEM,UAAjD,CAAH,GAAkE,CADrE,EAEEV,CAAC,GAAG,iBAAMA,CAAN,EAAS,CAAT,EAAYK,QAAQ,CAAEG,IAAV,CAAeG,YAAf,GAA8BP,MAAM,CAAEQ,WAAlD,CAAH,GAAoE,CAFvE;AAID;AARG,GAHgC;AAAA,CAA/B;;;;AAcA,IAAMC,uBAAuB,GAAG,SAA1BA,uBAA0B,CACrCC,KADqC;AAAA,SAEjC;AACJhB,IAAAA,SAAS,EAAE;AAAA;;AAAA,aAAO;AAChBC,QAAAA,CAAC,6CAAEe,KAAK,CAACC,OAAR,mDAAE,eAAeC,UAAjB,yEAA+B,CADhB;AAEhBhB,QAAAA,CAAC,+CAAEc,KAAK,CAACC,OAAR,oDAAE,gBAAeE,SAAjB,2EAA8B;AAFf,OAAP;AAAA,KADP;AAKJhB,IAAAA,QAAQ,EAAE,oBAAkB;AAAA,UAAjBF,CAAiB,uEAAb,CAAa;AAAA,UAAVC,CAAU,uEAAN,CAAM;AAC1B,UAAMkB,EAAE,GAAGJ,KAAK,CAACC,OAAjB,CAD0B,CAE1B;;AACAG,MAAAA,EAAE,SAAF,IAAAA,EAAE,WAAF,YAAAA,EAAE,CAAEjB,QAAJ,CACEF,CAAC,GAAG,iBAAMA,CAAN,EAAS,CAAT,EAAYmB,EAAE,CAACT,WAAH,GAAiBS,EAAE,CAACC,WAAhC,CAAH,GAAkD,CADrD,EAEEnB,CAAC,GAAG,iBAAMA,CAAN,EAAS,CAAT,EAAYkB,EAAE,CAACP,YAAH,GAAkBO,EAAE,CAACE,YAAjC,CAAH,GAAoD,CAFvD;AAID;AAZG,GAFiC;AAAA,CAAhC","sourcesContent":["import * as React from \"react\";\nimport { noop } from \"../../lib/utils\";\nimport { clamp } from \"../../helpers/math\";\n\nexport interface ScrollContextInterface {\n  getScroll(): { x: number; y: number };\n  scrollTo(x?: number, y?: number): void;\n}\n\nexport const ScrollContext = React.createContext<ScrollContextInterface>({\n  getScroll: () => ({ x: 0, y: 0 }),\n  scrollTo: noop,\n});\n\nexport const globalScrollController = (\n  window: Window | undefined,\n  document: HTMLDocument | undefined\n) => ({\n  getScroll: () => ({ x: window!.pageXOffset, y: window!.pageYOffset }),\n  scrollTo: (x = 0, y = 0) => {\n    // Some iOS versions do not normalize scroll — do it manually.\n    window!.scrollTo(\n      x ? clamp(x, 0, document!.body.scrollWidth - window!.innerWidth) : 0,\n      y ? clamp(y, 0, document!.body.scrollHeight - window!.innerHeight) : 0\n    );\n  },\n});\n\nexport const elementScrollController = (\n  elRef: React.RefObject<HTMLElement>\n) => ({\n  getScroll: () => ({\n    x: elRef.current?.scrollLeft ?? 0,\n    y: elRef.current?.scrollTop ?? 0,\n  }),\n  scrollTo: (x = 0, y = 0) => {\n    const el = elRef.current;\n    // Some iOS versions do not normalize scroll — do it manually.\n    el?.scrollTo(\n      x ? clamp(x, 0, el.scrollWidth - el.clientWidth) : 0,\n      y ? clamp(y, 0, el.scrollHeight - el.clientHeight) : 0\n    );\n  },\n});\n"],"file":"ScrollContext.js"}