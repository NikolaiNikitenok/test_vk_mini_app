{"version":3,"sources":["../../../../src/components/Counter/Counter.tsx"],"names":["CounterTypography","size","platform","restProps","VKCOM","undefined","Counter","props","mode","children","React","Children","count","defaultProps","memo"],"mappings":";;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;AAgBA,IAAMA,iBAAmD,GAAG,SAAtDA,iBAAsD,OAItD;AAAA,MAHJC,IAGI,QAHJA,IAGI;AAAA,MAFJC,QAEI,QAFJA,QAEI;AAAA,MADDC,SACC;AACJ,SAAOF,IAAI,KAAK,GAAT,GACL,qCAAC,gBAAD;AACE,IAAA,KAAK,EAAC,GADR;AAEE,IAAA,MAAM,EAAEC,QAAQ,KAAKE,eAAb,GAAqB,GAArB,GAA2BC;AAFrC,KAGMF,SAHN,EADK,GAOL,qCAAC,aAAD;AAAM,IAAA,MAAM,EAAC;AAAb,KAA0BA,SAA1B,EAPF;AASD,CAdD;;AAgBA,IAAMG,OAA+B,GAAG,SAAlCA,OAAkC,CAACC,KAAD,EAAyB;AAC/D,MAAQC,IAAR,GAA+CD,KAA/C,CAAQC,IAAR;AAAA,MAAcP,IAAd,GAA+CM,KAA/C,CAAcN,IAAd;AAAA,MAAoBQ,QAApB,GAA+CF,KAA/C,CAAoBE,QAApB;AAAA,MAAiCN,SAAjC,0CAA+CI,KAA/C;AACA,MAAML,QAAQ,GAAG,+BAAjB;;AAEA,MAAIQ,KAAK,CAACC,QAAN,CAAeC,KAAf,CAAqBH,QAArB,MAAmC,CAAvC,EAA0C;AACxC,WAAO,IAAP;AACD;;AAED,SACE,wEACMN,SADN;AAEE,IAAA,SAAS,EAAE,4BACT,gCAAa,SAAb,EAAwBD,QAAxB,CADS,qBAEGM,IAFH,wBAGKP,IAHL;AAFb,MAQG,yBAAaQ,QAAb,KACC,qCAAC,iBAAD;AACE,IAAA,QAAQ,EAAEP,QADZ;AAEE,IAAA,IAAI,EAAED,IAFR;AAGE,IAAA,SAAS,EAAC;AAHZ,KAKGQ,QALH,CATJ,CADF;AAoBD,CA5BD;;AA8BAH,OAAO,CAACO,YAAR,GAAuB;AACrBL,EAAAA,IAAI,EAAE,WADe;AAErBP,EAAAA,IAAI,EAAE;AAFe,CAAvB,C,CAKA;;4BACeS,KAAK,CAACI,IAAN,CAAWR,OAAX,C","sourcesContent":["import * as React from \"react\";\nimport { classNames } from \"../../lib/classNames\";\nimport { getClassName } from \"../../helpers/getClassName\";\nimport { usePlatform } from \"../../hooks/usePlatform\";\nimport { Caption } from \"../Typography/Caption/Caption\";\nimport Text from \"../Typography/Text/Text\";\nimport { VKCOM } from \"../../lib/platform\";\nimport { hasReactNode } from \"../../lib/utils\";\nimport { HasComponent, HasPlatform } from \"../../types\";\nimport \"./Counter.css\";\n\nexport interface CounterProps extends React.HTMLAttributes<HTMLSpanElement> {\n  /**\n   * Тип счетчика. При использовании компонента в качестве значения свойства `after` у `Button` эти значения игнорируются\n   */\n  mode?: \"secondary\" | \"primary\" | \"prominent\";\n  size?: \"s\" | \"m\";\n}\n\ntype CounterTypographyProps = Pick<CounterProps, \"size\"> &\n  HasPlatform &\n  HasComponent;\n\nconst CounterTypography: React.FC<CounterTypographyProps> = ({\n  size,\n  platform,\n  ...restProps\n}) => {\n  return size === \"s\" ? (\n    <Caption\n      level=\"2\"\n      weight={platform === VKCOM ? \"1\" : undefined}\n      {...restProps}\n    />\n  ) : (\n    <Text weight=\"medium\" {...restProps} />\n  );\n};\n\nconst Counter: React.FC<CounterProps> = (props: CounterProps) => {\n  const { mode, size, children, ...restProps } = props;\n  const platform = usePlatform();\n\n  if (React.Children.count(children) === 0) {\n    return null;\n  }\n\n  return (\n    <span\n      {...restProps}\n      vkuiClass={classNames(\n        getClassName(\"Counter\", platform),\n        `Counter--${mode}`,\n        `Counter--s-${size}`\n      )}\n    >\n      {hasReactNode(children) && (\n        <CounterTypography\n          platform={platform}\n          size={size}\n          vkuiClass=\"Counter__in\"\n        >\n          {children}\n        </CounterTypography>\n      )}\n    </span>\n  );\n};\n\nCounter.defaultProps = {\n  mode: \"secondary\",\n  size: \"m\",\n};\n\n// eslint-disable-next-line import/no-default-export\nexport default React.memo(Counter);\n"],"file":"Counter.js"}