{"version":3,"sources":["../../../../src/components/Touch/Touch.tsx"],"names":["React","getSupportedEvents","coordX","coordY","touchEnabled","useDOM","useExternRef","useEventListener","useIsomorphicLayoutEffect","Touch","onStart","onStartX","onStartY","_onMove","onMove","onMoveX","onMoveY","onLeave","onEnter","_onEnd","onEnd","onEndX","onEndY","onClickCapture","usePointerHover","slideThreshold","useCapture","Component","getRootRef","noSlideClick","stopPropagation","restProps","document","events","useMemo","didSlide","useRef","gesture","handle","e","handers","forEach","cb","duration","Date","now","current","startT","getTime","originalEvent","enterHandler","leaveHandler","startHandler","initGesture","subscribe","target","capture","passive","containerRef","el","add","isPressed","isX","isY","startX","startY","shiftX","shiftY","shiftXAbs","Math","abs","shiftYAbs","touches","length","willBeX","willBeY","willBeSlidedX","willBeSlidedY","Object","assign","isSlideX","isSlideY","isSlide","Boolean","listenerParams","listeners","l","onDragStart","tagName","preventDefault","postGestureClick","closest"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport {\n  getSupportedEvents,\n  coordX,\n  coordY,\n  touchEnabled,\n  VKUITouchEvent,\n} from \"../../lib/touch\";\nimport { HasComponent, HasRootRef } from \"../../types\";\nimport { useDOM } from \"../../lib/dom\";\nimport { useExternRef } from \"../../hooks/useExternRef\";\nimport { useEventListener } from \"../../hooks/useEventListener\";\nimport { useIsomorphicLayoutEffect } from \"../../lib/useIsomorphicLayoutEffect\";\n\nexport interface TouchProps\n  extends React.AllHTMLAttributes<HTMLElement>,\n    HasRootRef<HTMLElement>,\n    HasComponent {\n  /**\n   * Привязать onEnter и onLeave через pointer-events - работает на disabled-инпутах\n   */\n  usePointerHover?: boolean;\n  useCapture?: boolean;\n  slideThreshold?: number;\n  noSlideClick?: boolean;\n  onEnter?: HoverHandler;\n  onLeave?: HoverHandler;\n  onStart?: TouchEventHandler;\n  onStartX?: TouchEventHandler;\n  onStartY?: TouchEventHandler;\n  onMove?: TouchEventHandler;\n  onMoveX?: TouchEventHandler;\n  onMoveY?: TouchEventHandler;\n  onEnd?: TouchEventHandler;\n  onEndX?: TouchEventHandler;\n  onEndY?: TouchEventHandler;\n  stopPropagation?: boolean;\n}\n\nexport interface Gesture {\n  startX: number;\n  startY: number;\n  startT: Date;\n  duration: number;\n  isPressed: boolean;\n  isY: boolean;\n  isX: boolean;\n  isSlideX: boolean;\n  isSlideY: boolean;\n  isSlide: boolean;\n  shiftX: number;\n  shiftY: number;\n  shiftXAbs: number;\n  shiftYAbs: number;\n}\n\nexport interface TouchEvent extends Gesture {\n  originalEvent: VKUITouchEvent;\n}\n\ntype HoverHandler = (outputEvent: MouseEvent) => void;\nexport type TouchEventHandler = (e: TouchEvent) => void;\nexport type ClickHandler = (e: React.MouseEvent<HTMLElement>) => void;\nexport type DragHandler = (e: React.DragEvent<HTMLElement>) => void;\n\nexport const Touch: React.FC<TouchProps> = ({\n  onStart,\n  onStartX,\n  onStartY,\n  onMove: _onMove,\n  onMoveX,\n  onMoveY,\n  onLeave,\n  onEnter,\n  onEnd: _onEnd,\n  onEndX,\n  onEndY,\n  onClickCapture,\n  usePointerHover,\n  slideThreshold = 5,\n  useCapture = false,\n  Component = \"div\",\n  getRootRef,\n  noSlideClick = false,\n  stopPropagation = false,\n  ...restProps\n}: TouchProps) => {\n  const { document } = useDOM();\n  const events = React.useMemo(getSupportedEvents, []);\n  const didSlide = React.useRef(false);\n  const gesture = React.useRef<Partial<Gesture> | null>(null);\n  const handle = (\n    e: VKUITouchEvent,\n    handers: Array<TouchEventHandler | undefined | false>\n  ) => {\n    stopPropagation && e.stopPropagation();\n    handers.forEach((cb) => {\n      const duration = Date.now() - (gesture.current?.startT?.getTime() ?? 0);\n      cb && cb({ ...(gesture.current as Gesture), duration, originalEvent: e });\n    });\n  };\n\n  const enterHandler = useEventListener(\n    usePointerHover ? \"pointerenter\" : \"mouseenter\",\n    onEnter\n  );\n  const leaveHandler = useEventListener(\n    usePointerHover ? \"pointerleave\" : \"mouseleave\",\n    onLeave\n  );\n  const startHandler = useEventListener(\n    events[0],\n    (e: VKUITouchEvent) => {\n      gesture.current = initGesture(coordX(e), coordY(e));\n\n      handle(e, [onStart, onStartX, onStartY]);\n      // 1 line, 2 bad specs, 2 workarounds:\n      subscribe(\n        touchEnabled()\n          ? // Touch events fire on initial target, and won't bubble if its removed\n            // see: #235, #1968, https://stackoverflow.com/a/45760014\n            (e.target as HTMLElement)\n          : // Mouse events fire on the element under pointer, so we lose move / end\n            // if pointer goes outside container.\n            // Can be fixed by PointerEvents' setPointerCapture later\n            document\n      );\n    },\n    { capture: useCapture, passive: false }\n  );\n  const containerRef = useExternRef(getRootRef);\n\n  useIsomorphicLayoutEffect(() => {\n    const el = containerRef.current;\n    if (el) {\n      enterHandler.add(el);\n      leaveHandler.add(el);\n      startHandler.add(el);\n    }\n  }, [Component]);\n\n  function onMove(e: VKUITouchEvent) {\n    const {\n      isPressed,\n      isX,\n      isY,\n      startX = 0,\n      startY = 0,\n    } = gesture.current ?? {};\n\n    if (isPressed) {\n      // смещения\n      const shiftX = coordX(e) - startX;\n      const shiftY = coordY(e) - startY;\n\n      // абсолютные значения смещений\n      const shiftXAbs = Math.abs(shiftX);\n      const shiftYAbs = Math.abs(shiftY);\n\n      // Если определяем мультитач, то прерываем жест\n      if (!!e.touches && e.touches.length > 1) {\n        return onEnd(e);\n      }\n\n      // если мы ещё не определились\n      if (!isX && !isY) {\n        const willBeX = shiftXAbs >= slideThreshold && shiftXAbs > shiftYAbs;\n        const willBeY = shiftYAbs >= slideThreshold && shiftYAbs > shiftXAbs;\n        const willBeSlidedX = willBeX && (!!onMoveX || !!_onMove);\n        const willBeSlidedY = willBeY && (!!onMoveY || !!_onMove);\n\n        Object.assign(gesture.current, {\n          isY: willBeY,\n          isX: willBeX,\n          isSlideX: willBeSlidedX,\n          isSlideY: willBeSlidedY,\n          isSlide: willBeSlidedX || willBeSlidedY,\n        });\n      }\n\n      if (gesture.current?.isSlide) {\n        Object.assign(gesture.current, {\n          shiftX,\n          shiftY,\n          shiftXAbs,\n          shiftYAbs,\n        });\n\n        handle(e, [\n          _onMove,\n          gesture.current.isSlideX && onMoveX,\n          gesture.current.isSlideY && onMoveY,\n        ]);\n      }\n    }\n  }\n\n  function onEnd(e: VKUITouchEvent) {\n    const { isPressed, isSlide, isSlideX, isSlideY } = gesture.current ?? {};\n\n    if (isPressed) {\n      handle(e, [_onEnd, isSlideY && onEndY, isSlideX && onEndX]);\n    }\n\n    didSlide.current = Boolean(isSlide);\n    gesture.current = {};\n\n    // Если это был тач-евент, симулируем отмену hover\n    if (touchEnabled()) {\n      onLeave && onLeave(e);\n    }\n    subscribe(null);\n  }\n\n  const listenerParams = { capture: useCapture, passive: false };\n  const listeners = [\n    useEventListener(events[1], onMove, listenerParams),\n    useEventListener(events[2], onEnd, listenerParams),\n    useEventListener(events[3], onEnd, listenerParams),\n  ];\n  function subscribe(el: HTMLElement | Document | null | undefined) {\n    if (el) {\n      listeners.forEach((l) => l.add(el));\n    }\n  }\n\n  /**\n   * Обработчик событий dragstart\n   * Отменяет нативное браузерное поведение для вложенных ссылок и изображений\n   */\n  const onDragStart = (e: React.DragEvent<HTMLElement>) => {\n    const target = e.target as HTMLElement;\n    if (target.tagName === \"A\" || target.tagName === \"IMG\") {\n      e.preventDefault();\n    }\n  };\n\n  /**\n   * Обработчик клика по компоненту\n   * Отменяет переход по вложенной ссылке, если был зафиксирован свайп\n   */\n  const postGestureClick: typeof onClickCapture = (e) => {\n    if (!didSlide.current) {\n      return onClickCapture && onClickCapture(e);\n    }\n    // eslint-disable-next-line no-restricted-properties\n    if ((e.target as HTMLElement).closest(\"a\")) {\n      e.preventDefault();\n    }\n    if (noSlideClick) {\n      e.stopPropagation();\n    } else {\n      onClickCapture && onClickCapture(e);\n    }\n    didSlide.current = false;\n  };\n\n  return (\n    <Component\n      {...restProps}\n      onDragStart={onDragStart}\n      onClickCapture={postGestureClick}\n      ref={containerRef}\n    />\n  );\n};\n\nfunction initGesture(startX: number, startY: number): Gesture {\n  return {\n    startX,\n    startY,\n    startT: new Date(),\n    duration: 0,\n    isPressed: true,\n    isY: false,\n    isX: false,\n    isSlideX: false,\n    isSlideY: false,\n    isSlide: false,\n    shiftX: 0,\n    shiftY: 0,\n    shiftXAbs: 0,\n    shiftYAbs: 0,\n  };\n}\n"],"file":"Touch.js"}