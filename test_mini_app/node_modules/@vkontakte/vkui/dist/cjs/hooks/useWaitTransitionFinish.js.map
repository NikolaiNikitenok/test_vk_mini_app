{"version":3,"sources":["../../../src/hooks/useWaitTransitionFinish.ts"],"names":["useWaitTransitionFinish","timeoutRef","React","useRef","waitTransitionFinish","element","eventHandler","durationFallback","transitionEvent","supported","name","removeEventListener","addEventListener","current","clearTimeout","setTimeout"],"mappings":";;;;;;;;;AAAA;;AACA;;AAEO,IAAMA,uBAAuB,GAAG,SAA1BA,uBAA0B,GAAM;AAC3C,MAAMC,UAAU,GAAGC,KAAK,CAACC,MAAN,CAAmD,IAAnD,CAAnB;;AAEA,MAAMC,oBAAoB,GAAG,SAAvBA,oBAAuB,CAC3BC,OAD2B,EAE3BC,YAF2B,EAG3BC,gBAH2B,EAIxB;AACH,QAAIF,OAAJ,EAAa;AACX,UAAIG,+BAAgBC,SAAhB,IAA6BD,+BAAgBE,IAAjD,EAAuD;AACrDL,QAAAA,OAAO,CAACM,mBAAR,CAA4BH,+BAAgBE,IAA5C,EAAkDJ,YAAlD;AACAD,QAAAA,OAAO,CAACO,gBAAR,CAAyBJ,+BAAgBE,IAAzC,EAA+CJ,YAA/C;AACD,OAHD,MAGO;AACL,YAAIL,UAAJ,aAAIA,UAAJ,eAAIA,UAAU,CAAEY,OAAhB,EAAyB;AACvBC,UAAAA,YAAY,CAACb,UAAU,CAACY,OAAZ,CAAZ;AACD;;AACDZ,QAAAA,UAAU,CAACY,OAAX,GAAqBE,UAAU,CAACT,YAAD,EAAeC,gBAAf,CAA/B;AACD;AACF;AACF,GAhBD;;AAkBA,SAAO;AACLH,IAAAA,oBAAoB,EAApBA;AADK,GAAP;AAGD,CAxBM","sourcesContent":["import * as React from \"react\";\nimport { transitionEvent } from \"../lib/supportEvents\";\n\nexport const useWaitTransitionFinish = () => {\n  const timeoutRef = React.useRef<ReturnType<typeof setTimeout> | null>(null);\n\n  const waitTransitionFinish = (\n    element: HTMLElement | null,\n    eventHandler: VoidFunction,\n    durationFallback: number\n  ) => {\n    if (element) {\n      if (transitionEvent.supported && transitionEvent.name) {\n        element.removeEventListener(transitionEvent.name, eventHandler);\n        element.addEventListener(transitionEvent.name, eventHandler);\n      } else {\n        if (timeoutRef?.current) {\n          clearTimeout(timeoutRef.current);\n        }\n        timeoutRef.current = setTimeout(eventHandler, durationFallback);\n      }\n    }\n  };\n\n  return {\n    waitTransitionFinish,\n  };\n};\n"],"file":"useWaitTransitionFinish.js"}